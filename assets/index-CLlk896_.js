function b0(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in e)){const i=Object.getOwnPropertyDescriptor(n,s);i&&Object.defineProperty(e,s,i.get?i:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();function _0(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Pf={exports:{}},ja={},Af={exports:{}},W={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ls=Symbol.for("react.element"),E0=Symbol.for("react.portal"),j0=Symbol.for("react.fragment"),S0=Symbol.for("react.strict_mode"),C0=Symbol.for("react.profiler"),I0=Symbol.for("react.provider"),T0=Symbol.for("react.context"),R0=Symbol.for("react.forward_ref"),P0=Symbol.for("react.suspense"),A0=Symbol.for("react.memo"),O0=Symbol.for("react.lazy"),gu=Symbol.iterator;function D0(e){return e===null||typeof e!="object"?null:(e=gu&&e[gu]||e["@@iterator"],typeof e=="function"?e:null)}var Of={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Df=Object.assign,Lf={};function Sn(e,t,r){this.props=e,this.context=t,this.refs=Lf,this.updater=r||Of}Sn.prototype.isReactComponent={};Sn.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Sn.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Mf(){}Mf.prototype=Sn.prototype;function Zl(e,t,r){this.props=e,this.context=t,this.refs=Lf,this.updater=r||Of}var ec=Zl.prototype=new Mf;ec.constructor=Zl;Df(ec,Sn.prototype);ec.isPureReactComponent=!0;var yu=Array.isArray,Uf=Object.prototype.hasOwnProperty,tc={current:null},zf={key:!0,ref:!0,__self:!0,__source:!0};function Ff(e,t,r){var n,s={},i=null,o=null;if(t!=null)for(n in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)Uf.call(t,n)&&!zf.hasOwnProperty(n)&&(s[n]=t[n]);var l=arguments.length-2;if(l===1)s.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)s[n]===void 0&&(s[n]=l[n]);return{$$typeof:Ls,type:e,key:i,ref:o,props:s,_owner:tc.current}}function L0(e,t){return{$$typeof:Ls,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function rc(e){return typeof e=="object"&&e!==null&&e.$$typeof===Ls}function M0(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var xu=/\/+/g;function to(e,t){return typeof e=="object"&&e!==null&&e.key!=null?M0(""+e.key):t.toString(36)}function Ni(e,t,r,n,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Ls:case E0:o=!0}}if(o)return o=e,s=s(o),e=n===""?"."+to(o,0):n,yu(s)?(r="",e!=null&&(r=e.replace(xu,"$&/")+"/"),Ni(s,t,r,"",function(u){return u})):s!=null&&(rc(s)&&(s=L0(s,r+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(xu,"$&/")+"/")+e)),t.push(s)),1;if(o=0,n=n===""?".":n+":",yu(e))for(var l=0;l<e.length;l++){i=e[l];var c=n+to(i,l);o+=Ni(i,t,r,c,s)}else if(c=D0(e),typeof c=="function")for(e=c.call(e),l=0;!(i=e.next()).done;)i=i.value,c=n+to(i,l++),o+=Ni(i,t,r,c,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function ti(e,t,r){if(e==null)return e;var n=[],s=0;return Ni(e,n,"","",function(i){return t.call(r,i,s++)}),n}function U0(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Te={current:null},bi={transition:null},z0={ReactCurrentDispatcher:Te,ReactCurrentBatchConfig:bi,ReactCurrentOwner:tc};function $f(){throw Error("act(...) is not supported in production builds of React.")}W.Children={map:ti,forEach:function(e,t,r){ti(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return ti(e,function(){t++}),t},toArray:function(e){return ti(e,function(t){return t})||[]},only:function(e){if(!rc(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};W.Component=Sn;W.Fragment=j0;W.Profiler=C0;W.PureComponent=Zl;W.StrictMode=S0;W.Suspense=P0;W.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=z0;W.act=$f;W.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=Df({},e.props),s=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=tc.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)Uf.call(t,c)&&!zf.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];n.children=l}return{$$typeof:Ls,type:e.type,key:s,ref:i,props:n,_owner:o}};W.createContext=function(e){return e={$$typeof:T0,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:I0,_context:e},e.Consumer=e};W.createElement=Ff;W.createFactory=function(e){var t=Ff.bind(null,e);return t.type=e,t};W.createRef=function(){return{current:null}};W.forwardRef=function(e){return{$$typeof:R0,render:e}};W.isValidElement=rc;W.lazy=function(e){return{$$typeof:O0,_payload:{_status:-1,_result:e},_init:U0}};W.memo=function(e,t){return{$$typeof:A0,type:e,compare:t===void 0?null:t}};W.startTransition=function(e){var t=bi.transition;bi.transition={};try{e()}finally{bi.transition=t}};W.unstable_act=$f;W.useCallback=function(e,t){return Te.current.useCallback(e,t)};W.useContext=function(e){return Te.current.useContext(e)};W.useDebugValue=function(){};W.useDeferredValue=function(e){return Te.current.useDeferredValue(e)};W.useEffect=function(e,t){return Te.current.useEffect(e,t)};W.useId=function(){return Te.current.useId()};W.useImperativeHandle=function(e,t,r){return Te.current.useImperativeHandle(e,t,r)};W.useInsertionEffect=function(e,t){return Te.current.useInsertionEffect(e,t)};W.useLayoutEffect=function(e,t){return Te.current.useLayoutEffect(e,t)};W.useMemo=function(e,t){return Te.current.useMemo(e,t)};W.useReducer=function(e,t,r){return Te.current.useReducer(e,t,r)};W.useRef=function(e){return Te.current.useRef(e)};W.useState=function(e){return Te.current.useState(e)};W.useSyncExternalStore=function(e,t,r){return Te.current.useSyncExternalStore(e,t,r)};W.useTransition=function(){return Te.current.useTransition()};W.version="18.3.1";Af.exports=W;var k=Af.exports;const cr=_0(k),F0=b0({__proto__:null,default:cr},[k]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $0=k,B0=Symbol.for("react.element"),H0=Symbol.for("react.fragment"),V0=Object.prototype.hasOwnProperty,W0=$0.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,q0={key:!0,ref:!0,__self:!0,__source:!0};function Bf(e,t,r){var n,s={},i=null,o=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(n in t)V0.call(t,n)&&!q0.hasOwnProperty(n)&&(s[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)s[n]===void 0&&(s[n]=t[n]);return{$$typeof:B0,type:e,key:i,ref:o,props:s,_owner:W0.current}}ja.Fragment=H0;ja.jsx=Bf;ja.jsxs=Bf;Pf.exports=ja;var a=Pf.exports,Hf={exports:{}},qe={},Vf={exports:{}},Wf={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(C,A){var P=C.length;C.push(A);e:for(;0<P;){var L=P-1>>>1,B=C[L];if(0<s(B,A))C[L]=A,C[P]=B,P=L;else break e}}function r(C){return C.length===0?null:C[0]}function n(C){if(C.length===0)return null;var A=C[0],P=C.pop();if(P!==A){C[0]=P;e:for(var L=0,B=C.length,Pe=B>>>1;L<Pe;){var X=2*(L+1)-1,ht=C[X],nt=X+1,Ge=C[nt];if(0>s(ht,P))nt<B&&0>s(Ge,ht)?(C[L]=Ge,C[nt]=P,L=nt):(C[L]=ht,C[X]=P,L=X);else if(nt<B&&0>s(Ge,P))C[L]=Ge,C[nt]=P,L=nt;else break e}}return A}function s(C,A){var P=C.sortIndex-A.sortIndex;return P!==0?P:C.id-A.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,p=null,f=3,N=!1,x=!1,g=!1,w=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,h=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(C){for(var A=r(u);A!==null;){if(A.callback===null)n(u);else if(A.startTime<=C)n(u),A.sortIndex=A.expirationTime,t(c,A);else break;A=r(u)}}function b(C){if(g=!1,y(C),!x)if(r(c)!==null)x=!0,M(j);else{var A=r(u);A!==null&&q(b,A.startTime-C)}}function j(C,A){x=!1,g&&(g=!1,m(S),S=-1),N=!0;var P=f;try{for(y(A),p=r(c);p!==null&&(!(p.expirationTime>A)||C&&!J());){var L=p.callback;if(typeof L=="function"){p.callback=null,f=p.priorityLevel;var B=L(p.expirationTime<=A);A=e.unstable_now(),typeof B=="function"?p.callback=B:p===r(c)&&n(c),y(A)}else n(c);p=r(c)}if(p!==null)var Pe=!0;else{var X=r(u);X!==null&&q(b,X.startTime-A),Pe=!1}return Pe}finally{p=null,f=P,N=!1}}var _=!1,v=null,S=-1,T=5,D=-1;function J(){return!(e.unstable_now()-D<T)}function K(){if(v!==null){var C=e.unstable_now();D=C;var A=!0;try{A=v(!0,C)}finally{A?re():(_=!1,v=null)}}else _=!1}var re;if(typeof h=="function")re=function(){h(K)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,$=R.port2;R.port1.onmessage=K,re=function(){$.postMessage(null)}}else re=function(){w(K,0)};function M(C){v=C,_||(_=!0,re())}function q(C,A){S=w(function(){C(e.unstable_now())},A)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(C){C.callback=null},e.unstable_continueExecution=function(){x||N||(x=!0,M(j))},e.unstable_forceFrameRate=function(C){0>C||125<C?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<C?Math.floor(1e3/C):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(C){switch(f){case 1:case 2:case 3:var A=3;break;default:A=f}var P=f;f=A;try{return C()}finally{f=P}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(C,A){switch(C){case 1:case 2:case 3:case 4:case 5:break;default:C=3}var P=f;f=C;try{return A()}finally{f=P}},e.unstable_scheduleCallback=function(C,A,P){var L=e.unstable_now();switch(typeof P=="object"&&P!==null?(P=P.delay,P=typeof P=="number"&&0<P?L+P:L):P=L,C){case 1:var B=-1;break;case 2:B=250;break;case 5:B=1073741823;break;case 4:B=1e4;break;default:B=5e3}return B=P+B,C={id:d++,callback:A,priorityLevel:C,startTime:P,expirationTime:B,sortIndex:-1},P>L?(C.sortIndex=P,t(u,C),r(c)===null&&C===r(u)&&(g?(m(S),S=-1):g=!0,q(b,P-L))):(C.sortIndex=B,t(c,C),x||N||(x=!0,M(j))),C},e.unstable_shouldYield=J,e.unstable_wrapCallback=function(C){var A=f;return function(){var P=f;f=A;try{return C.apply(this,arguments)}finally{f=P}}}})(Wf);Vf.exports=Wf;var K0=Vf.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var G0=k,We=K0;function I(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var qf=new Set,us={};function zr(e,t){hn(e,t),hn(e+"Capture",t)}function hn(e,t){for(us[e]=t,e=0;e<t.length;e++)qf.add(t[e])}var Rt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Vo=Object.prototype.hasOwnProperty,J0=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,vu={},wu={};function Q0(e){return Vo.call(wu,e)?!0:Vo.call(vu,e)?!1:J0.test(e)?wu[e]=!0:(vu[e]=!0,!1)}function Y0(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function X0(e,t,r,n){if(t===null||typeof t>"u"||Y0(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Re(e,t,r,n,s,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var ke={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){ke[e]=new Re(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];ke[t]=new Re(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){ke[e]=new Re(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){ke[e]=new Re(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){ke[e]=new Re(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){ke[e]=new Re(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){ke[e]=new Re(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){ke[e]=new Re(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){ke[e]=new Re(e,5,!1,e.toLowerCase(),null,!1,!1)});var nc=/[\-:]([a-z])/g;function sc(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(nc,sc);ke[t]=new Re(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(nc,sc);ke[t]=new Re(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(nc,sc);ke[t]=new Re(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){ke[e]=new Re(e,1,!1,e.toLowerCase(),null,!1,!1)});ke.xlinkHref=new Re("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){ke[e]=new Re(e,1,!1,e.toLowerCase(),null,!0,!0)});function ic(e,t,r,n){var s=ke.hasOwnProperty(t)?ke[t]:null;(s!==null?s.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(X0(t,r,s,n)&&(r=null),n||s===null?Q0(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):s.mustUseProperty?e[s.propertyName]=r===null?s.type===3?!1:"":r:(t=s.attributeName,n=s.attributeNamespace,r===null?e.removeAttribute(t):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Lt=G0.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ri=Symbol.for("react.element"),Vr=Symbol.for("react.portal"),Wr=Symbol.for("react.fragment"),ac=Symbol.for("react.strict_mode"),Wo=Symbol.for("react.profiler"),Kf=Symbol.for("react.provider"),Gf=Symbol.for("react.context"),oc=Symbol.for("react.forward_ref"),qo=Symbol.for("react.suspense"),Ko=Symbol.for("react.suspense_list"),lc=Symbol.for("react.memo"),$t=Symbol.for("react.lazy"),Jf=Symbol.for("react.offscreen"),ku=Symbol.iterator;function Ln(e){return e===null||typeof e!="object"?null:(e=ku&&e[ku]||e["@@iterator"],typeof e=="function"?e:null)}var ce=Object.assign,ro;function qn(e){if(ro===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);ro=t&&t[1]||""}return`
`+ro+e}var no=!1;function so(e,t){if(!e||no)return"";no=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=n.stack.split(`
`),o=s.length-1,l=i.length-1;1<=o&&0<=l&&s[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(s[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||s[o]!==i[l]){var c=`
`+s[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=l);break}}}finally{no=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?qn(e):""}function Z0(e){switch(e.tag){case 5:return qn(e.type);case 16:return qn("Lazy");case 13:return qn("Suspense");case 19:return qn("SuspenseList");case 0:case 2:case 15:return e=so(e.type,!1),e;case 11:return e=so(e.type.render,!1),e;case 1:return e=so(e.type,!0),e;default:return""}}function Go(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Wr:return"Fragment";case Vr:return"Portal";case Wo:return"Profiler";case ac:return"StrictMode";case qo:return"Suspense";case Ko:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Gf:return(e.displayName||"Context")+".Consumer";case Kf:return(e._context.displayName||"Context")+".Provider";case oc:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case lc:return t=e.displayName||null,t!==null?t:Go(e.type)||"Memo";case $t:t=e._payload,e=e._init;try{return Go(e(t))}catch{}}return null}function eg(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Go(t);case 8:return t===ac?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function ur(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Qf(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function tg(e){var t=Qf(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(o){n=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function ni(e){e._valueTracker||(e._valueTracker=tg(e))}function Yf(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=Qf(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function Bi(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Jo(e,t){var r=t.checked;return ce({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function Nu(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=ur(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Xf(e,t){t=t.checked,t!=null&&ic(e,"checked",t,!1)}function Qo(e,t){Xf(e,t);var r=ur(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Yo(e,t.type,r):t.hasOwnProperty("defaultValue")&&Yo(e,t.type,ur(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function bu(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Yo(e,t,r){(t!=="number"||Bi(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Kn=Array.isArray;function nn(e,t,r,n){if(e=e.options,t){t={};for(var s=0;s<r.length;s++)t["$"+r[s]]=!0;for(r=0;r<e.length;r++)s=t.hasOwnProperty("$"+e[r].value),e[r].selected!==s&&(e[r].selected=s),s&&n&&(e[r].defaultSelected=!0)}else{for(r=""+ur(r),t=null,s=0;s<e.length;s++){if(e[s].value===r){e[s].selected=!0,n&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function Xo(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(I(91));return ce({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function _u(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(I(92));if(Kn(r)){if(1<r.length)throw Error(I(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:ur(r)}}function Zf(e,t){var r=ur(t.value),n=ur(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function Eu(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function eh(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Zo(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?eh(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var si,th=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,s){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(si=si||document.createElement("div"),si.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=si.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function ds(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Zn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},rg=["Webkit","ms","Moz","O"];Object.keys(Zn).forEach(function(e){rg.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Zn[t]=Zn[e]})});function rh(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Zn.hasOwnProperty(e)&&Zn[e]?(""+t).trim():t+"px"}function nh(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=rh(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,s):e[r]=s}}var ng=ce({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function el(e,t){if(t){if(ng[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(I(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(I(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(I(61))}if(t.style!=null&&typeof t.style!="object")throw Error(I(62))}}function tl(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var rl=null;function cc(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var nl=null,sn=null,an=null;function ju(e){if(e=zs(e)){if(typeof nl!="function")throw Error(I(280));var t=e.stateNode;t&&(t=Ra(t),nl(e.stateNode,e.type,t))}}function sh(e){sn?an?an.push(e):an=[e]:sn=e}function ih(){if(sn){var e=sn,t=an;if(an=sn=null,ju(e),t)for(e=0;e<t.length;e++)ju(t[e])}}function ah(e,t){return e(t)}function oh(){}var io=!1;function lh(e,t,r){if(io)return e(t,r);io=!0;try{return ah(e,t,r)}finally{io=!1,(sn!==null||an!==null)&&(oh(),ih())}}function fs(e,t){var r=e.stateNode;if(r===null)return null;var n=Ra(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(I(231,t,typeof r));return r}var sl=!1;if(Rt)try{var Mn={};Object.defineProperty(Mn,"passive",{get:function(){sl=!0}}),window.addEventListener("test",Mn,Mn),window.removeEventListener("test",Mn,Mn)}catch{sl=!1}function sg(e,t,r,n,s,i,o,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(d){this.onError(d)}}var es=!1,Hi=null,Vi=!1,il=null,ig={onError:function(e){es=!0,Hi=e}};function ag(e,t,r,n,s,i,o,l,c){es=!1,Hi=null,sg.apply(ig,arguments)}function og(e,t,r,n,s,i,o,l,c){if(ag.apply(this,arguments),es){if(es){var u=Hi;es=!1,Hi=null}else throw Error(I(198));Vi||(Vi=!0,il=u)}}function Fr(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function ch(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Su(e){if(Fr(e)!==e)throw Error(I(188))}function lg(e){var t=e.alternate;if(!t){if(t=Fr(e),t===null)throw Error(I(188));return t!==e?null:e}for(var r=e,n=t;;){var s=r.return;if(s===null)break;var i=s.alternate;if(i===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===r)return Su(s),e;if(i===n)return Su(s),t;i=i.sibling}throw Error(I(188))}if(r.return!==n.return)r=s,n=i;else{for(var o=!1,l=s.child;l;){if(l===r){o=!0,r=s,n=i;break}if(l===n){o=!0,n=s,r=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===r){o=!0,r=i,n=s;break}if(l===n){o=!0,n=i,r=s;break}l=l.sibling}if(!o)throw Error(I(189))}}if(r.alternate!==n)throw Error(I(190))}if(r.tag!==3)throw Error(I(188));return r.stateNode.current===r?e:t}function uh(e){return e=lg(e),e!==null?dh(e):null}function dh(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=dh(e);if(t!==null)return t;e=e.sibling}return null}var fh=We.unstable_scheduleCallback,Cu=We.unstable_cancelCallback,cg=We.unstable_shouldYield,ug=We.unstable_requestPaint,de=We.unstable_now,dg=We.unstable_getCurrentPriorityLevel,uc=We.unstable_ImmediatePriority,hh=We.unstable_UserBlockingPriority,Wi=We.unstable_NormalPriority,fg=We.unstable_LowPriority,ph=We.unstable_IdlePriority,Sa=null,xt=null;function hg(e){if(xt&&typeof xt.onCommitFiberRoot=="function")try{xt.onCommitFiberRoot(Sa,e,void 0,(e.current.flags&128)===128)}catch{}}var lt=Math.clz32?Math.clz32:gg,pg=Math.log,mg=Math.LN2;function gg(e){return e>>>=0,e===0?32:31-(pg(e)/mg|0)|0}var ii=64,ai=4194304;function Gn(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function qi(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,s=e.suspendedLanes,i=e.pingedLanes,o=r&268435455;if(o!==0){var l=o&~s;l!==0?n=Gn(l):(i&=o,i!==0&&(n=Gn(i)))}else o=r&~s,o!==0?n=Gn(o):i!==0&&(n=Gn(i));if(n===0)return 0;if(t!==0&&t!==n&&!(t&s)&&(s=n&-n,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-lt(t),s=1<<r,n|=e[r],t&=~s;return n}function yg(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function xg(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-lt(i),l=1<<o,c=s[o];c===-1?(!(l&r)||l&n)&&(s[o]=yg(l,t)):c<=t&&(e.expiredLanes|=l),i&=~l}}function al(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function mh(){var e=ii;return ii<<=1,!(ii&4194240)&&(ii=64),e}function ao(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Ms(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-lt(t),e[t]=r}function vg(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var s=31-lt(r),i=1<<s;t[s]=0,n[s]=-1,e[s]=-1,r&=~i}}function dc(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-lt(r),s=1<<n;s&t|e[n]&t&&(e[n]|=t),r&=~s}}var Y=0;function gh(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var yh,fc,xh,vh,wh,ol=!1,oi=[],Xt=null,Zt=null,er=null,hs=new Map,ps=new Map,Ht=[],wg="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Iu(e,t){switch(e){case"focusin":case"focusout":Xt=null;break;case"dragenter":case"dragleave":Zt=null;break;case"mouseover":case"mouseout":er=null;break;case"pointerover":case"pointerout":hs.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ps.delete(t.pointerId)}}function Un(e,t,r,n,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[s]},t!==null&&(t=zs(t),t!==null&&fc(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function kg(e,t,r,n,s){switch(t){case"focusin":return Xt=Un(Xt,e,t,r,n,s),!0;case"dragenter":return Zt=Un(Zt,e,t,r,n,s),!0;case"mouseover":return er=Un(er,e,t,r,n,s),!0;case"pointerover":var i=s.pointerId;return hs.set(i,Un(hs.get(i)||null,e,t,r,n,s)),!0;case"gotpointercapture":return i=s.pointerId,ps.set(i,Un(ps.get(i)||null,e,t,r,n,s)),!0}return!1}function kh(e){var t=Nr(e.target);if(t!==null){var r=Fr(t);if(r!==null){if(t=r.tag,t===13){if(t=ch(r),t!==null){e.blockedOn=t,wh(e.priority,function(){xh(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function _i(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=ll(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);rl=n,r.target.dispatchEvent(n),rl=null}else return t=zs(r),t!==null&&fc(t),e.blockedOn=r,!1;t.shift()}return!0}function Tu(e,t,r){_i(e)&&r.delete(t)}function Ng(){ol=!1,Xt!==null&&_i(Xt)&&(Xt=null),Zt!==null&&_i(Zt)&&(Zt=null),er!==null&&_i(er)&&(er=null),hs.forEach(Tu),ps.forEach(Tu)}function zn(e,t){e.blockedOn===t&&(e.blockedOn=null,ol||(ol=!0,We.unstable_scheduleCallback(We.unstable_NormalPriority,Ng)))}function ms(e){function t(s){return zn(s,e)}if(0<oi.length){zn(oi[0],e);for(var r=1;r<oi.length;r++){var n=oi[r];n.blockedOn===e&&(n.blockedOn=null)}}for(Xt!==null&&zn(Xt,e),Zt!==null&&zn(Zt,e),er!==null&&zn(er,e),hs.forEach(t),ps.forEach(t),r=0;r<Ht.length;r++)n=Ht[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<Ht.length&&(r=Ht[0],r.blockedOn===null);)kh(r),r.blockedOn===null&&Ht.shift()}var on=Lt.ReactCurrentBatchConfig,Ki=!0;function bg(e,t,r,n){var s=Y,i=on.transition;on.transition=null;try{Y=1,hc(e,t,r,n)}finally{Y=s,on.transition=i}}function _g(e,t,r,n){var s=Y,i=on.transition;on.transition=null;try{Y=4,hc(e,t,r,n)}finally{Y=s,on.transition=i}}function hc(e,t,r,n){if(Ki){var s=ll(e,t,r,n);if(s===null)yo(e,t,n,Gi,r),Iu(e,n);else if(kg(s,e,t,r,n))n.stopPropagation();else if(Iu(e,n),t&4&&-1<wg.indexOf(e)){for(;s!==null;){var i=zs(s);if(i!==null&&yh(i),i=ll(e,t,r,n),i===null&&yo(e,t,n,Gi,r),i===s)break;s=i}s!==null&&n.stopPropagation()}else yo(e,t,n,null,r)}}var Gi=null;function ll(e,t,r,n){if(Gi=null,e=cc(n),e=Nr(e),e!==null)if(t=Fr(e),t===null)e=null;else if(r=t.tag,r===13){if(e=ch(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Gi=e,null}function Nh(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(dg()){case uc:return 1;case hh:return 4;case Wi:case fg:return 16;case ph:return 536870912;default:return 16}default:return 16}}var Jt=null,pc=null,Ei=null;function bh(){if(Ei)return Ei;var e,t=pc,r=t.length,n,s="value"in Jt?Jt.value:Jt.textContent,i=s.length;for(e=0;e<r&&t[e]===s[e];e++);var o=r-e;for(n=1;n<=o&&t[r-n]===s[i-n];n++);return Ei=s.slice(e,1<n?1-n:void 0)}function ji(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function li(){return!0}function Ru(){return!1}function Ke(e){function t(r,n,s,i,o){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?li:Ru,this.isPropagationStopped=Ru,this}return ce(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=li)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=li)},persist:function(){},isPersistent:li}),t}var Cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},mc=Ke(Cn),Us=ce({},Cn,{view:0,detail:0}),Eg=Ke(Us),oo,lo,Fn,Ca=ce({},Us,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:gc,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Fn&&(Fn&&e.type==="mousemove"?(oo=e.screenX-Fn.screenX,lo=e.screenY-Fn.screenY):lo=oo=0,Fn=e),oo)},movementY:function(e){return"movementY"in e?e.movementY:lo}}),Pu=Ke(Ca),jg=ce({},Ca,{dataTransfer:0}),Sg=Ke(jg),Cg=ce({},Us,{relatedTarget:0}),co=Ke(Cg),Ig=ce({},Cn,{animationName:0,elapsedTime:0,pseudoElement:0}),Tg=Ke(Ig),Rg=ce({},Cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Pg=Ke(Rg),Ag=ce({},Cn,{data:0}),Au=Ke(Ag),Og={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Dg={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Lg={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Mg(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Lg[e])?!!t[e]:!1}function gc(){return Mg}var Ug=ce({},Us,{key:function(e){if(e.key){var t=Og[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=ji(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Dg[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:gc,charCode:function(e){return e.type==="keypress"?ji(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ji(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),zg=Ke(Ug),Fg=ce({},Ca,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ou=Ke(Fg),$g=ce({},Us,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:gc}),Bg=Ke($g),Hg=ce({},Cn,{propertyName:0,elapsedTime:0,pseudoElement:0}),Vg=Ke(Hg),Wg=ce({},Ca,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),qg=Ke(Wg),Kg=[9,13,27,32],yc=Rt&&"CompositionEvent"in window,ts=null;Rt&&"documentMode"in document&&(ts=document.documentMode);var Gg=Rt&&"TextEvent"in window&&!ts,_h=Rt&&(!yc||ts&&8<ts&&11>=ts),Du=" ",Lu=!1;function Eh(e,t){switch(e){case"keyup":return Kg.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function jh(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var qr=!1;function Jg(e,t){switch(e){case"compositionend":return jh(t);case"keypress":return t.which!==32?null:(Lu=!0,Du);case"textInput":return e=t.data,e===Du&&Lu?null:e;default:return null}}function Qg(e,t){if(qr)return e==="compositionend"||!yc&&Eh(e,t)?(e=bh(),Ei=pc=Jt=null,qr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return _h&&t.locale!=="ko"?null:t.data;default:return null}}var Yg={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Mu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Yg[e.type]:t==="textarea"}function Sh(e,t,r,n){sh(n),t=Ji(t,"onChange"),0<t.length&&(r=new mc("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var rs=null,gs=null;function Xg(e){Uh(e,0)}function Ia(e){var t=Jr(e);if(Yf(t))return e}function Zg(e,t){if(e==="change")return t}var Ch=!1;if(Rt){var uo;if(Rt){var fo="oninput"in document;if(!fo){var Uu=document.createElement("div");Uu.setAttribute("oninput","return;"),fo=typeof Uu.oninput=="function"}uo=fo}else uo=!1;Ch=uo&&(!document.documentMode||9<document.documentMode)}function zu(){rs&&(rs.detachEvent("onpropertychange",Ih),gs=rs=null)}function Ih(e){if(e.propertyName==="value"&&Ia(gs)){var t=[];Sh(t,gs,e,cc(e)),lh(Xg,t)}}function ey(e,t,r){e==="focusin"?(zu(),rs=t,gs=r,rs.attachEvent("onpropertychange",Ih)):e==="focusout"&&zu()}function ty(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ia(gs)}function ry(e,t){if(e==="click")return Ia(t)}function ny(e,t){if(e==="input"||e==="change")return Ia(t)}function sy(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var ut=typeof Object.is=="function"?Object.is:sy;function ys(e,t){if(ut(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!Vo.call(t,s)||!ut(e[s],t[s]))return!1}return!0}function Fu(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function $u(e,t){var r=Fu(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Fu(r)}}function Th(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Th(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Rh(){for(var e=window,t=Bi();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Bi(e.document)}return t}function xc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function iy(e){var t=Rh(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&Th(r.ownerDocument.documentElement,r)){if(n!==null&&xc(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=r.textContent.length,i=Math.min(n.start,s);n=n.end===void 0?i:Math.min(n.end,s),!e.extend&&i>n&&(s=n,n=i,i=s),s=$u(r,i);var o=$u(r,n);s&&o&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>n?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var ay=Rt&&"documentMode"in document&&11>=document.documentMode,Kr=null,cl=null,ns=null,ul=!1;function Bu(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;ul||Kr==null||Kr!==Bi(n)||(n=Kr,"selectionStart"in n&&xc(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),ns&&ys(ns,n)||(ns=n,n=Ji(cl,"onSelect"),0<n.length&&(t=new mc("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=Kr)))}function ci(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Gr={animationend:ci("Animation","AnimationEnd"),animationiteration:ci("Animation","AnimationIteration"),animationstart:ci("Animation","AnimationStart"),transitionend:ci("Transition","TransitionEnd")},ho={},Ph={};Rt&&(Ph=document.createElement("div").style,"AnimationEvent"in window||(delete Gr.animationend.animation,delete Gr.animationiteration.animation,delete Gr.animationstart.animation),"TransitionEvent"in window||delete Gr.transitionend.transition);function Ta(e){if(ho[e])return ho[e];if(!Gr[e])return e;var t=Gr[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in Ph)return ho[e]=t[r];return e}var Ah=Ta("animationend"),Oh=Ta("animationiteration"),Dh=Ta("animationstart"),Lh=Ta("transitionend"),Mh=new Map,Hu="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function fr(e,t){Mh.set(e,t),zr(t,[e])}for(var po=0;po<Hu.length;po++){var mo=Hu[po],oy=mo.toLowerCase(),ly=mo[0].toUpperCase()+mo.slice(1);fr(oy,"on"+ly)}fr(Ah,"onAnimationEnd");fr(Oh,"onAnimationIteration");fr(Dh,"onAnimationStart");fr("dblclick","onDoubleClick");fr("focusin","onFocus");fr("focusout","onBlur");fr(Lh,"onTransitionEnd");hn("onMouseEnter",["mouseout","mouseover"]);hn("onMouseLeave",["mouseout","mouseover"]);hn("onPointerEnter",["pointerout","pointerover"]);hn("onPointerLeave",["pointerout","pointerover"]);zr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));zr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));zr("onBeforeInput",["compositionend","keypress","textInput","paste"]);zr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));zr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));zr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Jn="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),cy=new Set("cancel close invalid load scroll toggle".split(" ").concat(Jn));function Vu(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,og(n,t,void 0,e),e.currentTarget=null}function Uh(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],s=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var o=n.length-1;0<=o;o--){var l=n[o],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==i&&s.isPropagationStopped())break e;Vu(s,l,u),i=c}else for(o=0;o<n.length;o++){if(l=n[o],c=l.instance,u=l.currentTarget,l=l.listener,c!==i&&s.isPropagationStopped())break e;Vu(s,l,u),i=c}}}if(Vi)throw e=il,Vi=!1,il=null,e}function ne(e,t){var r=t[ml];r===void 0&&(r=t[ml]=new Set);var n=e+"__bubble";r.has(n)||(zh(t,e,2,!1),r.add(n))}function go(e,t,r){var n=0;t&&(n|=4),zh(r,e,n,t)}var ui="_reactListening"+Math.random().toString(36).slice(2);function xs(e){if(!e[ui]){e[ui]=!0,qf.forEach(function(r){r!=="selectionchange"&&(cy.has(r)||go(r,!1,e),go(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[ui]||(t[ui]=!0,go("selectionchange",!1,t))}}function zh(e,t,r,n){switch(Nh(t)){case 1:var s=bg;break;case 4:s=_g;break;default:s=hc}r=s.bind(null,t,r,e),s=void 0,!sl||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),n?s!==void 0?e.addEventListener(t,r,{capture:!0,passive:s}):e.addEventListener(t,r,!0):s!==void 0?e.addEventListener(t,r,{passive:s}):e.addEventListener(t,r,!1)}function yo(e,t,r,n,s){var i=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var l=n.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(o===4)for(o=n.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;o=o.return}for(;l!==null;){if(o=Nr(l),o===null)return;if(c=o.tag,c===5||c===6){n=i=o;continue e}l=l.parentNode}}n=n.return}lh(function(){var u=i,d=cc(r),p=[];e:{var f=Mh.get(e);if(f!==void 0){var N=mc,x=e;switch(e){case"keypress":if(ji(r)===0)break e;case"keydown":case"keyup":N=zg;break;case"focusin":x="focus",N=co;break;case"focusout":x="blur",N=co;break;case"beforeblur":case"afterblur":N=co;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":N=Pu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":N=Sg;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":N=Bg;break;case Ah:case Oh:case Dh:N=Tg;break;case Lh:N=Vg;break;case"scroll":N=Eg;break;case"wheel":N=qg;break;case"copy":case"cut":case"paste":N=Pg;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":N=Ou}var g=(t&4)!==0,w=!g&&e==="scroll",m=g?f!==null?f+"Capture":null:f;g=[];for(var h=u,y;h!==null;){y=h;var b=y.stateNode;if(y.tag===5&&b!==null&&(y=b,m!==null&&(b=fs(h,m),b!=null&&g.push(vs(h,b,y)))),w)break;h=h.return}0<g.length&&(f=new N(f,x,null,r,d),p.push({event:f,listeners:g}))}}if(!(t&7)){e:{if(f=e==="mouseover"||e==="pointerover",N=e==="mouseout"||e==="pointerout",f&&r!==rl&&(x=r.relatedTarget||r.fromElement)&&(Nr(x)||x[Pt]))break e;if((N||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,N?(x=r.relatedTarget||r.toElement,N=u,x=x?Nr(x):null,x!==null&&(w=Fr(x),x!==w||x.tag!==5&&x.tag!==6)&&(x=null)):(N=null,x=u),N!==x)){if(g=Pu,b="onMouseLeave",m="onMouseEnter",h="mouse",(e==="pointerout"||e==="pointerover")&&(g=Ou,b="onPointerLeave",m="onPointerEnter",h="pointer"),w=N==null?f:Jr(N),y=x==null?f:Jr(x),f=new g(b,h+"leave",N,r,d),f.target=w,f.relatedTarget=y,b=null,Nr(d)===u&&(g=new g(m,h+"enter",x,r,d),g.target=y,g.relatedTarget=w,b=g),w=b,N&&x)t:{for(g=N,m=x,h=0,y=g;y;y=Hr(y))h++;for(y=0,b=m;b;b=Hr(b))y++;for(;0<h-y;)g=Hr(g),h--;for(;0<y-h;)m=Hr(m),y--;for(;h--;){if(g===m||m!==null&&g===m.alternate)break t;g=Hr(g),m=Hr(m)}g=null}else g=null;N!==null&&Wu(p,f,N,g,!1),x!==null&&w!==null&&Wu(p,w,x,g,!0)}}e:{if(f=u?Jr(u):window,N=f.nodeName&&f.nodeName.toLowerCase(),N==="select"||N==="input"&&f.type==="file")var j=Zg;else if(Mu(f))if(Ch)j=ny;else{j=ty;var _=ey}else(N=f.nodeName)&&N.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(j=ry);if(j&&(j=j(e,u))){Sh(p,j,r,d);break e}_&&_(e,f,u),e==="focusout"&&(_=f._wrapperState)&&_.controlled&&f.type==="number"&&Yo(f,"number",f.value)}switch(_=u?Jr(u):window,e){case"focusin":(Mu(_)||_.contentEditable==="true")&&(Kr=_,cl=u,ns=null);break;case"focusout":ns=cl=Kr=null;break;case"mousedown":ul=!0;break;case"contextmenu":case"mouseup":case"dragend":ul=!1,Bu(p,r,d);break;case"selectionchange":if(ay)break;case"keydown":case"keyup":Bu(p,r,d)}var v;if(yc)e:{switch(e){case"compositionstart":var S="onCompositionStart";break e;case"compositionend":S="onCompositionEnd";break e;case"compositionupdate":S="onCompositionUpdate";break e}S=void 0}else qr?Eh(e,r)&&(S="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(S="onCompositionStart");S&&(_h&&r.locale!=="ko"&&(qr||S!=="onCompositionStart"?S==="onCompositionEnd"&&qr&&(v=bh()):(Jt=d,pc="value"in Jt?Jt.value:Jt.textContent,qr=!0)),_=Ji(u,S),0<_.length&&(S=new Au(S,e,null,r,d),p.push({event:S,listeners:_}),v?S.data=v:(v=jh(r),v!==null&&(S.data=v)))),(v=Gg?Jg(e,r):Qg(e,r))&&(u=Ji(u,"onBeforeInput"),0<u.length&&(d=new Au("onBeforeInput","beforeinput",null,r,d),p.push({event:d,listeners:u}),d.data=v))}Uh(p,t)})}function vs(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Ji(e,t){for(var r=t+"Capture",n=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=fs(e,r),i!=null&&n.unshift(vs(e,i,s)),i=fs(e,t),i!=null&&n.push(vs(e,i,s))),e=e.return}return n}function Hr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Wu(e,t,r,n,s){for(var i=t._reactName,o=[];r!==null&&r!==n;){var l=r,c=l.alternate,u=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&u!==null&&(l=u,s?(c=fs(r,i),c!=null&&o.unshift(vs(r,c,l))):s||(c=fs(r,i),c!=null&&o.push(vs(r,c,l)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var uy=/\r\n?/g,dy=/\u0000|\uFFFD/g;function qu(e){return(typeof e=="string"?e:""+e).replace(uy,`
`).replace(dy,"")}function di(e,t,r){if(t=qu(t),qu(e)!==t&&r)throw Error(I(425))}function Qi(){}var dl=null,fl=null;function hl(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var pl=typeof setTimeout=="function"?setTimeout:void 0,fy=typeof clearTimeout=="function"?clearTimeout:void 0,Ku=typeof Promise=="function"?Promise:void 0,hy=typeof queueMicrotask=="function"?queueMicrotask:typeof Ku<"u"?function(e){return Ku.resolve(null).then(e).catch(py)}:pl;function py(e){setTimeout(function(){throw e})}function xo(e,t){var r=t,n=0;do{var s=r.nextSibling;if(e.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){e.removeChild(s),ms(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);ms(t)}function tr(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Gu(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var In=Math.random().toString(36).slice(2),gt="__reactFiber$"+In,ws="__reactProps$"+In,Pt="__reactContainer$"+In,ml="__reactEvents$"+In,my="__reactListeners$"+In,gy="__reactHandles$"+In;function Nr(e){var t=e[gt];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Pt]||r[gt]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=Gu(e);e!==null;){if(r=e[gt])return r;e=Gu(e)}return t}e=r,r=e.parentNode}return null}function zs(e){return e=e[gt]||e[Pt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Jr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(I(33))}function Ra(e){return e[ws]||null}var gl=[],Qr=-1;function hr(e){return{current:e}}function se(e){0>Qr||(e.current=gl[Qr],gl[Qr]=null,Qr--)}function te(e,t){Qr++,gl[Qr]=e.current,e.current=t}var dr={},je=hr(dr),Me=hr(!1),Rr=dr;function pn(e,t){var r=e.type.contextTypes;if(!r)return dr;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in r)s[i]=t[i];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Ue(e){return e=e.childContextTypes,e!=null}function Yi(){se(Me),se(je)}function Ju(e,t,r){if(je.current!==dr)throw Error(I(168));te(je,t),te(Me,r)}function Fh(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in t))throw Error(I(108,eg(e)||"Unknown",s));return ce({},r,n)}function Xi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||dr,Rr=je.current,te(je,e),te(Me,Me.current),!0}function Qu(e,t,r){var n=e.stateNode;if(!n)throw Error(I(169));r?(e=Fh(e,t,Rr),n.__reactInternalMemoizedMergedChildContext=e,se(Me),se(je),te(je,e)):se(Me),te(Me,r)}var _t=null,Pa=!1,vo=!1;function $h(e){_t===null?_t=[e]:_t.push(e)}function yy(e){Pa=!0,$h(e)}function pr(){if(!vo&&_t!==null){vo=!0;var e=0,t=Y;try{var r=_t;for(Y=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}_t=null,Pa=!1}catch(s){throw _t!==null&&(_t=_t.slice(e+1)),fh(uc,pr),s}finally{Y=t,vo=!1}}return null}var Yr=[],Xr=0,Zi=null,ea=0,Qe=[],Ye=0,Pr=null,Et=1,jt="";function xr(e,t){Yr[Xr++]=ea,Yr[Xr++]=Zi,Zi=e,ea=t}function Bh(e,t,r){Qe[Ye++]=Et,Qe[Ye++]=jt,Qe[Ye++]=Pr,Pr=e;var n=Et;e=jt;var s=32-lt(n)-1;n&=~(1<<s),r+=1;var i=32-lt(t)+s;if(30<i){var o=s-s%5;i=(n&(1<<o)-1).toString(32),n>>=o,s-=o,Et=1<<32-lt(t)+s|r<<s|n,jt=i+e}else Et=1<<i|r<<s|n,jt=e}function vc(e){e.return!==null&&(xr(e,1),Bh(e,1,0))}function wc(e){for(;e===Zi;)Zi=Yr[--Xr],Yr[Xr]=null,ea=Yr[--Xr],Yr[Xr]=null;for(;e===Pr;)Pr=Qe[--Ye],Qe[Ye]=null,jt=Qe[--Ye],Qe[Ye]=null,Et=Qe[--Ye],Qe[Ye]=null}var Ve=null,He=null,ie=!1,ot=null;function Hh(e,t){var r=Ze(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function Yu(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Ve=e,He=tr(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Ve=e,He=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Pr!==null?{id:Et,overflow:jt}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Ze(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Ve=e,He=null,!0):!1;default:return!1}}function yl(e){return(e.mode&1)!==0&&(e.flags&128)===0}function xl(e){if(ie){var t=He;if(t){var r=t;if(!Yu(e,t)){if(yl(e))throw Error(I(418));t=tr(r.nextSibling);var n=Ve;t&&Yu(e,t)?Hh(n,r):(e.flags=e.flags&-4097|2,ie=!1,Ve=e)}}else{if(yl(e))throw Error(I(418));e.flags=e.flags&-4097|2,ie=!1,Ve=e}}}function Xu(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Ve=e}function fi(e){if(e!==Ve)return!1;if(!ie)return Xu(e),ie=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!hl(e.type,e.memoizedProps)),t&&(t=He)){if(yl(e))throw Vh(),Error(I(418));for(;t;)Hh(e,t),t=tr(t.nextSibling)}if(Xu(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(I(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){He=tr(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}He=null}}else He=Ve?tr(e.stateNode.nextSibling):null;return!0}function Vh(){for(var e=He;e;)e=tr(e.nextSibling)}function mn(){He=Ve=null,ie=!1}function kc(e){ot===null?ot=[e]:ot.push(e)}var xy=Lt.ReactCurrentBatchConfig;function $n(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(I(309));var n=r.stateNode}if(!n)throw Error(I(147,e));var s=n,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var l=s.refs;o===null?delete l[i]:l[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(I(284));if(!r._owner)throw Error(I(290,e))}return e}function hi(e,t){throw e=Object.prototype.toString.call(t),Error(I(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Zu(e){var t=e._init;return t(e._payload)}function Wh(e){function t(m,h){if(e){var y=m.deletions;y===null?(m.deletions=[h],m.flags|=16):y.push(h)}}function r(m,h){if(!e)return null;for(;h!==null;)t(m,h),h=h.sibling;return null}function n(m,h){for(m=new Map;h!==null;)h.key!==null?m.set(h.key,h):m.set(h.index,h),h=h.sibling;return m}function s(m,h){return m=ir(m,h),m.index=0,m.sibling=null,m}function i(m,h,y){return m.index=y,e?(y=m.alternate,y!==null?(y=y.index,y<h?(m.flags|=2,h):y):(m.flags|=2,h)):(m.flags|=1048576,h)}function o(m){return e&&m.alternate===null&&(m.flags|=2),m}function l(m,h,y,b){return h===null||h.tag!==6?(h=jo(y,m.mode,b),h.return=m,h):(h=s(h,y),h.return=m,h)}function c(m,h,y,b){var j=y.type;return j===Wr?d(m,h,y.props.children,b,y.key):h!==null&&(h.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===$t&&Zu(j)===h.type)?(b=s(h,y.props),b.ref=$n(m,h,y),b.return=m,b):(b=Ai(y.type,y.key,y.props,null,m.mode,b),b.ref=$n(m,h,y),b.return=m,b)}function u(m,h,y,b){return h===null||h.tag!==4||h.stateNode.containerInfo!==y.containerInfo||h.stateNode.implementation!==y.implementation?(h=So(y,m.mode,b),h.return=m,h):(h=s(h,y.children||[]),h.return=m,h)}function d(m,h,y,b,j){return h===null||h.tag!==7?(h=Sr(y,m.mode,b,j),h.return=m,h):(h=s(h,y),h.return=m,h)}function p(m,h,y){if(typeof h=="string"&&h!==""||typeof h=="number")return h=jo(""+h,m.mode,y),h.return=m,h;if(typeof h=="object"&&h!==null){switch(h.$$typeof){case ri:return y=Ai(h.type,h.key,h.props,null,m.mode,y),y.ref=$n(m,null,h),y.return=m,y;case Vr:return h=So(h,m.mode,y),h.return=m,h;case $t:var b=h._init;return p(m,b(h._payload),y)}if(Kn(h)||Ln(h))return h=Sr(h,m.mode,y,null),h.return=m,h;hi(m,h)}return null}function f(m,h,y,b){var j=h!==null?h.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return j!==null?null:l(m,h,""+y,b);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case ri:return y.key===j?c(m,h,y,b):null;case Vr:return y.key===j?u(m,h,y,b):null;case $t:return j=y._init,f(m,h,j(y._payload),b)}if(Kn(y)||Ln(y))return j!==null?null:d(m,h,y,b,null);hi(m,y)}return null}function N(m,h,y,b,j){if(typeof b=="string"&&b!==""||typeof b=="number")return m=m.get(y)||null,l(h,m,""+b,j);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case ri:return m=m.get(b.key===null?y:b.key)||null,c(h,m,b,j);case Vr:return m=m.get(b.key===null?y:b.key)||null,u(h,m,b,j);case $t:var _=b._init;return N(m,h,y,_(b._payload),j)}if(Kn(b)||Ln(b))return m=m.get(y)||null,d(h,m,b,j,null);hi(h,b)}return null}function x(m,h,y,b){for(var j=null,_=null,v=h,S=h=0,T=null;v!==null&&S<y.length;S++){v.index>S?(T=v,v=null):T=v.sibling;var D=f(m,v,y[S],b);if(D===null){v===null&&(v=T);break}e&&v&&D.alternate===null&&t(m,v),h=i(D,h,S),_===null?j=D:_.sibling=D,_=D,v=T}if(S===y.length)return r(m,v),ie&&xr(m,S),j;if(v===null){for(;S<y.length;S++)v=p(m,y[S],b),v!==null&&(h=i(v,h,S),_===null?j=v:_.sibling=v,_=v);return ie&&xr(m,S),j}for(v=n(m,v);S<y.length;S++)T=N(v,m,S,y[S],b),T!==null&&(e&&T.alternate!==null&&v.delete(T.key===null?S:T.key),h=i(T,h,S),_===null?j=T:_.sibling=T,_=T);return e&&v.forEach(function(J){return t(m,J)}),ie&&xr(m,S),j}function g(m,h,y,b){var j=Ln(y);if(typeof j!="function")throw Error(I(150));if(y=j.call(y),y==null)throw Error(I(151));for(var _=j=null,v=h,S=h=0,T=null,D=y.next();v!==null&&!D.done;S++,D=y.next()){v.index>S?(T=v,v=null):T=v.sibling;var J=f(m,v,D.value,b);if(J===null){v===null&&(v=T);break}e&&v&&J.alternate===null&&t(m,v),h=i(J,h,S),_===null?j=J:_.sibling=J,_=J,v=T}if(D.done)return r(m,v),ie&&xr(m,S),j;if(v===null){for(;!D.done;S++,D=y.next())D=p(m,D.value,b),D!==null&&(h=i(D,h,S),_===null?j=D:_.sibling=D,_=D);return ie&&xr(m,S),j}for(v=n(m,v);!D.done;S++,D=y.next())D=N(v,m,S,D.value,b),D!==null&&(e&&D.alternate!==null&&v.delete(D.key===null?S:D.key),h=i(D,h,S),_===null?j=D:_.sibling=D,_=D);return e&&v.forEach(function(K){return t(m,K)}),ie&&xr(m,S),j}function w(m,h,y,b){if(typeof y=="object"&&y!==null&&y.type===Wr&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case ri:e:{for(var j=y.key,_=h;_!==null;){if(_.key===j){if(j=y.type,j===Wr){if(_.tag===7){r(m,_.sibling),h=s(_,y.props.children),h.return=m,m=h;break e}}else if(_.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===$t&&Zu(j)===_.type){r(m,_.sibling),h=s(_,y.props),h.ref=$n(m,_,y),h.return=m,m=h;break e}r(m,_);break}else t(m,_);_=_.sibling}y.type===Wr?(h=Sr(y.props.children,m.mode,b,y.key),h.return=m,m=h):(b=Ai(y.type,y.key,y.props,null,m.mode,b),b.ref=$n(m,h,y),b.return=m,m=b)}return o(m);case Vr:e:{for(_=y.key;h!==null;){if(h.key===_)if(h.tag===4&&h.stateNode.containerInfo===y.containerInfo&&h.stateNode.implementation===y.implementation){r(m,h.sibling),h=s(h,y.children||[]),h.return=m,m=h;break e}else{r(m,h);break}else t(m,h);h=h.sibling}h=So(y,m.mode,b),h.return=m,m=h}return o(m);case $t:return _=y._init,w(m,h,_(y._payload),b)}if(Kn(y))return x(m,h,y,b);if(Ln(y))return g(m,h,y,b);hi(m,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,h!==null&&h.tag===6?(r(m,h.sibling),h=s(h,y),h.return=m,m=h):(r(m,h),h=jo(y,m.mode,b),h.return=m,m=h),o(m)):r(m,h)}return w}var gn=Wh(!0),qh=Wh(!1),ta=hr(null),ra=null,Zr=null,Nc=null;function bc(){Nc=Zr=ra=null}function _c(e){var t=ta.current;se(ta),e._currentValue=t}function vl(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function ln(e,t){ra=e,Nc=Zr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Le=!0),e.firstContext=null)}function tt(e){var t=e._currentValue;if(Nc!==e)if(e={context:e,memoizedValue:t,next:null},Zr===null){if(ra===null)throw Error(I(308));Zr=e,ra.dependencies={lanes:0,firstContext:e}}else Zr=Zr.next=e;return t}var br=null;function Ec(e){br===null?br=[e]:br.push(e)}function Kh(e,t,r,n){var s=t.interleaved;return s===null?(r.next=r,Ec(t)):(r.next=s.next,s.next=r),t.interleaved=r,At(e,n)}function At(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Bt=!1;function jc(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Gh(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function It(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function rr(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,G&2){var s=n.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),n.pending=t,At(e,r)}return s=n.interleaved,s===null?(t.next=t,Ec(n)):(t.next=s.next,s.next=t),n.interleaved=t,At(e,r)}function Si(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,dc(e,r)}}function ed(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?s=i=o:i=i.next=o,r=r.next}while(r!==null);i===null?s=i=t:i=i.next=t}else s=i=t;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function na(e,t,r,n){var s=e.updateQueue;Bt=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,u=c.next;c.next=null,o===null?i=u:o.next=u,o=c;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==o&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(i!==null){var p=s.baseState;o=0,d=u=c=null,l=i;do{var f=l.lane,N=l.eventTime;if((n&f)===f){d!==null&&(d=d.next={eventTime:N,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var x=e,g=l;switch(f=t,N=r,g.tag){case 1:if(x=g.payload,typeof x=="function"){p=x.call(N,p,f);break e}p=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=g.payload,f=typeof x=="function"?x.call(N,p,f):x,f==null)break e;p=ce({},p,f);break e;case 2:Bt=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,f=s.effects,f===null?s.effects=[l]:f.push(l))}else N={eventTime:N,lane:f,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=N,c=p):d=d.next=N,o|=f;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;f=l,l=f.next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}while(!0);if(d===null&&(c=p),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=d,t=s.shared.interleaved,t!==null){s=t;do o|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);Or|=o,e.lanes=o,e.memoizedState=p}}function td(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(I(191,s));s.call(n)}}}var Fs={},vt=hr(Fs),ks=hr(Fs),Ns=hr(Fs);function _r(e){if(e===Fs)throw Error(I(174));return e}function Sc(e,t){switch(te(Ns,t),te(ks,e),te(vt,Fs),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Zo(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Zo(t,e)}se(vt),te(vt,t)}function yn(){se(vt),se(ks),se(Ns)}function Jh(e){_r(Ns.current);var t=_r(vt.current),r=Zo(t,e.type);t!==r&&(te(ks,e),te(vt,r))}function Cc(e){ks.current===e&&(se(vt),se(ks))}var ae=hr(0);function sa(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var wo=[];function Ic(){for(var e=0;e<wo.length;e++)wo[e]._workInProgressVersionPrimary=null;wo.length=0}var Ci=Lt.ReactCurrentDispatcher,ko=Lt.ReactCurrentBatchConfig,Ar=0,oe=null,pe=null,ye=null,ia=!1,ss=!1,bs=0,vy=0;function Ne(){throw Error(I(321))}function Tc(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!ut(e[r],t[r]))return!1;return!0}function Rc(e,t,r,n,s,i){if(Ar=i,oe=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Ci.current=e===null||e.memoizedState===null?by:_y,e=r(n,s),ss){i=0;do{if(ss=!1,bs=0,25<=i)throw Error(I(301));i+=1,ye=pe=null,t.updateQueue=null,Ci.current=Ey,e=r(n,s)}while(ss)}if(Ci.current=aa,t=pe!==null&&pe.next!==null,Ar=0,ye=pe=oe=null,ia=!1,t)throw Error(I(300));return e}function Pc(){var e=bs!==0;return bs=0,e}function mt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ye===null?oe.memoizedState=ye=e:ye=ye.next=e,ye}function rt(){if(pe===null){var e=oe.alternate;e=e!==null?e.memoizedState:null}else e=pe.next;var t=ye===null?oe.memoizedState:ye.next;if(t!==null)ye=t,pe=e;else{if(e===null)throw Error(I(310));pe=e,e={memoizedState:pe.memoizedState,baseState:pe.baseState,baseQueue:pe.baseQueue,queue:pe.queue,next:null},ye===null?oe.memoizedState=ye=e:ye=ye.next=e}return ye}function _s(e,t){return typeof t=="function"?t(e):t}function No(e){var t=rt(),r=t.queue;if(r===null)throw Error(I(311));r.lastRenderedReducer=e;var n=pe,s=n.baseQueue,i=r.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}n.baseQueue=s=i,r.pending=null}if(s!==null){i=s.next,n=n.baseState;var l=o=null,c=null,u=i;do{var d=u.lane;if((Ar&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var p={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=p,o=n):c=c.next=p,oe.lanes|=d,Or|=d}u=u.next}while(u!==null&&u!==i);c===null?o=n:c.next=l,ut(n,t.memoizedState)||(Le=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){s=e;do i=s.lane,oe.lanes|=i,Or|=i,s=s.next;while(s!==e)}else s===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function bo(e){var t=rt(),r=t.queue;if(r===null)throw Error(I(311));r.lastRenderedReducer=e;var n=r.dispatch,s=r.pending,i=t.memoizedState;if(s!==null){r.pending=null;var o=s=s.next;do i=e(i,o.action),o=o.next;while(o!==s);ut(i,t.memoizedState)||(Le=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,n]}function Qh(){}function Yh(e,t){var r=oe,n=rt(),s=t(),i=!ut(n.memoizedState,s);if(i&&(n.memoizedState=s,Le=!0),n=n.queue,Ac(ep.bind(null,r,n,e),[e]),n.getSnapshot!==t||i||ye!==null&&ye.memoizedState.tag&1){if(r.flags|=2048,Es(9,Zh.bind(null,r,n,s,t),void 0,null),xe===null)throw Error(I(349));Ar&30||Xh(r,t,s)}return s}function Xh(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=oe.updateQueue,t===null?(t={lastEffect:null,stores:null},oe.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function Zh(e,t,r,n){t.value=r,t.getSnapshot=n,tp(t)&&rp(e)}function ep(e,t,r){return r(function(){tp(t)&&rp(e)})}function tp(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!ut(e,r)}catch{return!0}}function rp(e){var t=At(e,1);t!==null&&ct(t,e,1,-1)}function rd(e){var t=mt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:_s,lastRenderedState:e},t.queue=e,e=e.dispatch=Ny.bind(null,oe,e),[t.memoizedState,e]}function Es(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=oe.updateQueue,t===null?(t={lastEffect:null,stores:null},oe.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function np(){return rt().memoizedState}function Ii(e,t,r,n){var s=mt();oe.flags|=e,s.memoizedState=Es(1|t,r,void 0,n===void 0?null:n)}function Aa(e,t,r,n){var s=rt();n=n===void 0?null:n;var i=void 0;if(pe!==null){var o=pe.memoizedState;if(i=o.destroy,n!==null&&Tc(n,o.deps)){s.memoizedState=Es(t,r,i,n);return}}oe.flags|=e,s.memoizedState=Es(1|t,r,i,n)}function nd(e,t){return Ii(8390656,8,e,t)}function Ac(e,t){return Aa(2048,8,e,t)}function sp(e,t){return Aa(4,2,e,t)}function ip(e,t){return Aa(4,4,e,t)}function ap(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function op(e,t,r){return r=r!=null?r.concat([e]):null,Aa(4,4,ap.bind(null,t,e),r)}function Oc(){}function lp(e,t){var r=rt();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Tc(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function cp(e,t){var r=rt();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Tc(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function up(e,t,r){return Ar&21?(ut(r,t)||(r=mh(),oe.lanes|=r,Or|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Le=!0),e.memoizedState=r)}function wy(e,t){var r=Y;Y=r!==0&&4>r?r:4,e(!0);var n=ko.transition;ko.transition={};try{e(!1),t()}finally{Y=r,ko.transition=n}}function dp(){return rt().memoizedState}function ky(e,t,r){var n=sr(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},fp(e))hp(t,r);else if(r=Kh(e,t,r,n),r!==null){var s=Ie();ct(r,e,n,s),pp(r,t,n)}}function Ny(e,t,r){var n=sr(e),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(fp(e))hp(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,l=i(o,r);if(s.hasEagerState=!0,s.eagerState=l,ut(l,o)){var c=t.interleaved;c===null?(s.next=s,Ec(t)):(s.next=c.next,c.next=s),t.interleaved=s;return}}catch{}finally{}r=Kh(e,t,s,n),r!==null&&(s=Ie(),ct(r,e,n,s),pp(r,t,n))}}function fp(e){var t=e.alternate;return e===oe||t!==null&&t===oe}function hp(e,t){ss=ia=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function pp(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,dc(e,r)}}var aa={readContext:tt,useCallback:Ne,useContext:Ne,useEffect:Ne,useImperativeHandle:Ne,useInsertionEffect:Ne,useLayoutEffect:Ne,useMemo:Ne,useReducer:Ne,useRef:Ne,useState:Ne,useDebugValue:Ne,useDeferredValue:Ne,useTransition:Ne,useMutableSource:Ne,useSyncExternalStore:Ne,useId:Ne,unstable_isNewReconciler:!1},by={readContext:tt,useCallback:function(e,t){return mt().memoizedState=[e,t===void 0?null:t],e},useContext:tt,useEffect:nd,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Ii(4194308,4,ap.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Ii(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ii(4,2,e,t)},useMemo:function(e,t){var r=mt();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=mt();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=ky.bind(null,oe,e),[n.memoizedState,e]},useRef:function(e){var t=mt();return e={current:e},t.memoizedState=e},useState:rd,useDebugValue:Oc,useDeferredValue:function(e){return mt().memoizedState=e},useTransition:function(){var e=rd(!1),t=e[0];return e=wy.bind(null,e[1]),mt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=oe,s=mt();if(ie){if(r===void 0)throw Error(I(407));r=r()}else{if(r=t(),xe===null)throw Error(I(349));Ar&30||Xh(n,t,r)}s.memoizedState=r;var i={value:r,getSnapshot:t};return s.queue=i,nd(ep.bind(null,n,i,e),[e]),n.flags|=2048,Es(9,Zh.bind(null,n,i,r,t),void 0,null),r},useId:function(){var e=mt(),t=xe.identifierPrefix;if(ie){var r=jt,n=Et;r=(n&~(1<<32-lt(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=bs++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=vy++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},_y={readContext:tt,useCallback:lp,useContext:tt,useEffect:Ac,useImperativeHandle:op,useInsertionEffect:sp,useLayoutEffect:ip,useMemo:cp,useReducer:No,useRef:np,useState:function(){return No(_s)},useDebugValue:Oc,useDeferredValue:function(e){var t=rt();return up(t,pe.memoizedState,e)},useTransition:function(){var e=No(_s)[0],t=rt().memoizedState;return[e,t]},useMutableSource:Qh,useSyncExternalStore:Yh,useId:dp,unstable_isNewReconciler:!1},Ey={readContext:tt,useCallback:lp,useContext:tt,useEffect:Ac,useImperativeHandle:op,useInsertionEffect:sp,useLayoutEffect:ip,useMemo:cp,useReducer:bo,useRef:np,useState:function(){return bo(_s)},useDebugValue:Oc,useDeferredValue:function(e){var t=rt();return pe===null?t.memoizedState=e:up(t,pe.memoizedState,e)},useTransition:function(){var e=bo(_s)[0],t=rt().memoizedState;return[e,t]},useMutableSource:Qh,useSyncExternalStore:Yh,useId:dp,unstable_isNewReconciler:!1};function it(e,t){if(e&&e.defaultProps){t=ce({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function wl(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:ce({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Oa={isMounted:function(e){return(e=e._reactInternals)?Fr(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Ie(),s=sr(e),i=It(n,s);i.payload=t,r!=null&&(i.callback=r),t=rr(e,i,s),t!==null&&(ct(t,e,s,n),Si(t,e,s))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Ie(),s=sr(e),i=It(n,s);i.tag=1,i.payload=t,r!=null&&(i.callback=r),t=rr(e,i,s),t!==null&&(ct(t,e,s,n),Si(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Ie(),n=sr(e),s=It(r,n);s.tag=2,t!=null&&(s.callback=t),t=rr(e,s,n),t!==null&&(ct(t,e,n,r),Si(t,e,n))}};function sd(e,t,r,n,s,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,o):t.prototype&&t.prototype.isPureReactComponent?!ys(r,n)||!ys(s,i):!0}function mp(e,t,r){var n=!1,s=dr,i=t.contextType;return typeof i=="object"&&i!==null?i=tt(i):(s=Ue(t)?Rr:je.current,n=t.contextTypes,i=(n=n!=null)?pn(e,s):dr),t=new t(r,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Oa,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function id(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&Oa.enqueueReplaceState(t,t.state,null)}function kl(e,t,r,n){var s=e.stateNode;s.props=r,s.state=e.memoizedState,s.refs={},jc(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=tt(i):(i=Ue(t)?Rr:je.current,s.context=pn(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(wl(e,t,i,r),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&Oa.enqueueReplaceState(s,s.state,null),na(e,r,s,n),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function xn(e,t){try{var r="",n=t;do r+=Z0(n),n=n.return;while(n);var s=r}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function _o(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function Nl(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var jy=typeof WeakMap=="function"?WeakMap:Map;function gp(e,t,r){r=It(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){la||(la=!0,Pl=n),Nl(e,t)},r}function yp(e,t,r){r=It(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var s=t.value;r.payload=function(){return n(s)},r.callback=function(){Nl(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){Nl(e,t),typeof n!="function"&&(nr===null?nr=new Set([this]):nr.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function ad(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new jy;var s=new Set;n.set(t,s)}else s=n.get(t),s===void 0&&(s=new Set,n.set(t,s));s.has(r)||(s.add(r),e=Fy.bind(null,e,t,r),t.then(e,e))}function od(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function ld(e,t,r,n,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=It(-1,1),t.tag=2,rr(r,t,1))),r.lanes|=1),e)}var Sy=Lt.ReactCurrentOwner,Le=!1;function Ce(e,t,r,n){t.child=e===null?qh(t,null,r,n):gn(t,e.child,r,n)}function cd(e,t,r,n,s){r=r.render;var i=t.ref;return ln(t,s),n=Rc(e,t,r,n,i,s),r=Pc(),e!==null&&!Le?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Ot(e,t,s)):(ie&&r&&vc(t),t.flags|=1,Ce(e,t,n,s),t.child)}function ud(e,t,r,n,s){if(e===null){var i=r.type;return typeof i=="function"&&!Bc(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=i,xp(e,t,i,n,s)):(e=Ai(r.type,null,n,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var o=i.memoizedProps;if(r=r.compare,r=r!==null?r:ys,r(o,n)&&e.ref===t.ref)return Ot(e,t,s)}return t.flags|=1,e=ir(i,n),e.ref=t.ref,e.return=t,t.child=e}function xp(e,t,r,n,s){if(e!==null){var i=e.memoizedProps;if(ys(i,n)&&e.ref===t.ref)if(Le=!1,t.pendingProps=n=i,(e.lanes&s)!==0)e.flags&131072&&(Le=!0);else return t.lanes=e.lanes,Ot(e,t,s)}return bl(e,t,r,n,s)}function vp(e,t,r){var n=t.pendingProps,s=n.children,i=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},te(tn,Be),Be|=r;else{if(!(r&1073741824))return e=i!==null?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,te(tn,Be),Be|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,te(tn,Be),Be|=n}else i!==null?(n=i.baseLanes|r,t.memoizedState=null):n=r,te(tn,Be),Be|=n;return Ce(e,t,s,r),t.child}function wp(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function bl(e,t,r,n,s){var i=Ue(r)?Rr:je.current;return i=pn(t,i),ln(t,s),r=Rc(e,t,r,n,i,s),n=Pc(),e!==null&&!Le?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Ot(e,t,s)):(ie&&n&&vc(t),t.flags|=1,Ce(e,t,r,s),t.child)}function dd(e,t,r,n,s){if(Ue(r)){var i=!0;Xi(t)}else i=!1;if(ln(t,s),t.stateNode===null)Ti(e,t),mp(t,r,n),kl(t,r,n,s),n=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var c=o.context,u=r.contextType;typeof u=="object"&&u!==null?u=tt(u):(u=Ue(r)?Rr:je.current,u=pn(t,u));var d=r.getDerivedStateFromProps,p=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";p||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==n||c!==u)&&id(t,o,n,u),Bt=!1;var f=t.memoizedState;o.state=f,na(t,n,o,s),c=t.memoizedState,l!==n||f!==c||Me.current||Bt?(typeof d=="function"&&(wl(t,r,d,n),c=t.memoizedState),(l=Bt||sd(t,r,l,n,f,c,u))?(p||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),o.props=n,o.state=c,o.context=u,n=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,Gh(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:it(t.type,l),o.props=u,p=t.pendingProps,f=o.context,c=r.contextType,typeof c=="object"&&c!==null?c=tt(c):(c=Ue(r)?Rr:je.current,c=pn(t,c));var N=r.getDerivedStateFromProps;(d=typeof N=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==p||f!==c)&&id(t,o,n,c),Bt=!1,f=t.memoizedState,o.state=f,na(t,n,o,s);var x=t.memoizedState;l!==p||f!==x||Me.current||Bt?(typeof N=="function"&&(wl(t,r,N,n),x=t.memoizedState),(u=Bt||sd(t,r,u,n,f,x,c)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,x,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,x,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=x),o.props=n,o.state=x,o.context=c,n=u):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),n=!1)}return _l(e,t,r,n,i,s)}function _l(e,t,r,n,s,i){wp(e,t);var o=(t.flags&128)!==0;if(!n&&!o)return s&&Qu(t,r,!1),Ot(e,t,i);n=t.stateNode,Sy.current=t;var l=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&o?(t.child=gn(t,e.child,null,i),t.child=gn(t,null,l,i)):Ce(e,t,l,i),t.memoizedState=n.state,s&&Qu(t,r,!0),t.child}function kp(e){var t=e.stateNode;t.pendingContext?Ju(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Ju(e,t.context,!1),Sc(e,t.containerInfo)}function fd(e,t,r,n,s){return mn(),kc(s),t.flags|=256,Ce(e,t,r,n),t.child}var El={dehydrated:null,treeContext:null,retryLane:0};function jl(e){return{baseLanes:e,cachePool:null,transitions:null}}function Np(e,t,r){var n=t.pendingProps,s=ae.current,i=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(s&2)!==0),l?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),te(ae,s&1),e===null)return xl(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=n.children,e=n.fallback,i?(n=t.mode,i=t.child,o={mode:"hidden",children:o},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Ma(o,n,0,null),e=Sr(e,n,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=jl(r),t.memoizedState=El,e):Dc(t,o));if(s=e.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return Cy(e,t,o,n,l,s,r);if(i){i=n.fallback,o=t.mode,s=e.child,l=s.sibling;var c={mode:"hidden",children:n.children};return!(o&1)&&t.child!==s?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=ir(s,c),n.subtreeFlags=s.subtreeFlags&14680064),l!==null?i=ir(l,i):(i=Sr(i,o,r,null),i.flags|=2),i.return=t,n.return=t,n.sibling=i,t.child=n,n=i,i=t.child,o=e.child.memoizedState,o=o===null?jl(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~r,t.memoizedState=El,n}return i=e.child,e=i.sibling,n=ir(i,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function Dc(e,t){return t=Ma({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function pi(e,t,r,n){return n!==null&&kc(n),gn(t,e.child,null,r),e=Dc(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Cy(e,t,r,n,s,i,o){if(r)return t.flags&256?(t.flags&=-257,n=_o(Error(I(422))),pi(e,t,o,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=n.fallback,s=t.mode,n=Ma({mode:"visible",children:n.children},s,0,null),i=Sr(i,s,o,null),i.flags|=2,n.return=t,i.return=t,n.sibling=i,t.child=n,t.mode&1&&gn(t,e.child,null,o),t.child.memoizedState=jl(o),t.memoizedState=El,i);if(!(t.mode&1))return pi(e,t,o,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var l=n.dgst;return n=l,i=Error(I(419)),n=_o(i,n,void 0),pi(e,t,o,n)}if(l=(o&e.childLanes)!==0,Le||l){if(n=xe,n!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,At(e,s),ct(n,e,s,-1))}return $c(),n=_o(Error(I(421))),pi(e,t,o,n)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=$y.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,He=tr(s.nextSibling),Ve=t,ie=!0,ot=null,e!==null&&(Qe[Ye++]=Et,Qe[Ye++]=jt,Qe[Ye++]=Pr,Et=e.id,jt=e.overflow,Pr=t),t=Dc(t,n.children),t.flags|=4096,t)}function hd(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),vl(e.return,t,r)}function Eo(e,t,r,n,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=s)}function bp(e,t,r){var n=t.pendingProps,s=n.revealOrder,i=n.tail;if(Ce(e,t,n.children,r),n=ae.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&hd(e,r,t);else if(e.tag===19)hd(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(te(ae,n),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(r=t.child,s=null;r!==null;)e=r.alternate,e!==null&&sa(e)===null&&(s=r),r=r.sibling;r=s,r===null?(s=t.child,t.child=null):(s=r.sibling,r.sibling=null),Eo(t,!1,s,r,i);break;case"backwards":for(r=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&sa(e)===null){t.child=s;break}e=s.sibling,s.sibling=r,r=s,s=e}Eo(t,!0,r,null,i);break;case"together":Eo(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ti(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ot(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Or|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(I(153));if(t.child!==null){for(e=t.child,r=ir(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=ir(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function Iy(e,t,r){switch(t.tag){case 3:kp(t),mn();break;case 5:Jh(t);break;case 1:Ue(t.type)&&Xi(t);break;case 4:Sc(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,s=t.memoizedProps.value;te(ta,n._currentValue),n._currentValue=s;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(te(ae,ae.current&1),t.flags|=128,null):r&t.child.childLanes?Np(e,t,r):(te(ae,ae.current&1),e=Ot(e,t,r),e!==null?e.sibling:null);te(ae,ae.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return bp(e,t,r);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),te(ae,ae.current),n)break;return null;case 22:case 23:return t.lanes=0,vp(e,t,r)}return Ot(e,t,r)}var _p,Sl,Ep,jp;_p=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Sl=function(){};Ep=function(e,t,r,n){var s=e.memoizedProps;if(s!==n){e=t.stateNode,_r(vt.current);var i=null;switch(r){case"input":s=Jo(e,s),n=Jo(e,n),i=[];break;case"select":s=ce({},s,{value:void 0}),n=ce({},n,{value:void 0}),i=[];break;case"textarea":s=Xo(e,s),n=Xo(e,n),i=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=Qi)}el(r,n);var o;r=null;for(u in s)if(!n.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var l=s[u];for(o in l)l.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(us.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in n){var c=n[u];if(l=s!=null?s[u]:void 0,n.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(r||(r={}),r[o]=c[o])}else r||(i||(i=[]),i.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(us.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&ne("scroll",e),i||l===c||(i=[])):(i=i||[]).push(u,c))}r&&(i=i||[]).push("style",r);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};jp=function(e,t,r,n){r!==n&&(t.flags|=4)};function Bn(e,t){if(!ie)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function be(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function Ty(e,t,r){var n=t.pendingProps;switch(wc(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return be(t),null;case 1:return Ue(t.type)&&Yi(),be(t),null;case 3:return n=t.stateNode,yn(),se(Me),se(je),Ic(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(fi(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,ot!==null&&(Dl(ot),ot=null))),Sl(e,t),be(t),null;case 5:Cc(t);var s=_r(Ns.current);if(r=t.type,e!==null&&t.stateNode!=null)Ep(e,t,r,n,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(I(166));return be(t),null}if(e=_r(vt.current),fi(t)){n=t.stateNode,r=t.type;var i=t.memoizedProps;switch(n[gt]=t,n[ws]=i,e=(t.mode&1)!==0,r){case"dialog":ne("cancel",n),ne("close",n);break;case"iframe":case"object":case"embed":ne("load",n);break;case"video":case"audio":for(s=0;s<Jn.length;s++)ne(Jn[s],n);break;case"source":ne("error",n);break;case"img":case"image":case"link":ne("error",n),ne("load",n);break;case"details":ne("toggle",n);break;case"input":Nu(n,i),ne("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},ne("invalid",n);break;case"textarea":_u(n,i),ne("invalid",n)}el(r,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?n.textContent!==l&&(i.suppressHydrationWarning!==!0&&di(n.textContent,l,e),s=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&di(n.textContent,l,e),s=["children",""+l]):us.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&ne("scroll",n)}switch(r){case"input":ni(n),bu(n,i,!0);break;case"textarea":ni(n),Eu(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=Qi)}n=s,t.updateQueue=n,n!==null&&(t.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=eh(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=o.createElement(r,{is:n.is}):(e=o.createElement(r),r==="select"&&(o=e,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):e=o.createElementNS(e,r),e[gt]=t,e[ws]=n,_p(e,t,!1,!1),t.stateNode=e;e:{switch(o=tl(r,n),r){case"dialog":ne("cancel",e),ne("close",e),s=n;break;case"iframe":case"object":case"embed":ne("load",e),s=n;break;case"video":case"audio":for(s=0;s<Jn.length;s++)ne(Jn[s],e);s=n;break;case"source":ne("error",e),s=n;break;case"img":case"image":case"link":ne("error",e),ne("load",e),s=n;break;case"details":ne("toggle",e),s=n;break;case"input":Nu(e,n),s=Jo(e,n),ne("invalid",e);break;case"option":s=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},s=ce({},n,{value:void 0}),ne("invalid",e);break;case"textarea":_u(e,n),s=Xo(e,n),ne("invalid",e);break;default:s=n}el(r,s),l=s;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?nh(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&th(e,c)):i==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&ds(e,c):typeof c=="number"&&ds(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(us.hasOwnProperty(i)?c!=null&&i==="onScroll"&&ne("scroll",e):c!=null&&ic(e,i,c,o))}switch(r){case"input":ni(e),bu(e,n,!1);break;case"textarea":ni(e),Eu(e);break;case"option":n.value!=null&&e.setAttribute("value",""+ur(n.value));break;case"select":e.multiple=!!n.multiple,i=n.value,i!=null?nn(e,!!n.multiple,i,!1):n.defaultValue!=null&&nn(e,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=Qi)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return be(t),null;case 6:if(e&&t.stateNode!=null)jp(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(I(166));if(r=_r(Ns.current),_r(vt.current),fi(t)){if(n=t.stateNode,r=t.memoizedProps,n[gt]=t,(i=n.nodeValue!==r)&&(e=Ve,e!==null))switch(e.tag){case 3:di(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&di(n.nodeValue,r,(e.mode&1)!==0)}i&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[gt]=t,t.stateNode=n}return be(t),null;case 13:if(se(ae),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ie&&He!==null&&t.mode&1&&!(t.flags&128))Vh(),mn(),t.flags|=98560,i=!1;else if(i=fi(t),n!==null&&n.dehydrated!==null){if(e===null){if(!i)throw Error(I(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(I(317));i[gt]=t}else mn(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;be(t),i=!1}else ot!==null&&(Dl(ot),ot=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||ae.current&1?me===0&&(me=3):$c())),t.updateQueue!==null&&(t.flags|=4),be(t),null);case 4:return yn(),Sl(e,t),e===null&&xs(t.stateNode.containerInfo),be(t),null;case 10:return _c(t.type._context),be(t),null;case 17:return Ue(t.type)&&Yi(),be(t),null;case 19:if(se(ae),i=t.memoizedState,i===null)return be(t),null;if(n=(t.flags&128)!==0,o=i.rendering,o===null)if(n)Bn(i,!1);else{if(me!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=sa(e),o!==null){for(t.flags|=128,Bn(i,!1),n=o.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)i=r,e=n,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return te(ae,ae.current&1|2),t.child}e=e.sibling}i.tail!==null&&de()>vn&&(t.flags|=128,n=!0,Bn(i,!1),t.lanes=4194304)}else{if(!n)if(e=sa(o),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Bn(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!ie)return be(t),null}else 2*de()-i.renderingStartTime>vn&&r!==1073741824&&(t.flags|=128,n=!0,Bn(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(r=i.last,r!==null?r.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=de(),t.sibling=null,r=ae.current,te(ae,n?r&1|2:r&1),t):(be(t),null);case 22:case 23:return Fc(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?Be&1073741824&&(be(t),t.subtreeFlags&6&&(t.flags|=8192)):be(t),null;case 24:return null;case 25:return null}throw Error(I(156,t.tag))}function Ry(e,t){switch(wc(t),t.tag){case 1:return Ue(t.type)&&Yi(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return yn(),se(Me),se(je),Ic(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Cc(t),null;case 13:if(se(ae),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(I(340));mn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return se(ae),null;case 4:return yn(),null;case 10:return _c(t.type._context),null;case 22:case 23:return Fc(),null;case 24:return null;default:return null}}var mi=!1,_e=!1,Py=typeof WeakSet=="function"?WeakSet:Set,O=null;function en(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){ue(e,t,n)}else r.current=null}function Cl(e,t,r){try{r()}catch(n){ue(e,t,n)}}var pd=!1;function Ay(e,t){if(dl=Ki,e=Rh(),xc(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var o=0,l=-1,c=-1,u=0,d=0,p=e,f=null;t:for(;;){for(var N;p!==r||s!==0&&p.nodeType!==3||(l=o+s),p!==i||n!==0&&p.nodeType!==3||(c=o+n),p.nodeType===3&&(o+=p.nodeValue.length),(N=p.firstChild)!==null;)f=p,p=N;for(;;){if(p===e)break t;if(f===r&&++u===s&&(l=o),f===i&&++d===n&&(c=o),(N=p.nextSibling)!==null)break;p=f,f=p.parentNode}p=N}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(fl={focusedElem:e,selectionRange:r},Ki=!1,O=t;O!==null;)if(t=O,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,O=e;else for(;O!==null;){t=O;try{var x=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(x!==null){var g=x.memoizedProps,w=x.memoizedState,m=t.stateNode,h=m.getSnapshotBeforeUpdate(t.elementType===t.type?g:it(t.type,g),w);m.__reactInternalSnapshotBeforeUpdate=h}break;case 3:var y=t.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(I(163))}}catch(b){ue(t,t.return,b)}if(e=t.sibling,e!==null){e.return=t.return,O=e;break}O=t.return}return x=pd,pd=!1,x}function is(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&Cl(t,r,i)}s=s.next}while(s!==n)}}function Da(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function Il(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function Sp(e){var t=e.alternate;t!==null&&(e.alternate=null,Sp(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[gt],delete t[ws],delete t[ml],delete t[my],delete t[gy])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Cp(e){return e.tag===5||e.tag===3||e.tag===4}function md(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Cp(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Tl(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Qi));else if(n!==4&&(e=e.child,e!==null))for(Tl(e,t,r),e=e.sibling;e!==null;)Tl(e,t,r),e=e.sibling}function Rl(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(Rl(e,t,r),e=e.sibling;e!==null;)Rl(e,t,r),e=e.sibling}var ve=null,at=!1;function zt(e,t,r){for(r=r.child;r!==null;)Ip(e,t,r),r=r.sibling}function Ip(e,t,r){if(xt&&typeof xt.onCommitFiberUnmount=="function")try{xt.onCommitFiberUnmount(Sa,r)}catch{}switch(r.tag){case 5:_e||en(r,t);case 6:var n=ve,s=at;ve=null,zt(e,t,r),ve=n,at=s,ve!==null&&(at?(e=ve,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):ve.removeChild(r.stateNode));break;case 18:ve!==null&&(at?(e=ve,r=r.stateNode,e.nodeType===8?xo(e.parentNode,r):e.nodeType===1&&xo(e,r),ms(e)):xo(ve,r.stateNode));break;case 4:n=ve,s=at,ve=r.stateNode.containerInfo,at=!0,zt(e,t,r),ve=n,at=s;break;case 0:case 11:case 14:case 15:if(!_e&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Cl(r,t,o),s=s.next}while(s!==n)}zt(e,t,r);break;case 1:if(!_e&&(en(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){ue(r,t,l)}zt(e,t,r);break;case 21:zt(e,t,r);break;case 22:r.mode&1?(_e=(n=_e)||r.memoizedState!==null,zt(e,t,r),_e=n):zt(e,t,r);break;default:zt(e,t,r)}}function gd(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new Py),t.forEach(function(n){var s=By.bind(null,e,n);r.has(n)||(r.add(n),n.then(s,s))})}}function st(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var i=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:ve=l.stateNode,at=!1;break e;case 3:ve=l.stateNode.containerInfo,at=!0;break e;case 4:ve=l.stateNode.containerInfo,at=!0;break e}l=l.return}if(ve===null)throw Error(I(160));Ip(i,o,s),ve=null,at=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){ue(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Tp(t,e),t=t.sibling}function Tp(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(st(t,e),pt(e),n&4){try{is(3,e,e.return),Da(3,e)}catch(g){ue(e,e.return,g)}try{is(5,e,e.return)}catch(g){ue(e,e.return,g)}}break;case 1:st(t,e),pt(e),n&512&&r!==null&&en(r,r.return);break;case 5:if(st(t,e),pt(e),n&512&&r!==null&&en(r,r.return),e.flags&32){var s=e.stateNode;try{ds(s,"")}catch(g){ue(e,e.return,g)}}if(n&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,o=r!==null?r.memoizedProps:i,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&Xf(s,i),tl(l,o);var u=tl(l,i);for(o=0;o<c.length;o+=2){var d=c[o],p=c[o+1];d==="style"?nh(s,p):d==="dangerouslySetInnerHTML"?th(s,p):d==="children"?ds(s,p):ic(s,d,p,u)}switch(l){case"input":Qo(s,i);break;case"textarea":Zf(s,i);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var N=i.value;N!=null?nn(s,!!i.multiple,N,!1):f!==!!i.multiple&&(i.defaultValue!=null?nn(s,!!i.multiple,i.defaultValue,!0):nn(s,!!i.multiple,i.multiple?[]:"",!1))}s[ws]=i}catch(g){ue(e,e.return,g)}}break;case 6:if(st(t,e),pt(e),n&4){if(e.stateNode===null)throw Error(I(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(g){ue(e,e.return,g)}}break;case 3:if(st(t,e),pt(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{ms(t.containerInfo)}catch(g){ue(e,e.return,g)}break;case 4:st(t,e),pt(e);break;case 13:st(t,e),pt(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Uc=de())),n&4&&gd(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(_e=(u=_e)||d,st(t,e),_e=u):st(t,e),pt(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(O=e,d=e.child;d!==null;){for(p=O=d;O!==null;){switch(f=O,N=f.child,f.tag){case 0:case 11:case 14:case 15:is(4,f,f.return);break;case 1:en(f,f.return);var x=f.stateNode;if(typeof x.componentWillUnmount=="function"){n=f,r=f.return;try{t=n,x.props=t.memoizedProps,x.state=t.memoizedState,x.componentWillUnmount()}catch(g){ue(n,r,g)}}break;case 5:en(f,f.return);break;case 22:if(f.memoizedState!==null){xd(p);continue}}N!==null?(N.return=f,O=N):xd(p)}d=d.sibling}e:for(d=null,p=e;;){if(p.tag===5){if(d===null){d=p;try{s=p.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=p.stateNode,c=p.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=rh("display",o))}catch(g){ue(e,e.return,g)}}}else if(p.tag===6){if(d===null)try{p.stateNode.nodeValue=u?"":p.memoizedProps}catch(g){ue(e,e.return,g)}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===e)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===e)break e;for(;p.sibling===null;){if(p.return===null||p.return===e)break e;d===p&&(d=null),p=p.return}d===p&&(d=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:st(t,e),pt(e),n&4&&gd(e);break;case 21:break;default:st(t,e),pt(e)}}function pt(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(Cp(r)){var n=r;break e}r=r.return}throw Error(I(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(ds(s,""),n.flags&=-33);var i=md(e);Rl(e,i,s);break;case 3:case 4:var o=n.stateNode.containerInfo,l=md(e);Tl(e,l,o);break;default:throw Error(I(161))}}catch(c){ue(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Oy(e,t,r){O=e,Rp(e)}function Rp(e,t,r){for(var n=(e.mode&1)!==0;O!==null;){var s=O,i=s.child;if(s.tag===22&&n){var o=s.memoizedState!==null||mi;if(!o){var l=s.alternate,c=l!==null&&l.memoizedState!==null||_e;l=mi;var u=_e;if(mi=o,(_e=c)&&!u)for(O=s;O!==null;)o=O,c=o.child,o.tag===22&&o.memoizedState!==null?vd(s):c!==null?(c.return=o,O=c):vd(s);for(;i!==null;)O=i,Rp(i),i=i.sibling;O=s,mi=l,_e=u}yd(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,O=i):yd(e)}}function yd(e){for(;O!==null;){var t=O;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:_e||Da(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!_e)if(r===null)n.componentDidMount();else{var s=t.elementType===t.type?r.memoizedProps:it(t.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&td(t,i,n);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}td(t,o,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var p=d.dehydrated;p!==null&&ms(p)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(I(163))}_e||t.flags&512&&Il(t)}catch(f){ue(t,t.return,f)}}if(t===e){O=null;break}if(r=t.sibling,r!==null){r.return=t.return,O=r;break}O=t.return}}function xd(e){for(;O!==null;){var t=O;if(t===e){O=null;break}var r=t.sibling;if(r!==null){r.return=t.return,O=r;break}O=t.return}}function vd(e){for(;O!==null;){var t=O;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{Da(4,t)}catch(c){ue(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var s=t.return;try{n.componentDidMount()}catch(c){ue(t,s,c)}}var i=t.return;try{Il(t)}catch(c){ue(t,i,c)}break;case 5:var o=t.return;try{Il(t)}catch(c){ue(t,o,c)}}}catch(c){ue(t,t.return,c)}if(t===e){O=null;break}var l=t.sibling;if(l!==null){l.return=t.return,O=l;break}O=t.return}}var Dy=Math.ceil,oa=Lt.ReactCurrentDispatcher,Lc=Lt.ReactCurrentOwner,et=Lt.ReactCurrentBatchConfig,G=0,xe=null,he=null,we=0,Be=0,tn=hr(0),me=0,js=null,Or=0,La=0,Mc=0,as=null,De=null,Uc=0,vn=1/0,bt=null,la=!1,Pl=null,nr=null,gi=!1,Qt=null,ca=0,os=0,Al=null,Ri=-1,Pi=0;function Ie(){return G&6?de():Ri!==-1?Ri:Ri=de()}function sr(e){return e.mode&1?G&2&&we!==0?we&-we:xy.transition!==null?(Pi===0&&(Pi=mh()),Pi):(e=Y,e!==0||(e=window.event,e=e===void 0?16:Nh(e.type)),e):1}function ct(e,t,r,n){if(50<os)throw os=0,Al=null,Error(I(185));Ms(e,r,n),(!(G&2)||e!==xe)&&(e===xe&&(!(G&2)&&(La|=r),me===4&&Vt(e,we)),ze(e,n),r===1&&G===0&&!(t.mode&1)&&(vn=de()+500,Pa&&pr()))}function ze(e,t){var r=e.callbackNode;xg(e,t);var n=qi(e,e===xe?we:0);if(n===0)r!==null&&Cu(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&Cu(r),t===1)e.tag===0?yy(wd.bind(null,e)):$h(wd.bind(null,e)),hy(function(){!(G&6)&&pr()}),r=null;else{switch(gh(n)){case 1:r=uc;break;case 4:r=hh;break;case 16:r=Wi;break;case 536870912:r=ph;break;default:r=Wi}r=zp(r,Pp.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function Pp(e,t){if(Ri=-1,Pi=0,G&6)throw Error(I(327));var r=e.callbackNode;if(cn()&&e.callbackNode!==r)return null;var n=qi(e,e===xe?we:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=ua(e,n);else{t=n;var s=G;G|=2;var i=Op();(xe!==e||we!==t)&&(bt=null,vn=de()+500,jr(e,t));do try{Uy();break}catch(l){Ap(e,l)}while(!0);bc(),oa.current=i,G=s,he!==null?t=0:(xe=null,we=0,t=me)}if(t!==0){if(t===2&&(s=al(e),s!==0&&(n=s,t=Ol(e,s))),t===1)throw r=js,jr(e,0),Vt(e,n),ze(e,de()),r;if(t===6)Vt(e,n);else{if(s=e.current.alternate,!(n&30)&&!Ly(s)&&(t=ua(e,n),t===2&&(i=al(e),i!==0&&(n=i,t=Ol(e,i))),t===1))throw r=js,jr(e,0),Vt(e,n),ze(e,de()),r;switch(e.finishedWork=s,e.finishedLanes=n,t){case 0:case 1:throw Error(I(345));case 2:vr(e,De,bt);break;case 3:if(Vt(e,n),(n&130023424)===n&&(t=Uc+500-de(),10<t)){if(qi(e,0)!==0)break;if(s=e.suspendedLanes,(s&n)!==n){Ie(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=pl(vr.bind(null,e,De,bt),t);break}vr(e,De,bt);break;case 4:if(Vt(e,n),(n&4194240)===n)break;for(t=e.eventTimes,s=-1;0<n;){var o=31-lt(n);i=1<<o,o=t[o],o>s&&(s=o),n&=~i}if(n=s,n=de()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Dy(n/1960))-n,10<n){e.timeoutHandle=pl(vr.bind(null,e,De,bt),n);break}vr(e,De,bt);break;case 5:vr(e,De,bt);break;default:throw Error(I(329))}}}return ze(e,de()),e.callbackNode===r?Pp.bind(null,e):null}function Ol(e,t){var r=as;return e.current.memoizedState.isDehydrated&&(jr(e,t).flags|=256),e=ua(e,t),e!==2&&(t=De,De=r,t!==null&&Dl(t)),e}function Dl(e){De===null?De=e:De.push.apply(De,e)}function Ly(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],i=s.getSnapshot;s=s.value;try{if(!ut(i(),s))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Vt(e,t){for(t&=~Mc,t&=~La,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-lt(t),n=1<<r;e[r]=-1,t&=~n}}function wd(e){if(G&6)throw Error(I(327));cn();var t=qi(e,0);if(!(t&1))return ze(e,de()),null;var r=ua(e,t);if(e.tag!==0&&r===2){var n=al(e);n!==0&&(t=n,r=Ol(e,n))}if(r===1)throw r=js,jr(e,0),Vt(e,t),ze(e,de()),r;if(r===6)throw Error(I(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,vr(e,De,bt),ze(e,de()),null}function zc(e,t){var r=G;G|=1;try{return e(t)}finally{G=r,G===0&&(vn=de()+500,Pa&&pr())}}function Dr(e){Qt!==null&&Qt.tag===0&&!(G&6)&&cn();var t=G;G|=1;var r=et.transition,n=Y;try{if(et.transition=null,Y=1,e)return e()}finally{Y=n,et.transition=r,G=t,!(G&6)&&pr()}}function Fc(){Be=tn.current,se(tn)}function jr(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,fy(r)),he!==null)for(r=he.return;r!==null;){var n=r;switch(wc(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Yi();break;case 3:yn(),se(Me),se(je),Ic();break;case 5:Cc(n);break;case 4:yn();break;case 13:se(ae);break;case 19:se(ae);break;case 10:_c(n.type._context);break;case 22:case 23:Fc()}r=r.return}if(xe=e,he=e=ir(e.current,null),we=Be=t,me=0,js=null,Mc=La=Or=0,De=as=null,br!==null){for(t=0;t<br.length;t++)if(r=br[t],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,i=r.pending;if(i!==null){var o=i.next;i.next=s,n.next=o}r.pending=n}br=null}return e}function Ap(e,t){do{var r=he;try{if(bc(),Ci.current=aa,ia){for(var n=oe.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}ia=!1}if(Ar=0,ye=pe=oe=null,ss=!1,bs=0,Lc.current=null,r===null||r.return===null){me=1,js=t,he=null;break}e:{var i=e,o=r.return,l=r,c=t;if(t=we,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,p=d.tag;if(!(d.mode&1)&&(p===0||p===11||p===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var N=od(o);if(N!==null){N.flags&=-257,ld(N,o,l,i,t),N.mode&1&&ad(i,u,t),t=N,c=u;var x=t.updateQueue;if(x===null){var g=new Set;g.add(c),t.updateQueue=g}else x.add(c);break e}else{if(!(t&1)){ad(i,u,t),$c();break e}c=Error(I(426))}}else if(ie&&l.mode&1){var w=od(o);if(w!==null){!(w.flags&65536)&&(w.flags|=256),ld(w,o,l,i,t),kc(xn(c,l));break e}}i=c=xn(c,l),me!==4&&(me=2),as===null?as=[i]:as.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var m=gp(i,c,t);ed(i,m);break e;case 1:l=c;var h=i.type,y=i.stateNode;if(!(i.flags&128)&&(typeof h.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(nr===null||!nr.has(y)))){i.flags|=65536,t&=-t,i.lanes|=t;var b=yp(i,l,t);ed(i,b);break e}}i=i.return}while(i!==null)}Lp(r)}catch(j){t=j,he===r&&r!==null&&(he=r=r.return);continue}break}while(!0)}function Op(){var e=oa.current;return oa.current=aa,e===null?aa:e}function $c(){(me===0||me===3||me===2)&&(me=4),xe===null||!(Or&268435455)&&!(La&268435455)||Vt(xe,we)}function ua(e,t){var r=G;G|=2;var n=Op();(xe!==e||we!==t)&&(bt=null,jr(e,t));do try{My();break}catch(s){Ap(e,s)}while(!0);if(bc(),G=r,oa.current=n,he!==null)throw Error(I(261));return xe=null,we=0,me}function My(){for(;he!==null;)Dp(he)}function Uy(){for(;he!==null&&!cg();)Dp(he)}function Dp(e){var t=Up(e.alternate,e,Be);e.memoizedProps=e.pendingProps,t===null?Lp(e):he=t,Lc.current=null}function Lp(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=Ry(r,t),r!==null){r.flags&=32767,he=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{me=6,he=null;return}}else if(r=Ty(r,t,Be),r!==null){he=r;return}if(t=t.sibling,t!==null){he=t;return}he=t=e}while(t!==null);me===0&&(me=5)}function vr(e,t,r){var n=Y,s=et.transition;try{et.transition=null,Y=1,zy(e,t,r,n)}finally{et.transition=s,Y=n}return null}function zy(e,t,r,n){do cn();while(Qt!==null);if(G&6)throw Error(I(327));r=e.finishedWork;var s=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(I(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(vg(e,i),e===xe&&(he=xe=null,we=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||gi||(gi=!0,zp(Wi,function(){return cn(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=et.transition,et.transition=null;var o=Y;Y=1;var l=G;G|=4,Lc.current=null,Ay(e,r),Tp(r,e),iy(fl),Ki=!!dl,fl=dl=null,e.current=r,Oy(r),ug(),G=l,Y=o,et.transition=i}else e.current=r;if(gi&&(gi=!1,Qt=e,ca=s),i=e.pendingLanes,i===0&&(nr=null),hg(r.stateNode),ze(e,de()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)s=t[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(la)throw la=!1,e=Pl,Pl=null,e;return ca&1&&e.tag!==0&&cn(),i=e.pendingLanes,i&1?e===Al?os++:(os=0,Al=e):os=0,pr(),null}function cn(){if(Qt!==null){var e=gh(ca),t=et.transition,r=Y;try{if(et.transition=null,Y=16>e?16:e,Qt===null)var n=!1;else{if(e=Qt,Qt=null,ca=0,G&6)throw Error(I(331));var s=G;for(G|=4,O=e.current;O!==null;){var i=O,o=i.child;if(O.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(O=u;O!==null;){var d=O;switch(d.tag){case 0:case 11:case 15:is(8,d,i)}var p=d.child;if(p!==null)p.return=d,O=p;else for(;O!==null;){d=O;var f=d.sibling,N=d.return;if(Sp(d),d===u){O=null;break}if(f!==null){f.return=N,O=f;break}O=N}}}var x=i.alternate;if(x!==null){var g=x.child;if(g!==null){x.child=null;do{var w=g.sibling;g.sibling=null,g=w}while(g!==null)}}O=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,O=o;else e:for(;O!==null;){if(i=O,i.flags&2048)switch(i.tag){case 0:case 11:case 15:is(9,i,i.return)}var m=i.sibling;if(m!==null){m.return=i.return,O=m;break e}O=i.return}}var h=e.current;for(O=h;O!==null;){o=O;var y=o.child;if(o.subtreeFlags&2064&&y!==null)y.return=o,O=y;else e:for(o=h;O!==null;){if(l=O,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Da(9,l)}}catch(j){ue(l,l.return,j)}if(l===o){O=null;break e}var b=l.sibling;if(b!==null){b.return=l.return,O=b;break e}O=l.return}}if(G=s,pr(),xt&&typeof xt.onPostCommitFiberRoot=="function")try{xt.onPostCommitFiberRoot(Sa,e)}catch{}n=!0}return n}finally{Y=r,et.transition=t}}return!1}function kd(e,t,r){t=xn(r,t),t=gp(e,t,1),e=rr(e,t,1),t=Ie(),e!==null&&(Ms(e,1,t),ze(e,t))}function ue(e,t,r){if(e.tag===3)kd(e,e,r);else for(;t!==null;){if(t.tag===3){kd(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(nr===null||!nr.has(n))){e=xn(r,e),e=yp(t,e,1),t=rr(t,e,1),e=Ie(),t!==null&&(Ms(t,1,e),ze(t,e));break}}t=t.return}}function Fy(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=Ie(),e.pingedLanes|=e.suspendedLanes&r,xe===e&&(we&r)===r&&(me===4||me===3&&(we&130023424)===we&&500>de()-Uc?jr(e,0):Mc|=r),ze(e,t)}function Mp(e,t){t===0&&(e.mode&1?(t=ai,ai<<=1,!(ai&130023424)&&(ai=4194304)):t=1);var r=Ie();e=At(e,t),e!==null&&(Ms(e,t,r),ze(e,r))}function $y(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),Mp(e,r)}function By(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,s=e.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(I(314))}n!==null&&n.delete(t),Mp(e,r)}var Up;Up=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Me.current)Le=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Le=!1,Iy(e,t,r);Le=!!(e.flags&131072)}else Le=!1,ie&&t.flags&1048576&&Bh(t,ea,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Ti(e,t),e=t.pendingProps;var s=pn(t,je.current);ln(t,r),s=Rc(null,t,n,e,s,r);var i=Pc();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ue(n)?(i=!0,Xi(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,jc(t),s.updater=Oa,t.stateNode=s,s._reactInternals=t,kl(t,n,e,r),t=_l(null,t,n,!0,i,r)):(t.tag=0,ie&&i&&vc(t),Ce(null,t,s,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Ti(e,t),e=t.pendingProps,s=n._init,n=s(n._payload),t.type=n,s=t.tag=Vy(n),e=it(n,e),s){case 0:t=bl(null,t,n,e,r);break e;case 1:t=dd(null,t,n,e,r);break e;case 11:t=cd(null,t,n,e,r);break e;case 14:t=ud(null,t,n,it(n.type,e),r);break e}throw Error(I(306,n,""))}return t;case 0:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:it(n,s),bl(e,t,n,s,r);case 1:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:it(n,s),dd(e,t,n,s,r);case 3:e:{if(kp(t),e===null)throw Error(I(387));n=t.pendingProps,i=t.memoizedState,s=i.element,Gh(e,t),na(t,n,null,r);var o=t.memoizedState;if(n=o.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=xn(Error(I(423)),t),t=fd(e,t,n,r,s);break e}else if(n!==s){s=xn(Error(I(424)),t),t=fd(e,t,n,r,s);break e}else for(He=tr(t.stateNode.containerInfo.firstChild),Ve=t,ie=!0,ot=null,r=qh(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(mn(),n===s){t=Ot(e,t,r);break e}Ce(e,t,n,r)}t=t.child}return t;case 5:return Jh(t),e===null&&xl(t),n=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,o=s.children,hl(n,s)?o=null:i!==null&&hl(n,i)&&(t.flags|=32),wp(e,t),Ce(e,t,o,r),t.child;case 6:return e===null&&xl(t),null;case 13:return Np(e,t,r);case 4:return Sc(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=gn(t,null,n,r):Ce(e,t,n,r),t.child;case 11:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:it(n,s),cd(e,t,n,s,r);case 7:return Ce(e,t,t.pendingProps,r),t.child;case 8:return Ce(e,t,t.pendingProps.children,r),t.child;case 12:return Ce(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,s=t.pendingProps,i=t.memoizedProps,o=s.value,te(ta,n._currentValue),n._currentValue=o,i!==null)if(ut(i.value,o)){if(i.children===s.children&&!Me.current){t=Ot(e,t,r);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(i.tag===1){c=It(-1,r&-r),c.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}i.lanes|=r,c=i.alternate,c!==null&&(c.lanes|=r),vl(i.return,r,t),l.lanes|=r;break}c=c.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(I(341));o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),vl(o,r,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Ce(e,t,s.children,r),t=t.child}return t;case 9:return s=t.type,n=t.pendingProps.children,ln(t,r),s=tt(s),n=n(s),t.flags|=1,Ce(e,t,n,r),t.child;case 14:return n=t.type,s=it(n,t.pendingProps),s=it(n.type,s),ud(e,t,n,s,r);case 15:return xp(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:it(n,s),Ti(e,t),t.tag=1,Ue(n)?(e=!0,Xi(t)):e=!1,ln(t,r),mp(t,n,s),kl(t,n,s,r),_l(null,t,n,!0,e,r);case 19:return bp(e,t,r);case 22:return vp(e,t,r)}throw Error(I(156,t.tag))};function zp(e,t){return fh(e,t)}function Hy(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ze(e,t,r,n){return new Hy(e,t,r,n)}function Bc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Vy(e){if(typeof e=="function")return Bc(e)?1:0;if(e!=null){if(e=e.$$typeof,e===oc)return 11;if(e===lc)return 14}return 2}function ir(e,t){var r=e.alternate;return r===null?(r=Ze(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Ai(e,t,r,n,s,i){var o=2;if(n=e,typeof e=="function")Bc(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Wr:return Sr(r.children,s,i,t);case ac:o=8,s|=8;break;case Wo:return e=Ze(12,r,t,s|2),e.elementType=Wo,e.lanes=i,e;case qo:return e=Ze(13,r,t,s),e.elementType=qo,e.lanes=i,e;case Ko:return e=Ze(19,r,t,s),e.elementType=Ko,e.lanes=i,e;case Jf:return Ma(r,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Kf:o=10;break e;case Gf:o=9;break e;case oc:o=11;break e;case lc:o=14;break e;case $t:o=16,n=null;break e}throw Error(I(130,e==null?e:typeof e,""))}return t=Ze(o,r,t,s),t.elementType=e,t.type=n,t.lanes=i,t}function Sr(e,t,r,n){return e=Ze(7,e,n,t),e.lanes=r,e}function Ma(e,t,r,n){return e=Ze(22,e,n,t),e.elementType=Jf,e.lanes=r,e.stateNode={isHidden:!1},e}function jo(e,t,r){return e=Ze(6,e,null,t),e.lanes=r,e}function So(e,t,r){return t=Ze(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Wy(e,t,r,n,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ao(0),this.expirationTimes=ao(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ao(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Hc(e,t,r,n,s,i,o,l,c){return e=new Wy(e,t,r,l,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=Ze(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},jc(i),e}function qy(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Vr,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function Fp(e){if(!e)return dr;e=e._reactInternals;e:{if(Fr(e)!==e||e.tag!==1)throw Error(I(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ue(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(I(171))}if(e.tag===1){var r=e.type;if(Ue(r))return Fh(e,r,t)}return t}function $p(e,t,r,n,s,i,o,l,c){return e=Hc(r,n,!0,e,s,i,o,l,c),e.context=Fp(null),r=e.current,n=Ie(),s=sr(r),i=It(n,s),i.callback=t??null,rr(r,i,s),e.current.lanes=s,Ms(e,s,n),ze(e,n),e}function Ua(e,t,r,n){var s=t.current,i=Ie(),o=sr(s);return r=Fp(r),t.context===null?t.context=r:t.pendingContext=r,t=It(i,o),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=rr(s,t,o),e!==null&&(ct(e,s,o,i),Si(e,s,o)),o}function da(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Nd(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function Vc(e,t){Nd(e,t),(e=e.alternate)&&Nd(e,t)}function Ky(){return null}var Bp=typeof reportError=="function"?reportError:function(e){console.error(e)};function Wc(e){this._internalRoot=e}za.prototype.render=Wc.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(I(409));Ua(e,t,null,null)};za.prototype.unmount=Wc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Dr(function(){Ua(null,e,null,null)}),t[Pt]=null}};function za(e){this._internalRoot=e}za.prototype.unstable_scheduleHydration=function(e){if(e){var t=vh();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Ht.length&&t!==0&&t<Ht[r].priority;r++);Ht.splice(r,0,e),r===0&&kh(e)}};function qc(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Fa(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function bd(){}function Gy(e,t,r,n,s){if(s){if(typeof n=="function"){var i=n;n=function(){var u=da(o);i.call(u)}}var o=$p(t,n,e,0,null,!1,!1,"",bd);return e._reactRootContainer=o,e[Pt]=o.current,xs(e.nodeType===8?e.parentNode:e),Dr(),o}for(;s=e.lastChild;)e.removeChild(s);if(typeof n=="function"){var l=n;n=function(){var u=da(c);l.call(u)}}var c=Hc(e,0,!1,null,null,!1,!1,"",bd);return e._reactRootContainer=c,e[Pt]=c.current,xs(e.nodeType===8?e.parentNode:e),Dr(function(){Ua(t,c,r,n)}),c}function $a(e,t,r,n,s){var i=r._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var l=s;s=function(){var c=da(o);l.call(c)}}Ua(t,o,e,s)}else o=Gy(r,t,e,s,n);return da(o)}yh=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Gn(t.pendingLanes);r!==0&&(dc(t,r|1),ze(t,de()),!(G&6)&&(vn=de()+500,pr()))}break;case 13:Dr(function(){var n=At(e,1);if(n!==null){var s=Ie();ct(n,e,1,s)}}),Vc(e,1)}};fc=function(e){if(e.tag===13){var t=At(e,134217728);if(t!==null){var r=Ie();ct(t,e,134217728,r)}Vc(e,134217728)}};xh=function(e){if(e.tag===13){var t=sr(e),r=At(e,t);if(r!==null){var n=Ie();ct(r,e,t,n)}Vc(e,t)}};vh=function(){return Y};wh=function(e,t){var r=Y;try{return Y=e,t()}finally{Y=r}};nl=function(e,t,r){switch(t){case"input":if(Qo(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var s=Ra(n);if(!s)throw Error(I(90));Yf(n),Qo(n,s)}}}break;case"textarea":Zf(e,r);break;case"select":t=r.value,t!=null&&nn(e,!!r.multiple,t,!1)}};ah=zc;oh=Dr;var Jy={usingClientEntryPoint:!1,Events:[zs,Jr,Ra,sh,ih,zc]},Hn={findFiberByHostInstance:Nr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Qy={bundleType:Hn.bundleType,version:Hn.version,rendererPackageName:Hn.rendererPackageName,rendererConfig:Hn.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Lt.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=uh(e),e===null?null:e.stateNode},findFiberByHostInstance:Hn.findFiberByHostInstance||Ky,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var yi=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!yi.isDisabled&&yi.supportsFiber)try{Sa=yi.inject(Qy),xt=yi}catch{}}qe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Jy;qe.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!qc(t))throw Error(I(200));return qy(e,t,null,r)};qe.createRoot=function(e,t){if(!qc(e))throw Error(I(299));var r=!1,n="",s=Bp;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=Hc(e,1,!1,null,null,r,!1,n,s),e[Pt]=t.current,xs(e.nodeType===8?e.parentNode:e),new Wc(t)};qe.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(I(188)):(e=Object.keys(e).join(","),Error(I(268,e)));return e=uh(t),e=e===null?null:e.stateNode,e};qe.flushSync=function(e){return Dr(e)};qe.hydrate=function(e,t,r){if(!Fa(t))throw Error(I(200));return $a(null,e,t,!0,r)};qe.hydrateRoot=function(e,t,r){if(!qc(e))throw Error(I(405));var n=r!=null&&r.hydratedSources||null,s=!1,i="",o=Bp;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=$p(t,null,e,1,r??null,s,!1,i,o),e[Pt]=t.current,xs(e),n)for(e=0;e<n.length;e++)r=n[e],s=r._getVersion,s=s(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,s]:t.mutableSourceEagerHydrationData.push(r,s);return new za(t)};qe.render=function(e,t,r){if(!Fa(t))throw Error(I(200));return $a(null,e,t,!1,r)};qe.unmountComponentAtNode=function(e){if(!Fa(e))throw Error(I(40));return e._reactRootContainer?(Dr(function(){$a(null,null,e,!1,function(){e._reactRootContainer=null,e[Pt]=null})}),!0):!1};qe.unstable_batchedUpdates=zc;qe.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!Fa(r))throw Error(I(200));if(e==null||e._reactInternals===void 0)throw Error(I(38));return $a(e,t,r,!1,n)};qe.version="18.3.1-next-f1338f8080-20240426";function Hp(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Hp)}catch(e){console.error(e)}}Hp(),Hf.exports=qe;var Yy=Hf.exports,Vp,_d=Yy;Vp=_d.createRoot,_d.hydrateRoot;/**
 * @remix-run/router v1.23.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ss(){return Ss=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ss.apply(this,arguments)}var Yt;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Yt||(Yt={}));const Ed="popstate";function Xy(e){e===void 0&&(e={});function t(n,s){let{pathname:i,search:o,hash:l}=n.location;return Ll("",{pathname:i,search:o,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(n,s){return typeof s=="string"?s:fa(s)}return ex(t,r,null,e)}function le(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Kc(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Zy(){return Math.random().toString(36).substr(2,8)}function jd(e,t){return{usr:e.state,key:e.key,idx:t}}function Ll(e,t,r,n){return r===void 0&&(r=null),Ss({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Tn(t):t,{state:r,key:t&&t.key||n||Zy()})}function fa(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Tn(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function ex(e,t,r,n){n===void 0&&(n={});let{window:s=document.defaultView,v5Compat:i=!1}=n,o=s.history,l=Yt.Pop,c=null,u=d();u==null&&(u=0,o.replaceState(Ss({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function p(){l=Yt.Pop;let w=d(),m=w==null?null:w-u;u=w,c&&c({action:l,location:g.location,delta:m})}function f(w,m){l=Yt.Push;let h=Ll(g.location,w,m);u=d()+1;let y=jd(h,u),b=g.createHref(h);try{o.pushState(y,"",b)}catch(j){if(j instanceof DOMException&&j.name==="DataCloneError")throw j;s.location.assign(b)}i&&c&&c({action:l,location:g.location,delta:1})}function N(w,m){l=Yt.Replace;let h=Ll(g.location,w,m);u=d();let y=jd(h,u),b=g.createHref(h);o.replaceState(y,"",b),i&&c&&c({action:l,location:g.location,delta:0})}function x(w){let m=s.location.origin!=="null"?s.location.origin:s.location.href,h=typeof w=="string"?w:fa(w);return h=h.replace(/ $/,"%20"),le(m,"No window.location.(origin|href) available to create URL for href: "+h),new URL(h,m)}let g={get action(){return l},get location(){return e(s,o)},listen(w){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(Ed,p),c=w,()=>{s.removeEventListener(Ed,p),c=null}},createHref(w){return t(s,w)},createURL:x,encodeLocation(w){let m=x(w);return{pathname:m.pathname,search:m.search,hash:m.hash}},push:f,replace:N,go(w){return o.go(w)}};return g}var Sd;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Sd||(Sd={}));function tx(e,t,r){return r===void 0&&(r="/"),rx(e,t,r)}function rx(e,t,r,n){let s=typeof t=="string"?Tn(t):t,i=wn(s.pathname||"/",r);if(i==null)return null;let o=Wp(e);nx(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let u=px(i);l=fx(o[c],u)}return l}function Wp(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let s=(i,o,l)=>{let c={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};c.relativePath.startsWith("/")&&(le(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let u=ar([n,c.relativePath]),d=r.concat(c);i.children&&i.children.length>0&&(le(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),Wp(i.children,t,d,u)),!(i.path==null&&!i.index)&&t.push({path:u,score:ux(u,i.index),routesMeta:d})};return e.forEach((i,o)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))s(i,o);else for(let c of qp(i.path))s(i,o,c)}),t}function qp(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,s=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return s?[i,""]:[i];let o=qp(n.join("/")),l=[];return l.push(...o.map(c=>c===""?i:[i,c].join("/"))),s&&l.push(...o),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function nx(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:dx(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const sx=/^:[\w-]+$/,ix=3,ax=2,ox=1,lx=10,cx=-2,Cd=e=>e==="*";function ux(e,t){let r=e.split("/"),n=r.length;return r.some(Cd)&&(n+=cx),t&&(n+=ax),r.filter(s=>!Cd(s)).reduce((s,i)=>s+(sx.test(i)?ix:i===""?ox:lx),n)}function dx(e,t){return e.length===t.length&&e.slice(0,-1).every((n,s)=>n===t[s])?e[e.length-1]-t[t.length-1]:0}function fx(e,t,r){let{routesMeta:n}=e,s={},i="/",o=[];for(let l=0;l<n.length;++l){let c=n[l],u=l===n.length-1,d=i==="/"?t:t.slice(i.length)||"/",p=Ml({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),f=c.route;if(!p)return null;Object.assign(s,p.params),o.push({params:s,pathname:ar([i,p.pathname]),pathnameBase:vx(ar([i,p.pathnameBase])),route:f}),p.pathnameBase!=="/"&&(i=ar([i,p.pathnameBase]))}return o}function Ml(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=hx(e.path,e.caseSensitive,e.end),s=t.match(r);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:n.reduce((u,d,p)=>{let{paramName:f,isOptional:N}=d;if(f==="*"){let g=l[p]||"";o=i.slice(0,i.length-g.length).replace(/(.)\/+$/,"$1")}const x=l[p];return N&&!x?u[f]=void 0:u[f]=(x||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:o,pattern:e}}function hx(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),Kc(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),n]}function px(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Kc(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function wn(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}const mx=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,gx=e=>mx.test(e);function yx(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:s=""}=typeof e=="string"?Tn(e):e,i;if(r)if(gx(r))i=r;else{if(r.includes("//")){let o=r;r=r.replace(/\/\/+/g,"/"),Kc(!1,"Pathnames cannot have embedded double slashes - normalizing "+(o+" -> "+r))}r.startsWith("/")?i=Id(r.substring(1),"/"):i=Id(r,t)}else i=t;return{pathname:i,search:wx(n),hash:kx(s)}}function Id(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function Co(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function xx(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function Gc(e,t){let r=xx(e);return t?r.map((n,s)=>s===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function Jc(e,t,r,n){n===void 0&&(n=!1);let s;typeof e=="string"?s=Tn(e):(s=Ss({},e),le(!s.pathname||!s.pathname.includes("?"),Co("?","pathname","search",s)),le(!s.pathname||!s.pathname.includes("#"),Co("#","pathname","hash",s)),le(!s.search||!s.search.includes("#"),Co("#","search","hash",s)));let i=e===""||s.pathname==="",o=i?"/":s.pathname,l;if(o==null)l=r;else{let p=t.length-1;if(!n&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),p-=1;s.pathname=f.join("/")}l=p>=0?t[p]:"/"}let c=yx(s,l),u=o&&o!=="/"&&o.endsWith("/"),d=(i||o===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const ar=e=>e.join("/").replace(/\/\/+/g,"/"),vx=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),wx=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,kx=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function Nx(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const Kp=["post","put","patch","delete"];new Set(Kp);const bx=["get",...Kp];new Set(bx);/**
 * React Router v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Cs(){return Cs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Cs.apply(this,arguments)}const Ba=k.createContext(null),Gp=k.createContext(null),Mt=k.createContext(null),Ha=k.createContext(null),Nt=k.createContext({outlet:null,matches:[],isDataRoute:!1}),Jp=k.createContext(null);function _x(e,t){let{relative:r}=t===void 0?{}:t;Rn()||le(!1);let{basename:n,navigator:s}=k.useContext(Mt),{hash:i,pathname:o,search:l}=Va(e,{relative:r}),c=o;return n!=="/"&&(c=o==="/"?n:ar([n,o])),s.createHref({pathname:c,search:l,hash:i})}function Rn(){return k.useContext(Ha)!=null}function $r(){return Rn()||le(!1),k.useContext(Ha).location}function Qp(e){k.useContext(Mt).static||k.useLayoutEffect(e)}function $s(){let{isDataRoute:e}=k.useContext(Nt);return e?Fx():Ex()}function Ex(){Rn()||le(!1);let e=k.useContext(Ba),{basename:t,future:r,navigator:n}=k.useContext(Mt),{matches:s}=k.useContext(Nt),{pathname:i}=$r(),o=JSON.stringify(Gc(s,r.v7_relativeSplatPath)),l=k.useRef(!1);return Qp(()=>{l.current=!0}),k.useCallback(function(u,d){if(d===void 0&&(d={}),!l.current)return;if(typeof u=="number"){n.go(u);return}let p=Jc(u,JSON.parse(o),i,d.relative==="path");e==null&&t!=="/"&&(p.pathname=p.pathname==="/"?t:ar([t,p.pathname])),(d.replace?n.replace:n.push)(p,d.state,d)},[t,n,o,i,e])}const jx=k.createContext(null);function Sx(e){let t=k.useContext(Nt).outlet;return t&&k.createElement(jx.Provider,{value:e},t)}function Cx(){let{matches:e}=k.useContext(Nt),t=e[e.length-1];return t?t.params:{}}function Va(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=k.useContext(Mt),{matches:s}=k.useContext(Nt),{pathname:i}=$r(),o=JSON.stringify(Gc(s,n.v7_relativeSplatPath));return k.useMemo(()=>Jc(e,JSON.parse(o),i,r==="path"),[e,o,i,r])}function Ix(e,t){return Tx(e,t)}function Tx(e,t,r,n){Rn()||le(!1);let{navigator:s}=k.useContext(Mt),{matches:i}=k.useContext(Nt),o=i[i.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let u=$r(),d;if(t){var p;let w=typeof t=="string"?Tn(t):t;c==="/"||(p=w.pathname)!=null&&p.startsWith(c)||le(!1),d=w}else d=u;let f=d.pathname||"/",N=f;if(c!=="/"){let w=c.replace(/^\//,"").split("/");N="/"+f.replace(/^\//,"").split("/").slice(w.length).join("/")}let x=tx(e,{pathname:N}),g=Dx(x&&x.map(w=>Object.assign({},w,{params:Object.assign({},l,w.params),pathname:ar([c,s.encodeLocation?s.encodeLocation(w.pathname).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?c:ar([c,s.encodeLocation?s.encodeLocation(w.pathnameBase).pathname:w.pathnameBase])})),i,r,n);return t&&g?k.createElement(Ha.Provider,{value:{location:Cs({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Yt.Pop}},g):g}function Rx(){let e=zx(),t=Nx(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return k.createElement(k.Fragment,null,k.createElement("h2",null,"Unexpected Application Error!"),k.createElement("h3",{style:{fontStyle:"italic"}},t),r?k.createElement("pre",{style:s},r):null,null)}const Px=k.createElement(Rx,null);class Ax extends k.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?k.createElement(Nt.Provider,{value:this.props.routeContext},k.createElement(Jp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Ox(e){let{routeContext:t,match:r,children:n}=e,s=k.useContext(Ba);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),k.createElement(Nt.Provider,{value:t},n)}function Dx(e,t,r,n){var s;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var i;if(!r)return null;if(r.errors)e=r.matches;else if((i=n)!=null&&i.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let o=e,l=(s=r)==null?void 0:s.errors;if(l!=null){let d=o.findIndex(p=>p.route.id&&(l==null?void 0:l[p.route.id])!==void 0);d>=0||le(!1),o=o.slice(0,Math.min(o.length,d+1))}let c=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let d=0;d<o.length;d++){let p=o[d];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(u=d),p.route.id){let{loaderData:f,errors:N}=r,x=p.route.loader&&f[p.route.id]===void 0&&(!N||N[p.route.id]===void 0);if(p.route.lazy||x){c=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((d,p,f)=>{let N,x=!1,g=null,w=null;r&&(N=l&&p.route.id?l[p.route.id]:void 0,g=p.route.errorElement||Px,c&&(u<0&&f===0?($x("route-fallback"),x=!0,w=null):u===f&&(x=!0,w=p.route.hydrateFallbackElement||null)));let m=t.concat(o.slice(0,f+1)),h=()=>{let y;return N?y=g:x?y=w:p.route.Component?y=k.createElement(p.route.Component,null):p.route.element?y=p.route.element:y=d,k.createElement(Ox,{match:p,routeContext:{outlet:d,matches:m,isDataRoute:r!=null},children:y})};return r&&(p.route.ErrorBoundary||p.route.errorElement||f===0)?k.createElement(Ax,{location:r.location,revalidation:r.revalidation,component:g,error:N,children:h(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):h()},null)}var Yp=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Yp||{}),Xp=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Xp||{});function Lx(e){let t=k.useContext(Ba);return t||le(!1),t}function Mx(e){let t=k.useContext(Gp);return t||le(!1),t}function Ux(e){let t=k.useContext(Nt);return t||le(!1),t}function Zp(e){let t=Ux(),r=t.matches[t.matches.length-1];return r.route.id||le(!1),r.route.id}function zx(){var e;let t=k.useContext(Jp),r=Mx(),n=Zp();return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function Fx(){let{router:e}=Lx(Yp.UseNavigateStable),t=Zp(Xp.UseNavigateStable),r=k.useRef(!1);return Qp(()=>{r.current=!0}),k.useCallback(function(s,i){i===void 0&&(i={}),r.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,Cs({fromRouteId:t},i)))},[e,t])}const Td={};function $x(e,t,r){Td[e]||(Td[e]=!0)}function Bx(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function ls(e){let{to:t,replace:r,state:n,relative:s}=e;Rn()||le(!1);let{future:i,static:o}=k.useContext(Mt),{matches:l}=k.useContext(Nt),{pathname:c}=$r(),u=$s(),d=Jc(t,Gc(l,i.v7_relativeSplatPath),c,s==="path"),p=JSON.stringify(d);return k.useEffect(()=>u(JSON.parse(p),{replace:r,state:n,relative:s}),[u,p,s,r,n]),null}function Hx(e){return Sx(e.context)}function ge(e){le(!1)}function Vx(e){let{basename:t="/",children:r=null,location:n,navigationType:s=Yt.Pop,navigator:i,static:o=!1,future:l}=e;Rn()&&le(!1);let c=t.replace(/^\/*/,"/"),u=k.useMemo(()=>({basename:c,navigator:i,static:o,future:Cs({v7_relativeSplatPath:!1},l)}),[c,l,i,o]);typeof n=="string"&&(n=Tn(n));let{pathname:d="/",search:p="",hash:f="",state:N=null,key:x="default"}=n,g=k.useMemo(()=>{let w=wn(d,c);return w==null?null:{location:{pathname:w,search:p,hash:f,state:N,key:x},navigationType:s}},[c,d,p,f,N,x,s]);return g==null?null:k.createElement(Mt.Provider,{value:u},k.createElement(Ha.Provider,{children:r,value:g}))}function Wx(e){let{children:t,location:r}=e;return Ix(Ul(t),r)}new Promise(()=>{});function Ul(e,t){t===void 0&&(t=[]);let r=[];return k.Children.forEach(e,(n,s)=>{if(!k.isValidElement(n))return;let i=[...t,s];if(n.type===k.Fragment){r.push.apply(r,Ul(n.props.children,i));return}n.type!==ge&&le(!1),!n.props.index||!n.props.children||le(!1);let o={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=Ul(n.props.children,i)),r.push(o)}),r}/**
 * React Router DOM v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ha(){return ha=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ha.apply(this,arguments)}function em(e,t){if(e==null)return{};var r={},n=Object.keys(e),s,i;for(i=0;i<n.length;i++)s=n[i],!(t.indexOf(s)>=0)&&(r[s]=e[s]);return r}function qx(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function Kx(e,t){return e.button===0&&(!t||t==="_self")&&!qx(e)}const Gx=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Jx=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],Qx="6";try{window.__reactRouterVersion=Qx}catch{}const Yx=k.createContext({isTransitioning:!1}),Xx="startTransition",Rd=F0[Xx];function Zx(e){let{basename:t,children:r,future:n,window:s}=e,i=k.useRef();i.current==null&&(i.current=Xy({window:s,v5Compat:!0}));let o=i.current,[l,c]=k.useState({action:o.action,location:o.location}),{v7_startTransition:u}=n||{},d=k.useCallback(p=>{u&&Rd?Rd(()=>c(p)):c(p)},[c,u]);return k.useLayoutEffect(()=>o.listen(d),[o,d]),k.useEffect(()=>Bx(n),[n]),k.createElement(Vx,{basename:t,children:r,location:l.location,navigationType:l.action,navigator:o,future:n})}const ev=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",tv=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Is=k.forwardRef(function(t,r){let{onClick:n,relative:s,reloadDocument:i,replace:o,state:l,target:c,to:u,preventScrollReset:d,viewTransition:p}=t,f=em(t,Gx),{basename:N}=k.useContext(Mt),x,g=!1;if(typeof u=="string"&&tv.test(u)&&(x=u,ev))try{let y=new URL(window.location.href),b=u.startsWith("//")?new URL(y.protocol+u):new URL(u),j=wn(b.pathname,N);b.origin===y.origin&&j!=null?u=j+b.search+b.hash:g=!0}catch{}let w=_x(u,{relative:s}),m=nv(u,{replace:o,state:l,target:c,preventScrollReset:d,relative:s,viewTransition:p});function h(y){n&&n(y),y.defaultPrevented||m(y)}return k.createElement("a",ha({},f,{href:x||w,onClick:g||i?n:h,ref:r,target:c}))}),xi=k.forwardRef(function(t,r){let{"aria-current":n="page",caseSensitive:s=!1,className:i="",end:o=!1,style:l,to:c,viewTransition:u,children:d}=t,p=em(t,Jx),f=Va(c,{relative:p.relative}),N=$r(),x=k.useContext(Gp),{navigator:g,basename:w}=k.useContext(Mt),m=x!=null&&sv(f)&&u===!0,h=g.encodeLocation?g.encodeLocation(f).pathname:f.pathname,y=N.pathname,b=x&&x.navigation&&x.navigation.location?x.navigation.location.pathname:null;s||(y=y.toLowerCase(),b=b?b.toLowerCase():null,h=h.toLowerCase()),b&&w&&(b=wn(b,w)||b);const j=h!=="/"&&h.endsWith("/")?h.length-1:h.length;let _=y===h||!o&&y.startsWith(h)&&y.charAt(j)==="/",v=b!=null&&(b===h||!o&&b.startsWith(h)&&b.charAt(h.length)==="/"),S={isActive:_,isPending:v,isTransitioning:m},T=_?n:void 0,D;typeof i=="function"?D=i(S):D=[i,_?"active":null,v?"pending":null,m?"transitioning":null].filter(Boolean).join(" ");let J=typeof l=="function"?l(S):l;return k.createElement(Is,ha({},p,{"aria-current":T,className:D,ref:r,style:J,to:c,viewTransition:u}),typeof d=="function"?d(S):d)});var zl;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(zl||(zl={}));var Pd;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Pd||(Pd={}));function rv(e){let t=k.useContext(Ba);return t||le(!1),t}function nv(e,t){let{target:r,replace:n,state:s,preventScrollReset:i,relative:o,viewTransition:l}=t===void 0?{}:t,c=$s(),u=$r(),d=Va(e,{relative:o});return k.useCallback(p=>{if(Kx(p,r)){p.preventDefault();let f=n!==void 0?n:fa(u)===fa(d);c(e,{replace:f,state:s,preventScrollReset:i,relative:o,viewTransition:l})}},[u,c,d,n,s,r,e,i,o,l])}function sv(e,t){t===void 0&&(t={});let r=k.useContext(Yx);r==null&&le(!1);let{basename:n}=rv(zl.useViewTransitionState),s=Va(e,{relative:t.relative});if(!r.isTransitioning)return!1;let i=wn(r.currentLocation.pathname,n)||r.currentLocation.pathname,o=wn(r.nextLocation.pathname,n)||r.nextLocation.pathname;return Ml(s.pathname,o)!=null||Ml(s.pathname,i)!=null}var Ad={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tm=function(e){const t=[];let r=0;for(let n=0;n<e.length;n++){let s=e.charCodeAt(n);s<128?t[r++]=s:s<2048?(t[r++]=s>>6|192,t[r++]=s&63|128):(s&64512)===55296&&n+1<e.length&&(e.charCodeAt(n+1)&64512)===56320?(s=65536+((s&1023)<<10)+(e.charCodeAt(++n)&1023),t[r++]=s>>18|240,t[r++]=s>>12&63|128,t[r++]=s>>6&63|128,t[r++]=s&63|128):(t[r++]=s>>12|224,t[r++]=s>>6&63|128,t[r++]=s&63|128)}return t},iv=function(e){const t=[];let r=0,n=0;for(;r<e.length;){const s=e[r++];if(s<128)t[n++]=String.fromCharCode(s);else if(s>191&&s<224){const i=e[r++];t[n++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=e[r++],o=e[r++],l=e[r++],c=((s&7)<<18|(i&63)<<12|(o&63)<<6|l&63)-65536;t[n++]=String.fromCharCode(55296+(c>>10)),t[n++]=String.fromCharCode(56320+(c&1023))}else{const i=e[r++],o=e[r++];t[n++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return t.join("")},rm={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let s=0;s<e.length;s+=3){const i=e[s],o=s+1<e.length,l=o?e[s+1]:0,c=s+2<e.length,u=c?e[s+2]:0,d=i>>2,p=(i&3)<<4|l>>4;let f=(l&15)<<2|u>>6,N=u&63;c||(N=64,o||(f=64)),n.push(r[d],r[p],r[f],r[N])}return n.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(tm(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):iv(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const r=t?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let s=0;s<e.length;){const i=r[e.charAt(s++)],l=s<e.length?r[e.charAt(s)]:0;++s;const u=s<e.length?r[e.charAt(s)]:64;++s;const p=s<e.length?r[e.charAt(s)]:64;if(++s,i==null||l==null||u==null||p==null)throw new av;const f=i<<2|l>>4;if(n.push(f),u!==64){const N=l<<4&240|u>>2;if(n.push(N),p!==64){const x=u<<6&192|p;n.push(x)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class av extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const ov=function(e){const t=tm(e);return rm.encodeByteArray(t,!0)},nm=function(e){return ov(e).replace(/\./g,"")},sm=function(e){try{return rm.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lv(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cv=()=>lv().__FIREBASE_DEFAULTS__,uv=()=>{if(typeof process>"u"||typeof Ad>"u")return;const e=Ad.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},dv=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&sm(e[1]);return t&&JSON.parse(t)},Qc=()=>{try{return cv()||uv()||dv()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},fv=e=>{var t,r;return(r=(t=Qc())===null||t===void 0?void 0:t.emulatorHosts)===null||r===void 0?void 0:r[e]},im=()=>{var e;return(e=Qc())===null||e===void 0?void 0:e.config},am=e=>{var t;return(t=Qc())===null||t===void 0?void 0:t[`_${e}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hv{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,r)=>{this.resolve=t,this.reject=r})}wrapCallback(t){return(r,n)=>{r?this.reject(r):this.resolve(n),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(r):t(r,n))}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Se(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function pv(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Se())}function mv(){const e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function gv(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function yv(){const e=Se();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function xv(){try{return typeof indexedDB=="object"}catch{return!1}}function vv(){return new Promise((e,t)=>{try{let r=!0;const n="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(n);s.onsuccess=()=>{s.result.close(),r||self.indexedDB.deleteDatabase(n),e(!0)},s.onupgradeneeded=()=>{r=!1},s.onerror=()=>{var i;t(((i=s.error)===null||i===void 0?void 0:i.message)||"")}}catch(r){t(r)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wv="FirebaseError";class mr extends Error{constructor(t,r,n){super(r),this.code=t,this.customData=n,this.name=wv,Object.setPrototypeOf(this,mr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Bs.prototype.create)}}class Bs{constructor(t,r,n){this.service=t,this.serviceName=r,this.errors=n}create(t,...r){const n=r[0]||{},s=`${this.service}/${t}`,i=this.errors[t],o=i?kv(i,n):"Error",l=`${this.serviceName}: ${o} (${s}).`;return new mr(s,l,n)}}function kv(e,t){return e.replace(Nv,(r,n)=>{const s=t[n];return s!=null?String(s):`<${n}?>`})}const Nv=/\{\$([^}]+)}/g;function bv(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function pa(e,t){if(e===t)return!0;const r=Object.keys(e),n=Object.keys(t);for(const s of r){if(!n.includes(s))return!1;const i=e[s],o=t[s];if(Od(i)&&Od(o)){if(!pa(i,o))return!1}else if(i!==o)return!1}for(const s of n)if(!r.includes(s))return!1;return!0}function Od(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hs(e){const t=[];for(const[r,n]of Object.entries(e))Array.isArray(n)?n.forEach(s=>{t.push(encodeURIComponent(r)+"="+encodeURIComponent(s))}):t.push(encodeURIComponent(r)+"="+encodeURIComponent(n));return t.length?"&"+t.join("&"):""}function Qn(e){const t={};return e.replace(/^\?/,"").split("&").forEach(n=>{if(n){const[s,i]=n.split("=");t[decodeURIComponent(s)]=decodeURIComponent(i)}}),t}function Yn(e){const t=e.indexOf("?");if(!t)return"";const r=e.indexOf("#",t);return e.substring(t,r>0?r:void 0)}function _v(e,t){const r=new Ev(e,t);return r.subscribe.bind(r)}class Ev{constructor(t,r){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=r,this.task.then(()=>{t(this)}).catch(n=>{this.error(n)})}next(t){this.forEachObserver(r=>{r.next(t)})}error(t){this.forEachObserver(r=>{r.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,r,n){let s;if(t===void 0&&r===void 0&&n===void 0)throw new Error("Missing Observer.");jv(t,["next","error","complete"])?s=t:s={next:t,error:r,complete:n},s.next===void 0&&(s.next=Io),s.error===void 0&&(s.error=Io),s.complete===void 0&&(s.complete=Io);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let r=0;r<this.observers.length;r++)this.sendOne(r,t)}sendOne(t,r){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{r(this.observers[t])}catch(n){typeof console<"u"&&console.error&&console.error(n)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function jv(e,t){if(typeof e!="object"||e===null)return!1;for(const r of t)if(r in e&&typeof e[r]=="function")return!0;return!1}function Io(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ut(e){return e&&e._delegate?e._delegate:e}class kn{constructor(t,r,n){this.name=t,this.instanceFactory=r,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sv{constructor(t,r){this.name=t,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const r=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(r)){const n=new hv;if(this.instancesDeferred.set(r,n),this.isInitialized(r)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:r});s&&n.resolve(s)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(t){var r;const n=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),s=(r=t==null?void 0:t.optional)!==null&&r!==void 0?r:!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(s)return null;throw i}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(Iv(t))try{this.getOrInitializeService({instanceIdentifier:wr})}catch{}for(const[r,n]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(r);try{const i=this.getOrInitializeService({instanceIdentifier:s});n.resolve(i)}catch{}}}}clearInstance(t=wr){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...t.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=wr){return this.instances.has(t)}getOptions(t=wr){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:r={}}=t,n=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:n,options:r});for(const[i,o]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);n===l&&o.resolve(s)}return s}onInit(t,r){var n;const s=this.normalizeInstanceIdentifier(r),i=(n=this.onInitCallbacks.get(s))!==null&&n!==void 0?n:new Set;i.add(t),this.onInitCallbacks.set(s,i);const o=this.instances.get(s);return o&&t(o,s),()=>{i.delete(t)}}invokeOnInitCallbacks(t,r){const n=this.onInitCallbacks.get(r);if(n)for(const s of n)try{s(t,r)}catch{}}getOrInitializeService({instanceIdentifier:t,options:r={}}){let n=this.instances.get(t);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:Cv(t),options:r}),this.instances.set(t,n),this.instancesOptions.set(t,r),this.invokeOnInitCallbacks(n,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,n)}catch{}return n||null}normalizeInstanceIdentifier(t=wr){return this.component?this.component.multipleInstances?t:wr:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Cv(e){return e===wr?void 0:e}function Iv(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tv{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const r=this.getProvider(t.name);if(r.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);r.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const r=new Sv(t,this);return this.providers.set(t,r),r}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Z;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(Z||(Z={}));const Rv={debug:Z.DEBUG,verbose:Z.VERBOSE,info:Z.INFO,warn:Z.WARN,error:Z.ERROR,silent:Z.SILENT},Pv=Z.INFO,Av={[Z.DEBUG]:"log",[Z.VERBOSE]:"log",[Z.INFO]:"info",[Z.WARN]:"warn",[Z.ERROR]:"error"},Ov=(e,t,...r)=>{if(t<e.logLevel)return;const n=new Date().toISOString(),s=Av[t];if(s)console[s](`[${n}]  ${e.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class om{constructor(t){this.name=t,this._logLevel=Pv,this._logHandler=Ov,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Z))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?Rv[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Z.DEBUG,...t),this._logHandler(this,Z.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Z.VERBOSE,...t),this._logHandler(this,Z.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Z.INFO,...t),this._logHandler(this,Z.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Z.WARN,...t),this._logHandler(this,Z.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Z.ERROR,...t),this._logHandler(this,Z.ERROR,...t)}}const Dv=(e,t)=>t.some(r=>e instanceof r);let Dd,Ld;function Lv(){return Dd||(Dd=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Mv(){return Ld||(Ld=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const lm=new WeakMap,Fl=new WeakMap,cm=new WeakMap,To=new WeakMap,Yc=new WeakMap;function Uv(e){const t=new Promise((r,n)=>{const s=()=>{e.removeEventListener("success",i),e.removeEventListener("error",o)},i=()=>{r(or(e.result)),s()},o=()=>{n(e.error),s()};e.addEventListener("success",i),e.addEventListener("error",o)});return t.then(r=>{r instanceof IDBCursor&&lm.set(r,e)}).catch(()=>{}),Yc.set(t,e),t}function zv(e){if(Fl.has(e))return;const t=new Promise((r,n)=>{const s=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",o),e.removeEventListener("abort",o)},i=()=>{r(),s()},o=()=>{n(e.error||new DOMException("AbortError","AbortError")),s()};e.addEventListener("complete",i),e.addEventListener("error",o),e.addEventListener("abort",o)});Fl.set(e,t)}let $l={get(e,t,r){if(e instanceof IDBTransaction){if(t==="done")return Fl.get(e);if(t==="objectStoreNames")return e.objectStoreNames||cm.get(e);if(t==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return or(e[t])},set(e,t,r){return e[t]=r,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function Fv(e){$l=e($l)}function $v(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...r){const n=e.call(Ro(this),t,...r);return cm.set(n,t.sort?t.sort():[t]),or(n)}:Mv().includes(e)?function(...t){return e.apply(Ro(this),t),or(lm.get(this))}:function(...t){return or(e.apply(Ro(this),t))}}function Bv(e){return typeof e=="function"?$v(e):(e instanceof IDBTransaction&&zv(e),Dv(e,Lv())?new Proxy(e,$l):e)}function or(e){if(e instanceof IDBRequest)return Uv(e);if(To.has(e))return To.get(e);const t=Bv(e);return t!==e&&(To.set(e,t),Yc.set(t,e)),t}const Ro=e=>Yc.get(e);function Hv(e,t,{blocked:r,upgrade:n,blocking:s,terminated:i}={}){const o=indexedDB.open(e,t),l=or(o);return n&&o.addEventListener("upgradeneeded",c=>{n(or(o.result),c.oldVersion,c.newVersion,or(o.transaction),c)}),r&&o.addEventListener("blocked",c=>r(c.oldVersion,c.newVersion,c)),l.then(c=>{i&&c.addEventListener("close",()=>i()),s&&c.addEventListener("versionchange",u=>s(u.oldVersion,u.newVersion,u))}).catch(()=>{}),l}const Vv=["get","getKey","getAll","getAllKeys","count"],Wv=["put","add","delete","clear"],Po=new Map;function Md(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(Po.get(t))return Po.get(t);const r=t.replace(/FromIndex$/,""),n=t!==r,s=Wv.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!(s||Vv.includes(r)))return;const i=async function(o,...l){const c=this.transaction(o,s?"readwrite":"readonly");let u=c.store;return n&&(u=u.index(l.shift())),(await Promise.all([u[r](...l),s&&c.done]))[0]};return Po.set(t,i),i}Fv(e=>({...e,get:(t,r,n)=>Md(t,r)||e.get(t,r,n),has:(t,r)=>!!Md(t,r)||e.has(t,r)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qv{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(Kv(r)){const n=r.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(r=>r).join(" ")}}function Kv(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const Bl="@firebase/app",Ud="0.9.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lr=new om("@firebase/app"),Gv="@firebase/app-compat",Jv="@firebase/analytics-compat",Qv="@firebase/analytics",Yv="@firebase/app-check-compat",Xv="@firebase/app-check",Zv="@firebase/auth",ew="@firebase/auth-compat",tw="@firebase/database",rw="@firebase/database-compat",nw="@firebase/functions",sw="@firebase/functions-compat",iw="@firebase/installations",aw="@firebase/installations-compat",ow="@firebase/messaging",lw="@firebase/messaging-compat",cw="@firebase/performance",uw="@firebase/performance-compat",dw="@firebase/remote-config",fw="@firebase/remote-config-compat",hw="@firebase/storage",pw="@firebase/storage-compat",mw="@firebase/firestore",gw="@firebase/firestore-compat",yw="firebase",xw="9.23.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hl="[DEFAULT]",vw={[Bl]:"fire-core",[Gv]:"fire-core-compat",[Qv]:"fire-analytics",[Jv]:"fire-analytics-compat",[Xv]:"fire-app-check",[Yv]:"fire-app-check-compat",[Zv]:"fire-auth",[ew]:"fire-auth-compat",[tw]:"fire-rtdb",[rw]:"fire-rtdb-compat",[nw]:"fire-fn",[sw]:"fire-fn-compat",[iw]:"fire-iid",[aw]:"fire-iid-compat",[ow]:"fire-fcm",[lw]:"fire-fcm-compat",[cw]:"fire-perf",[uw]:"fire-perf-compat",[dw]:"fire-rc",[fw]:"fire-rc-compat",[hw]:"fire-gcs",[pw]:"fire-gcs-compat",[mw]:"fire-fst",[gw]:"fire-fst-compat","fire-js":"fire-js",[yw]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ma=new Map,Vl=new Map;function ww(e,t){try{e.container.addComponent(t)}catch(r){Lr.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,r)}}function Ts(e){const t=e.name;if(Vl.has(t))return Lr.debug(`There were multiple attempts to register component ${t}.`),!1;Vl.set(t,e);for(const r of ma.values())ww(r,e);return!0}function um(e,t){const r=e.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),e.container.getProvider(t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kw={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},lr=new Bs("app","Firebase",kw);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nw{constructor(t,r,n){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},r),this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new kn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw lr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vs=xw;function dm(e,t={}){let r=e;typeof t!="object"&&(t={name:t});const n=Object.assign({name:Hl,automaticDataCollectionEnabled:!1},t),s=n.name;if(typeof s!="string"||!s)throw lr.create("bad-app-name",{appName:String(s)});if(r||(r=im()),!r)throw lr.create("no-options");const i=ma.get(s);if(i){if(pa(r,i.options)&&pa(n,i.config))return i;throw lr.create("duplicate-app",{appName:s})}const o=new Tv(s);for(const c of Vl.values())o.addComponent(c);const l=new Nw(r,n,o);return ma.set(s,l),l}function bw(e=Hl){const t=ma.get(e);if(!t&&e===Hl&&im())return dm();if(!t)throw lr.create("no-app",{appName:e});return t}function un(e,t,r){var n;let s=(n=vw[e])!==null&&n!==void 0?n:e;r&&(s+=`-${r}`);const i=s.match(/\s|\//),o=t.match(/\s|\//);if(i||o){const l=[`Unable to register library "${s}" with version "${t}":`];i&&l.push(`library name "${s}" contains illegal characters (whitespace or "/")`),i&&o&&l.push("and"),o&&l.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Lr.warn(l.join(" "));return}Ts(new kn(`${s}-version`,()=>({library:s,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _w="firebase-heartbeat-database",Ew=1,Rs="firebase-heartbeat-store";let Ao=null;function fm(){return Ao||(Ao=Hv(_w,Ew,{upgrade:(e,t)=>{switch(t){case 0:e.createObjectStore(Rs)}}}).catch(e=>{throw lr.create("idb-open",{originalErrorMessage:e.message})})),Ao}async function jw(e){try{return await(await fm()).transaction(Rs).objectStore(Rs).get(hm(e))}catch(t){if(t instanceof mr)Lr.warn(t.message);else{const r=lr.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});Lr.warn(r.message)}}}async function zd(e,t){try{const n=(await fm()).transaction(Rs,"readwrite");await n.objectStore(Rs).put(t,hm(e)),await n.done}catch(r){if(r instanceof mr)Lr.warn(r.message);else{const n=lr.create("idb-set",{originalErrorMessage:r==null?void 0:r.message});Lr.warn(n.message)}}}function hm(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sw=1024,Cw=30*24*60*60*1e3;class Iw{constructor(t){this.container=t,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new Rw(r),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){const r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),n=Fd();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===n||this._heartbeatsCache.heartbeats.some(s=>s.date===n)))return this._heartbeatsCache.heartbeats.push({date:n,agent:r}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{const i=new Date(s.date).valueOf();return Date.now()-i<=Cw}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const t=Fd(),{heartbeatsToSend:r,unsentEntries:n}=Tw(this._heartbeatsCache.heartbeats),s=nm(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,n.length>0?(this._heartbeatsCache.heartbeats=n,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}}function Fd(){return new Date().toISOString().substring(0,10)}function Tw(e,t=Sw){const r=[];let n=e.slice();for(const s of e){const i=r.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),$d(r)>t){i.dates.pop();break}}else if(r.push({agent:s.agent,dates:[s.date]}),$d(r)>t){r.pop();break}n=n.slice(1)}return{heartbeatsToSend:r,unsentEntries:n}}class Rw{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return xv()?vv().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await jw(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(t){var r;if(await this._canUseIndexedDBPromise){const s=await this.read();return zd(this.app,{lastSentHeartbeatDate:(r=t.lastSentHeartbeatDate)!==null&&r!==void 0?r:s.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var r;if(await this._canUseIndexedDBPromise){const s=await this.read();return zd(this.app,{lastSentHeartbeatDate:(r=t.lastSentHeartbeatDate)!==null&&r!==void 0?r:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...t.heartbeats]})}else return}}function $d(e){return nm(JSON.stringify({version:2,heartbeats:e})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pw(e){Ts(new kn("platform-logger",t=>new qv(t),"PRIVATE")),Ts(new kn("heartbeat",t=>new Iw(t),"PRIVATE")),un(Bl,Ud,e),un(Bl,Ud,"esm2017"),un("fire-js","")}Pw("");var Aw="firebase",Ow="9.23.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */un(Aw,Ow,"app");function Xc(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r}function pm(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Dw=pm,mm=new Bs("auth","Firebase",pm());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ga=new om("@firebase/auth");function Lw(e,...t){ga.logLevel<=Z.WARN&&ga.warn(`Auth (${Vs}): ${e}`,...t)}function Oi(e,...t){ga.logLevel<=Z.ERROR&&ga.error(`Auth (${Vs}): ${e}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dt(e,...t){throw Zc(e,...t)}function wt(e,...t){return Zc(e,...t)}function Mw(e,t,r){const n=Object.assign(Object.assign({},Dw()),{[t]:r});return new Bs("auth","Firebase",n).create(t,{appName:e.name})}function Zc(e,...t){if(typeof e!="string"){const r=t[0],n=[...t.slice(1)];return n[0]&&(n[0].appName=e.name),e._errorFactory.create(r,...n)}return mm.create(e,...t)}function F(e,t,...r){if(!e)throw Zc(t,...r)}function St(e){const t="INTERNAL ASSERTION FAILED: "+e;throw Oi(t),new Error(t)}function Dt(e,t){e||St(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wl(){var e;return typeof self<"u"&&((e=self.location)===null||e===void 0?void 0:e.href)||""}function Uw(){return Bd()==="http:"||Bd()==="https:"}function Bd(){var e;return typeof self<"u"&&((e=self.location)===null||e===void 0?void 0:e.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zw(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Uw()||mv()||"connection"in navigator)?navigator.onLine:!0}function Fw(){if(typeof navigator>"u")return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ws{constructor(t,r){this.shortDelay=t,this.longDelay=r,Dt(r>t,"Short delay should be less than long delay!"),this.isMobile=pv()||gv()}get(){return zw()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eu(e,t){Dt(e.emulator,"Emulator should always be set here");const{url:r}=e.emulator;return t?`${r}${t.startsWith("/")?t.slice(1):t}`:r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gm{static initialize(t,r,n){this.fetchImpl=t,r&&(this.headersImpl=r),n&&(this.responseImpl=n)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;St("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;St("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;St("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $w={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bw=new Ws(3e4,6e4);function qs(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function Pn(e,t,r,n,s={}){return ym(e,s,async()=>{let i={},o={};n&&(t==="GET"?o=n:i={body:JSON.stringify(n)});const l=Hs(Object.assign({key:e.config.apiKey},o)).slice(1),c=await e._getAdditionalHeaders();return c["Content-Type"]="application/json",e.languageCode&&(c["X-Firebase-Locale"]=e.languageCode),gm.fetch()(xm(e,e.config.apiHost,r,l),Object.assign({method:t,headers:c,referrerPolicy:"no-referrer"},i))})}async function ym(e,t,r){e._canInitEmulator=!1;const n=Object.assign(Object.assign({},$w),t);try{const s=new Hw(e),i=await Promise.race([r(),s.promise]);s.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw vi(e,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const l=i.ok?o.errorMessage:o.error.message,[c,u]=l.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw vi(e,"credential-already-in-use",o);if(c==="EMAIL_EXISTS")throw vi(e,"email-already-in-use",o);if(c==="USER_DISABLED")throw vi(e,"user-disabled",o);const d=n[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw Mw(e,d,u);dt(e,d)}}catch(s){if(s instanceof mr)throw s;dt(e,"network-request-failed",{message:String(s)})}}async function Wa(e,t,r,n,s={}){const i=await Pn(e,t,r,n,s);return"mfaPendingCredential"in i&&dt(e,"multi-factor-auth-required",{_serverResponse:i}),i}function xm(e,t,r,n){const s=`${t}${r}?${n}`;return e.config.emulator?eu(e.config,s):`${e.config.apiScheme}://${s}`}class Hw{constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((r,n)=>{this.timer=setTimeout(()=>n(wt(this.auth,"network-request-failed")),Bw.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function vi(e,t,r){const n={appName:e.name};r.email&&(n.email=r.email),r.phoneNumber&&(n.phoneNumber=r.phoneNumber);const s=wt(e,t,n);return s.customData._tokenResponse=r,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vw(e,t){return Pn(e,"POST","/v1/accounts:delete",t)}async function Ww(e,t){return Pn(e,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cs(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function qw(e,t=!1){const r=Ut(e),n=await r.getIdToken(t),s=tu(n);F(s&&s.exp&&s.auth_time&&s.iat,r.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,o=i==null?void 0:i.sign_in_provider;return{claims:s,token:n,authTime:cs(Oo(s.auth_time)),issuedAtTime:cs(Oo(s.iat)),expirationTime:cs(Oo(s.exp)),signInProvider:o||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function Oo(e){return Number(e)*1e3}function tu(e){const[t,r,n]=e.split(".");if(t===void 0||r===void 0||n===void 0)return Oi("JWT malformed, contained fewer than 3 sections"),null;try{const s=sm(r);return s?JSON.parse(s):(Oi("Failed to decode base64 JWT payload"),null)}catch(s){return Oi("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function Kw(e){const t=tu(e);return F(t,"internal-error"),F(typeof t.exp<"u","internal-error"),F(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ps(e,t,r=!1){if(r)return t;try{return await t}catch(n){throw n instanceof mr&&Gw(n)&&e.auth.currentUser===e&&await e.auth.signOut(),n}}function Gw({code:e}){return e==="auth/user-disabled"||e==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jw{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var r;if(t){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=((r=this.user.stsTokenManager.expirationTime)!==null&&r!==void 0?r:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(t=!1){if(!this.isRunning)return;const r=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},r)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vm{constructor(t,r){this.createdAt=t,this.lastLoginAt=r,this._initializeTime()}_initializeTime(){this.lastSignInTime=cs(this.lastLoginAt),this.creationTime=cs(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ya(e){var t;const r=e.auth,n=await e.getIdToken(),s=await Ps(e,Ww(r,{idToken:n}));F(s==null?void 0:s.users.length,r,"internal-error");const i=s.users[0];e._notifyReloadListener(i);const o=!((t=i.providerUserInfo)===null||t===void 0)&&t.length?Xw(i.providerUserInfo):[],l=Yw(e.providerData,o),c=e.isAnonymous,u=!(e.email&&i.passwordHash)&&!(l!=null&&l.length),d=c?u:!1,p={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:l,metadata:new vm(i.createdAt,i.lastLoginAt),isAnonymous:d};Object.assign(e,p)}async function Qw(e){const t=Ut(e);await ya(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function Yw(e,t){return[...e.filter(n=>!t.some(s=>s.providerId===n.providerId)),...t]}function Xw(e){return e.map(t=>{var{providerId:r}=t,n=Xc(t,["providerId"]);return{providerId:r,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zw(e,t){const r=await ym(e,{},async()=>{const n=Hs({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:s,apiKey:i}=e.config,o=xm(e,s,"/v1/token",`key=${i}`),l=await e._getAdditionalHeaders();return l["Content-Type"]="application/x-www-form-urlencoded",gm.fetch()(o,{method:"POST",headers:l,body:n})});return{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class As{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){F(t.idToken,"internal-error"),F(typeof t.idToken<"u","internal-error"),F(typeof t.refreshToken<"u","internal-error");const r="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):Kw(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,r)}async getToken(t,r=!1){return F(!this.accessToken||this.refreshToken,t,"user-token-expired"),!r&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(t,r){const{accessToken:n,refreshToken:s,expiresIn:i}=await Zw(t,r);this.updateTokensAndExpiration(n,s,Number(i))}updateTokensAndExpiration(t,r,n){this.refreshToken=r||null,this.accessToken=t||null,this.expirationTime=Date.now()+n*1e3}static fromJSON(t,r){const{refreshToken:n,accessToken:s,expirationTime:i}=r,o=new As;return n&&(F(typeof n=="string","internal-error",{appName:t}),o.refreshToken=n),s&&(F(typeof s=="string","internal-error",{appName:t}),o.accessToken=s),i&&(F(typeof i=="number","internal-error",{appName:t}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new As,this.toJSON())}_performRefresh(){return St("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ft(e,t){F(typeof e=="string"||typeof e>"u","internal-error",{appName:t})}class Cr{constructor(t){var{uid:r,auth:n,stsTokenManager:s}=t,i=Xc(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Jw(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=r,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new vm(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(t){const r=await Ps(this,this.stsTokenManager.getToken(this.auth,t));return F(r,this.auth,"internal-error"),this.accessToken!==r&&(this.accessToken=r,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),r}getIdTokenResult(t){return qw(this,t)}reload(){return Qw(this)}_assign(t){this!==t&&(F(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(r=>Object.assign({},r)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const r=new Cr(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return r.metadata._copy(this.metadata),r}_onReload(t){F(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,r=!1){let n=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),n=!0),r&&await ya(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){const t=await this.getIdToken();return await Ps(this,Vw(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,r){var n,s,i,o,l,c,u,d;const p=(n=r.displayName)!==null&&n!==void 0?n:void 0,f=(s=r.email)!==null&&s!==void 0?s:void 0,N=(i=r.phoneNumber)!==null&&i!==void 0?i:void 0,x=(o=r.photoURL)!==null&&o!==void 0?o:void 0,g=(l=r.tenantId)!==null&&l!==void 0?l:void 0,w=(c=r._redirectEventId)!==null&&c!==void 0?c:void 0,m=(u=r.createdAt)!==null&&u!==void 0?u:void 0,h=(d=r.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:y,emailVerified:b,isAnonymous:j,providerData:_,stsTokenManager:v}=r;F(y&&v,t,"internal-error");const S=As.fromJSON(this.name,v);F(typeof y=="string",t,"internal-error"),Ft(p,t.name),Ft(f,t.name),F(typeof b=="boolean",t,"internal-error"),F(typeof j=="boolean",t,"internal-error"),Ft(N,t.name),Ft(x,t.name),Ft(g,t.name),Ft(w,t.name),Ft(m,t.name),Ft(h,t.name);const T=new Cr({uid:y,auth:t,email:f,emailVerified:b,displayName:p,isAnonymous:j,photoURL:x,phoneNumber:N,tenantId:g,stsTokenManager:S,createdAt:m,lastLoginAt:h});return _&&Array.isArray(_)&&(T.providerData=_.map(D=>Object.assign({},D))),w&&(T._redirectEventId=w),T}static async _fromIdTokenResponse(t,r,n=!1){const s=new As;s.updateFromServerResponse(r);const i=new Cr({uid:r.localId,auth:t,stsTokenManager:s,isAnonymous:n});return await ya(i),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hd=new Map;function Ct(e){Dt(e instanceof Function,"Expected a class definition");let t=Hd.get(e);return t?(Dt(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,Hd.set(e,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wm{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,r){this.storage[t]=r}async _get(t){const r=this.storage[t];return r===void 0?null:r}async _remove(t){delete this.storage[t]}_addListener(t,r){}_removeListener(t,r){}}wm.type="NONE";const Vd=wm;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Di(e,t,r){return`firebase:${e}:${t}:${r}`}class dn{constructor(t,r,n){this.persistence=t,this.auth=r,this.userKey=n;const{config:s,name:i}=this.auth;this.fullUserKey=Di(this.userKey,s.apiKey,i),this.fullPersistenceKey=Di("persistence",s.apiKey,i),this.boundEventHandler=r._onStorageEvent.bind(r),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);return t?Cr._fromJSON(this.auth,t):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const r=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,r)return this.setCurrentUser(r)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,r,n="authUser"){if(!r.length)return new dn(Ct(Vd),t,n);const s=(await Promise.all(r.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let i=s[0]||Ct(Vd);const o=Di(n,t.config.apiKey,t.name);let l=null;for(const u of r)try{const d=await u._get(o);if(d){const p=Cr._fromJSON(t,d);u!==i&&(l=p),i=u;break}}catch{}const c=s.filter(u=>u._shouldAllowMigration);return!i._shouldAllowMigration||!c.length?new dn(i,t,n):(i=c[0],l&&await i._set(o,l.toJSON()),await Promise.all(r.map(async u=>{if(u!==i)try{await u._remove(o)}catch{}})),new dn(i,t,n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wd(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(bm(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(km(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Em(t))return"Blackberry";if(jm(t))return"Webos";if(ru(t))return"Safari";if((t.includes("chrome/")||Nm(t))&&!t.includes("edge/"))return"Chrome";if(_m(t))return"Android";{const r=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(r);if((n==null?void 0:n.length)===2)return n[1]}return"Other"}function km(e=Se()){return/firefox\//i.test(e)}function ru(e=Se()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function Nm(e=Se()){return/crios\//i.test(e)}function bm(e=Se()){return/iemobile/i.test(e)}function _m(e=Se()){return/android/i.test(e)}function Em(e=Se()){return/blackberry/i.test(e)}function jm(e=Se()){return/webos/i.test(e)}function qa(e=Se()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function e1(e=Se()){var t;return qa(e)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function t1(){return yv()&&document.documentMode===10}function Sm(e=Se()){return qa(e)||_m(e)||jm(e)||Em(e)||/windows phone/i.test(e)||bm(e)}function r1(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cm(e,t=[]){let r;switch(e){case"Browser":r=Wd(Se());break;case"Worker":r=`${Wd(Se())}-${e}`;break;default:r=e}const n=t.length?t.join(","):"FirebaseCore-web";return`${r}/JsCore/${Vs}/${n}`}async function Im(e,t){return Pn(e,"GET","/v2/recaptchaConfig",qs(e,t))}function qd(e){return e!==void 0&&e.enterprise!==void 0}class Tm{constructor(t){if(this.siteKey="",this.emailPasswordEnabled=!1,t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.emailPasswordEnabled=t.recaptchaEnforcementState.some(r=>r.provider==="EMAIL_PASSWORD_PROVIDER"&&r.enforcementState!=="OFF")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n1(){var e,t;return(t=(e=document.getElementsByTagName("head"))===null||e===void 0?void 0:e[0])!==null&&t!==void 0?t:document}function Rm(e){return new Promise((t,r)=>{const n=document.createElement("script");n.setAttribute("src",e),n.onload=t,n.onerror=s=>{const i=wt("internal-error");i.customData=s,r(i)},n.type="text/javascript",n.charset="UTF-8",n1().appendChild(n)})}function s1(e){return`__${e}${Math.floor(Math.random()*1e6)}`}const i1="https://www.google.com/recaptcha/enterprise.js?render=",a1="recaptcha-enterprise",o1="NO_RECAPTCHA";class Pm{constructor(t){this.type=a1,this.auth=Ks(t)}async verify(t="verify",r=!1){async function n(i){if(!r){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(o,l)=>{Im(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)l(new Error("recaptcha Enterprise site key undefined"));else{const u=new Tm(c);return i.tenantId==null?i._agentRecaptchaConfig=u:i._tenantRecaptchaConfigs[i.tenantId]=u,o(u.siteKey)}}).catch(c=>{l(c)})})}function s(i,o,l){const c=window.grecaptcha;qd(c)?c.enterprise.ready(()=>{c.enterprise.execute(i,{action:t}).then(u=>{o(u)}).catch(()=>{o(o1)})}):l(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((i,o)=>{n(this.auth).then(l=>{if(!r&&qd(window.grecaptcha))s(l,i,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}Rm(i1+l).then(()=>{s(l,i,o)}).catch(c=>{o(c)})}}).catch(l=>{o(l)})})}}async function Kd(e,t,r,n=!1){const s=new Pm(e);let i;try{i=await s.verify(r)}catch{i=await s.verify(r,!0)}const o=Object.assign({},t);return n?Object.assign(o,{captchaResp:i}):Object.assign(o,{captchaResponse:i}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l1{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,r){const n=i=>new Promise((o,l)=>{try{const c=t(i);o(c)}catch(c){l(c)}});n.onAbort=r,this.queue.push(n);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const r=[];try{for(const n of this.queue)await n(t),n.onAbort&&r.push(n.onAbort)}catch(n){r.reverse();for(const s of r)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:n==null?void 0:n.message})}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c1{constructor(t,r,n,s){this.app=t,this.heartbeatServiceProvider=r,this.appCheckServiceProvider=n,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Gd(this),this.idTokenSubscription=new Gd(this),this.beforeStateQueue=new l1(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=mm,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=s.sdkClientVersion}_initializeWithPersistence(t,r){return r&&(this._popupRedirectResolver=Ct(r)),this._initializationPromise=this.queue(async()=>{var n,s;if(!this._deleted&&(this.persistenceManager=await dn.create(this,t),!this._deleted)){if(!((n=this._popupRedirectResolver)===null||n===void 0)&&n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(r),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUser(t){var r;const n=await this.assertedPersistence.getCurrentUser();let s=n,i=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId,l=s==null?void 0:s._redirectEventId,c=await this.tryRedirectSignIn(t);(!o||o===l)&&(c!=null&&c.user)&&(s=c.user,i=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(s)}catch(o){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return F(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(t){let r=null;try{r=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return r}async reloadAndSetCurrentUserOrClear(t){try{await ya(t)}catch(r){if((r==null?void 0:r.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=Fw()}async _delete(){this._deleted=!0}async updateCurrentUser(t){const r=t?Ut(t):null;return r&&F(r.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(r&&r._clone(this))}async _updateCurrentUser(t,r=!1){if(!this._deleted)return t&&F(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),r||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(t){return this.queue(async()=>{await this.assertedPersistence.setPersistence(Ct(t))})}async initializeRecaptchaConfig(){const t=await Im(this,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new Tm(t);this.tenantId==null?this._agentRecaptchaConfig=r:this._tenantRecaptchaConfigs[this.tenantId]=r,r.emailPasswordEnabled&&new Pm(this).verify()}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(t){this._errorFactory=new Bs("auth","Firebase",t())}onAuthStateChanged(t,r,n){return this.registerStateListener(this.authStateSubscription,t,r,n)}beforeAuthStateChanged(t,r){return this.beforeStateQueue.pushCallback(t,r)}onIdTokenChanged(t,r,n){return this.registerStateListener(this.idTokenSubscription,t,r,n)}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}async _setRedirectUser(t,r){const n=await this.getOrInitRedirectPersistenceManager(r);return t===null?n.removeCurrentUser():n.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const r=t&&Ct(t)||this._popupRedirectResolver;F(r,this,"argument-error"),this.redirectPersistenceManager=await dn.create(this,[Ct(r._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var r,n;return this._isInitialized&&await this.queue(async()=>{}),((r=this._currentUser)===null||r===void 0?void 0:r._redirectEventId)===t?this._currentUser:((n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,r;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=(r=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&r!==void 0?r:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,r,n,s){if(this._deleted)return()=>{};const i=typeof r=="function"?r:r.next.bind(r),o=this._isInitialized?Promise.resolve():this._initializationPromise;return F(o,this,"internal-error"),o.then(()=>i(this.currentUser)),typeof r=="function"?t.addObserver(r,n,s):t.addObserver(r)}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return F(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=Cm(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const r={"X-Client-Version":this.clientVersion};this.app.options.appId&&(r["X-Firebase-gmpid"]=this.app.options.appId);const n=await((t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader());n&&(r["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(r["X-Firebase-AppCheck"]=s),r}async _getAppCheckToken(){var t;const r=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken());return r!=null&&r.error&&Lw(`Error while retrieving App Check token: ${r.error}`),r==null?void 0:r.token}}function Ks(e){return Ut(e)}class Gd{constructor(t){this.auth=t,this.observer=null,this.addObserver=_v(r=>this.observer=r)}get next(){return F(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u1(e,t){const r=um(e,"auth");if(r.isInitialized()){const s=r.getImmediate(),i=r.getOptions();if(pa(i,t??{}))return s;dt(s,"already-initialized")}return r.initialize({options:t})}function d1(e,t){const r=(t==null?void 0:t.persistence)||[],n=(Array.isArray(r)?r:[r]).map(Ct);t!=null&&t.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(n,t==null?void 0:t.popupRedirectResolver)}function f1(e,t,r){const n=Ks(e);F(n._canInitEmulator,n,"emulator-config-failed"),F(/^https?:\/\//.test(t),n,"invalid-emulator-scheme");const s=!1,i=Am(t),{host:o,port:l}=h1(t),c=l===null?"":`:${l}`;n.config.emulator={url:`${i}//${o}${c}/`},n.settings.appVerificationDisabledForTesting=!0,n.emulatorConfig=Object.freeze({host:o,port:l,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})}),p1()}function Am(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function h1(e){const t=Am(e),r=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!r)return{host:"",port:null};const n=r[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(n);if(s){const i=s[1];return{host:i,port:Jd(n.substr(i.length+1))}}else{const[i,o]=n.split(":");return{host:i,port:Jd(o)}}}function Jd(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}function p1(){function e(){const t=document.createElement("p"),r=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",r.position="fixed",r.width="100%",r.backgroundColor="#ffffff",r.border=".1em solid #000000",r.color="#b50000",r.bottom="0px",r.left="0px",r.margin="0px",r.zIndex="10000",r.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",e):e())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nu{constructor(t,r){this.providerId=t,this.signInMethod=r}toJSON(){return St("not implemented")}_getIdTokenResponse(t){return St("not implemented")}_linkToIdToken(t,r){return St("not implemented")}_getReauthenticationResolver(t){return St("not implemented")}}async function m1(e,t){return Pn(e,"POST","/v1/accounts:update",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Do(e,t){return Wa(e,"POST","/v1/accounts:signInWithPassword",qs(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function g1(e,t){return Wa(e,"POST","/v1/accounts:signInWithEmailLink",qs(e,t))}async function y1(e,t){return Wa(e,"POST","/v1/accounts:signInWithEmailLink",qs(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Os extends nu{constructor(t,r,n,s=null){super("password",n),this._email=t,this._password=r,this._tenantId=s}static _fromEmailAndPassword(t,r){return new Os(t,r,"password")}static _fromEmailAndCode(t,r,n=null){return new Os(t,r,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const r=typeof t=="string"?JSON.parse(t):t;if(r!=null&&r.email&&(r!=null&&r.password)){if(r.signInMethod==="password")return this._fromEmailAndPassword(r.email,r.password);if(r.signInMethod==="emailLink")return this._fromEmailAndCode(r.email,r.password,r.tenantId)}return null}async _getIdTokenResponse(t){var r;switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};if(!((r=t._getRecaptchaConfig())===null||r===void 0)&&r.emailPasswordEnabled){const s=await Kd(t,n,"signInWithPassword");return Do(t,s)}else return Do(t,n).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const i=await Kd(t,n,"signInWithPassword");return Do(t,i)}else return Promise.reject(s)});case"emailLink":return g1(t,{email:this._email,oobCode:this._password});default:dt(t,"internal-error")}}async _linkToIdToken(t,r){switch(this.signInMethod){case"password":return m1(t,{idToken:r,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return y1(t,{idToken:r,email:this._email,oobCode:this._password});default:dt(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fn(e,t){return Wa(e,"POST","/v1/accounts:signInWithIdp",qs(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x1="http://localhost";class Mr extends nu{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const r=new Mr(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(r.idToken=t.idToken),t.accessToken&&(r.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(r.nonce=t.nonce),t.pendingToken&&(r.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(r.accessToken=t.oauthToken,r.secret=t.oauthTokenSecret):dt("argument-error"),r}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const r=typeof t=="string"?JSON.parse(t):t,{providerId:n,signInMethod:s}=r,i=Xc(r,["providerId","signInMethod"]);if(!n||!s)return null;const o=new Mr(n,s);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(t){const r=this.buildRequest();return fn(t,r)}_linkToIdToken(t,r){const n=this.buildRequest();return n.idToken=r,fn(t,n)}_getReauthenticationResolver(t){const r=this.buildRequest();return r.autoCreate=!1,fn(t,r)}buildRequest(){const t={requestUri:x1,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const r={};this.idToken&&(r.id_token=this.idToken),this.accessToken&&(r.access_token=this.accessToken),this.secret&&(r.oauth_token_secret=this.secret),r.providerId=this.providerId,this.nonce&&!this.pendingToken&&(r.nonce=this.nonce),t.postBody=Hs(r)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v1(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function w1(e){const t=Qn(Yn(e)).link,r=t?Qn(Yn(t)).deep_link_id:null,n=Qn(Yn(e)).deep_link_id;return(n?Qn(Yn(n)).link:null)||n||r||t||e}class su{constructor(t){var r,n,s,i,o,l;const c=Qn(Yn(t)),u=(r=c.apiKey)!==null&&r!==void 0?r:null,d=(n=c.oobCode)!==null&&n!==void 0?n:null,p=v1((s=c.mode)!==null&&s!==void 0?s:null);F(u&&d&&p,"argument-error"),this.apiKey=u,this.operation=p,this.code=d,this.continueUrl=(i=c.continueUrl)!==null&&i!==void 0?i:null,this.languageCode=(o=c.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(l=c.tenantId)!==null&&l!==void 0?l:null}static parseLink(t){const r=w1(t);try{return new su(r)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class An{constructor(){this.providerId=An.PROVIDER_ID}static credential(t,r){return Os._fromEmailAndPassword(t,r)}static credentialWithLink(t,r){const n=su.parseLink(r);return F(n,"argument-error"),Os._fromEmailAndCode(t,n.code,n.tenantId)}}An.PROVIDER_ID="password";An.EMAIL_PASSWORD_SIGN_IN_METHOD="password";An.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Om{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gs extends Om{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wt extends Gs{constructor(){super("facebook.com")}static credential(t){return Mr._fromParams({providerId:Wt.PROVIDER_ID,signInMethod:Wt.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Wt.credentialFromTaggedObject(t)}static credentialFromError(t){return Wt.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Wt.credential(t.oauthAccessToken)}catch{return null}}}Wt.FACEBOOK_SIGN_IN_METHOD="facebook.com";Wt.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qt extends Gs{constructor(){super("google.com"),this.addScope("profile")}static credential(t,r){return Mr._fromParams({providerId:qt.PROVIDER_ID,signInMethod:qt.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:r})}static credentialFromResult(t){return qt.credentialFromTaggedObject(t)}static credentialFromError(t){return qt.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:r,oauthAccessToken:n}=t;if(!r&&!n)return null;try{return qt.credential(r,n)}catch{return null}}}qt.GOOGLE_SIGN_IN_METHOD="google.com";qt.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kt extends Gs{constructor(){super("github.com")}static credential(t){return Mr._fromParams({providerId:Kt.PROVIDER_ID,signInMethod:Kt.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Kt.credentialFromTaggedObject(t)}static credentialFromError(t){return Kt.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Kt.credential(t.oauthAccessToken)}catch{return null}}}Kt.GITHUB_SIGN_IN_METHOD="github.com";Kt.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gt extends Gs{constructor(){super("twitter.com")}static credential(t,r){return Mr._fromParams({providerId:Gt.PROVIDER_ID,signInMethod:Gt.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:r})}static credentialFromResult(t){return Gt.credentialFromTaggedObject(t)}static credentialFromError(t){return Gt.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:r,oauthTokenSecret:n}=t;if(!r||!n)return null;try{return Gt.credential(r,n)}catch{return null}}}Gt.TWITTER_SIGN_IN_METHOD="twitter.com";Gt.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nn{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,r,n,s=!1){const i=await Cr._fromIdTokenResponse(t,n,s),o=Qd(n);return new Nn({user:i,providerId:o,_tokenResponse:n,operationType:r})}static async _forOperation(t,r,n){await t._updateTokensIfNecessary(n,!0);const s=Qd(n);return new Nn({user:t,providerId:s,_tokenResponse:n,operationType:r})}}function Qd(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xa extends mr{constructor(t,r,n,s){var i;super(r.code,r.message),this.operationType=n,this.user=s,Object.setPrototypeOf(this,xa.prototype),this.customData={appName:t.name,tenantId:(i=t.tenantId)!==null&&i!==void 0?i:void 0,_serverResponse:r.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(t,r,n,s){return new xa(t,r,n,s)}}function Dm(e,t,r,n){return(t==="reauthenticate"?r._getReauthenticationResolver(e):r._getIdTokenResponse(e)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?xa._fromErrorAndOperation(e,i,t,n):i})}async function k1(e,t,r=!1){const n=await Ps(e,t._linkToIdToken(e.auth,await e.getIdToken()),r);return Nn._forOperation(e,"link",n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function N1(e,t,r=!1){const{auth:n}=e,s="reauthenticate";try{const i=await Ps(e,Dm(n,s,t,e),r);F(i.idToken,n,"internal-error");const o=tu(i.idToken);F(o,n,"internal-error");const{sub:l}=o;return F(e.uid===l,n,"user-mismatch"),Nn._forOperation(e,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&dt(n,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lm(e,t,r=!1){const n="signIn",s=await Dm(e,n,t),i=await Nn._fromIdTokenResponse(e,n,s);return r||await e._updateCurrentUser(i.user),i}async function b1(e,t){return Lm(Ks(e),t)}function _1(e,t,r){return b1(Ut(e),An.credential(t,r))}function E1(e,t,r,n){return Ut(e).onIdTokenChanged(t,r,n)}function j1(e,t,r){return Ut(e).beforeAuthStateChanged(t,r)}function S1(e,t,r,n){return Ut(e).onAuthStateChanged(t,r,n)}function C1(e){return Ut(e).signOut()}const va="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mm{constructor(t,r){this.storageRetriever=t,this.type=r}_isAvailable(){try{return this.storage?(this.storage.setItem(va,"1"),this.storage.removeItem(va),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,r){return this.storage.setItem(t,JSON.stringify(r)),Promise.resolve()}_get(t){const r=this.storage.getItem(t);return Promise.resolve(r?JSON.parse(r):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I1(){const e=Se();return ru(e)||qa(e)}const T1=1e3,R1=10;class Um extends Mm{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,r)=>this.onStorageEvent(t,r),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=I1()&&r1(),this.fallbackToPolling=Sm(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const r of Object.keys(this.listeners)){const n=this.storage.getItem(r),s=this.localCache[r];n!==s&&t(r,s,n)}}onStorageEvent(t,r=!1){if(!t.key){this.forAllChangedKeys((o,l,c)=>{this.notifyListeners(o,c)});return}const n=t.key;if(r?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const o=this.storage.getItem(n);if(t.newValue!==o)t.newValue!==null?this.storage.setItem(n,t.newValue):this.storage.removeItem(n);else if(this.localCache[n]===t.newValue&&!r)return}const s=()=>{const o=this.storage.getItem(n);!r&&this.localCache[n]===o||this.notifyListeners(n,o)},i=this.storage.getItem(n);t1()&&i!==t.newValue&&t.newValue!==t.oldValue?setTimeout(s,R1):s()}notifyListeners(t,r){this.localCache[t]=r;const n=this.listeners[t];if(n)for(const s of Array.from(n))s(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,r,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:r,newValue:n}),!0)})},T1)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,r){await super._set(t,r),this.localCache[t]=JSON.stringify(r)}async _get(t){const r=await super._get(t);return this.localCache[t]=JSON.stringify(r),r}async _remove(t){await super._remove(t),delete this.localCache[t]}}Um.type="LOCAL";const P1=Um;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zm extends Mm{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,r){}_removeListener(t,r){}}zm.type="SESSION";const Fm=zm;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A1(e){return Promise.all(e.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(r){return{fulfilled:!1,reason:r}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ka{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const r=this.receivers.find(s=>s.isListeningto(t));if(r)return r;const n=new Ka(t);return this.receivers.push(n),n}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const r=t,{eventId:n,eventType:s,data:i}=r.data,o=this.handlersMap[s];if(!(o!=null&&o.size))return;r.ports[0].postMessage({status:"ack",eventId:n,eventType:s});const l=Array.from(o).map(async u=>u(r.origin,i)),c=await A1(l);r.ports[0].postMessage({status:"done",eventId:n,eventType:s,response:c})}_subscribe(t,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(r)}_unsubscribe(t,r){this.handlersMap[t]&&r&&this.handlersMap[t].delete(r),(!r||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Ka.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iu(e="",t=10){let r="";for(let n=0;n<t;n++)r+=Math.floor(Math.random()*10);return e+r}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O1{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,r,n=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,o;return new Promise((l,c)=>{const u=iu("",20);s.port1.start();const d=setTimeout(()=>{c(new Error("unsupported_event"))},n);o={messageChannel:s,onMessage(p){const f=p;if(f.data.eventId===u)switch(f.data.status){case"ack":clearTimeout(d),i=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),l(f.data.response);break;default:clearTimeout(d),clearTimeout(i),c(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:t,eventId:u,data:r},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kt(){return window}function D1(e){kt().location.href=e}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $m(){return typeof kt().WorkerGlobalScope<"u"&&typeof kt().importScripts=="function"}async function L1(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function M1(){var e;return((e=navigator==null?void 0:navigator.serviceWorker)===null||e===void 0?void 0:e.controller)||null}function U1(){return $m()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bm="firebaseLocalStorageDb",z1=1,wa="firebaseLocalStorage",Hm="fbase_key";class Js{constructor(t){this.request=t}toPromise(){return new Promise((t,r)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{r(this.request.error)})})}}function Ga(e,t){return e.transaction([wa],t?"readwrite":"readonly").objectStore(wa)}function F1(){const e=indexedDB.deleteDatabase(Bm);return new Js(e).toPromise()}function ql(){const e=indexedDB.open(Bm,z1);return new Promise((t,r)=>{e.addEventListener("error",()=>{r(e.error)}),e.addEventListener("upgradeneeded",()=>{const n=e.result;try{n.createObjectStore(wa,{keyPath:Hm})}catch(s){r(s)}}),e.addEventListener("success",async()=>{const n=e.result;n.objectStoreNames.contains(wa)?t(n):(n.close(),await F1(),t(await ql()))})})}async function Yd(e,t,r){const n=Ga(e,!0).put({[Hm]:t,value:r});return new Js(n).toPromise()}async function $1(e,t){const r=Ga(e,!1).get(t),n=await new Js(r).toPromise();return n===void 0?null:n.value}function Xd(e,t){const r=Ga(e,!0).delete(t);return new Js(r).toPromise()}const B1=800,H1=3;class Vm{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await ql(),this.db)}async _withRetries(t){let r=0;for(;;)try{const n=await this._openDb();return await t(n)}catch(n){if(r++>H1)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return $m()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Ka._getInstance(U1()),this.receiver._subscribe("keyChanged",async(t,r)=>({keyProcessed:(await this._poll()).includes(r.key)})),this.receiver._subscribe("ping",async(t,r)=>["keyChanged"])}async initializeSender(){var t,r;if(this.activeServiceWorker=await L1(),!this.activeServiceWorker)return;this.sender=new O1(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&!((t=n[0])===null||t===void 0)&&t.fulfilled&&!((r=n[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||M1()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await ql();return await Yd(t,va,"1"),await Xd(t,va),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,r){return this._withPendingWrite(async()=>(await this._withRetries(n=>Yd(n,t,r)),this.localCache[t]=r,this.notifyServiceWorker(t)))}async _get(t){const r=await this._withRetries(n=>$1(n,t));return this.localCache[t]=r,r}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(r=>Xd(r,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(s=>{const i=Ga(s,!1).getAll();return new Js(i).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const r=[],n=new Set;for(const{fbase_key:s,value:i}of t)n.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),r.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!n.has(s)&&(this.notifyListeners(s,null),r.push(s));return r}notifyListeners(t,r){this.localCache[t]=r;const n=this.listeners[t];if(n)for(const s of Array.from(n))s(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),B1)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Vm.type="LOCAL";const V1=Vm;new Ws(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W1(e,t){return t?Ct(t):(F(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class au extends nu{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return fn(t,this._buildIdpRequest())}_linkToIdToken(t,r){return fn(t,this._buildIdpRequest(r))}_getReauthenticationResolver(t){return fn(t,this._buildIdpRequest())}_buildIdpRequest(t){const r={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(r.idToken=t),r}}function q1(e){return Lm(e.auth,new au(e),e.bypassAuthState)}function K1(e){const{auth:t,user:r}=e;return F(r,t,"internal-error"),N1(r,new au(e),e.bypassAuthState)}async function G1(e){const{auth:t,user:r}=e;return F(r,t,"internal-error"),k1(r,new au(e),e.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wm{constructor(t,r,n,s,i=!1){this.auth=t,this.resolver=n,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(r)?r:[r]}execute(){return new Promise(async(t,r)=>{this.pendingPromise={resolve:t,reject:r};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}})}async onAuthEvent(t){const{urlResponse:r,sessionId:n,postBody:s,tenantId:i,error:o,type:l}=t;if(o){this.reject(o);return}const c={auth:this.auth,requestUri:r,sessionId:n,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(c))}catch(u){this.reject(u)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return q1;case"linkViaPopup":case"linkViaRedirect":return G1;case"reauthViaPopup":case"reauthViaRedirect":return K1;default:dt(this.auth,"internal-error")}}resolve(t){Dt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Dt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J1=new Ws(2e3,1e4);class rn extends Wm{constructor(t,r,n,s,i){super(t,r,s,i),this.provider=n,this.authWindow=null,this.pollId=null,rn.currentPopupAction&&rn.currentPopupAction.cancel(),rn.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return F(t,this.auth,"internal-error"),t}async onExecution(){Dt(this.filter.length===1,"Popup operations only handle one event");const t=iu();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(r=>{this.reject(r)}),this.resolver._isIframeWebStorageSupported(this.auth,r=>{r||this.reject(wt(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(wt(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,rn.currentPopupAction=null}pollUserCancellation(){const t=()=>{var r,n;if(!((n=(r=this.authWindow)===null||r===void 0?void 0:r.window)===null||n===void 0)&&n.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(wt(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,J1.get())};t()}}rn.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q1="pendingRedirect",Li=new Map;class Y1 extends Wm{constructor(t,r,n=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,n),this.eventId=null}async execute(){let t=Li.get(this.auth._key());if(!t){try{const n=await X1(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(n)}catch(r){t=()=>Promise.reject(r)}Li.set(this.auth._key(),t)}return this.bypassAuthState||Li.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const r=await this.auth._redirectUserForId(t.eventId);if(r)return this.user=r,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function X1(e,t){const r=tk(t),n=ek(e);if(!await n._isAvailable())return!1;const s=await n._get(r)==="true";return await n._remove(r),s}function Z1(e,t){Li.set(e._key(),t)}function ek(e){return Ct(e._redirectPersistence)}function tk(e){return Di(Q1,e.config.apiKey,e.name)}async function rk(e,t,r=!1){const n=Ks(e),s=W1(n,t),o=await new Y1(n,s,r).execute();return o&&!r&&(delete o.user._redirectEventId,await n._persistUserIfCurrent(o.user),await n._setRedirectUser(null,t)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nk=10*60*1e3;class sk{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let r=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(t,n)&&(r=!0,this.sendToConsumer(t,n),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!ik(t)||(this.hasHandledPotentialRedirect=!0,r||(this.queuedRedirectEvent=t,r=!0)),r}sendToConsumer(t,r){var n;if(t.error&&!qm(t)){const s=((n=t.error.code)===null||n===void 0?void 0:n.split("auth/")[1])||"internal-error";r.onError(wt(this.auth,s))}else r.onAuthEvent(t)}isEventForConsumer(t,r){const n=r.eventId===null||!!t.eventId&&t.eventId===r.eventId;return r.filter.includes(t.type)&&n}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=nk&&this.cachedEventUids.clear(),this.cachedEventUids.has(Zd(t))}saveEventToCache(t){this.cachedEventUids.add(Zd(t)),this.lastProcessedEventTime=Date.now()}}function Zd(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(t=>t).join("-")}function qm({type:e,error:t}){return e==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function ik(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return qm(e);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ak(e,t={}){return Pn(e,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ok=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,lk=/^https?/;async function ck(e){if(e.config.emulator)return;const{authorizedDomains:t}=await ak(e);for(const r of t)try{if(uk(r))return}catch{}dt(e,"unauthorized-domain")}function uk(e){const t=Wl(),{protocol:r,hostname:n}=new URL(t);if(e.startsWith("chrome-extension://")){const o=new URL(e);return o.hostname===""&&n===""?r==="chrome-extension:"&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):r==="chrome-extension:"&&o.hostname===n}if(!lk.test(r))return!1;if(ok.test(e))return n===e;const s=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(n)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dk=new Ws(3e4,6e4);function ef(){const e=kt().___jsl;if(e!=null&&e.H){for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let r=0;r<e.CP.length;r++)e.CP[r]=null}}function fk(e){return new Promise((t,r)=>{var n,s,i;function o(){ef(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{ef(),r(wt(e,"network-request-failed"))},timeout:dk.get()})}if(!((s=(n=kt().gapi)===null||n===void 0?void 0:n.iframes)===null||s===void 0)&&s.Iframe)t(gapi.iframes.getContext());else if(!((i=kt().gapi)===null||i===void 0)&&i.load)o();else{const l=s1("iframefcb");return kt()[l]=()=>{gapi.load?o():r(wt(e,"network-request-failed"))},Rm(`https://apis.google.com/js/api.js?onload=${l}`).catch(c=>r(c))}}).catch(t=>{throw Mi=null,t})}let Mi=null;function hk(e){return Mi=Mi||fk(e),Mi}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pk=new Ws(5e3,15e3),mk="__/auth/iframe",gk="emulator/auth/iframe",yk={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},xk=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function vk(e){const t=e.config;F(t.authDomain,e,"auth-domain-config-required");const r=t.emulator?eu(t,gk):`https://${e.config.authDomain}/${mk}`,n={apiKey:t.apiKey,appName:e.name,v:Vs},s=xk.get(e.config.apiHost);s&&(n.eid=s);const i=e._getFrameworks();return i.length&&(n.fw=i.join(",")),`${r}?${Hs(n).slice(1)}`}async function wk(e){const t=await hk(e),r=kt().gapi;return F(r,e,"internal-error"),t.open({where:document.body,url:vk(e),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:yk,dontclear:!0},n=>new Promise(async(s,i)=>{await n.restyle({setHideOnLeave:!1});const o=wt(e,"network-request-failed"),l=kt().setTimeout(()=>{i(o)},pk.get());function c(){kt().clearTimeout(l),s(n)}n.ping(c).then(c,()=>{i(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kk={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Nk=500,bk=600,_k="_blank",Ek="http://localhost";class tf{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function jk(e,t,r,n=Nk,s=bk){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-n)/2,0).toString();let l="";const c=Object.assign(Object.assign({},kk),{width:n.toString(),height:s.toString(),top:i,left:o}),u=Se().toLowerCase();r&&(l=Nm(u)?_k:r),km(u)&&(t=t||Ek,c.scrollbars="yes");const d=Object.entries(c).reduce((f,[N,x])=>`${f}${N}=${x},`,"");if(e1(u)&&l!=="_self")return Sk(t||"",l),new tf(null);const p=window.open(t||"",l,d);F(p,e,"popup-blocked");try{p.focus()}catch{}return new tf(p)}function Sk(e,t){const r=document.createElement("a");r.href=e,r.target=t;const n=document.createEvent("MouseEvent");n.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),r.dispatchEvent(n)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ck="__/auth/handler",Ik="emulator/auth/handler",Tk=encodeURIComponent("fac");async function rf(e,t,r,n,s,i){F(e.config.authDomain,e,"auth-domain-config-required"),F(e.config.apiKey,e,"invalid-api-key");const o={apiKey:e.config.apiKey,appName:e.name,authType:r,redirectUrl:n,v:Vs,eventId:s};if(t instanceof Om){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",bv(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(const[d,p]of Object.entries({}))o[d]=p}if(t instanceof Gs){const d=t.getScopes().filter(p=>p!=="");d.length>0&&(o.scopes=d.join(","))}e.tenantId&&(o.tid=e.tenantId);const l=o;for(const d of Object.keys(l))l[d]===void 0&&delete l[d];const c=await e._getAppCheckToken(),u=c?`#${Tk}=${encodeURIComponent(c)}`:"";return`${Rk(e)}?${Hs(l).slice(1)}${u}`}function Rk({config:e}){return e.emulator?eu(e,Ik):`https://${e.authDomain}/${Ck}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lo="webStorageSupport";class Pk{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Fm,this._completeRedirectFn=rk,this._overrideRedirectResult=Z1}async _openPopup(t,r,n,s){var i;Dt((i=this.eventManagers[t._key()])===null||i===void 0?void 0:i.manager,"_initialize() not called before _openPopup()");const o=await rf(t,r,n,Wl(),s);return jk(t,o,iu())}async _openRedirect(t,r,n,s){await this._originValidation(t);const i=await rf(t,r,n,Wl(),s);return D1(i),new Promise(()=>{})}_initialize(t){const r=t._key();if(this.eventManagers[r]){const{manager:s,promise:i}=this.eventManagers[r];return s?Promise.resolve(s):(Dt(i,"If manager is not set, promise should be"),i)}const n=this.initAndGetManager(t);return this.eventManagers[r]={promise:n},n.catch(()=>{delete this.eventManagers[r]}),n}async initAndGetManager(t){const r=await wk(t),n=new sk(t);return r.register("authEvent",s=>(F(s==null?void 0:s.authEvent,t,"invalid-auth-event"),{status:n.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:n},this.iframes[t._key()]=r,n}_isIframeWebStorageSupported(t,r){this.iframes[t._key()].send(Lo,{type:Lo},s=>{var i;const o=(i=s==null?void 0:s[0])===null||i===void 0?void 0:i[Lo];o!==void 0&&r(!!o),dt(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const r=t._key();return this.originValidationPromises[r]||(this.originValidationPromises[r]=ck(t)),this.originValidationPromises[r]}get _shouldInitProactively(){return Sm()||ru()||qa()}}const Ak=Pk;var nf="@firebase/auth",sf="0.23.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ok{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const r=this.auth.onIdTokenChanged(n=>{t((n==null?void 0:n.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,r),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const r=this.internalListeners.get(t);r&&(this.internalListeners.delete(t),r(),this.updateProactiveRefresh())}assertAuthConfigured(){F(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dk(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function Lk(e){Ts(new kn("auth",(t,{options:r})=>{const n=t.getProvider("app").getImmediate(),s=t.getProvider("heartbeat"),i=t.getProvider("app-check-internal"),{apiKey:o,authDomain:l}=n.options;F(o&&!o.includes(":"),"invalid-api-key",{appName:n.name});const c={apiKey:o,authDomain:l,clientPlatform:e,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Cm(e)},u=new c1(n,s,i,c);return d1(u,r),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,r,n)=>{t.getProvider("auth-internal").initialize()})),Ts(new kn("auth-internal",t=>{const r=Ks(t.getProvider("auth").getImmediate());return(n=>new Ok(n))(r)},"PRIVATE").setInstantiationMode("EXPLICIT")),un(nf,sf,Dk(e)),un(nf,sf,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mk=5*60,Uk=am("authIdTokenMaxAge")||Mk;let af=null;const zk=e=>async t=>{const r=t&&await t.getIdTokenResult(),n=r&&(new Date().getTime()-Date.parse(r.issuedAtTime))/1e3;if(n&&n>Uk)return;const s=r==null?void 0:r.token;af!==s&&(af=s,await fetch(e,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function Kl(e=bw()){const t=um(e,"auth");if(t.isInitialized())return t.getImmediate();const r=u1(e,{popupRedirectResolver:Ak,persistence:[V1,P1,Fm]}),n=am("authTokenSyncURL");if(n){const i=zk(n);j1(r,i,()=>i(r.currentUser)),E1(r,o=>i(o))}const s=fv("auth");return s&&f1(r,`http://${s}`),r}Lk("Browser");let of=null,ka=null;function Fk(){const t={apiKey:"AIzaSyBQOcdmwbBh4tI9-3j5_OudffV8Df5p4XI",authDomain:"starlink-suscription.firebaseapp.com",projectId:"starlink-suscription",appId:"1:1051339110973:web:0fe624ae8a2c90744bc854"};try{of=dm(t),ka=Kl(of)}catch{try{ka=Kl()}catch{}}}function Ui(){try{return ka||Kl()}catch{return null}}function Km(e,t){return function(){return e.apply(t,arguments)}}const{toString:$k}=Object.prototype,{getPrototypeOf:ou}=Object,{iterator:Ja,toStringTag:Gm}=Symbol,Qa=(e=>t=>{const r=$k.call(t);return e[r]||(e[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),ft=e=>(e=e.toLowerCase(),t=>Qa(t)===e),Ya=e=>t=>typeof t===e,{isArray:On}=Array,bn=Ya("undefined");function Qs(e){return e!==null&&!bn(e)&&e.constructor!==null&&!bn(e.constructor)&&Fe(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const Jm=ft("ArrayBuffer");function Bk(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&Jm(e.buffer),t}const Hk=Ya("string"),Fe=Ya("function"),Qm=Ya("number"),Ys=e=>e!==null&&typeof e=="object",Vk=e=>e===!0||e===!1,zi=e=>{if(Qa(e)!=="object")return!1;const t=ou(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Gm in e)&&!(Ja in e)},Wk=e=>{if(!Ys(e)||Qs(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},qk=ft("Date"),Kk=ft("File"),Gk=ft("Blob"),Jk=ft("FileList"),Qk=e=>Ys(e)&&Fe(e.pipe),Yk=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||Fe(e.append)&&((t=Qa(e))==="formdata"||t==="object"&&Fe(e.toString)&&e.toString()==="[object FormData]"))},Xk=ft("URLSearchParams"),[Zk,eN,tN,rN]=["ReadableStream","Request","Response","Headers"].map(ft),nN=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Xs(e,t,{allOwnKeys:r=!1}={}){if(e===null||typeof e>"u")return;let n,s;if(typeof e!="object"&&(e=[e]),On(e))for(n=0,s=e.length;n<s;n++)t.call(null,e[n],n,e);else{if(Qs(e))return;const i=r?Object.getOwnPropertyNames(e):Object.keys(e),o=i.length;let l;for(n=0;n<o;n++)l=i[n],t.call(null,e[l],l,e)}}function Ym(e,t){if(Qs(e))return null;t=t.toLowerCase();const r=Object.keys(e);let n=r.length,s;for(;n-- >0;)if(s=r[n],t===s.toLowerCase())return s;return null}const Er=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Xm=e=>!bn(e)&&e!==Er;function Gl(){const{caseless:e,skipUndefined:t}=Xm(this)&&this||{},r={},n=(s,i)=>{if(i==="__proto__"||i==="constructor"||i==="prototype")return;const o=e&&Ym(r,i)||i;zi(r[o])&&zi(s)?r[o]=Gl(r[o],s):zi(s)?r[o]=Gl({},s):On(s)?r[o]=s.slice():(!t||!bn(s))&&(r[o]=s)};for(let s=0,i=arguments.length;s<i;s++)arguments[s]&&Xs(arguments[s],n);return r}const sN=(e,t,r,{allOwnKeys:n}={})=>(Xs(t,(s,i)=>{r&&Fe(s)?Object.defineProperty(e,i,{value:Km(s,r),writable:!0,enumerable:!0,configurable:!0}):Object.defineProperty(e,i,{value:s,writable:!0,enumerable:!0,configurable:!0})},{allOwnKeys:n}),e),iN=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),aN=(e,t,r,n)=>{e.prototype=Object.create(t.prototype,n),Object.defineProperty(e.prototype,"constructor",{value:e,writable:!0,enumerable:!1,configurable:!0}),Object.defineProperty(e,"super",{value:t.prototype}),r&&Object.assign(e.prototype,r)},oN=(e,t,r,n)=>{let s,i,o;const l={};if(t=t||{},e==null)return t;do{for(s=Object.getOwnPropertyNames(e),i=s.length;i-- >0;)o=s[i],(!n||n(o,e,t))&&!l[o]&&(t[o]=e[o],l[o]=!0);e=r!==!1&&ou(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t},lN=(e,t,r)=>{e=String(e),(r===void 0||r>e.length)&&(r=e.length),r-=t.length;const n=e.indexOf(t,r);return n!==-1&&n===r},cN=e=>{if(!e)return null;if(On(e))return e;let t=e.length;if(!Qm(t))return null;const r=new Array(t);for(;t-- >0;)r[t]=e[t];return r},uN=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&ou(Uint8Array)),dN=(e,t)=>{const n=(e&&e[Ja]).call(e);let s;for(;(s=n.next())&&!s.done;){const i=s.value;t.call(e,i[0],i[1])}},fN=(e,t)=>{let r;const n=[];for(;(r=e.exec(t))!==null;)n.push(r);return n},hN=ft("HTMLFormElement"),pN=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,n,s){return n.toUpperCase()+s}),lf=(({hasOwnProperty:e})=>(t,r)=>e.call(t,r))(Object.prototype),mN=ft("RegExp"),Zm=(e,t)=>{const r=Object.getOwnPropertyDescriptors(e),n={};Xs(r,(s,i)=>{let o;(o=t(s,i,e))!==!1&&(n[i]=o||s)}),Object.defineProperties(e,n)},gN=e=>{Zm(e,(t,r)=>{if(Fe(e)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const n=e[r];if(Fe(n)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},yN=(e,t)=>{const r={},n=s=>{s.forEach(i=>{r[i]=!0})};return On(e)?n(e):n(String(e).split(t)),r},xN=()=>{},vN=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function wN(e){return!!(e&&Fe(e.append)&&e[Gm]==="FormData"&&e[Ja])}const kN=e=>{const t=new Array(10),r=(n,s)=>{if(Ys(n)){if(t.indexOf(n)>=0)return;if(Qs(n))return n;if(!("toJSON"in n)){t[s]=n;const i=On(n)?[]:{};return Xs(n,(o,l)=>{const c=r(o,s+1);!bn(c)&&(i[l]=c)}),t[s]=void 0,i}}return n};return r(e,0)},NN=ft("AsyncFunction"),bN=e=>e&&(Ys(e)||Fe(e))&&Fe(e.then)&&Fe(e.catch),e0=((e,t)=>e?setImmediate:t?((r,n)=>(Er.addEventListener("message",({source:s,data:i})=>{s===Er&&i===r&&n.length&&n.shift()()},!1),s=>{n.push(s),Er.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",Fe(Er.postMessage)),_N=typeof queueMicrotask<"u"?queueMicrotask.bind(Er):typeof process<"u"&&process.nextTick||e0,EN=e=>e!=null&&Fe(e[Ja]),E={isArray:On,isArrayBuffer:Jm,isBuffer:Qs,isFormData:Yk,isArrayBufferView:Bk,isString:Hk,isNumber:Qm,isBoolean:Vk,isObject:Ys,isPlainObject:zi,isEmptyObject:Wk,isReadableStream:Zk,isRequest:eN,isResponse:tN,isHeaders:rN,isUndefined:bn,isDate:qk,isFile:Kk,isBlob:Gk,isRegExp:mN,isFunction:Fe,isStream:Qk,isURLSearchParams:Xk,isTypedArray:uN,isFileList:Jk,forEach:Xs,merge:Gl,extend:sN,trim:nN,stripBOM:iN,inherits:aN,toFlatObject:oN,kindOf:Qa,kindOfTest:ft,endsWith:lN,toArray:cN,forEachEntry:dN,matchAll:fN,isHTMLForm:hN,hasOwnProperty:lf,hasOwnProp:lf,reduceDescriptors:Zm,freezeMethods:gN,toObjectSet:yN,toCamelCase:pN,noop:xN,toFiniteNumber:vN,findKey:Ym,global:Er,isContextDefined:Xm,isSpecCompliantForm:wN,toJSONObject:kN,isAsyncFn:NN,isThenable:bN,setImmediate:e0,asap:_N,isIterable:EN};let z=class t0 extends Error{static from(t,r,n,s,i,o){const l=new t0(t.message,r||t.code,n,s,i);return l.cause=t,l.name=t.name,o&&Object.assign(l,o),l}constructor(t,r,n,s,i){super(t),this.name="AxiosError",this.isAxiosError=!0,r&&(this.code=r),n&&(this.config=n),s&&(this.request=s),i&&(this.response=i,this.status=i.status)}toJSON(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:E.toJSONObject(this.config),code:this.code,status:this.status}}};z.ERR_BAD_OPTION_VALUE="ERR_BAD_OPTION_VALUE";z.ERR_BAD_OPTION="ERR_BAD_OPTION";z.ECONNABORTED="ECONNABORTED";z.ETIMEDOUT="ETIMEDOUT";z.ERR_NETWORK="ERR_NETWORK";z.ERR_FR_TOO_MANY_REDIRECTS="ERR_FR_TOO_MANY_REDIRECTS";z.ERR_DEPRECATED="ERR_DEPRECATED";z.ERR_BAD_RESPONSE="ERR_BAD_RESPONSE";z.ERR_BAD_REQUEST="ERR_BAD_REQUEST";z.ERR_CANCELED="ERR_CANCELED";z.ERR_NOT_SUPPORT="ERR_NOT_SUPPORT";z.ERR_INVALID_URL="ERR_INVALID_URL";const jN=null;function Jl(e){return E.isPlainObject(e)||E.isArray(e)}function r0(e){return E.endsWith(e,"[]")?e.slice(0,-2):e}function cf(e,t,r){return e?e.concat(t).map(function(s,i){return s=r0(s),!r&&i?"["+s+"]":s}).join(r?".":""):t}function SN(e){return E.isArray(e)&&!e.some(Jl)}const CN=E.toFlatObject(E,{},null,function(t){return/^is[A-Z]/.test(t)});function Xa(e,t,r){if(!E.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,r=E.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(g,w){return!E.isUndefined(w[g])});const n=r.metaTokens,s=r.visitor||d,i=r.dots,o=r.indexes,c=(r.Blob||typeof Blob<"u"&&Blob)&&E.isSpecCompliantForm(t);if(!E.isFunction(s))throw new TypeError("visitor must be a function");function u(x){if(x===null)return"";if(E.isDate(x))return x.toISOString();if(E.isBoolean(x))return x.toString();if(!c&&E.isBlob(x))throw new z("Blob is not supported. Use a Buffer instead.");return E.isArrayBuffer(x)||E.isTypedArray(x)?c&&typeof Blob=="function"?new Blob([x]):Buffer.from(x):x}function d(x,g,w){let m=x;if(x&&!w&&typeof x=="object"){if(E.endsWith(g,"{}"))g=n?g:g.slice(0,-2),x=JSON.stringify(x);else if(E.isArray(x)&&SN(x)||(E.isFileList(x)||E.endsWith(g,"[]"))&&(m=E.toArray(x)))return g=r0(g),m.forEach(function(y,b){!(E.isUndefined(y)||y===null)&&t.append(o===!0?cf([g],b,i):o===null?g:g+"[]",u(y))}),!1}return Jl(x)?!0:(t.append(cf(w,g,i),u(x)),!1)}const p=[],f=Object.assign(CN,{defaultVisitor:d,convertValue:u,isVisitable:Jl});function N(x,g){if(!E.isUndefined(x)){if(p.indexOf(x)!==-1)throw Error("Circular reference detected in "+g.join("."));p.push(x),E.forEach(x,function(m,h){(!(E.isUndefined(m)||m===null)&&s.call(t,m,E.isString(h)?h.trim():h,g,f))===!0&&N(m,g?g.concat(h):[h])}),p.pop()}}if(!E.isObject(e))throw new TypeError("data must be an object");return N(e),t}function uf(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(n){return t[n]})}function lu(e,t){this._pairs=[],e&&Xa(e,this,t)}const n0=lu.prototype;n0.append=function(t,r){this._pairs.push([t,r])};n0.toString=function(t){const r=t?function(n){return t.call(this,n,uf)}:uf;return this._pairs.map(function(s){return r(s[0])+"="+r(s[1])},"").join("&")};function IN(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function s0(e,t,r){if(!t)return e;const n=r&&r.encode||IN,s=E.isFunction(r)?{serialize:r}:r,i=s&&s.serialize;let o;if(i?o=i(t,s):o=E.isURLSearchParams(t)?t.toString():new lu(t,s).toString(n),o){const l=e.indexOf("#");l!==-1&&(e=e.slice(0,l)),e+=(e.indexOf("?")===-1?"?":"&")+o}return e}class df{constructor(){this.handlers=[]}use(t,r,n){return this.handlers.push({fulfilled:t,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){E.forEach(this.handlers,function(n){n!==null&&t(n)})}}const cu={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1,legacyInterceptorReqResOrdering:!0},TN=typeof URLSearchParams<"u"?URLSearchParams:lu,RN=typeof FormData<"u"?FormData:null,PN=typeof Blob<"u"?Blob:null,AN={isBrowser:!0,classes:{URLSearchParams:TN,FormData:RN,Blob:PN},protocols:["http","https","file","blob","url","data"]},uu=typeof window<"u"&&typeof document<"u",Ql=typeof navigator=="object"&&navigator||void 0,ON=uu&&(!Ql||["ReactNative","NativeScript","NS"].indexOf(Ql.product)<0),DN=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",LN=uu&&window.location.href||"http://localhost",MN=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:uu,hasStandardBrowserEnv:ON,hasStandardBrowserWebWorkerEnv:DN,navigator:Ql,origin:LN},Symbol.toStringTag,{value:"Module"})),Ee={...MN,...AN};function UN(e,t){return Xa(e,new Ee.classes.URLSearchParams,{visitor:function(r,n,s,i){return Ee.isNode&&E.isBuffer(r)?(this.append(n,r.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)},...t})}function zN(e){return E.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function FN(e){const t={},r=Object.keys(e);let n;const s=r.length;let i;for(n=0;n<s;n++)i=r[n],t[i]=e[i];return t}function i0(e){function t(r,n,s,i){let o=r[i++];if(o==="__proto__")return!0;const l=Number.isFinite(+o),c=i>=r.length;return o=!o&&E.isArray(s)?s.length:o,c?(E.hasOwnProp(s,o)?s[o]=[s[o],n]:s[o]=n,!l):((!s[o]||!E.isObject(s[o]))&&(s[o]=[]),t(r,n,s[o],i)&&E.isArray(s[o])&&(s[o]=FN(s[o])),!l)}if(E.isFormData(e)&&E.isFunction(e.entries)){const r={};return E.forEachEntry(e,(n,s)=>{t(zN(n),s,r,0)}),r}return null}function $N(e,t,r){if(E.isString(e))try{return(t||JSON.parse)(e),E.trim(e)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(e)}const Zs={transitional:cu,adapter:["xhr","http","fetch"],transformRequest:[function(t,r){const n=r.getContentType()||"",s=n.indexOf("application/json")>-1,i=E.isObject(t);if(i&&E.isHTMLForm(t)&&(t=new FormData(t)),E.isFormData(t))return s?JSON.stringify(i0(t)):t;if(E.isArrayBuffer(t)||E.isBuffer(t)||E.isStream(t)||E.isFile(t)||E.isBlob(t)||E.isReadableStream(t))return t;if(E.isArrayBufferView(t))return t.buffer;if(E.isURLSearchParams(t))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let l;if(i){if(n.indexOf("application/x-www-form-urlencoded")>-1)return UN(t,this.formSerializer).toString();if((l=E.isFileList(t))||n.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return Xa(l?{"files[]":t}:t,c&&new c,this.formSerializer)}}return i||s?(r.setContentType("application/json",!1),$N(t)):t}],transformResponse:[function(t){const r=this.transitional||Zs.transitional,n=r&&r.forcedJSONParsing,s=this.responseType==="json";if(E.isResponse(t)||E.isReadableStream(t))return t;if(t&&E.isString(t)&&(n&&!this.responseType||s)){const o=!(r&&r.silentJSONParsing)&&s;try{return JSON.parse(t,this.parseReviver)}catch(l){if(o)throw l.name==="SyntaxError"?z.from(l,z.ERR_BAD_RESPONSE,this,null,this.response):l}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Ee.classes.FormData,Blob:Ee.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};E.forEach(["delete","get","head","post","put","patch"],e=>{Zs.headers[e]={}});const BN=E.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),HN=e=>{const t={};let r,n,s;return e&&e.split(`
`).forEach(function(o){s=o.indexOf(":"),r=o.substring(0,s).trim().toLowerCase(),n=o.substring(s+1).trim(),!(!r||t[r]&&BN[r])&&(r==="set-cookie"?t[r]?t[r].push(n):t[r]=[n]:t[r]=t[r]?t[r]+", "+n:n)}),t},ff=Symbol("internals");function Vn(e){return e&&String(e).trim().toLowerCase()}function Fi(e){return e===!1||e==null?e:E.isArray(e)?e.map(Fi):String(e)}function VN(e){const t=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(e);)t[n[1]]=n[2];return t}const WN=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function Mo(e,t,r,n,s){if(E.isFunction(n))return n.call(this,t,r);if(s&&(t=r),!!E.isString(t)){if(E.isString(n))return t.indexOf(n)!==-1;if(E.isRegExp(n))return n.test(t)}}function qN(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,r,n)=>r.toUpperCase()+n)}function KN(e,t){const r=E.toCamelCase(" "+t);["get","set","has"].forEach(n=>{Object.defineProperty(e,n+r,{value:function(s,i,o){return this[n].call(this,t,s,i,o)},configurable:!0})})}let $e=class{constructor(t){t&&this.set(t)}set(t,r,n){const s=this;function i(l,c,u){const d=Vn(c);if(!d)throw new Error("header name must be a non-empty string");const p=E.findKey(s,d);(!p||s[p]===void 0||u===!0||u===void 0&&s[p]!==!1)&&(s[p||c]=Fi(l))}const o=(l,c)=>E.forEach(l,(u,d)=>i(u,d,c));if(E.isPlainObject(t)||t instanceof this.constructor)o(t,r);else if(E.isString(t)&&(t=t.trim())&&!WN(t))o(HN(t),r);else if(E.isObject(t)&&E.isIterable(t)){let l={},c,u;for(const d of t){if(!E.isArray(d))throw TypeError("Object iterator must return a key-value pair");l[u=d[0]]=(c=l[u])?E.isArray(c)?[...c,d[1]]:[c,d[1]]:d[1]}o(l,r)}else t!=null&&i(r,t,n);return this}get(t,r){if(t=Vn(t),t){const n=E.findKey(this,t);if(n){const s=this[n];if(!r)return s;if(r===!0)return VN(s);if(E.isFunction(r))return r.call(this,s,n);if(E.isRegExp(r))return r.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,r){if(t=Vn(t),t){const n=E.findKey(this,t);return!!(n&&this[n]!==void 0&&(!r||Mo(this,this[n],n,r)))}return!1}delete(t,r){const n=this;let s=!1;function i(o){if(o=Vn(o),o){const l=E.findKey(n,o);l&&(!r||Mo(n,n[l],l,r))&&(delete n[l],s=!0)}}return E.isArray(t)?t.forEach(i):i(t),s}clear(t){const r=Object.keys(this);let n=r.length,s=!1;for(;n--;){const i=r[n];(!t||Mo(this,this[i],i,t,!0))&&(delete this[i],s=!0)}return s}normalize(t){const r=this,n={};return E.forEach(this,(s,i)=>{const o=E.findKey(n,i);if(o){r[o]=Fi(s),delete r[i];return}const l=t?qN(i):String(i).trim();l!==i&&delete r[i],r[l]=Fi(s),n[l]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const r=Object.create(null);return E.forEach(this,(n,s)=>{n!=null&&n!==!1&&(r[s]=t&&E.isArray(n)?n.join(", "):n)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,r])=>t+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...r){const n=new this(t);return r.forEach(s=>n.set(s)),n}static accessor(t){const n=(this[ff]=this[ff]={accessors:{}}).accessors,s=this.prototype;function i(o){const l=Vn(o);n[l]||(KN(s,o),n[l]=!0)}return E.isArray(t)?t.forEach(i):i(t),this}};$e.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);E.reduceDescriptors($e.prototype,({value:e},t)=>{let r=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(n){this[r]=n}}});E.freezeMethods($e);function Uo(e,t){const r=this||Zs,n=t||r,s=$e.from(n.headers);let i=n.data;return E.forEach(e,function(l){i=l.call(r,i,s.normalize(),t?t.status:void 0)}),s.normalize(),i}function a0(e){return!!(e&&e.__CANCEL__)}let ei=class extends z{constructor(t,r,n){super(t??"canceled",z.ERR_CANCELED,r,n),this.name="CanceledError",this.__CANCEL__=!0}};function o0(e,t,r){const n=r.config.validateStatus;!r.status||!n||n(r.status)?e(r):t(new z("Request failed with status code "+r.status,[z.ERR_BAD_REQUEST,z.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function GN(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function JN(e,t){e=e||10;const r=new Array(e),n=new Array(e);let s=0,i=0,o;return t=t!==void 0?t:1e3,function(c){const u=Date.now(),d=n[i];o||(o=u),r[s]=c,n[s]=u;let p=i,f=0;for(;p!==s;)f+=r[p++],p=p%e;if(s=(s+1)%e,s===i&&(i=(i+1)%e),u-o<t)return;const N=d&&u-d;return N?Math.round(f*1e3/N):void 0}}function QN(e,t){let r=0,n=1e3/t,s,i;const o=(u,d=Date.now())=>{r=d,s=null,i&&(clearTimeout(i),i=null),e(...u)};return[(...u)=>{const d=Date.now(),p=d-r;p>=n?o(u,d):(s=u,i||(i=setTimeout(()=>{i=null,o(s)},n-p)))},()=>s&&o(s)]}const Na=(e,t,r=3)=>{let n=0;const s=JN(50,250);return QN(i=>{const o=i.loaded,l=i.lengthComputable?i.total:void 0,c=o-n,u=s(c),d=o<=l;n=o;const p={loaded:o,total:l,progress:l?o/l:void 0,bytes:c,rate:u||void 0,estimated:u&&l&&d?(l-o)/u:void 0,event:i,lengthComputable:l!=null,[t?"download":"upload"]:!0};e(p)},r)},hf=(e,t)=>{const r=e!=null;return[n=>t[0]({lengthComputable:r,total:e,loaded:n}),t[1]]},pf=e=>(...t)=>E.asap(()=>e(...t)),YN=Ee.hasStandardBrowserEnv?((e,t)=>r=>(r=new URL(r,Ee.origin),e.protocol===r.protocol&&e.host===r.host&&(t||e.port===r.port)))(new URL(Ee.origin),Ee.navigator&&/(msie|trident)/i.test(Ee.navigator.userAgent)):()=>!0,XN=Ee.hasStandardBrowserEnv?{write(e,t,r,n,s,i,o){if(typeof document>"u")return;const l=[`${e}=${encodeURIComponent(t)}`];E.isNumber(r)&&l.push(`expires=${new Date(r).toUTCString()}`),E.isString(n)&&l.push(`path=${n}`),E.isString(s)&&l.push(`domain=${s}`),i===!0&&l.push("secure"),E.isString(o)&&l.push(`SameSite=${o}`),document.cookie=l.join("; ")},read(e){if(typeof document>"u")return null;const t=document.cookie.match(new RegExp("(?:^|; )"+e+"=([^;]*)"));return t?decodeURIComponent(t[1]):null},remove(e){this.write(e,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function ZN(e){return typeof e!="string"?!1:/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function eb(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function l0(e,t,r){let n=!ZN(t);return e&&(n||r==!1)?eb(e,t):t}const mf=e=>e instanceof $e?{...e}:e;function Ur(e,t){t=t||{};const r={};function n(u,d,p,f){return E.isPlainObject(u)&&E.isPlainObject(d)?E.merge.call({caseless:f},u,d):E.isPlainObject(d)?E.merge({},d):E.isArray(d)?d.slice():d}function s(u,d,p,f){if(E.isUndefined(d)){if(!E.isUndefined(u))return n(void 0,u,p,f)}else return n(u,d,p,f)}function i(u,d){if(!E.isUndefined(d))return n(void 0,d)}function o(u,d){if(E.isUndefined(d)){if(!E.isUndefined(u))return n(void 0,u)}else return n(void 0,d)}function l(u,d,p){if(p in t)return n(u,d);if(p in e)return n(void 0,u)}const c={url:i,method:i,data:i,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:l,headers:(u,d,p)=>s(mf(u),mf(d),p,!0)};return E.forEach(Object.keys({...e,...t}),function(d){if(d==="__proto__"||d==="constructor"||d==="prototype")return;const p=E.hasOwnProp(c,d)?c[d]:s,f=p(e[d],t[d],d);E.isUndefined(f)&&p!==l||(r[d]=f)}),r}const c0=e=>{const t=Ur({},e);let{data:r,withXSRFToken:n,xsrfHeaderName:s,xsrfCookieName:i,headers:o,auth:l}=t;if(t.headers=o=$e.from(o),t.url=s0(l0(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),l&&o.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):""))),E.isFormData(r)){if(Ee.hasStandardBrowserEnv||Ee.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if(E.isFunction(r.getHeaders)){const c=r.getHeaders(),u=["content-type","content-length"];Object.entries(c).forEach(([d,p])=>{u.includes(d.toLowerCase())&&o.set(d,p)})}}if(Ee.hasStandardBrowserEnv&&(n&&E.isFunction(n)&&(n=n(t)),n||n!==!1&&YN(t.url))){const c=s&&i&&XN.read(i);c&&o.set(s,c)}return t},tb=typeof XMLHttpRequest<"u",rb=tb&&function(e){return new Promise(function(r,n){const s=c0(e);let i=s.data;const o=$e.from(s.headers).normalize();let{responseType:l,onUploadProgress:c,onDownloadProgress:u}=s,d,p,f,N,x;function g(){N&&N(),x&&x(),s.cancelToken&&s.cancelToken.unsubscribe(d),s.signal&&s.signal.removeEventListener("abort",d)}let w=new XMLHttpRequest;w.open(s.method.toUpperCase(),s.url,!0),w.timeout=s.timeout;function m(){if(!w)return;const y=$e.from("getAllResponseHeaders"in w&&w.getAllResponseHeaders()),j={data:!l||l==="text"||l==="json"?w.responseText:w.response,status:w.status,statusText:w.statusText,headers:y,config:e,request:w};o0(function(v){r(v),g()},function(v){n(v),g()},j),w=null}"onloadend"in w?w.onloadend=m:w.onreadystatechange=function(){!w||w.readyState!==4||w.status===0&&!(w.responseURL&&w.responseURL.indexOf("file:")===0)||setTimeout(m)},w.onabort=function(){w&&(n(new z("Request aborted",z.ECONNABORTED,e,w)),w=null)},w.onerror=function(b){const j=b&&b.message?b.message:"Network Error",_=new z(j,z.ERR_NETWORK,e,w);_.event=b||null,n(_),w=null},w.ontimeout=function(){let b=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const j=s.transitional||cu;s.timeoutErrorMessage&&(b=s.timeoutErrorMessage),n(new z(b,j.clarifyTimeoutError?z.ETIMEDOUT:z.ECONNABORTED,e,w)),w=null},i===void 0&&o.setContentType(null),"setRequestHeader"in w&&E.forEach(o.toJSON(),function(b,j){w.setRequestHeader(j,b)}),E.isUndefined(s.withCredentials)||(w.withCredentials=!!s.withCredentials),l&&l!=="json"&&(w.responseType=s.responseType),u&&([f,x]=Na(u,!0),w.addEventListener("progress",f)),c&&w.upload&&([p,N]=Na(c),w.upload.addEventListener("progress",p),w.upload.addEventListener("loadend",N)),(s.cancelToken||s.signal)&&(d=y=>{w&&(n(!y||y.type?new ei(null,e,w):y),w.abort(),w=null)},s.cancelToken&&s.cancelToken.subscribe(d),s.signal&&(s.signal.aborted?d():s.signal.addEventListener("abort",d)));const h=GN(s.url);if(h&&Ee.protocols.indexOf(h)===-1){n(new z("Unsupported protocol "+h+":",z.ERR_BAD_REQUEST,e));return}w.send(i||null)})},nb=(e,t)=>{const{length:r}=e=e?e.filter(Boolean):[];if(t||r){let n=new AbortController,s;const i=function(u){if(!s){s=!0,l();const d=u instanceof Error?u:this.reason;n.abort(d instanceof z?d:new ei(d instanceof Error?d.message:d))}};let o=t&&setTimeout(()=>{o=null,i(new z(`timeout of ${t}ms exceeded`,z.ETIMEDOUT))},t);const l=()=>{e&&(o&&clearTimeout(o),o=null,e.forEach(u=>{u.unsubscribe?u.unsubscribe(i):u.removeEventListener("abort",i)}),e=null)};e.forEach(u=>u.addEventListener("abort",i));const{signal:c}=n;return c.unsubscribe=()=>E.asap(l),c}},sb=function*(e,t){let r=e.byteLength;if(r<t){yield e;return}let n=0,s;for(;n<r;)s=n+t,yield e.slice(n,s),n=s},ib=async function*(e,t){for await(const r of ab(e))yield*sb(r,t)},ab=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:r,value:n}=await t.read();if(r)break;yield n}}finally{await t.cancel()}},gf=(e,t,r,n)=>{const s=ib(e,t);let i=0,o,l=c=>{o||(o=!0,n&&n(c))};return new ReadableStream({async pull(c){try{const{done:u,value:d}=await s.next();if(u){l(),c.close();return}let p=d.byteLength;if(r){let f=i+=p;r(f)}c.enqueue(new Uint8Array(d))}catch(u){throw l(u),u}},cancel(c){return l(c),s.return()}},{highWaterMark:2})},yf=64*1024,{isFunction:wi}=E,ob=(({Request:e,Response:t})=>({Request:e,Response:t}))(E.global),{ReadableStream:xf,TextEncoder:vf}=E.global,wf=(e,...t)=>{try{return!!e(...t)}catch{return!1}},lb=e=>{e=E.merge.call({skipUndefined:!0},ob,e);const{fetch:t,Request:r,Response:n}=e,s=t?wi(t):typeof fetch=="function",i=wi(r),o=wi(n);if(!s)return!1;const l=s&&wi(xf),c=s&&(typeof vf=="function"?(x=>g=>x.encode(g))(new vf):async x=>new Uint8Array(await new r(x).arrayBuffer())),u=i&&l&&wf(()=>{let x=!1;const g=new r(Ee.origin,{body:new xf,method:"POST",get duplex(){return x=!0,"half"}}).headers.has("Content-Type");return x&&!g}),d=o&&l&&wf(()=>E.isReadableStream(new n("").body)),p={stream:d&&(x=>x.body)};s&&["text","arrayBuffer","blob","formData","stream"].forEach(x=>{!p[x]&&(p[x]=(g,w)=>{let m=g&&g[x];if(m)return m.call(g);throw new z(`Response type '${x}' is not supported`,z.ERR_NOT_SUPPORT,w)})});const f=async x=>{if(x==null)return 0;if(E.isBlob(x))return x.size;if(E.isSpecCompliantForm(x))return(await new r(Ee.origin,{method:"POST",body:x}).arrayBuffer()).byteLength;if(E.isArrayBufferView(x)||E.isArrayBuffer(x))return x.byteLength;if(E.isURLSearchParams(x)&&(x=x+""),E.isString(x))return(await c(x)).byteLength},N=async(x,g)=>{const w=E.toFiniteNumber(x.getContentLength());return w??f(g)};return async x=>{let{url:g,method:w,data:m,signal:h,cancelToken:y,timeout:b,onDownloadProgress:j,onUploadProgress:_,responseType:v,headers:S,withCredentials:T="same-origin",fetchOptions:D}=c0(x),J=t||fetch;v=v?(v+"").toLowerCase():"text";let K=nb([h,y&&y.toAbortSignal()],b),re=null;const R=K&&K.unsubscribe&&(()=>{K.unsubscribe()});let $;try{if(_&&u&&w!=="get"&&w!=="head"&&($=await N(S,m))!==0){let L=new r(g,{method:"POST",body:m,duplex:"half"}),B;if(E.isFormData(m)&&(B=L.headers.get("content-type"))&&S.setContentType(B),L.body){const[Pe,X]=hf($,Na(pf(_)));m=gf(L.body,yf,Pe,X)}}E.isString(T)||(T=T?"include":"omit");const M=i&&"credentials"in r.prototype,q={...D,signal:K,method:w.toUpperCase(),headers:S.normalize().toJSON(),body:m,duplex:"half",credentials:M?T:void 0};re=i&&new r(g,q);let C=await(i?J(re,D):J(g,q));const A=d&&(v==="stream"||v==="response");if(d&&(j||A&&R)){const L={};["status","statusText","headers"].forEach(ht=>{L[ht]=C[ht]});const B=E.toFiniteNumber(C.headers.get("content-length")),[Pe,X]=j&&hf(B,Na(pf(j),!0))||[];C=new n(gf(C.body,yf,Pe,()=>{X&&X(),R&&R()}),L)}v=v||"text";let P=await p[E.findKey(p,v)||"text"](C,x);return!A&&R&&R(),await new Promise((L,B)=>{o0(L,B,{data:P,headers:$e.from(C.headers),status:C.status,statusText:C.statusText,config:x,request:re})})}catch(M){throw R&&R(),M&&M.name==="TypeError"&&/Load failed|fetch/i.test(M.message)?Object.assign(new z("Network Error",z.ERR_NETWORK,x,re,M&&M.response),{cause:M.cause||M}):z.from(M,M&&M.code,x,re,M&&M.response)}}},cb=new Map,u0=e=>{let t=e&&e.env||{};const{fetch:r,Request:n,Response:s}=t,i=[n,s,r];let o=i.length,l=o,c,u,d=cb;for(;l--;)c=i[l],u=d.get(c),u===void 0&&d.set(c,u=l?new Map:lb(t)),d=u;return u};u0();const du={http:jN,xhr:rb,fetch:{get:u0}};E.forEach(du,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const kf=e=>`- ${e}`,ub=e=>E.isFunction(e)||e===null||e===!1;function db(e,t){e=E.isArray(e)?e:[e];const{length:r}=e;let n,s;const i={};for(let o=0;o<r;o++){n=e[o];let l;if(s=n,!ub(n)&&(s=du[(l=String(n)).toLowerCase()],s===void 0))throw new z(`Unknown adapter '${l}'`);if(s&&(E.isFunction(s)||(s=s.get(t))))break;i[l||"#"+o]=s}if(!s){const o=Object.entries(i).map(([c,u])=>`adapter ${c} `+(u===!1?"is not supported by the environment":"is not available in the build"));let l=r?o.length>1?`since :
`+o.map(kf).join(`
`):" "+kf(o[0]):"as no adapter specified";throw new z("There is no suitable adapter to dispatch the request "+l,"ERR_NOT_SUPPORT")}return s}const d0={getAdapter:db,adapters:du};function zo(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new ei(null,e)}function Nf(e){return zo(e),e.headers=$e.from(e.headers),e.data=Uo.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),d0.getAdapter(e.adapter||Zs.adapter,e)(e).then(function(n){return zo(e),n.data=Uo.call(e,e.transformResponse,n),n.headers=$e.from(n.headers),n},function(n){return a0(n)||(zo(e),n&&n.response&&(n.response.data=Uo.call(e,e.transformResponse,n.response),n.response.headers=$e.from(n.response.headers))),Promise.reject(n)})}const f0="1.13.5",Za={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{Za[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});const bf={};Za.transitional=function(t,r,n){function s(i,o){return"[Axios v"+f0+"] Transitional option '"+i+"'"+o+(n?". "+n:"")}return(i,o,l)=>{if(t===!1)throw new z(s(o," has been removed"+(r?" in "+r:"")),z.ERR_DEPRECATED);return r&&!bf[o]&&(bf[o]=!0,console.warn(s(o," has been deprecated since v"+r+" and will be removed in the near future"))),t?t(i,o,l):!0}};Za.spelling=function(t){return(r,n)=>(console.warn(`${n} is likely a misspelling of ${t}`),!0)};function fb(e,t,r){if(typeof e!="object")throw new z("options must be an object",z.ERR_BAD_OPTION_VALUE);const n=Object.keys(e);let s=n.length;for(;s-- >0;){const i=n[s],o=t[i];if(o){const l=e[i],c=l===void 0||o(l,i,e);if(c!==!0)throw new z("option "+i+" must be "+c,z.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new z("Unknown option "+i,z.ERR_BAD_OPTION)}}const $i={assertOptions:fb,validators:Za},Je=$i.validators;let Ir=class{constructor(t){this.defaults=t||{},this.interceptors={request:new df,response:new df}}async request(t,r){try{return await this._request(t,r)}catch(n){if(n instanceof Error){let s={};Error.captureStackTrace?Error.captureStackTrace(s):s=new Error;const i=s.stack?s.stack.replace(/^.+\n/,""):"";try{n.stack?i&&!String(n.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+i):n.stack=i}catch{}}throw n}}_request(t,r){typeof t=="string"?(r=r||{},r.url=t):r=t||{},r=Ur(this.defaults,r);const{transitional:n,paramsSerializer:s,headers:i}=r;n!==void 0&&$i.assertOptions(n,{silentJSONParsing:Je.transitional(Je.boolean),forcedJSONParsing:Je.transitional(Je.boolean),clarifyTimeoutError:Je.transitional(Je.boolean),legacyInterceptorReqResOrdering:Je.transitional(Je.boolean)},!1),s!=null&&(E.isFunction(s)?r.paramsSerializer={serialize:s}:$i.assertOptions(s,{encode:Je.function,serialize:Je.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),$i.assertOptions(r,{baseUrl:Je.spelling("baseURL"),withXsrfToken:Je.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let o=i&&E.merge(i.common,i[r.method]);i&&E.forEach(["delete","get","head","post","put","patch","common"],x=>{delete i[x]}),r.headers=$e.concat(o,i);const l=[];let c=!0;this.interceptors.request.forEach(function(g){if(typeof g.runWhen=="function"&&g.runWhen(r)===!1)return;c=c&&g.synchronous;const w=r.transitional||cu;w&&w.legacyInterceptorReqResOrdering?l.unshift(g.fulfilled,g.rejected):l.push(g.fulfilled,g.rejected)});const u=[];this.interceptors.response.forEach(function(g){u.push(g.fulfilled,g.rejected)});let d,p=0,f;if(!c){const x=[Nf.bind(this),void 0];for(x.unshift(...l),x.push(...u),f=x.length,d=Promise.resolve(r);p<f;)d=d.then(x[p++],x[p++]);return d}f=l.length;let N=r;for(;p<f;){const x=l[p++],g=l[p++];try{N=x(N)}catch(w){g.call(this,w);break}}try{d=Nf.call(this,N)}catch(x){return Promise.reject(x)}for(p=0,f=u.length;p<f;)d=d.then(u[p++],u[p++]);return d}getUri(t){t=Ur(this.defaults,t);const r=l0(t.baseURL,t.url,t.allowAbsoluteUrls);return s0(r,t.params,t.paramsSerializer)}};E.forEach(["delete","get","head","options"],function(t){Ir.prototype[t]=function(r,n){return this.request(Ur(n||{},{method:t,url:r,data:(n||{}).data}))}});E.forEach(["post","put","patch"],function(t){function r(n){return function(i,o,l){return this.request(Ur(l||{},{method:t,headers:n?{"Content-Type":"multipart/form-data"}:{},url:i,data:o}))}}Ir.prototype[t]=r(),Ir.prototype[t+"Form"]=r(!0)});let hb=class h0{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(i){r=i});const n=this;this.promise.then(s=>{if(!n._listeners)return;let i=n._listeners.length;for(;i-- >0;)n._listeners[i](s);n._listeners=null}),this.promise.then=s=>{let i;const o=new Promise(l=>{n.subscribe(l),i=l}).then(s);return o.cancel=function(){n.unsubscribe(i)},o},t(function(i,o,l){n.reason||(n.reason=new ei(i,o,l),r(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const r=this._listeners.indexOf(t);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const t=new AbortController,r=n=>{t.abort(n)};return this.subscribe(r),t.signal.unsubscribe=()=>this.unsubscribe(r),t.signal}static source(){let t;return{token:new h0(function(s){t=s}),cancel:t}}};function pb(e){return function(r){return e.apply(null,r)}}function mb(e){return E.isObject(e)&&e.isAxiosError===!0}const Yl={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(Yl).forEach(([e,t])=>{Yl[t]=e});function p0(e){const t=new Ir(e),r=Km(Ir.prototype.request,t);return E.extend(r,Ir.prototype,t,{allOwnKeys:!0}),E.extend(r,t,null,{allOwnKeys:!0}),r.create=function(s){return p0(Ur(e,s))},r}const fe=p0(Zs);fe.Axios=Ir;fe.CanceledError=ei;fe.CancelToken=hb;fe.isCancel=a0;fe.VERSION=f0;fe.toFormData=Xa;fe.AxiosError=z;fe.Cancel=fe.CanceledError;fe.all=function(t){return Promise.all(t)};fe.spread=pb;fe.isAxiosError=mb;fe.mergeConfig=Ur;fe.AxiosHeaders=$e;fe.formToJSON=e=>i0(E.isHTMLForm(e)?new FormData(e):e);fe.getAdapter=d0.getAdapter;fe.HttpStatusCode=Yl;fe.default=fe;const{Axios:b_,AxiosError:__,CanceledError:E_,isCancel:j_,CancelToken:S_,VERSION:C_,all:I_,Cancel:T_,isAxiosError:R_,spread:P_,toFormData:A_,AxiosHeaders:O_,HttpStatusCode:D_,formToJSON:L_,getAdapter:M_,mergeConfig:U_}=fe,gb="https://api-suscriptions-production.up.railway.app",V=fe.create({baseURL:gb});V.interceptors.request.use(async e=>{try{const t=Ui(),r=t==null?void 0:t.currentUser;if(r){const n=await r.getIdToken();e.headers.Authorization=`Bearer ${n}`}}catch{}return e});const yt={create:async e=>V.post("/auth/create",e),me:async()=>V.get("/auth/me"),getUser:async e=>V.get(`/auth/user/${e}`),listUsers:async e=>V.get("/auth/users",{params:e}),updateUser:async(e,t)=>V.patch(`/auth/user/${e}`,t),deleteUser:async e=>V.delete(`/auth/user/${e}`)},Tr={create:async e=>V.post("/clients",e),list:async e=>V.get("/clients",{params:e}),get:async e=>V.get(`/clients/${e}`),delete:async e=>V.delete(`/clients/${e}`),update:async(e,t)=>V.patch(`/clients/${e}`,t)},Xn={create:async e=>V.post("/subscriptions",e),list:async e=>V.get("/subscriptions",{params:e}),get:async e=>V.get(`/subscriptions/${e}`),renew:async e=>V.post(`/subscriptions/${e}/renew`),delete:async e=>V.delete(`/subscriptions/${e}`),update:async(e,t)=>V.patch(`/subscriptions/${e}`,t)},kr={sendTemplate:async e=>V.post("/communications/send-template",e),send:async e=>V.post("/communications/send",e),listConversations:async()=>V.get("/communications/conversations"),getMessages:async(e,t)=>V.get(`/communications/messages/${encodeURIComponent(e)}`,{params:t}),getUnreadCount:async()=>V.get("/communications/unread-count"),markAsRead:async e=>V.post(`/communications/conversations/${encodeURIComponent(e)}/read`)},Wn={runDaily:async(e,t)=>V.post("/automation/run-daily",t,{params:e}),updateConfig:async e=>V.put("/automation/config",e),getConfig:async()=>V.get("/automation/config"),deleteConfig:async()=>V.delete("/automation/config")},m0=k.createContext(void 0);function yb({children:e}){const[t,r]=k.useState(null),[n,s]=k.useState(null),[i,o]=k.useState(!0),l=$s();k.useEffect(()=>{const d=Ui();if(!d){o(!1);return}const p=S1(d,async f=>{var N;if(!f){r(null),s(null),o(!1);return}try{const x=await f.getIdToken();s(x);try{const w=(N=(await f.getIdTokenResult()).claims)==null?void 0:N.role;if(w){r({id:f.uid,email:f.email??void 0,role:w,displayName:f.displayName??void 0,photoURL:f.photoURL??void 0}),o(!1);return}}catch{}try{const w=(await V.get("/auth/me")).data||{};r({id:w.id??f.uid,email:w.email??f.email??void 0,role:w.role,displayName:w.displayName??f.displayName??void 0,photoURL:f.photoURL??void 0})}catch{r({id:f.uid,email:f.email??void 0,displayName:f.displayName??void 0,photoURL:f.photoURL??void 0})}}catch{r({id:f.uid,email:f.email??void 0,displayName:f.displayName??void 0,photoURL:f.photoURL??void 0})}finally{o(!1)}});return()=>p()},[]);async function c(d,p){var w;const f=Ui();if(!f)throw new Error("Firebase auth not initialized");const x=(await _1(f,d,p)).user,g=await x.getIdToken();s(g);try{const h=(w=(await x.getIdTokenResult()).claims)==null?void 0:w.role;if(h){r({id:x.uid,email:x.email??void 0,role:h,photoURL:x.photoURL??void 0,displayName:x.displayName??void 0}),l(h==="admin"?"/admin":h==="client"?"/client":"/");return}}catch{}try{const h=(await V.get("/auth/me")).data||{},y=h.role??void 0;r({id:h.id??x.uid,email:h.email??x.email??void 0,role:y,photoURL:x.photoURL??void 0,displayName:h.displayName??x.displayName??void 0}),l(y==="admin"?"/admin":y==="client"?"/client":"/");return}catch{r({id:x.uid,email:x.email??void 0,photoURL:x.photoURL??void 0,displayName:x.displayName??void 0}),l("/")}}function u(){const d=Ui();try{d&&C1(d)}catch{}s(null),r(null),l("/login")}return a.jsx(m0.Provider,{value:{user:t,token:n,login:c,logout:u,loading:i},children:e})}function gr(){const e=k.useContext(m0);if(!e)throw new Error("useAuth must be used within AuthProvider");return e}function Oe(...e){return e.filter(Boolean).join(" ")}const H=cr.forwardRef(({variant:e="primary",size:t="md",className:r,children:n,...s},i)=>{const o="inline-flex items-center justify-center rounded-lg font-medium transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:opacity-50 disabled:pointer-events-none cursor-pointer",l={primary:"bg-primary hover:bg-primary-600 text-white shadow-sm focus:ring-primary",secondary:"bg-white dark:bg-slate-800 text-gray-900 dark:text-gray-100 border border-gray-200 dark:border-slate-700 hover:bg-gray-50 dark:hover:bg-slate-700 focus:ring-gray-200 shadow-sm",ghost:"bg-transparent text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-slate-800 hover:text-gray-900 dark:hover:text-white focus:ring-gray-200",outline:"bg-transparent border border-primary text-primary hover:bg-primary/5 dark:hover:bg-primary/20 focus:ring-primary",danger:"bg-red-600 text-white hover:bg-red-700 focus:ring-red-600 shadow-sm",destructive:"bg-red-600 text-white hover:bg-red-700 focus:ring-red-600 shadow-sm"},c={sm:"h-8 px-3 text-xs",md:"h-10 px-4 py-2 text-sm",lg:"h-12 px-6 text-base",icon:"h-10 w-10 p-2"};return a.jsx("button",{ref:i,className:Oe(o,l[e],c[t],r),...s,children:n})});H.displayName="Button";/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g0=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim();/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xb=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vb=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,r,n)=>n?n.toUpperCase():r.toLowerCase());/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _f=e=>{const t=vb(e);return t.charAt(0).toUpperCase()+t.slice(1)};/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var wb={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kb=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0;return!1};/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nb=k.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:s="",children:i,iconNode:o,...l},c)=>k.createElement("svg",{ref:c,...wb,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:g0("lucide",s),...!i&&!kb(l)&&{"aria-hidden":"true"},...l},[...o.map(([u,d])=>k.createElement(u,d)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U=(e,t)=>{const r=k.forwardRef(({className:n,...s},i)=>k.createElement(Nb,{ref:i,iconNode:t,className:g0(`lucide-${xb(_f(e))}`,`lucide-${e}`,n),...s}));return r.displayName=_f(e),r};/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bb=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],_b=U("activity",bb);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eb=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],jb=U("arrow-left",Eb);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sb=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M22 8c0-2.3-.8-4.3-2-6",key:"5bb3ad"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}],["path",{d:"M4 2C2.8 3.7 2 5.7 2 8",key:"tap9e0"}]],Cb=U("bell-ring",Sb);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ib=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],Tb=U("briefcase",Ib);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rb=[["path",{d:"M16 14v2.2l1.6 1",key:"fo4ql5"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M21 7.5V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h3.5",key:"1osxxc"}],["path",{d:"M3 10h5",key:"r794hk"}],["path",{d:"M8 2v4",key:"1cmpym"}],["circle",{cx:"16",cy:"16",r:"6",key:"qoo3c4"}]],Pb=U("calendar-clock",Rb);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ab=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],ba=U("calendar",Ab);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ob=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Db=U("check",Ob);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lb=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Mb=U("chevron-down",Lb);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ub=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Ef=U("chevron-right",Ub);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zb=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],y0=U("chevron-up",zb);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fb=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Ds=U("circle-alert",Fb);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $b=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Xe=U("circle-check-big",$b);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bb=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]],Fo=U("circle-user",Bb);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hb=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],Vb=U("circle-x",Hb);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wb=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],_n=U("clock",Wb);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qb=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],ki=U("copy",qb);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kb=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],Tt=U("credit-card",Kb);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gb=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],Jb=U("download",Gb);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qb=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],Yb=U("eye-off",Qb);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xb=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Zb=U("eye",Xb);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e2=[["path",{d:"M2.586 17.414A2 2 0 0 0 2 18.828V21a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h1a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h.172a2 2 0 0 0 1.414-.586l.814-.814a6.5 6.5 0 1 0-4-4z",key:"1s6t7t"}],["circle",{cx:"16.5",cy:"7.5",r:".5",fill:"currentColor",key:"w0ekpg"}]],t2=U("key-round",e2);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r2=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],jf=U("layout-dashboard",r2);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n2=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],En=U("loader-circle",n2);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s2=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],x0=U("lock",s2);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i2=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],a2=U("log-in",i2);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o2=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],l2=U("log-out",o2);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c2=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],fu=U("mail",c2);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u2=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],d2=U("map-pin",u2);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f2=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],hu=U("message-square",f2);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h2=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],p2=U("moon",h2);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m2=[["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"M2.586 16.726A2 2 0 0 1 2 15.312V8.688a2 2 0 0 1 .586-1.414l4.688-4.688A2 2 0 0 1 8.688 2h6.624a2 2 0 0 1 1.414.586l4.688 4.688A2 2 0 0 1 22 8.688v6.624a2 2 0 0 1-.586 1.414l-4.688 4.688a2 2 0 0 1-1.414.586H8.688a2 2 0 0 1-1.414-.586z",key:"2d38gg"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],g2=U("octagon-x",m2);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y2=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],x2=U("pencil",y2);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v2=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],w2=U("phone",v2);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k2=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],Sf=U("play",k2);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N2=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],b2=U("plus",N2);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _2=[["path",{d:"M16.247 7.761a6 6 0 0 1 0 8.478",key:"1fwjs5"}],["path",{d:"M19.075 4.933a10 10 0 0 1 0 14.134",key:"ehdyv1"}],["path",{d:"M4.925 19.067a10 10 0 0 1 0-14.134",key:"1q22gi"}],["path",{d:"M7.753 16.239a6 6 0 0 1 0-8.478",key:"r2q7qm"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],E2=U("radio",_2);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j2=[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]],_a=U("receipt",j2);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S2=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],C2=U("refresh-cw",S2);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I2=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],T2=U("rotate-ccw",I2);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R2=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],v0=U("save",R2);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P2=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],A2=U("search",P2);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O2=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],D2=U("send",O2);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L2=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],$o=U("shield",L2);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M2=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],Xl=U("square-pen",M2);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U2=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],z2=U("sun",U2);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F2=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],$2=U("trash-2",F2);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B2=[["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Bo=U("trash",B2);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H2=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],V2=U("triangle-alert",H2);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W2=[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],q2=U("user-check",W2);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K2=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],Ea=U("user-plus",K2);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G2=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],jn=U("user",G2);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J2=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Q2=U("users",J2);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y2=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Cf=U("x",Y2);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X2=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],w0=U("zap",X2);function Z2(){const[e,t]=k.useState(""),[r,n]=k.useState(""),[s,i]=k.useState(!1),[o,l]=k.useState(!1),{login:c}=gr();async function u(d){d.preventDefault(),l(!0);try{await c(e,r)}catch{alert("Login failed")}finally{l(!1)}}return a.jsx("div",{className:"min-h-dvh flex flex-col items-center justify-center bg-slate-50 dark:bg-slate-950 p-4 transition-colors",children:a.jsxs("div",{className:"w-full max-w-sm sm:max-w-md",children:[a.jsxs("div",{className:"mb-8 text-center flex flex-col items-center",children:[a.jsxs("h1",{className:"text-3xl font-bold tracking-tight text-slate-900 dark:text-white",children:["A",a.jsx("span",{className:"text-secondary",children:"|"}),"R SYSTEM"]}),a.jsx("p",{className:"mt-2 text-sm text-slate-600 dark:text-slate-400",children:"Ingresa tus credenciales para acceder"})]}),a.jsx("div",{className:"p-6 sm:p-8 bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-800 rounded-xl shadow-2xl shadow-slate-200/50 dark:shadow-black/50",children:a.jsxs("form",{onSubmit:u,className:"space-y-6",children:[a.jsxs("div",{className:"space-y-5",children:[a.jsxs("div",{className:"relative",children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1.5 ml-1",children:"Correo Electrnico"}),a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none text-slate-400 dark:text-slate-500",children:a.jsx(fu,{className:"h-5 w-5"})}),a.jsx("input",{type:"email",className:"block w-full pl-10 h-12 rounded-lg border-slate-300 dark:border-slate-700 bg-white dark:bg-slate-950 text-slate-900 dark:text-white shadow-sm focus:border-primary focus:ring-primary sm:text-sm",placeholder:"ejemplo@empresa.com",value:e,onChange:d=>t(d.target.value),required:!0,autoComplete:"email"})]})]}),a.jsxs("div",{className:"relative",children:[a.jsxs("div",{className:"flex justify-between items-center mb-1.5 ml-1",children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300",children:"Contrasea"}),a.jsx("a",{href:"#",className:"text-xs font-medium text-primary hover:text-primary-600 dark:text-primary-400 dark:hover:text-primary-300",tabIndex:-1,children:"Olvidaste tu contrasea?"})]}),a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none text-slate-400 dark:text-slate-500",children:a.jsx(x0,{className:"h-5 w-5"})}),a.jsx("input",{type:s?"text":"password",className:"block w-full pl-10 pr-10 h-12 rounded-lg border-slate-300 dark:border-slate-700 bg-white dark:bg-slate-950 text-slate-900 dark:text-white shadow-sm focus:border-primary focus:ring-primary sm:text-sm",placeholder:"",value:r,onChange:d=>n(d.target.value),required:!0,autoComplete:"current-password"}),a.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:a.jsx("button",{type:"button",onClick:()=>i(!s),className:"focus:outline-none text-slate-400 hover:text-slate-600 dark:text-slate-500 dark:hover:text-slate-300",children:s?a.jsx(Yb,{className:"h-5 w-5"}):a.jsx(Zb,{className:"h-5 w-5"})})})]})]})]}),a.jsx(H,{type:"submit",className:"w-full h-12 text-base font-semibold shadow-lg shadow-primary/25 hover:shadow-primary/40 transition-all active:scale-[0.98] rounded-lg bg-primary hover:bg-primary-600 text-white border-0",disabled:o,children:o?a.jsxs("span",{className:"flex items-center justify-center gap-2",children:[a.jsxs("svg",{className:"animate-spin h-5 w-5",viewBox:"0 0 24 24",children:[a.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),a.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Iniciando..."]}):a.jsxs("span",{className:"flex items-center justify-center gap-2",children:[a.jsx(a2,{className:"h-5 w-5"}),"Iniciar Sesin"]})})]})}),a.jsxs("p",{className:"mt-8 text-center text-xs text-slate-400 dark:text-slate-500",children:[" ",new Date().getFullYear()," A|R System. Todos los derechos reservados."]})]})})}function If({children:e,roles:t}){const{token:r,user:n}=gr();if(!r)return a.jsx(ls,{to:"/login",replace:!0});if(t&&t.length>0){const s=n==null?void 0:n.role;if(!s||!t.includes(s))return a.jsx(ls,{to:"/",replace:!0})}return e}const k0=k.createContext(void 0);function e_({children:e}){const[t,r]=k.useState(()=>{const s=localStorage.getItem("theme");return s||(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")});k.useEffect(()=>{const s=window.document.documentElement;s.classList.remove("light","dark"),s.classList.add(t),localStorage.setItem("theme",t)},[t]);const n=()=>{r(s=>s==="light"?"dark":"light")};return a.jsx(k0.Provider,{value:{theme:t,toggleTheme:n},children:e})}function t_(){const e=k.useContext(k0);if(e===void 0)throw new Error("useTheme must be used within a ThemeProvider");return e}const r_={admin:[{label:"Dashboard",to:"/admin",icon:a.jsx(jf,{className:"w-5 h-5"})},{label:"Clientes",to:"/admin/clients",icon:a.jsx(Tb,{className:"w-5 h-5"})},{label:"Suscripciones",to:"/admin/subscriptions",icon:a.jsx(Tt,{className:"w-5 h-5"})},{label:"Comunicacin",to:"/admin/communication",icon:a.jsx(hu,{className:"w-5 h-5"})},{label:"Automatizacin",to:"/admin/automation",icon:a.jsx(w0,{className:"w-5 h-5"})},{label:"Usuarios",to:"/admin/users",icon:a.jsx(Q2,{className:"w-5 h-5"})}],client:[{label:"Dashboard",to:"/client",icon:a.jsx(jf,{className:"w-5 h-5"})},{label:"Mi suscripcin",to:"/client/subscription",icon:a.jsx(Tt,{className:"w-5 h-5"})},{label:"Historial de pagos",to:"/client/payments",icon:a.jsx(_a,{className:"w-5 h-5"})},{label:"Mi perfil",to:"/client/profile",icon:a.jsx(jn,{className:"w-5 h-5"})}]};function Tf({children:e}){const{user:t,logout:r}=gr(),{theme:n,toggleTheme:s}=t_(),i=(t==null?void 0:t.role)??"guest",o=r_[i]??[],[l,c]=k.useState(!1),[u,d]=k.useState(!1),[p,f]=k.useState(window.innerWidth>=768);k.useEffect(()=>{const h=()=>f(window.innerWidth>=768);return window.addEventListener("resize",h),()=>window.removeEventListener("resize",h)},[]),k.useEffect(()=>{!p&&u&&d(!1)},[p,u]);const N=$r(),[x,g]=k.useState(0),w=cr.useRef(0),m=cr.useRef(!0);return k.useEffect(()=>{c(!1)},[N.pathname]),k.useEffect(()=>{i==="admin"&&"Notification"in window&&Notification.permission==="default"&&Notification.requestPermission()},[i]),k.useEffect(()=>{if(i!=="admin")return;const h=async()=>{var b;try{const j=await kr.listConversations(),v=(Array.isArray(j.data)?j.data:((b=j.data)==null?void 0:b.data)||[]).reduce((S,T)=>S+(T.unreadCount||0),0);if(!m.current&&v>w.current){"Notification"in window&&Notification.permission==="granted"&&navigator.serviceWorker.ready.then(S=>{S.showNotification("A|R System",{body:`Tienes ${v} mensajes sin leer`,icon:"/vite.svg",vibrate:[200,100,200]})}).catch(()=>{new Notification("A|R System",{body:`Tienes ${v} mensajes sin leer`,icon:"/vite.svg"})});try{new Audio("/notification.mp3").play().catch(T=>console.log("Audio play failed",T))}catch{}}w.current=v,g(v),m.current=!1}catch{}};h();const y=setInterval(h,3e4);return()=>clearInterval(y)},[i]),a.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-slate-900 flex flex-col md:flex-row font-sans transition-colors duration-300 overflow-x-hidden",children:[a.jsxs("header",{className:"fixed top-0 inset-x-0 h-16 bg-primary dark:bg-slate-900/90 dark:border-b dark:border-slate-800 border-b border-gray-200 z-30 flex items-center justify-between px-4 md:hidden shadow-sm backdrop-blur-md",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("button",{onClick:()=>c(!0),className:"p-2 -ml-2 rounded-lg text-white hover:bg-secondary hover:text-primary focus:outline-none focus:ring-2 focus:ring-primary/20 cursor-pointer","aria-label":"Abrir men",children:a.jsx("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})}),a.jsxs("span",{className:"font-bold text-lg text-white truncate",children:["A",a.jsx("span",{className:"text-secondary",children:"|"}),"R SYSTEM"]})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[i==="admin"&&a.jsxs(xi,{to:"/admin/communication",className:"relative p-1.5 text-white/80 hover:text-white transition-colors",children:[a.jsx(hu,{size:22}),x>0&&a.jsx("span",{className:"absolute -top-0.5 -right-0.5 h-4 w-4 bg-red-500 rounded-full text-[10px] font-bold flex items-center justify-center text-white border border-primary",children:x>9?"9+":x})]}),a.jsx(xi,{to:"/admin/me",className:"flex items-center cursor-pointer hover:opacity-80 transition-opacity",children:a.jsx("div",{className:"h-8 w-8 rounded-full bg-white text-primary border border-gray-200 flex items-center justify-center text-xs font-bold shadow-sm",children:((t==null?void 0:t.displayName)||(t==null?void 0:t.email)||"U").charAt(0).toUpperCase()})})]})]}),l&&a.jsx("div",{className:"fixed inset-0 bg-gray-900/50 z-40 md:hidden backdrop-blur-sm transition-opacity",onClick:()=>c(!1)}),a.jsxs("aside",{className:Oe("fixed inset-y-0 left-0 bg-white dark:bg-slate-950/50 border-r border-gray-200/50 dark:border-slate-800 z-50 transform transition-all duration-300 ease-in-out flex flex-col shadow-2xl md:shadow-none md:translate-x-0 md:sticky md:top-0 md:h-screen backdrop-blur-xl",l?"translate-x-0 w-72":"-translate-x-full md:translate-x-0",u?"md:w-20":"md:w-72","w-72"),children:[a.jsxs("div",{className:Oe("h-20 flex items-center border-b border-gray-100 dark:border-slate-800 shrink-0 transition-all duration-300",u?"justify-center px-0":"px-6 justify-between"),children:[a.jsxs("div",{className:Oe("flex items-center gap-3",u?"justify-center":""),children:[a.jsx("div",{className:"h-12 w-12 min-w-12 bg-primary rounded-md flex items-center justify-center text-white shadow-lg shadow-primary/25 cursor-pointer transition-transform hover:scale-105",onClick:()=>d(!u),children:a.jsxs("span",{className:"font-extrabold text-xl",children:["A",a.jsx("span",{className:"text-secondary",children:"|"}),"R"]})}),!u&&a.jsxs("div",{className:"flex flex-col whitespace-nowrap overflow-hidden transition-all duration-300",children:[a.jsx("span",{className:"font-bold text-lg leading-tight text-slate-900 dark:text-white",children:"SYSTEM"}),a.jsx("span",{className:"text-[10px] font-medium text-slate-400 uppercase tracking-widest",children:"Management"})]})]}),!u&&a.jsx("button",{onClick:()=>d(!0),className:"hidden md:flex p-1 rounded-md hover:bg-slate-100 dark:hover:bg-slate-800 text-slate-400",children:a.jsx(Ef,{className:"w-4 h-4 rotate-180"})})]}),a.jsxs("div",{className:"flex-1 overflow-y-auto py-8 px-3 scrollbar-hide",children:[!u&&a.jsx("div",{className:"mb-2 px-3",children:a.jsx("p",{className:"text-xs font-bold text-slate-400 dark:text-slate-500 uppercase tracking-wider mb-4",children:"Menu Principal"})}),a.jsx("nav",{className:"space-y-2",children:o.map(h=>a.jsx(xi,{to:h.to,end:h.to==="/admin"||h.to==="/client",onClick:()=>c(!1),title:u?h.label:void 0,className:({isActive:y})=>Oe("flex items-center gap-3 px-3 py-3 rounded-xl text-sm font-medium transition-all duration-200 group relative",y?"bg-primary text-white shadow-md shadow-primary/25":"text-slate-600 dark:text-slate-400 hover:bg-slate-50 dark:hover:bg-slate-800/50 hover:text-slate-900 dark:hover:text-white",u?"justify-center":""),children:({isActive:y})=>a.jsxs(a.Fragment,{children:[a.jsx("span",{className:Oe("transition-colors",y?"text-white":"text-slate-400 dark:text-slate-500 group-hover:text-primary dark:group-hover:text-white"),children:h.icon}),!u&&a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"flex-1 whitespace-nowrap overflow-hidden transition-all duration-300",children:h.label}),y&&a.jsx(Ef,{className:"w-4 h-4 text-white/50"})]})]})},h.to))})]}),a.jsxs("div",{className:Oe("border-t border-gray-100 dark:border-slate-800 bg-gray-50/80 dark:bg-slate-900/50 backdrop-blur-sm shrink-0 transition-all duration-300",u?"p-2":"p-4"),children:[!u&&a.jsx("div",{className:"mb-2 px-2",children:a.jsx("span",{className:"text-xs font-semibold text-slate-400 uppercase tracking-wider",children:"Cuenta"})}),a.jsxs("div",{className:Oe("bg-white dark:bg-slate-800 rounded-2xl shadow-sm border border-gray-100 dark:border-slate-700/50 overflow-hidden",u?"p-1":"p-3"),children:[a.jsxs(xi,{to:i==="admin"?"/admin/me":i==="client"?"/client/profile":"/",onClick:()=>c(!1),title:u?"Perfil":void 0,className:Oe("flex items-center gap-3 -mx-2 hover:bg-slate-50 dark:hover:bg-slate-700/50 rounded-xl transition-colors cursor-pointer group",u?"justify-center mx-0 p-1 mb-0":"p-2"),children:[a.jsx("div",{className:"h-10 w-10 min-w-10 rounded-full bg-slate-100 dark:bg-slate-700 border-2 border-white dark:border-slate-600 flex items-center justify-center text-sm font-bold text-primary dark:text-white shadow-sm overflow-hidden shrink-0",children:t!=null&&t.photoURL?a.jsx("img",{src:t.photoURL,alt:"Avatar",className:"w-full h-full object-cover"}):((t==null?void 0:t.displayName)||(t==null?void 0:t.email)||"?").charAt(0).toUpperCase()}),!u&&a.jsxs("div",{className:"flex-1 min-w-0 transition-all duration-300",children:[a.jsx("p",{className:"text-sm font-bold text-slate-900 dark:text-white truncate group-hover:text-white/70 transition-colors",children:(t==null?void 0:t.displayName)||"Usuario"}),a.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 truncate font-medium",children:t==null?void 0:t.email})]})]}),!u&&a.jsxs("div",{className:"grid grid-cols-2 gap-2 mt-2 pt-2 border-t border-gray-100 dark:border-slate-700",children:[a.jsxs("button",{onClick:r,className:"flex flex-col items-center justify-center gap-1 p-2 rounded-lg text-xs font-medium text-slate-500 hover:text-red-600 hover:bg-red-50 dark:hover:bg-red-900/10 dark:text-slate-400 dark:hover:text-red-400 transition-all border border-transparent hover:border-red-100 cursor-pointer",children:[a.jsx(l2,{className:"w-4 h-4"}),a.jsx("span",{children:"Salir"})]}),a.jsxs("button",{onClick:s,className:"flex flex-col items-center justify-center gap-1 p-2 rounded-lg text-xs font-medium text-slate-500 hover:text-primary hover:bg-primary/5 dark:hover:bg-primary dark:text-slate-400 dark:hover:text-slate-200 transition-all border border-transparent hover:border-primary/10 cursor-pointer",children:[n==="light"?a.jsx(p2,{className:"w-4 h-4"}):a.jsx(z2,{className:"w-4 h-4"}),a.jsx("span",{children:n==="light"?"Oscuro":"Claro"})]})]})]})]})]}),a.jsx("main",{className:Oe("flex-1 min-w-0 w-full min-h-[calc(100vh-4rem)] md:min-h-screen pt-16 md:pt-0 bg-gray-50 dark:bg-slate-900 transition-all duration-300"),children:a.jsx("div",{className:"max-w-7xl mx-auto p-4 sm:p-6 lg:p-8 animate-in fade-in slide-in-from-bottom-4 duration-500 fill-mode-backwards",children:e||a.jsx(Hx,{})})})]})}const Q=k.forwardRef(({children:e,className:t,title:r,...n},s)=>a.jsxs("div",{ref:s,className:Oe("bg-white dark:bg-slate-800 rounded-xl shadow-sm ring-1 ring-gray-200 dark:ring-slate-700 overflow-hidden flex flex-col p-4",t),...n,children:[r&&a.jsx("div",{className:"px-4 py-3 border-b border-gray-100 dark:border-slate-700 bg-gray-50/50 dark:bg-slate-900/50 shrink-0",children:typeof r=="string"?a.jsx("h3",{className:"font-semibold text-gray-900 dark:text-gray-100 text-sm",children:r}):r}),a.jsx("div",{className:Oe("flex-1 min-h-0 flex flex-col",r?"p-4":""),children:e})]}));function n_(){const[e,t]=k.useState({clients:0,subscriptions:0,revenue:0,unread:0}),[r,n]=k.useState(!0),[s,i]=k.useState([]),[o,l]=k.useState([]);k.useEffect(()=>{(async()=>{var d,p,f;try{const[N,x,g]=await Promise.all([Tr.list(),Xn.list(),kr.listConversations()]),w=Array.isArray(N.data)?N.data:((d=N.data)==null?void 0:d.data)||[];i(w);const m=Array.isArray(x.data)?x.data:((p=x.data)==null?void 0:p.data)||[];l(m);const h=m.reduce((j,_)=>{if(!_.amount)return j;const v=_.amount.replace(/[^0-9]/g,"");return j+(parseInt(v)||0)},0),b=(Array.isArray(g.data)?g.data:((f=g.data)==null?void 0:f.data)||[]).reduce((j,_)=>j+(_.unreadCount||0),0);t({clients:w.length,subscriptions:m.length,revenue:h,unread:b})}catch(N){console.error("Error loading dashboard stats",N)}finally{n(!1)}})()},[]);const c=u=>new Intl.NumberFormat("es-CL",{style:"currency",currency:"CLP"}).format(u);return a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white tracking-tight",children:"Panel de Control"}),a.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Resumen y accesos directos."})]})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[a.jsx(Q,{title:"Estadsticas Rpidas",className:"hover:shadow-lg transition-all duration-200 bg-primary/5 dark:bg-slate-800/80 dark:border-primary/30 border-primary/20",children:r?a.jsx("div",{className:"flex justify-center p-4",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm font-medium text-gray-600 dark:text-gray-300",children:"Clientes Totales"}),a.jsx("span",{className:"text-xl font-bold text-gray-900 dark:text-white",children:e.clients})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm font-medium text-gray-600 dark:text-gray-300",children:"Suscripciones"}),a.jsx("span",{className:"text-xl font-bold text-gray-900 dark:text-white",children:e.subscriptions})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm font-medium text-gray-600 dark:text-gray-300",children:"Ingresos Mensuales"}),a.jsx("span",{className:"text-xl font-bold text-emerald-600 dark:text-emerald-400",children:c(e.revenue)})]}),a.jsxs("div",{className:"flex items-center justify-between border-t border-primary/10 dark:border-primary/20 pt-3 mt-2",children:[a.jsx("span",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Mensajes sin leer"}),a.jsx("span",{className:`text-sm font-bold px-2 py-0.5 rounded-full ${e.unread>0?"bg-red-100 dark:bg-red-900/30 text-red-700 dark:text-red-300 border border-red-200 dark:border-red-800":"bg-gray-100 dark:bg-slate-700 text-gray-500 dark:text-gray-400 border border-gray-200 dark:border-slate-600"}`,children:e.unread})]})]})}),a.jsxs(Q,{title:"Gestin de Clientes",className:"hover:shadow-lg transition-all duration-200",children:[a.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6 text-sm",children:"Administra la base de datos de usuarios, sus datos de contacto y estado."}),a.jsx("div",{className:"flex justify-end mt-auto",children:a.jsx(Is,{to:"/admin/clients",className:"w-full",children:a.jsxs(H,{className:"w-full justify-between group",children:[a.jsx("span",{children:"Ver Clientes"}),a.jsx("svg",{className:"w-4 h-4 group-hover:translate-x-1 transition-transform",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M14 5l7 7m0 0l-7 7m7-7H3"})})]})})})]}),a.jsxs(Q,{title:"Suscripciones",className:"hover:shadow-lg transition-all duration-200",children:[a.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6 text-sm",children:"Controla los planes activos, fechas de corte y facturacin mensual."}),o.length>0&&(()=>{const u=o.filter(p=>{if(!p.cutDate)return!1;const f=new Date(p.cutDate),N=new Date,x=Math.ceil((f.getTime()-N.getTime())/(1e3*60*60*24));return x>=0&&x<=7});if(u.length===0)return null;const d=p=>{const f=new Date(p),N=["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"];return`${f.getDate()} de ${N[f.getMonth()]}`};return a.jsxs("div",{className:"mb-4",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx("svg",{className:"w-5 h-5 text-yellow-500 animate-pulse",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),a.jsx("span",{className:"font-semibold text-yellow-700 dark:text-yellow-300",children:"Suscripciones por vencer esta semana"})]}),a.jsx("div",{className:"flex flex-col gap-3",children:u.map(p=>{const f=s.find(w=>w.uid===p.clientId||w.id===p.clientId),N=new Date(p.cutDate),x=new Date,g=Math.ceil((N.getTime()-x.getTime())/(1e3*60*60*24));return a.jsxs("div",{className:"flex items-center gap-4 p-3 rounded-xl border border-yellow-300 dark:border-yellow-700 bg-yellow-50 dark:bg-yellow-900/40 shadow-sm",children:[a.jsxs("div",{className:"flex flex-col min-w-32",children:[a.jsx("span",{className:"font-bold text-gray-900 dark:text-yellow-200 text-sm",children:(f==null?void 0:f.name)||"Cliente desconocido"}),a.jsx("span",{className:"text-xs text-gray-700 dark:text-yellow-300",children:f==null?void 0:f.email})]}),a.jsx("div",{className:"flex-1 text-center",children:a.jsx("span",{className:"inline-block text-xs font-semibold px-2 py-1 rounded bg-yellow-200 dark:bg-yellow-700 text-yellow-900 dark:text-yellow-100",children:g===0?a.jsx("span",{children:"Vence hoy!"}):a.jsxs("span",{children:["Faltan ",a.jsx("b",{className:"text-yellow-700 dark:text-yellow-200",children:g})," da",g>1?"s":""," para vencer el ",a.jsx("b",{children:d(p.cutDate)})]})})}),a.jsx("div",{className:"flex flex-col items-end",children:a.jsx("span",{className:"text-xs font-medium text-yellow-700 dark:text-yellow-200",children:p.plan})})]},p.id??p._id)})})]})})(),a.jsx("div",{className:"flex justify-end mt-auto",children:a.jsx(Is,{to:"/admin/subscriptions",className:"w-full",children:a.jsxs(H,{variant:"secondary",className:"w-full justify-between group",children:[a.jsx("span",{children:"Ver Suscripciones"}),a.jsx("svg",{className:"w-4 h-4 text-gray-500 dark:text-gray-400 group-hover:translate-x-1 transition-transform",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M14 5l7 7m0 0l-7 7m7-7H3"})})]})})})]})]})]})}const ee=cr.forwardRef(({label:e,id:t,className:r,error:n,helpText:s,endContent:i,...o},l)=>{const c=t||o.name||void 0;return a.jsxs("div",{className:Oe("flex flex-col"),children:[e&&a.jsx("label",{htmlFor:c,className:"mb-1 text-sm font-medium text-gray-700 dark:text-gray-300",children:e}),a.jsxs("div",{className:"relative",children:[a.jsx("input",{id:c,ref:l,className:Oe("flex h-11 w-full rounded-lg border border-gray-300 dark:border-slate-600 bg-white dark:bg-slate-900 px-3 py-2 text-sm placeholder:text-gray-400 dark:placeholder:text-gray-500 dark:text-white focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent disabled:cursor-not-allowed disabled:opacity-50 transition-shadow",n?"border-red-500 focus:ring-red-500":"",i?"pr-10":"",r),"aria-invalid":!!n,"aria-describedby":n?`${c}-error`:s?`${c}-help`:void 0,...o}),i&&a.jsx("div",{className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-500",children:i})]}),s&&!n&&a.jsx("p",{id:`${c}-help`,className:"mt-1 text-xs text-gray-500",children:s}),n&&a.jsx("p",{id:`${c}-error`,className:"mt-1 text-sm text-rose-600",children:n})]})});ee.displayName="Input";function s_(){const[e,t]=k.useState([]),[r,n]=k.useState(!0),[s,i]=k.useState(!1),[o,l]=k.useState(!1),[c,u]=k.useState({name:"",email:"",phone:"",address:"",password:""});k.useEffect(()=>{let f=!0;return n(!0),(async()=>{var x;try{const g=await Tr.list();if(!f)return;const w=Array.isArray(g.data)?g.data:((x=g.data)==null?void 0:x.data)||[],m=await Promise.all(w.map(async h=>{var y,b;if(!h.uid)return h;try{const j=await yt.getUser(h.uid),_=((y=j.data)==null?void 0:y.data)||j.data,v=(_==null?void 0:_.email)||((b=_==null?void 0:_.user)==null?void 0:b.email);return{...h,email:v}}catch{return h}}));f&&t(m)}catch(g){console.error(g)}finally{f&&n(!1)}})(),()=>{f=!1}},[]);async function d(f){var N,x,g,w,m;f.preventDefault(),i(!0);try{if(!c.email||!c.password)throw new Error("Email y password son requeridos para crear el auth user");console.log("Creating auth user...");const h=await yt.create({email:c.email,password:c.password,displayName:c.name,role:"client"}),y=((N=h.data)==null?void 0:N.data)||h.data,b=(y==null?void 0:y.uid)||((x=y==null?void 0:y.user)==null?void 0:x.uid);if(!b)throw console.error("No uid found in:",y),new Error("No uid retornado al crear usuario de auth");const j={uid:b,name:c.name,phone:c.phone||"",address:c.address||""},_=await Tr.create(j),S={...((g=_.data)==null?void 0:g.data)||_.data,email:c.email};t(T=>[S,...T]),u({name:"",email:"",phone:"",address:"",password:""}),l(!1)}catch(h){console.error(h);const b=((m=(w=h.response)==null?void 0:w.data)==null?void 0:m.message)||(h instanceof Error?h.message:"Error creando cliente");alert(`Error: ${b}`)}finally{i(!1)}}const p=async f=>{var N,x,g;if(!f){alert("ID del cliente no disponible");return}if(confirm("Eliminar este cliente? Esta accin es irreversible."))try{await Tr.delete(f),t(w=>w.filter(m=>(m.id??m._id)!==f&&(m.uid??m.uid)!==f))}catch(w){console.error("Error deleting client:",w),((N=w.response)==null?void 0:N.status)===404?alert("Cliente no encontrado (404)."):alert("Error eliminando cliente: "+(((g=(x=w.response)==null?void 0:x.data)==null?void 0:g.message)||w.message||"Desconocido"))}};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white tracking-tight",children:"Gestin de Clientes"}),a.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Administra los usuarios y sus credenciales de acceso"})]}),a.jsxs(H,{onClick:()=>l(!o),className:"flex items-center gap-2",variant:o?"outline":"primary",children:[o?a.jsx(y0,{size:18}):a.jsx(Ea,{size:18}),o?"Cancelar":"Nuevo Cliente"]})]}),o&&a.jsxs("div",{className:"bg-white dark:bg-slate-800 border border-gray-200 dark:border-slate-700 rounded-xl shadow-sm overflow-hidden transition-all duration-300 ease-in-out",children:[a.jsxs("div",{className:"p-6 bg-gray-50 dark:bg-slate-900/50 border-b border-gray-100 dark:border-slate-700",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Registrar Nuevo Cliente"}),a.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:"Ingresa los datos para crear un nuevo perfil de cliente."})]}),a.jsx("div",{className:"p-6",children:a.jsxs("form",{onSubmit:d,className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsx(ee,{label:"Nombre Completo",value:c.name,onChange:f=>u(N=>({...N,name:f.target.value})),required:!0,placeholder:"Juan Prez",className:"md:col-span-2"}),a.jsx(ee,{label:"Email",type:"email",value:c.email,onChange:f=>u(N=>({...N,email:f.target.value})),required:!0,placeholder:"juan@ejemplo.com"}),a.jsx(ee,{label:"Contrasea",type:"password",value:c.password,onChange:f=>u(N=>({...N,password:f.target.value})),required:!0,placeholder:""}),a.jsx(ee,{label:"Telfono",type:"tel",value:c.phone,onChange:f=>u(N=>({...N,phone:f.target.value})),placeholder:"+56 9 1234 5678"}),a.jsx(ee,{label:"Direccin",value:c.address,onChange:f=>u(N=>({...N,address:f.target.value})),placeholder:"Av. Siempre Viva 123"})]}),a.jsxs("div",{className:"flex justify-end gap-3 pt-2",children:[a.jsx(H,{type:"button",variant:"outline",onClick:()=>l(!1),disabled:s,children:"Cancelar"}),a.jsx(H,{type:"submit",disabled:s,className:"min-w-30",children:s?"Guardando...":"Crear Cliente"})]})]})})]}),a.jsx(Q,{title:`Lista de Clientes (${e.length})`,className:"h-full",children:r?a.jsx("div",{className:"flex justify-center p-8",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):e.length===0?a.jsxs("div",{className:"text-center p-12",children:[a.jsx("div",{className:"bg-gray-100 dark:bg-slate-700/50 rounded-full h-16 w-16 flex items-center justify-center mx-auto mb-4",children:a.jsx(Ea,{size:32,className:"text-gray-400 dark:text-gray-500"})}),a.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"No hay clientes registrados"}),a.jsx("p",{className:"text-gray-500 dark:text-gray-400 mb-6",children:"Comienza agregando tu primer cliente."}),a.jsx(H,{onClick:()=>l(!0),children:"Crear primer cliente"})]}):a.jsxs("div",{className:"overflow-x-auto -mx-4 sm:mx-0",children:[a.jsx("div",{className:"sm:hidden space-y-4 px-4 pb-4",children:e.map(f=>a.jsxs("div",{className:"bg-white dark:bg-slate-800 border border-gray-200 dark:border-slate-700 rounded-lg p-4 shadow-sm space-y-3",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"h-10 w-10 rounded-full bg-white dark:bg-slate-700 text-white border border-gray-200 dark:border-slate-700 flex items-center justify-center font-bold text-sm shadow-sm shrink-0",children:f.name.charAt(0).toUpperCase()}),a.jsxs("div",{children:[a.jsx("div",{className:"text-sm font-semibold text-gray-900 dark:text-white",children:f.name}),a.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:f.email||"Sin email"})]})]}),a.jsx(Is,{to:`/admin/client/${f.id}`,className:"text-primary hover:bg-primary/5 dark:hover:bg-primary/20 p-2 rounded-full transition-colors",children:a.jsx(Mb,{size:20,className:"-rotate-90"})})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs text-gray-600 dark:text-gray-300 pt-2 border-t border-gray-50 dark:border-slate-700/50",children:[a.jsxs("div",{children:[a.jsx("span",{className:"block text-gray-400 dark:text-gray-500 text-[10px] uppercase font-semibold",children:"Telfono"}),f.phone||"-"]}),a.jsxs("div",{children:[a.jsx("span",{className:"block text-gray-400 dark:text-gray-500 text-[10px] uppercase font-semibold",children:"Direccin"}),a.jsx("span",{className:"truncate block",children:f.address||"-"})]})]}),a.jsx("div",{className:"flex justify-end gap-2 pt-2",children:a.jsx(H,{variant:"destructive",onClick:()=>p(f.uid||f.id||f._id),children:"Eliminar"})})]},f.id??f._id))}),a.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-slate-700 hidden sm:table",children:[a.jsx("thead",{className:"bg-gray-50/50 dark:bg-slate-900/50",children:a.jsxs("tr",{children:[a.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Cliente"}),a.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Contacto"}),a.jsx("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Acciones"})]})}),a.jsx("tbody",{className:"bg-white dark:bg-slate-800 divide-y divide-gray-200 dark:divide-slate-700",children:e.map(f=>a.jsxs("tr",{className:"hover:bg-gray-50/50 dark:hover:bg-slate-700/50 transition-colors",children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"h-10 w-10 rounded-full bg-white dark:bg-slate-800 text-primary border border-gray-200 dark:border-slate-700 flex items-center justify-center font-bold text-sm shadow-sm ring-2 ring-white dark:ring-slate-800",children:f.name.charAt(0).toUpperCase()}),a.jsxs("div",{className:"ml-4",children:[a.jsx("div",{className:"text-sm font-semibold text-gray-900 dark:text-white",children:f.name}),a.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:f.address||"Sin direccin"})]})]})}),a.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[a.jsxs("div",{className:"text-sm text-gray-900 dark:text-gray-300 flex items-center gap-2",children:[a.jsx("span",{className:"bg-blue-50 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300 px-2 py-0.5 rounded text-xs font-medium",children:"Email"}),f.email]}),a.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1 flex items-center gap-2",children:f.phone?a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"bg-green-50 dark:bg-green-900/30 text-green-700 dark:text-green-400 px-2 py-0.5 rounded text-xs font-medium",children:"Tel"}),f.phone]}):"Sin telfono"})]}),a.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:[a.jsx(Is,{to:`/admin/client/${f.id}`,className:"inline-flex items-center justify-center text-primary dark:text-white hover:text-primary-700 dark:hover:text-primary font-medium text-sm bg-primary/10 dark:bg-primary/50 hover:bg-primary/20 dark:hover:bg-secondary px-4 py-2 rounded-lg transition-colors",children:"Ver detalles"}),a.jsx("button",{onClick:()=>p(f.uid||f.id||f._id),className:"ml-2 inline-flex items-center justify-center text-red-600 bg-red-50 hover:bg-red-100 dark:bg-red-900/20 dark:text-red-400 px-3 py-2 rounded-lg text-sm",children:"Eliminar"})]})]},f.id??f._id))})]})]})})]})}function i_(){const[e,t]=k.useState([]),[r,n]=k.useState(!0),[s,i]=k.useState(!1),[o,l]=k.useState(!1),[c,u]=k.useState(null),[d,p]=k.useState({clientId:"",startDate:"",cutDate:"",amount:"",plan:"",passwordSub:""}),[f,N]=k.useState([]),[x,g]=k.useState(null),w={"Itinerante Ilimitado":"Itinerante Ilimitado","Itinerante Limitado":"Itinerante Limitado","starlink-basic":"Itinerante Ilimitado","starlink-limited":"Itinerante Limitado"},m=new Date().toISOString().slice(0,10);k.useEffect(()=>{p(v=>({...v,startDate:v.startDate||m,cutDate:v.cutDate||m}))},[]),k.useEffect(()=>{let v=!0;return n(!0),(async()=>{var T;try{const D=await Xn.list();if(!v)return;const J=Array.isArray(D.data)?D.data:((T=D.data)==null?void 0:T.data)||[],K=await Promise.all(J.map(async re=>{var $,M;const R=re.clientId;if(!R)return re;try{const q=await yt.getUser(R),C=(($=q.data)==null?void 0:$.data)||((M=q.data)==null?void 0:M.user)||q.data;return{...re,clientEmail:C==null?void 0:C.email}}catch{return re}}));v&&t(K)}catch(D){console.error(D)}finally{v&&n(!1)}})(),()=>{v=!1}},[]),k.useEffect(()=>{let v=!0;return(async()=>{var T;try{const D=await Tr.list();if(!v)return;const J=Array.isArray(D.data)?D.data:((T=D.data)==null?void 0:T.data)||[];N(J)}catch{}})(),()=>{v=!1}},[]);function h(v){l(!0),u(v.id??null),p({clientId:v.clientId,plan:v.plan,amount:v.amount,startDate:v.startDate,cutDate:v.cutDate})}function y(){l(!1),u(null),p({clientId:"",startDate:m,cutDate:m,amount:"",plan:"",passwordSub:""})}async function b(v){var S,T,D,J,K,re,R;v.preventDefault(),i(!0);try{if(!d.clientId)throw new Error("Cliente es requerido");if(!d.plan)throw new Error("Plan es requerido");if(!d.startDate)throw new Error("Fecha de inicio es requerida");if(!d.cutDate)throw new Error("Fecha de corte es requerida");if(!d.amount)throw new Error("Monto es requerido");if(!c&&!d.passwordSub)throw new Error("Contrasea del servicio es requerida");const $=C=>{if(!C)return;if(/^\d{4}-\d{2}-\d{2}$/.test(C))return C;const A=new Date(C);return isNaN(A)?C:A.toISOString().slice(0,10)},M=C=>{if(!C)return"";const A=C.trim();return/^\$/.test(A)?A:`$${A}`},q={plan:d.plan||"",startDate:$(d.startDate)??d.startDate??"",cutDate:$(d.cutDate)??d.cutDate??"",amount:M(d.amount)};if(d.passwordSub&&(q.passwordSub=d.passwordSub),c){const C=await Xn.update(c,q);t(A=>A.map(P=>P.id===c?{...P,...q,id:c}:P)),y()}else{const C={...q,clientId:d.clientId},A=await Xn.create(C);let P=((S=A.data)==null?void 0:S.data)||A.data;if(P!=null&&P.clientId)try{const L=await yt.getUser(P.clientId),B=((T=L.data)==null?void 0:T.data)||((D=L.data)==null?void 0:D.user)||L.data;P={...P,clientEmail:(B==null?void 0:B.email)??void 0}}catch{}t(L=>[P,...L]),p({clientId:"",startDate:m,cutDate:m,amount:"",plan:"",passwordSub:""}),l(!1)}}catch($){const q=((K=(J=$==null?void 0:$.response)==null?void 0:J.data)==null?void 0:K.message)||((R=(re=$==null?void 0:$.response)==null?void 0:re.data)==null?void 0:R.error)||($ instanceof Error?$.message:"Error procesando solicitud");alert(q)}finally{i(!1)}}const j=async v=>{var S,T,D,J;if(confirm("Ests seguro de que deseas eliminar esta suscripcin permanentemente?"))try{await Xn.delete(v),t(K=>K.filter(re=>re.id!==v))}catch(K){const R=((T=(S=K==null?void 0:K.response)==null?void 0:S.data)==null?void 0:T.message)||((J=(D=K==null?void 0:K.response)==null?void 0:D.data)==null?void 0:J.error)||(K instanceof Error?K.message:"Error eliminando suscripcin");alert(R)}},_=v=>{v&&(navigator.clipboard.writeText(v),g(v),setTimeout(()=>g(null),2e3))};return a.jsxs("div",{className:"space-y-6",children:[x&&a.jsxs("div",{className:"fixed bottom-4 right-4 bg-gray-900 text-white dark:bg-white dark:text-gray-900 px-4 py-2 rounded-lg shadow-lg flex items-center gap-2 text-sm font-medium z-50 animate-in fade-in slide-in-from-bottom-2 duration-200",children:[a.jsx(Xe,{size:16,className:"text-green-500"}),"Copiado al portapapeles"]}),a.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white tracking-tight",children:"Suscripciones"}),a.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Gestiona los planes y cobros de los clientes"})]}),a.jsxs(H,{onClick:()=>{o&&c?y():l(!o)},className:"flex items-center gap-2",variant:o?"outline":"primary",children:[o?a.jsx(y0,{size:18}):a.jsx(b2,{size:18}),o?c?"Cancelar Edicin":"Cancelar":"Nueva Suscripcin"]})]}),o&&a.jsxs("div",{className:"bg-white dark:bg-slate-800 border border-gray-200 dark:border-slate-700 rounded-xl shadow-sm overflow-hidden transition-all duration-300 ease-in-out",children:[a.jsxs("div",{className:"p-6 bg-gray-50 dark:bg-slate-900/50 border-b border-gray-100 dark:border-slate-700",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:c?"Editar Suscripcin":"Registrar Nueva Suscripcin"}),a.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:"Configura los detalles del plan para el cliente seleccionado."})]}),a.jsx("div",{className:"p-6",children:a.jsxs("form",{onSubmit:b,className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"md:col-span-2",children:[a.jsx("label",{className:"mb-1 text-sm font-medium text-gray-700 dark:text-gray-300 block",children:"Cliente"}),a.jsxs("select",{className:"flex h-11 w-full rounded-lg border border-gray-300 dark:border-slate-600 bg-white dark:bg-slate-900 text-gray-900 dark:text-white px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent transition-shadow",value:d.clientId,onChange:v=>p({...d,clientId:v.target.value}),required:!0,disabled:!!c,children:[a.jsx("option",{value:"",children:"Selecciona un cliente"}),f.map(v=>{const S=v.uid||v.id||"",T=v.name||v.email||S;return a.jsxs("option",{value:S,children:[T," ",v.email?`(${v.email})`:""]},S)})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"mb-1 text-sm font-medium text-gray-700 dark:text-gray-300 block",children:"Plan"}),a.jsxs("select",{className:"flex h-11 w-full rounded-lg border border-gray-300 dark:border-slate-600 bg-white dark:bg-slate-900 text-gray-900 dark:text-white px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent transition-shadow",value:d.plan,onChange:v=>p({...d,plan:v.target.value}),required:!0,children:[a.jsx("option",{value:"",children:"Selecciona un plan"}),a.jsx("option",{value:"Itinerante Ilimitado",children:"Itinerante Ilimitado"}),a.jsx("option",{value:"Itinerante Limitado",children:"Itinerante Limitado"})]})]}),a.jsx(ee,{label:"Contrasea del Servicio",value:d.passwordSub||"",onChange:v=>p({...d,passwordSub:v.target.value}),placeholder:"Contrasea del servicio",required:!c}),a.jsx(ee,{label:"Monto ($)",value:d.amount,onChange:v=>p({...d,amount:v.target.value}),placeholder:"$50.000",required:!0}),a.jsx(ee,{label:"Fecha de Inicio",type:"date",value:d.startDate,onChange:v=>p({...d,startDate:v.target.value}),required:!0}),a.jsx(ee,{label:"Fecha de Corte",type:"date",value:d.cutDate,onChange:v=>p({...d,cutDate:v.target.value}),required:!0})]}),a.jsxs("div",{className:"flex justify-end gap-3 pt-2",children:[a.jsx(H,{type:"button",variant:"outline",onClick:y,disabled:s,children:"Cancelar"}),a.jsx(H,{type:"submit",disabled:s,className:"min-w-30",children:s?"Procesando...":c?"Actualizar":"Crear Suscripcin"})]})]})})]}),a.jsx(Q,{title:`Historial de Suscripciones (${e.length})`,className:"h-full",children:r?a.jsx("div",{className:"flex justify-center p-8",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):e.length===0?a.jsxs("div",{className:"text-center p-12",children:[a.jsx("div",{className:"bg-gray-100 dark:bg-slate-700/50 rounded-full h-16 w-16 flex items-center justify-center mx-auto mb-4",children:a.jsx(Tt,{size:32,className:"text-gray-400 dark:text-gray-500"})}),a.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"No hay suscripciones activas"}),a.jsx("p",{className:"text-gray-500 dark:text-gray-400 mb-6",children:"Crea una nueva suscripcin para comenzar."}),a.jsx(H,{onClick:()=>l(!0),children:"Crear primera suscripcin"})]}):a.jsxs("div",{className:"-mx-4 sm:mx-0 overflow-x-hidden",children:[a.jsx("div",{className:"sm:hidden space-y-4 px-4 pb-4",children:e.map(v=>{const S=f.find(T=>T.uid===v.clientId||T.id===v.clientId);return a.jsxs("div",{className:"bg-white dark:bg-slate-800 border border-gray-200 dark:border-slate-700 rounded-lg p-4 shadow-sm space-y-3 relative overflow-hidden",children:[a.jsx("div",{className:"absolute top-0 right-0 p-2 opacity-5 dark:opacity-10 dark:text-white",children:a.jsx(Tt,{size:64})}),a.jsxs("div",{children:[a.jsx("div",{className:"text-sm font-bold text-gray-900 dark:text-white pr-8",children:(S==null?void 0:S.name)||"Cliente desconocido"}),a.jsxs("div",{className:"flex flex-col gap-1 mt-1",children:[v.clientEmail&&a.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-500 dark:text-gray-400",children:[a.jsx("span",{className:"truncate max-w-50",children:v.clientEmail}),a.jsx("button",{onClick:()=>_(v.clientEmail),className:"hover:text-primary transition-colors p-1",title:"Copiar email",children:x===v.clientEmail?a.jsx(Xe,{size:12,className:"text-green-500"}):a.jsx(ki,{size:12})})]}),v.passwordSub&&a.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[a.jsx("span",{className:"font-mono font-medium text-gray-700 dark:text-gray-200 bg-gray-100 dark:bg-slate-700/80 px-1.5 py-0.5 rounded border border-gray-200 dark:border-slate-600 select-all",children:v.passwordSub}),a.jsx("button",{onClick:()=>_(v.passwordSub),className:"text-gray-400 hover:text-primary dark:text-gray-500 dark:hover:text-primary transition-colors p-1",title:"Copiar contrasea",children:x===v.passwordSub?a.jsx(Xe,{size:12,className:"text-green-500"}):a.jsx(ki,{size:12})})]})]})]}),a.jsxs("div",{className:"flex justify-between items-end border-t border-b border-gray-50 dark:border-slate-700/50 py-2",children:[a.jsxs("div",{children:[a.jsx("div",{className:"text-xs text-gray-400 dark:text-gray-500 font-medium uppercase tracking-wider mb-0.5",children:"Plan"}),a.jsx("div",{className:"text-sm text-gray-800 dark:text-gray-200 font-medium",children:w[v.plan]||v.plan})]}),a.jsx("div",{className:"text-right",children:a.jsx("div",{className:"text-sm font-bold text-green-700 dark:text-green-400 bg-green-50 dark:bg-green-900/30 px-2 py-0.5 rounded-lg border border-green-100 dark:border-green-900/30",children:v.amount})})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4 text-xs",children:[a.jsxs("div",{className:"bg-gray-50 dark:bg-slate-700/50 p-2 rounded",children:[a.jsx("span",{className:"block text-gray-400 dark:text-gray-500 font-semibold uppercase text-[10px]",children:"Inicio"}),a.jsx("span",{className:"font-medium text-gray-700 dark:text-gray-300",children:v.startDate})]}),a.jsxs("div",{className:"bg-indigo-50 dark:bg-indigo-900/30 p-2 rounded",children:[a.jsx("span",{className:"block text-indigo-300 dark:text-indigo-400 font-semibold uppercase text-[10px]",children:"Corte"}),a.jsx("span",{className:"font-medium text-indigo-900 dark:text-indigo-300",children:v.cutDate})]})]}),a.jsxs("div",{className:"flex gap-2 pt-1",children:[a.jsx("button",{onClick:()=>h(v),className:"flex-1 flex items-center justify-center gap-2 text-primary dark:text-white bg-primary/10 dark:bg-primary/50 hover:bg-primary/10 dark:hover:bg-primary/30 py-2 rounded-lg text-xs font-medium transition-colors border border-primary/10 dark:border-primary/20 cursor-pointer",children:"Editar"}),a.jsx("button",{onClick:()=>j(v.id??v._id),className:"flex-1 flex items-center justify-center gap-2 text-red-600 dark:text-red-400 bg-red-50 dark:bg-red-900/30 hover:bg-red-100 dark:hover:bg-red-900/40 py-2 rounded-lg text-xs font-medium transition-colors border border-red-100 dark:border-red-900/30 cursor-pointer",children:"Eliminar"})]})]},v.id??v._id)})}),a.jsx("div",{className:"hidden sm:block overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-slate-700",children:[a.jsx("thead",{className:"bg-gray-50/50 dark:bg-slate-900/50",children:a.jsxs("tr",{children:[a.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Cliente"}),a.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Plan / Monto"}),a.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Fechas"}),a.jsx("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Acciones"})]})}),a.jsx("tbody",{className:"dark:bg-slate-800 divide-y divide-gray-200 dark:divide-slate-700",children:e.map(v=>{var S;return a.jsxs("tr",{className:"hover:bg-gray-50/50 dark:hover:bg-slate-700/50 transition-colors",children:[a.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[a.jsx("div",{className:"text-sm font-semibold px-1.5 text-gray-900 dark:text-white mb-1",children:((S=f.find(T=>T.uid===v.clientId||T.id===v.clientId))==null?void 0:S.name)||"Cliente desconocido"}),a.jsxs("div",{className:"flex flex-col gap-1",children:[v.clientEmail&&a.jsxs("div",{className:"flex items-center justify-around gap-2 group bg-slate-100 dark:bg-slate-700/80 px-1.5 py-0.5 rounded border border-gray-200 dark:border-slate-600",children:[a.jsx("span",{className:"text-xs text-gray-700 dark:text-slate-400",children:v.clientEmail}),a.jsx("button",{onClick:()=>_(v.clientEmail),className:"text-gray-900 hover:text-primary dark:text-slate-500 dark:hover:text-primary transition-all p-0.5 cursor-pointer",title:"Copiar email",children:x===v.clientEmail?a.jsx(Xe,{size:12,className:"text-green-500"}):a.jsx(ki,{size:12})})]}),v.passwordSub&&a.jsxs("div",{className:"flex items-center justify-around gap-2 mt-0.5 group bg-slate-100 dark:bg-slate-700/80 px-1.5 py-0.5 rounded border border-gray-200 dark:border-slate-600",children:[a.jsx("span",{className:"text-xs font-mono font-medium px-1.5 py-0.5 rounded text-gray-700 dark:text-slate-400 dark:border-slate-600 select-all",children:v.passwordSub}),a.jsx("button",{onClick:()=>_(v.passwordSub),className:" text-gray-900 hover:text-primary dark:text-slate-500 dark:hover:text-primary transition-all p-0.5 cursor-pointer",title:"Copiar contrasea",children:x===v.passwordSub?a.jsx(Xe,{size:12,className:"text-green-500"}):a.jsx(ki,{size:12})})]})]})]}),a.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[a.jsx("div",{className:"text-sm text-gray-900 dark:text-gray-300 font-medium",children:w[v.plan]||v.plan}),a.jsx("div",{className:"text-xs text-green-700 dark:text-green-400 bg-green-50 dark:bg-green-900/30 px-2 py-0.5 rounded-full inline-block mt-1 font-medium border border-green-100 dark:border-green-900/30",children:v.amount})]}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400 space-y-1",children:[a.jsxs("div",{children:[a.jsx("span",{className:"font-medium text-gray-700 dark:text-gray-300",children:"Inicio:"})," ",v.startDate]}),a.jsxs("div",{children:[a.jsx("span",{className:"font-medium text-gray-700 dark:text-gray-300",children:"Corte:"})," ",v.cutDate]})]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:a.jsxs("div",{className:"flex justify-end gap-2",children:[a.jsx("button",{onClick:()=>h(v),className:"text-primary hover:text-primary-700 dark:text-slate-400 dark:hover:text-slate-300 font-medium text-xs bg-primary/10 dark:bg-primary/50 p-2 rounded-md hover:bg-primary/20 dark:hover:bg-primary/60 transition-colors cursor-pointer",title:"Editar",children:a.jsx(x2,{size:16})}),a.jsx("button",{onClick:()=>j(v.id??v._id),className:"text-red-600 dark:text-red-400 hover:text-red-800 dark:hover:text-red-300 font-medium text-xs bg-red-50 dark:bg-red-900/30 p-2 rounded-md hover:bg-red-100 dark:hover:bg-red-900/40 transition-colors cursor-pointer",title:"Eliminar",children:a.jsx($2,{size:16})})]})})]},v.id??v._id)})})]})})]})})]})}function a_(){const{uid:e}=Cx(),t=$s(),[r,n]=k.useState(!0),[s,i]=k.useState(!1),[o,l]=k.useState(null),[c,u]=k.useState(""),[d,p]=k.useState({name:"",phone:"",address:""}),[f,N]=k.useState(null);k.useEffect(()=>{if(!e)return;n(!0),(async()=>{var w,m;try{const y=(await Tr.get(e)).data,b=y.data||y;!b||b.name;const j=b;if(l(j),p({name:j.name||"",phone:j.phone||"",address:j.address||""}),j.uid)try{const _=await yt.getUser(j.uid),v=((w=_.data)==null?void 0:w.data)||((m=_.data)==null?void 0:m.user)||_.data;u((v==null?void 0:v.email)||"")}catch{}}catch(h){console.error(h),N("Error cargando cliente")}finally{n(!1)}})()},[e]);const x=async g=>{var w,m,h,y;if(g.preventDefault(),!!e){i(!0),N(null);try{await Tr.update(e,d),alert("Cliente actualizado correctamente"),t("/admin/clients")}catch(b){console.error(b);const _=((m=(w=b.response)==null?void 0:w.data)==null?void 0:m.message)||((y=(h=b.response)==null?void 0:h.data)==null?void 0:y.error)||(b instanceof Error?b.message:"Error actualizando cliente");N(_)}finally{i(!1)}}};return r?a.jsx("div",{className:"p-8 text-center text-gray-500",children:"Cargando datos..."}):a.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900 tracking-tight",children:"Editar Cliente"}),a.jsx("p",{className:"text-sm text-gray-500",children:"Actualiza la informacin de contacto"})]}),a.jsx(H,{variant:"ghost",onClick:()=>t("/admin/clients"),children:" Volver"})]}),a.jsxs(Q,{title:`Editar: ${(o==null?void 0:o.name)||e}`,children:[f&&a.jsx("div",{className:"mb-4 p-3 bg-red-50 text-red-700 rounded-lg text-sm border border-red-100",children:f}),a.jsxs("form",{onSubmit:x,className:"space-y-6",children:[a.jsx(ee,{label:"ID Cliente",value:e||"",disabled:!0,className:"bg-gray-50 text-gray-500"}),a.jsx(ee,{label:"Email (Asociado)",value:c||"No disponible",disabled:!0,className:"bg-gray-50 text-gray-500"}),a.jsx(ee,{label:"Nombre Completo",value:d.name,onChange:g=>p({...d,name:g.target.value}),placeholder:"Ej: Juan Prez",required:!0}),a.jsx(ee,{label:"Telfono",value:d.phone,onChange:g=>p({...d,phone:g.target.value}),placeholder:"+56 9 1234 5678"}),a.jsx(ee,{label:"Direccin",value:d.address,onChange:g=>p({...d,address:g.target.value}),placeholder:"Calle Falsa 123"}),a.jsxs("div",{className:"pt-4 flex justify-end gap-3",children:[a.jsx(H,{type:"button",variant:"secondary",onClick:()=>t("/admin/clients"),children:"Cancelar"}),a.jsx(H,{type:"submit",disabled:s,children:s?"Guardando...":"Guardar Cambios"})]})]})]})]})}const o_=e=>e?typeof e=="string"?new Date(e).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):l_(e)?new Date(e._seconds*1e3).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):"":"";function l_(e){return e&&typeof e._seconds=="number"}function c_({conversation:e,selected:t,onClick:r}){return a.jsxs("button",{onClick:r,className:`
        group w-full text-left p-4 rounded-xl border flex items-center gap-4 transition-all duration-200 cursor-pointer shadow-sm

        ${t?"bg-primary/10 dark:bg-primary/20 border-primary/30 shadow-sm":"bg-slate-100 dark:bg-slate-800 border-transparent hover:bg-slate-50 dark:hover:bg-slate-700 hover:border-slate-200 dark:hover:border-slate-600"}
      `,children:[a.jsx("div",{className:`
          h-11 w-11 rounded-full flex items-center justify-center font-semibold text-sm ring-2 shadow-sm shrink-0 transition-colors

          ${t?"bg-primary/20 text-primary/foreground ring-primary/20":"bg-primary/20 dark:bg-primary/30 text-slate-700 dark:text-slate-200 ring-primary dark:ring-slate-700 group-hover:bg-primary/30 group-hover:text-primary"}
        `,children:(e.name||e.phone||"?").charAt(0).toUpperCase()}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex justify-between items-center mb-1",children:[a.jsxs("div",{className:"flex items-center gap-2 overflow-hidden pr-2",children:[a.jsx("span",{className:`
                font-semibold text-sm truncate transition-colors
                ${t?"text-primary":"text-slate-900 dark:text-slate-100 group-hover:text-primary"}
              `,children:e.name||e.phone||"Usuario Desconocido"}),e.prospect&&a.jsx("span",{className:"text-[10px] uppercase font-bold text-amber-600 bg-amber-100 dark:bg-amber-900/30 dark:text-amber-400 px-1.5 py-0.5 rounded-full shrink-0",children:"Prospecto"})]}),e.lastMessageAt&&a.jsx("span",{className:`
                text-[10px] font-medium shrink-0 transition-colors
                ${t?"text-primary":"text-slate-400 dark:text-slate-500 group-hover:text-slate-600 dark:group-hover:text-slate-300"}
              `,children:o_(e.lastMessageAt)})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("p",{className:`
              text-xs truncate max-w-[85%] font-medium transition-colors
              ${t?"text-slate-900 dark:text-slate-100":"text-slate-500 dark:text-slate-400 group-hover:text-slate-700 dark:group-hover:text-slate-200"}
            `,children:[e.lastMessageDir==="outbound"&&a.jsx("span",{className:"font-bold mr-1 opacity-70",children:"T:"}),e.lastMessageBody||"Sin mensajes"]}),!!e.unreadCount&&a.jsx("span",{className:`\r
              min-w-5 h-5 px-1 ml-2 flex items-center justify-center rounded-full\r
              bg-primary text-white text-[10px] font-bold shadow-sm border border-white dark:border-slate-800\r
            `,children:e.unreadCount})]})]})]})}const u_=e=>e?typeof e=="string"?new Date(e).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):e._seconds?new Date(e._seconds*1e3).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):"":"";function d_(){const[e,t]=k.useState([]),[r,n]=k.useState(!1),[s,i]=k.useState(null),[o,l]=k.useState([]),[c,u]=k.useState(!1),[d,p]=k.useState(""),[f,N]=k.useState(!1),[x,g]=k.useState(!0),[w,m]=k.useState(!1),[h,y]=k.useState(""),b=k.useRef(null),j=k.useRef(null);k.useRef(null);const _=async(R=!1)=>{var $;R||n(!0);try{const M=await kr.listConversations(),q=Array.isArray(M.data)?M.data:(($=M.data)==null?void 0:$.data)||[];t(C=>JSON.stringify(C)!==JSON.stringify(q)?q:C)}catch(M){console.error(M)}finally{R||n(!1)}};k.useEffect(()=>{_();const R=setInterval(()=>{_(!0)},15e3);return()=>clearInterval(R)},[]);const v=R=>R?R.phone||R.id||R.clientId||R.uid:null,S=async(R=!1)=>{const $=v(s);if(!$){console.warn("No identifier found for conversation",s);return}let M=!0;R?M=!0:(u(!0),g(!0));try{const q=await kr.getMessages($,{limit:50,orderBy:"createdAt desc",sort:"desc"});if(!M)return;const C=q.data;let A=[];Array.isArray(C)?A=C:C&&Array.isArray(C.data)?A=C.data:console.warn("Estructura de mensajes inesperada:",C);const P=A;R||(P.length===0?console.log("No se encontraron mensajes para",$):P[0].id||console.warn("Mensajes recibidos sin ID, pueden fallar en renderizado:",P[0])),!R&&P.length<50&&g(!1),P.sort((L,B)=>{const Pe=X=>X?typeof X=="string"?new Date(X).getTime():X._seconds?X._seconds*1e3:0:0;return Pe(L.createdAt||L.timestamp)-Pe(B.createdAt||B.timestamp)}),R?l(L=>{var pu,mu;const B=P[P.length-1],Pe=L[L.length-1],X=L.filter(Ae=>Ae.id&&Ae.id.startsWith("opt_")),nt=B?(Ae=>Ae?typeof Ae=="string"?new Date(Ae).getTime():Ae._seconds?Ae._seconds*1e3:0:0)(B.createdAt||B.timestamp):0,Ge=X.filter(Ae=>!P.find(Dn=>{const yr=Dn.body===Ae.body,N0=Dn.direction===Ae.direction;return yr&&N0})),Br=[...P,...Ge];return Br.sort((Ae,eo)=>{const Dn=yr=>yr?typeof yr=="string"?new Date(yr).getTime():yr._seconds?yr._seconds*1e3:0:0;return Dn(Ae.createdAt||Ae.timestamp)-Dn(eo.createdAt||eo.timestamp)}),Br.length!==L.length||((pu=Br[Br.length-1])==null?void 0:pu.id)!==((mu=L[L.length-1])==null?void 0:mu.id)?(Br.length>L.length&&setTimeout(T,50),Br):L}):(l(P),T())}catch(q){R||console.error("Error fetching messages:",q)}finally{M&&!R&&u(!1)}};k.useEffect(()=>{if(l([]),g(!0),!v(s))return;S(!1);const $=setInterval(()=>{_(!0)},15e3);return()=>clearInterval($)},[s]);const T=()=>{setTimeout(()=>{j.current&&(j.current.scrollTop=j.current.scrollHeight)},100)},D=R=>{if(i(R),R.unreadCount&&R.unreadCount>0){t(M=>M.map(q=>q.id===R.id?{...q,unreadCount:0}:q));const $=R.id||R.phone;$&&kr.markAsRead($).catch(M=>{console.error("Error marking as read:",M)})}},J=async R=>{const{scrollTop:$,scrollHeight:M,clientHeight:q}=R.currentTarget;if($===0&&!w&&x&&o.length>0){m(!0);const C=o[0],A=v(s);if(!A)return;try{const L=(await kr.getMessages(A,{limit:50,startAfter:C.id,orderBy:"createdAt desc",sort:"desc"})).data,B=Array.isArray(L)?L:Array.isArray(L==null?void 0:L.data)?L.data:[];if(B.length<50&&g(!1),B.length===0){m(!1);return}B.sort((X,ht)=>{const nt=Ge=>Ge?typeof Ge=="string"?new Date(Ge).getTime():Ge._seconds?Ge._seconds*1e3:0:0;return nt(X.createdAt||X.timestamp)-nt(ht.createdAt||ht.timestamp)});const Pe=M;l(X=>[...B,...X]),requestAnimationFrame(()=>{if(j.current){const X=j.current.scrollHeight;j.current.scrollTop=X-Pe}})}catch(P){console.error("Error fetching more messages:",P)}finally{m(!1)}}},K=R=>{J(R)},re=async R=>{var M,q;R.preventDefault();const $=v(s);if(!(!d.trim()||!$)){N(!0);try{await kr.send({clientId:$,body:d});const C=(s==null?void 0:s.id)||(s==null?void 0:s.phone);if(C){const A={id:"opt_"+Date.now(),body:d,from:"me",to:C,direction:"outbound",createdAt:new Date().toISOString()};l(P=>[...P,A]),t(P=>P.map(L=>(L.id||L.phone)===C?{...L,lastMessageBody:d,lastMessageDir:"outbound",lastMessageAt:new Date().toISOString()}:L))}p(""),T()}catch(C){console.error("Error details:",C),alert("Error enviando mensaje: "+(((q=(M=C.response)==null?void 0:M.data)==null?void 0:q.message)||C.message||"Desconocido"))}finally{N(!1)}}};return a.jsxs("div",{className:"h-[calc(100vh-140px)] flex flex-col gap-4 overflow-hidden",children:[a.jsx("div",{className:"flex justify-between items-center px-1 shrink-0",children:a.jsx("h2",{className:"text-2xl font-bold tracking-tight text-slate-900 dark:text-white",children:"Comunicacin"})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 h-full min-h-0 overflow-hidden md:overflow-visible",children:[a.jsxs(Q,{className:`flex flex-col h-full overflow-hidden p-0 bg-white dark:bg-slate-800 ${s?"hidden md:flex":"flex"}`,children:[a.jsxs("div",{className:"p-4 border-b border-slate-100 dark:border-slate-700 space-y-3 bg-white dark:bg-slate-800",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("h3",{className:"font-bold text-lg text-slate-900 dark:text-white flex items-center gap-2",children:[a.jsx(hu,{className:"text-primary",size:20}),"Mensajes"]}),a.jsx("span",{className:"h-8 w-8 text-xs font-medium text-slate-500 dark:text-slate-400 bg-slate-100 dark:bg-slate-700 rounded-full flex items-center justify-center",children:e.length})]}),a.jsxs("div",{className:"relative",children:[a.jsx(A2,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400",size:16}),a.jsx("input",{type:"text",placeholder:"Buscar chat...",value:h,onChange:R=>y(R.target.value),className:"w-full pl-9 pr-4 py-2 bg-slate-50 dark:bg-slate-900 border-slate-200 dark:border-slate-600 border rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-primary/20 focus:border-primary transition-all placeholder:text-slate-400 dark:placeholder:text-slate-500 text-slate-900 dark:text-white"})]})]}),a.jsx("div",{className:"flex-1 overflow-y-auto min-h-0 p-2 bg-slate-50/50 dark:bg-slate-900/50",children:r?a.jsxs("div",{className:"flex flex-col items-center justify-center py-8 space-y-2 text-slate-400",children:[a.jsx(En,{className:"animate-spin",size:20}),a.jsx("span",{className:"text-xs",children:"Cargando..."})]}):e.length===0?a.jsx("div",{className:"text-sm text-slate-500 py-8 text-center px-4",children:"No hay conversaciones activas."}):a.jsx("div",{className:"space-y-1",children:e.filter(R=>{var M,q,C;if(!h)return!0;const $=h.toLowerCase();return((M=R.name)==null?void 0:M.toLowerCase().includes($))||((q=R.phone)==null?void 0:q.includes($))||((C=R.lastMessageBody)==null?void 0:C.toLowerCase().includes($))}).map(R=>a.jsx(c_,{conversation:R,selected:(s==null?void 0:s.id)===R.id,onClick:()=>D(R)},R.id))})})]}),a.jsx(Q,{className:`md:col-span-2 h-full overflow-hidden relative flex flex-col bg-white dark:bg-slate-800 ${s?"flex":"hidden md:flex"}`,children:s?a.jsxs("div",{className:"flex flex-col h-full overflow-hidden",children:[a.jsx("div",{className:"p-4 border-b border-slate-100 dark:border-slate-700 bg-slate-50 dark:bg-slate-800 flex justify-between items-center shrink-0",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("button",{onClick:()=>i(null),className:"md:hidden p-2 -ml-2 text-slate-600 dark:text-slate-300 hover:bg-slate-200 dark:hover:bg-slate-700 rounded-full transition-colors",children:a.jsx(jb,{size:20})}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-slate-900 dark:text-white",children:s.name||s.phone}),a.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:s.phone})]})]})}),a.jsxs("div",{ref:j,onScroll:K,className:"flex-1 overflow-y-auto p-4 space-y-4 bg-slate-50/20 dark:bg-slate-900/20 min-h-0",children:[w&&a.jsx("div",{className:"flex justify-center py-2 text-xs text-slate-400",children:a.jsx("span",{className:"animate-pulse",children:"Cargando mensajes anteriores..."})}),c?a.jsx("div",{className:"flex justify-center py-8",children:a.jsx("span",{className:"animate-spin h-5 w-5 border-2 border-primary border-t-transparent rounded-full"})}):o.length===0?a.jsx("div",{className:"text-center text-slate-400 text-sm py-10",children:"No hay mensajes en esta conversacin"}):o.map((R,$)=>{let M=!1;return R.direction?M=R.direction==="outbound":(R.template||["sent","delivered","read","queued","failed"].includes(R.status||"")||R.from==="me"||R.to===s.phone)&&(M=!0),a.jsx("div",{className:`flex ${M?"justify-end":"justify-start"} animate-in fade-in slide-in-from-bottom-2 duration-300`,children:a.jsxs("div",{className:`
                                        max-w-[75%] rounded-2xl px-5 py-3 text-sm shadow-sm relative group
                                        ${M?"bg-primary text-white rounded-tr-sm":"bg-white dark:bg-slate-700 text-slate-900 dark:text-white border border-slate-200 dark:border-slate-600 rounded-tl-sm"}
                                    `,children:[R.template?a.jsx("div",{className:`text-xs mb-1.5 font-medium flex items-center gap-1 ${M?"opacity-90 text-primary-100":"text-primary"}`,children:a.jsx("span",{className:"uppercase tracking-wider text-[10px]",children:"Plantilla"})}):null,a.jsx("div",{className:"leading-relaxed whitespace-pre-wrap",children:R.body||(R.template?R.template.replace(/_/g," "):"")}),a.jsxs("div",{className:`text-[10px] mt-1.5 flex gap-1 items-center select-none
                                            ${M?"justify-end text-primary-100/90":"justify-start text-slate-400"}
                                        `,children:[a.jsx("span",{children:u_(R.createdAt||R.timestamp)}),M&&R.status&&a.jsx("span",{title:`Estado: ${R.status}`,className:["read","READ"].includes(R.status)?"text-blue-100 font-bold":"",children:["read","READ"].includes(R.status)||["delivered","DELIVERED"].includes(R.status)?"":["sent","SENT"].includes(R.status)?"":""})]})]})},$)}),a.jsx("div",{ref:b})]}),a.jsx("div",{className:"p-4 bg-slate-100 dark:bg-slate-800 border-t border-slate-100 dark:border-slate-700",children:a.jsxs("form",{onSubmit:re,className:"flex gap-2 items-center w-full",children:[a.jsx("div",{className:"flex-1",children:a.jsx(ee,{className:"min-h-11 border-slate-200 dark:border-slate-600 focus-visible:ring-primary/20 bg-white dark:bg-slate-900 dark:text-white",value:d,onChange:R=>p(R.target.value),placeholder:"Escribe un mensaje...",disabled:f,autoFocus:!0})}),a.jsx(H,{className:"h-11 w-11 md:w-auto px-0 md:px-4 rounded-lg bg-primary hover:bg-primary-700 shadow-md transition-all shrink-0 flex items-center justify-center",type:"submit",disabled:f||!d.trim(),children:f?a.jsx(En,{className:"animate-spin h-5 w-5"}):a.jsxs(a.Fragment,{children:[a.jsx(D2,{size:18,className:f||!d.trim()?"opacity-50":""}),a.jsx("span",{className:"hidden md:inline ml-2",children:"Enviar"})]})})]})})]}):a.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-slate-400 dark:text-slate-500 p-8 text-center",children:[a.jsx("svg",{className:"w-16 h-16 mb-4 text-slate-200 dark:text-slate-700",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})}),a.jsx("p",{children:"Selecciona una conversacin para comenzar a chatear"})]})})]})]})}const Rf=e=>{try{const t=e.trim().split(" ");if(t.length<2)return e;const r=parseInt(t[0]),n=parseInt(t[1]);if(isNaN(r)||isNaN(n))return e;const s=n>=12?"PM":"AM",i=n%12||12,o=r.toString().padStart(2,"0");return`${i}:${o} ${s}`}catch{return e}};function f_(){const[e,t]=k.useState(!1),[r,n]=k.useState("0 9 * * *"),[s,i]=k.useState(!1),[o,l]=k.useState(!0),[c,u]=k.useState(!1),[d,p]=k.useState("");cr.useEffect(()=>{(async()=>{var m;i(!0);try{const h=await Wn.getConfig(),y=((m=h.data)==null?void 0:m.data)||h.data;y&&(t(!!y.enabled),n(y.cronExpression||"0 9 * * *"))}catch(h){console.error("Error loading config",h)}finally{i(!1)}})()},[]);const f=async()=>{const w=!e;try{await Wn.updateConfig({enabled:w}),t(w),alert(w?"Automatizacin activada":"Automatizacin desactivada")}catch(m){console.error(m),alert(m.message||"Error updating config")}},N=async()=>{try{if(!e&&!confirm("La automatizacin est actualmente desactivada. Se actualizar la hora programada pero seguir inactiva. Continuar?"))return;await Wn.updateConfig({cronExpression:r,timeZone:"America/Caracas",enabled:e}),alert("Configuracin guardada exitosamente")}catch(w){console.error(w),alert(w.message||"Error saving cron")}},x=async()=>{if(confirm("Ests seguro? Esto eliminar la configuracin personalizada y restablecer los valores predeterminados (Activo, 9:00 AM)."))try{await Wn.deleteConfig(),alert("Configuracin restablecida. Se recargarn los valores por defecto."),n("0 9 * * *"),t(!0)}catch(w){alert(w.message||"Error reseting config")}},g=async()=>{var w,m;if(!(!o&&!confirm("ATENCIN: Ests a punto de ejecutar el proceso REAL. Se enviarn notificaciones a los clientes por WhatsApp/Correo. Ests seguro?"))){u(!0),p("Ejecutando proceso...");try{const h=await Wn.runDaily({dryRun:o},{reason:"manual-check"});p(JSON.stringify(h.data,null,2))}catch(h){const y=((m=(w=h.response)==null?void 0:w.data)==null?void 0:m.message)||h.message;p(`Error: ${y}`)}finally{u(!1)}}};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center bg-white dark:bg-slate-800 p-4 rounded-lg shadow-sm border border-slate-200 dark:border-slate-700 mb-6 gap-4",children:[a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(w0,{className:"w-5 h-5 text-yellow-500"}),a.jsx("h2",{className:"text-xl sm:text-2xl font-bold tracking-tight text-slate-900 dark:text-white",children:"Automatizacin"})]}),a.jsxs("p",{className:"text-sm text-slate-500 dark:text-slate-400 mt-1",children:["Zona Horaria: ",a.jsx("span",{className:"font-mono text-xs bg-slate-100 dark:bg-slate-700 dark:text-slate-300 px-1 py-0.5 rounded ml-1",children:"America/Caracas"})]}),a.jsxs("p",{className:"text-sm text-slate-500 dark:text-slate-400 mt-1",children:["Frecuencian Actual: ",a.jsxs("span",{className:"font-mono text-xs bg-slate-100 dark:bg-slate-700 dark:text-slate-300 px-1 py-0.5 rounded ml-1",children:["(",Rf(r),")"]})]})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row items-stretch sm:items-center gap-4 w-full sm:w-auto",children:[s&&a.jsx("span",{className:"text-sm text-slate-500 dark:text-slate-400 text-center",children:"Cargando..."}),a.jsx(H,{onClick:f,variant:e?"destructive":"primary",disabled:s,className:`w-full sm:w-auto flex items-center justify-center gap-2 ${e?"bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400 hover:bg-red-100 dark:hover:bg-red-900/40 border-red-200 dark:border-red-800":""}`,children:e?a.jsxs(a.Fragment,{children:[a.jsx(g2,{size:18})," Desactivar Tarea"]}):a.jsxs(a.Fragment,{children:[a.jsx(Xe,{size:18})," Activar Tarea (",Rf(r),")"]})})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs(Q,{title:"Programacin de Facturas",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-4 text-slate-500 dark:text-slate-400",children:[a.jsx(Pb,{size:16}),a.jsx("p",{className:"text-sm",children:"Configura cundo se envan las facturas automticas."})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[a.jsx("div",{className:"flex-1",children:a.jsx(ee,{label:"Frecuencia",value:r,onChange:w=>n(w.target.value),helpText:"min hora dia mes *",className:"font-mono text-sm truncate"})}),a.jsx("div",{className:"flex items-center",children:a.jsxs(H,{onClick:N,size:"md",variant:"secondary",className:"w-full sm:w-auto flex items-center justify-center gap-2",children:[a.jsx(v0,{size:16})," Actualizar"]})})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-4 justify-between pt-2 border-t border-slate-100 dark:border-slate-800 ml-0",children:[a.jsxs("div",{className:"flex items-center gap-2 bg-slate-50 dark:bg-slate-800/50 px-3 py-1.5 rounded-full",children:[a.jsx("span",{className:`h-2.5 w-2.5 rounded-full ${e?"bg-green-500 shadow-[0_0_8px_rgba(34,197,94,0.5)]":"bg-slate-300 dark:bg-slate-600"}`}),a.jsx("span",{className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:e?"Servicio Activo":"Servicio Inactivo"})]}),a.jsxs("button",{onClick:x,className:"text-xs flex items-center gap-1 text-slate-400 dark:text-slate-500 hover:text-red-500 dark:hover:text-red-400 underline decoration-dotted underline-offset-2 transition-colors",children:[a.jsx(T2,{size:12})," Restablecer valores"]})]})]})]}),a.jsxs(Q,{title:"Notificaciones Automticas",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-4 text-slate-500 dark:text-slate-400",children:[a.jsx(Cb,{size:16}),a.jsx("p",{className:"text-sm",children:"Configuracin de alertas automticas."})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-center justify-between p-3 border border-slate-200 dark:border-slate-700 rounded-lg bg-white dark:bg-slate-800 hover:bg-slate-50 dark:hover:bg-slate-700/50 cursor-pointer transition-all active:scale-[0.98]",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 bg-primary/10 rounded-full text-primary",children:a.jsx(_n,{size:16})}),a.jsxs("div",{children:[a.jsx("div",{className:"font-medium text-sm text-slate-900 dark:text-white",children:"Recordatorio de Pago"}),a.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Enviar 3 das antes del vencimiento"})]})]}),a.jsx("div",{className:"relative inline-flex h-6 w-11 items-center rounded-full bg-primary/90 dark:bg-primary",children:a.jsx("span",{className:"translate-x-6 inline-block h-4 w-4 transform rounded-full bg-white transition shadow-sm"})})]}),a.jsxs("div",{className:"flex items-center justify-between p-3 border border-slate-200 dark:border-slate-700 rounded-lg bg-white dark:bg-slate-800 hover:bg-slate-50 dark:hover:bg-slate-700/50 cursor-pointer transition-all active:scale-[0.98]",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 bg-slate-100 dark:bg-slate-700 rounded-full text-slate-500 dark:text-slate-300",children:a.jsx(_b,{size:16})}),a.jsxs("div",{children:[a.jsx("div",{className:"font-medium text-sm text-slate-900 dark:text-white",children:"Bienvenida a Nuevo Cliente"}),a.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Enviar al registrarse"})]})]}),a.jsx("div",{className:"relative inline-flex h-6 w-11 items-center rounded-full bg-slate-200 dark:bg-slate-600",children:a.jsx("span",{className:"translate-x-1 inline-block h-4 w-4 transform rounded-full bg-white transition shadow-sm"})})]})]})]}),a.jsxs(Q,{title:"Ejecucin Manual",className:"md:col-span-2 lg:col-span-1",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-4 text-slate-500 dark:text-slate-400",children:[a.jsx(Sf,{size:16}),a.jsx("p",{className:"text-sm",children:"Ejecucin inmediata de tareas."})]}),a.jsxs("div",{className:"flex pb-4 sm:items-center flex-col sm:flex-row gap-4 mb-4 border-b border-slate-100 dark:border-slate-700",children:[a.jsxs("label",{className:"flex items-center gap-3 cursor-pointer p-2 rounded-lg hover:bg-slate-50 dark:hover:bg-slate-800/50 transition-colors border border-transparent hover:border-slate-200 dark:hover:border-slate-700 w-full sm:w-auto",children:[a.jsx("div",{className:`w-5 h-5 rounded flex items-center justify-center border ${o?"bg-primary border-primary text-white":"bg-white border-slate-300 dark:bg-slate-800 dark:border-slate-600"}`,children:o&&a.jsx(Xe,{size:14})}),a.jsx("input",{type:"checkbox",checked:o,onChange:w=>l(w.target.checked),className:"hidden"}),a.jsx("span",{className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:"Modo Simulacin"})]}),a.jsxs("div",{className:"flex items-start gap-2 text-xs text-slate-500 dark:text-slate-400 px-2 sm:px-0",children:[a.jsx(V2,{size:14,className:"mt-0.5 shrink-0 text-amber-500"}),a.jsx("span",{children:o?"Solo contabiliza lo que se enviara (No enva correos/WhatsApp).":a.jsx("span",{className:"text-amber-600 dark:text-amber-400 font-medium",children:"ATENCIN: Se enviarn mensajes REALES a los clientes."})})]})]}),a.jsxs(H,{onClick:g,disabled:c,variant:o?"secondary":"primary",className:"w-full sm:w-auto flex items-center justify-center gap-2 py-6 text-base shadow-sm",children:[c?a.jsx(C2,{className:"animate-spin"}):a.jsx(Sf,{size:18,fill:"currentColor"}),c?"Ejecutando proceso...":o?"Iniciar Simulacin":"EJECUTAR ENVO REAL"]}),d&&a.jsxs("div",{className:"mt-4 p-4 bg-slate-900 text-slate-300 rounded-lg border border-slate-700 text-xs font-mono overflow-auto max-h-60 shadow-inner",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2 text-slate-400 border-b border-slate-800 pb-2",children:[a.jsx(E2,{size:12,className:"animate-pulse text-green-500"}),a.jsx("span",{className:"uppercase tracking-wider text-[10px]",children:"Console Output"})]}),a.jsx("pre",{className:"whitespace-pre-wrap breakdown-all",children:d})]})]})]})]})}function h_(){var u;const[e,t]=k.useState(null),[r,n]=k.useState(!0),[s,i]=k.useState(!1),[o,l]=k.useState({displayName:"",phone:"",address:""});k.useEffect(()=>{let d=!0;return(async()=>{var f,N;try{const x=await yt.me(),g=((f=x.data)==null?void 0:f.user)||((N=x.data)==null?void 0:N.data);d&&g&&(t(g),l({displayName:g.name||g.displayName||"",phone:g.phone||"",address:g.address||""}))}catch(x){console.error(x)}finally{d&&n(!1)}})(),()=>{d=!1}},[]);const c=async d=>{d.preventDefault(),i(!0),setTimeout(()=>{alert("Perfil actualizado (Simulado)"),i(!1)},1e3)};return r?a.jsx("div",{className:"p-8 text-center text-gray-500",children:"Cargando perfil..."}):a.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"h-16 w-16 rounded-full bg-slate-100 dark:bg-slate-700 border-2 border-white dark:border-slate-600 flex items-center justify-center text-xl font-bold text-primary dark:text-white shadow-sm overflow-hidden",children:(u=e==null?void 0:e.email)==null?void 0:u.charAt(0).toUpperCase()}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold text-primary dark:text-white",children:(e==null?void 0:e.displayName)||(e==null?void 0:e.name)||"Usuario"}),a.jsx("p",{className:"text-gray-500",children:e==null?void 0:e.email})]})]}),a.jsx(Q,{title:"Informacin Personal",children:a.jsxs("form",{onSubmit:c,className:"space-y-4",children:[a.jsx(ee,{label:"Nombre Completo",value:o.displayName,onChange:d=>l({...o,displayName:d.target.value})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsx(ee,{label:"Telfono",value:o.phone,onChange:d=>l({...o,phone:d.target.value}),placeholder:"+56 9 1234 5678"}),a.jsx(ee,{label:"Direccin",value:o.address,onChange:d=>l({...o,address:d.target.value}),placeholder:"Av. Principal 123"})]}),a.jsx("div",{className:"pt-4 flex justify-end",children:a.jsxs(H,{type:"submit",disabled:s,className:"flex items-center gap-2",children:[a.jsx(q2,{size:18}),s?"Guardando...":"Guardar Cambios"]})})]})}),a.jsx(Q,{title:"Seguridad",children:a.jsx("div",{className:"space-y-4",children:a.jsxs("div",{className:"p-4 bg-yellow-50 rounded-lg border border-yellow-100 flex items-start gap-3",children:[a.jsx("div",{className:"text-yellow-600 mt-0.5",children:a.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-sm font-medium text-yellow-800",children:"Cambiar Contrasea"}),a.jsx("p",{className:"text-xs text-yellow-700 mt-1",children:"Para cambiar tu contrasea, por favor contacta al administrador del sistema o usa la opcin de recuperacin de contrasea en el login."})]})]})})})]})}function p_(){const[e,t]=k.useState([]),[r,n]=k.useState(!0),[s,i]=k.useState(null),[o,l]=k.useState({displayName:"",role:"staff",disabled:!1}),[c,u]=k.useState(!1),[d,p]=k.useState(!1),[f,N]=k.useState({email:"",password:"",displayName:"",role:"staff"}),[x,g]=k.useState(null);k.useEffect(()=>{w()},[]);const w=async()=>{var _,v,S;n(!0);try{const T=await yt.listUsers({limit:50});(v=(_=T.data)==null?void 0:_.data)!=null&&v.users?t(T.data.data.users):Array.isArray(T.data)?t(T.data):(S=T.data)!=null&&S.data&&Array.isArray(T.data.data)&&t(T.data.data)}catch(T){console.error(T)}finally{n(!1)}},m=_=>{i(_.uid),l({displayName:_.displayName||_.name||"",role:_.role||"guest",disabled:_.disabled||!1})},h=()=>{i(null),l({displayName:"",role:"staff",disabled:!1})},y=async _=>{try{await yt.updateUser(_,{displayName:o.displayName,role:o.role,disabled:o.disabled}),t(v=>v.map(S=>S.uid===_?{...S,...o}:S)),i(null)}catch(v){alert("Error actualizando usuario: "+(v.message||"Error desconocido"))}},b=async _=>{_.preventDefault(),p(!0);try{await yt.create({email:f.email,password:f.password,displayName:f.displayName,role:f.role}),N({email:"",password:"",displayName:"",role:"staff"}),u(!1),w()}catch(v){alert("Error creando usuario: "+(v.message||"Error desconocido"))}finally{p(!1)}},j=async()=>{if(x)try{await yt.deleteUser(x.uid),t(_=>_.filter(v=>v.uid!==x.uid)),g(null)}catch(_){alert("Error eliminando usuario: "+(_.message||"Error desconocido")),g(null)}};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 bg-white dark:bg-slate-800 p-4 rounded-xl shadow-sm border border-slate-200 dark:border-slate-700",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-3 bg-indigo-50 dark:bg-indigo-900/20 rounded-lg text-indigo-600 dark:text-indigo-400",children:a.jsx($o,{size:24})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold text-slate-900 dark:text-white tracking-tight",children:"Gestin de Usuarios"}),a.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:"Administra el staff y accesos administrativos"})]})]}),a.jsxs(H,{onClick:()=>{u(!c)},className:"w-full sm:w-auto flex items-center justify-center gap-2",variant:c?"outline":"primary",children:[c?a.jsx(Cf,{size:18}):a.jsx(Ea,{size:18}),c?"Cancelar":"Nuevo Usuario"]})]}),c&&a.jsxs("div",{className:"bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl shadow-lg overflow-hidden transition-all duration-300 ease-in-out mb-6",children:[a.jsxs("div",{className:"p-6 bg-slate-50 dark:bg-slate-900/50 border-b border-slate-100 dark:border-slate-700 flex items-center gap-3",children:[a.jsx("div",{className:"h-8 w-8 rounded-full bg-primary/10 flex items-center justify-center text-primary",children:a.jsx(Ea,{size:16})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-slate-900 dark:text-white",children:"Registrar Nuevo Usuario"}),a.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:"Crea una cuenta para un administrador o miembro del staff."})]})]}),a.jsx("div",{className:"p-6",children:a.jsxs("form",{onSubmit:b,className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsx(ee,{label:"Nombre Completo",value:f.displayName,onChange:_=>N(v=>({...v,displayName:_.target.value})),required:!0,placeholder:"Ej. Admin User",startContent:a.jsx(jn,{size:16,className:"text-slate-400"})}),a.jsx(ee,{label:"Email",type:"email",value:f.email,onChange:_=>N(v=>({...v,email:_.target.value})),required:!0,placeholder:"admin@empresa.com",startContent:a.jsx(fu,{size:16,className:"text-slate-400"})}),a.jsx(ee,{label:"Contrasea",type:"password",value:f.password,onChange:_=>N(v=>({...v,password:_.target.value})),required:!0,placeholder:"",startContent:a.jsx(x0,{size:16,className:"text-slate-400"})}),a.jsxs("div",{children:[a.jsx("label",{className:"mb-1 text-sm font-medium text-slate-700 dark:text-slate-300 block",children:"Rol"}),a.jsxs("div",{className:"relative",children:[a.jsxs("select",{className:"flex h-11 w-full rounded-lg border border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-950 text-slate-900 dark:text-white px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent transition-shadow pl-10 appearance-none",value:f.role,onChange:_=>N(v=>({...v,role:_.target.value})),children:[a.jsx("option",{value:"staff",children:"Staff (Personal)"}),a.jsx("option",{value:"admin",children:"Administrador (Acceso Total)"}),a.jsx("option",{value:"client",children:"Cliente"})]}),a.jsx($o,{size:16,className:"absolute left-3 top-3 text-slate-400 pointer-events-none"})]})]})]}),a.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t border-slate-100 dark:border-slate-700",children:[a.jsx(H,{type:"button",variant:"outline",onClick:()=>u(!1),disabled:d,children:"Cancelar"}),a.jsx(H,{type:"submit",disabled:d,className:"min-w-32",children:d?"Guardando...":"Crear Usuario"})]})]})})]}),a.jsx(Q,{title:`Usuarios del Sistema (${e.length})`,children:r?a.jsx("div",{className:"flex justify-center p-8",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):a.jsxs("div",{className:"overflow-x-auto -mx-4 sm:mx-0",children:[a.jsx("div",{className:"sm:hidden space-y-4 px-4 pb-4",children:e.map(_=>a.jsxs("div",{className:"bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-lg p-4 shadow-sm space-y-3",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"h-10 w-10 rounded-full bg-slate-200 dark:bg-slate-700 text-primary dark:text-white flex items-center justify-center font-bold text-sm ring-2 ring-white dark:ring-slate-600 shadow-sm shrink-0 uppercase",children:(_.displayName||_.name||_.email||"?").charAt(0)}),a.jsxs("div",{children:[s===_.uid?a.jsx(ee,{value:o.displayName,onChange:v=>l({...o,displayName:v.target.value}),className:"h-8 text-xs mb-1",placeholder:"Nombre"}):a.jsx("div",{className:"text-sm font-semibold text-slate-400 dark:text-white",children:_.displayName||_.name||"Sin nombre"}),a.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400",children:_.email})]})]}),s!==_.uid&&a.jsxs("div",{className:"flex gap-1",children:[a.jsx("button",{onClick:()=>m(_),className:"text-slate-500 dark:text-slate-400 hover:bg-slate-100 dark:hover:bg-slate-700 p-2 rounded-full transition-colors",children:a.jsx(Xl,{size:18})}),a.jsx("button",{onClick:()=>g(_),className:"text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20 p-2 rounded-full transition-colors",children:a.jsx(Bo,{size:18})})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4 text-xs text-slate-600 dark:text-slate-400 pt-3 border-t border-slate-100 dark:border-slate-700/50",children:[a.jsxs("div",{children:[a.jsx("span",{className:"block text-slate-400 dark:text-slate-500 text-[10px] uppercase font-semibold mb-1",children:"Rol"}),s===_.uid?a.jsxs("select",{className:"block w-full py-1 text-xs border-slate-300 dark:border-slate-600 dark:bg-slate-800 focus:outline-none focus:ring-primary focus:border-primary sm:text-xs rounded-md",value:o.role,onChange:v=>l({...o,role:v.target.value}),children:[a.jsx("option",{value:"staff",children:"Staff"}),a.jsx("option",{value:"admin",children:"Admin"}),a.jsx("option",{value:"client",children:"Cliente"}),a.jsx("option",{value:"guest",children:"Guest"})]}):a.jsx("span",{className:`px-2.5 py-0.5 inline-flex text-xs leading-4 font-medium rounded-full border 
                                            ${_.role==="admin"?"bg-purple-50 dark:bg-purple-900/30 text-purple-700 dark:text-purple-300 border-purple-100 dark:border-purple-800":_.role==="staff"?"bg-blue-50 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300 border-blue-100 dark:border-blue-800":_.role==="client"?"bg-green-50 dark:bg-green-900/30 text-green-700 dark:text-green-300 border-green-100 dark:border-green-800":"bg-slate-100 dark:bg-slate-700 text-slate-700 dark:text-slate-300 border-slate-200 dark:border-slate-600"}`,children:_.role||"guest"})]}),a.jsxs("div",{children:[a.jsx("span",{className:"block text-slate-400 dark:text-slate-500 text-[10px] uppercase font-semibold mb-1",children:"Estado"}),s===_.uid?a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("input",{id:`disabled-mobile-${_.uid}`,type:"checkbox",checked:o.disabled,onChange:v=>l({...o,disabled:v.target.checked}),className:"h-4 w-4 text-red-600 focus:ring-red-500 border-slate-300 rounded"}),a.jsx("label",{htmlFor:`disabled-mobile-${_.uid}`,className:"text-xs text-slate-700 dark:text-slate-300",children:"Bloqueado"})]}):_.disabled?a.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-red-50 dark:bg-red-900/20 text-red-700 dark:text-red-400 border border-red-100 dark:border-red-800",children:"Bloqueado"}):a.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-green-50 dark:bg-green-900/20 text-green-700 dark:text-green-400 border border-green-100 dark:border-green-800",children:"Activo"})]})]}),s===_.uid&&a.jsxs("div",{className:"flex justify-end gap-2 pt-2 border-t border-slate-50 dark:border-slate-700",children:[a.jsx(H,{size:"sm",variant:"outline",onClick:h,className:"text-xs h-8",children:"Cancelar"}),a.jsx(H,{size:"sm",onClick:()=>y(_.uid),className:"text-xs h-8 bg-green-600 hover:bg-green-700 text-white",children:"Guardar Cambios"})]})]},_.uid))}),a.jsxs("table",{className:"min-w-full divide-y divide-slate-200 dark:divide-slate-700 hidden sm:table",children:[a.jsx("thead",{className:"bg-slate-50 dark:bg-slate-800",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Usuario"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Rol"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Estado"}),a.jsx("th",{className:"px-6 py-3 text-right text-xs font-semibold text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Acciones"})]})}),a.jsx("tbody",{className:"bg-white dark:bg-slate-900 divide-y divide-slate-200 dark:divide-slate-800",children:e.map(_=>{var v;return a.jsxs("tr",{className:"hover:bg-slate-50 dark:hover:bg-slate-800/50 transition-colors",children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s===_.uid?a.jsx("div",{className:"space-y-1",children:a.jsx(ee,{value:o.displayName,onChange:S=>l({...o,displayName:S.target.value}),className:"h-8 text-xs",placeholder:"Nombre"})}):a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"h-9 w-9 rounded-full bg-primary/10 text-primary flex items-center justify-center font-bold text-xs ring-2 ring-white dark:ring-slate-700 shadow-sm uppercase shrink-0",children:((v=_.email)==null?void 0:v.charAt(0))||"?"}),a.jsxs("div",{className:"ml-3",children:[a.jsx("div",{className:"text-sm font-semibold text-slate-900 dark:text-white",children:_.displayName||_.name||"Sin nombre"}),a.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400 font-medium",children:_.email})]})]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s===_.uid?a.jsxs("select",{className:"block w-full py-1 text-xs border-slate-300 dark:border-slate-600 dark:bg-slate-800 focus:outline-none focus:ring-primary focus:border-primary sm:text-xs rounded-md",value:o.role,onChange:S=>l({...o,role:S.target.value}),children:[a.jsx("option",{value:"staff",children:"Staff"}),a.jsx("option",{value:"admin",children:"Admin"}),a.jsx("option",{value:"client",children:"Cliente"}),a.jsx("option",{value:"guest",children:"Guest"})]}):a.jsx("span",{className:`px-2.5 py-0.5 inline-flex text-xs leading-4 font-medium rounded-full border 
                                            ${_.role==="admin"?"bg-purple-50 dark:bg-purple-900/30 text-purple-700 dark:text-purple-300 border-purple-100 dark:border-purple-800":_.role==="staff"?"bg-blue-50 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300 border-blue-100 dark:border-blue-800":_.role==="client"?"bg-green-50 dark:bg-green-900/30 text-green-700 dark:text-green-300 border-green-100 dark:border-green-800":"bg-slate-100 dark:bg-slate-700 text-slate-700 dark:text-slate-300 border-slate-200 dark:border-slate-600"}`,children:_.role||"guest"})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s===_.uid?a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("input",{id:`disabled-${_.uid}`,type:"checkbox",checked:o.disabled,onChange:S=>l({...o,disabled:S.target.checked}),className:"h-4 w-4 text-red-600 focus:ring-red-500 border-slate-300 rounded"}),a.jsx("label",{htmlFor:`disabled-${_.uid}`,className:"text-xs text-slate-700 dark:text-slate-300",children:"Deshabilitado"})]}):_.disabled?a.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-red-50 dark:bg-red-900/20 text-red-700 dark:text-red-400 border border-red-100 dark:border-red-800",children:"Bloqueado"}):a.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-green-50 dark:bg-green-900/20 text-green-700 dark:text-green-400 border border-green-100 dark:border-green-800",children:"Activo"})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:s===_.uid?a.jsxs("div",{className:"flex justify-end gap-2",children:[a.jsx("button",{onClick:()=>y(_.uid),className:"text-green-600 hover:text-green-900 bg-green-50 p-1.5 rounded-md hover:bg-green-100 transition-colors",title:"Guardar",children:a.jsx(Db,{size:16})}),a.jsx("button",{onClick:h,className:"text-red-600 hover:text-red-900 bg-red-50 p-1.5 rounded-md hover:bg-red-100 transition-colors",title:"Cancelar",children:a.jsx(Cf,{size:16})})]}):a.jsxs("div",{className:"flex justify-end gap-2",children:[a.jsxs("button",{onClick:()=>m(_),className:"text-slate-500 hover:text-slate-700 dark:text-slate-400 dark:hover:text-slate-200 inline-flex items-center gap-1 hover:bg-slate-100 dark:hover:bg-slate-800 px-3 py-1.5 rounded-md transition-colors text-xs font-medium",children:[a.jsx(Xl,{size:14})," Editar"]}),a.jsx("button",{onClick:()=>g(_),className:"text-red-500 hover:text-red-700 dark:text-red-400 dark:hover:text-red-300 inline-flex items-center gap-1 hover:bg-red-50 dark:hover:bg-red-900/20 px-3 py-1.5 rounded-md transition-colors text-xs font-medium",children:a.jsx(Bo,{size:14})})]})})]},_.uid)})})]})]})}),x&&a.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4 backdrop-blur-sm",children:a.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-xl shadow-2xl dark:shadow-black/50 border border-slate-200 dark:border-slate-800 max-w-md w-full p-6 animate-in fade-in zoom-in duration-200",children:[a.jsxs("div",{className:"flex items-center gap-3 text-red-600 dark:text-red-500 mb-4",children:[a.jsx("div",{className:"bg-red-100 dark:bg-red-900/30 p-3 rounded-full",children:a.jsx(Bo,{size:24})}),a.jsx("h3",{className:"text-xl font-bold text-slate-900 dark:text-white",children:"Eliminar Usuario?"})]}),a.jsxs("p",{className:"text-slate-600 dark:text-slate-300 mb-6 font-medium",children:["Ests a punto de eliminar a ",a.jsx("strong",{children:x.displayName||x.email}),"."]}),a.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-100 dark:border-red-800 p-3 rounded-lg flex items-start gap-2 mb-6",children:[a.jsx($o,{size:16,className:"text-red-600 dark:text-red-400 mt-0.5 shrink-0"}),a.jsxs("p",{className:"text-xs text-red-700 dark:text-red-300",children:["Esta accin es ",a.jsx("strong",{children:"irreversible"})," y ejecutar una limpieza en cascada (cuenta, perfil y suscripciones asociadas)."]})]}),a.jsxs("div",{className:"flex justify-end gap-3",children:[a.jsx(H,{variant:"outline",onClick:()=>g(null),children:"Cancelar"}),a.jsx(H,{onClick:j,className:"bg-red-600 hover:bg-red-700 text-white border-red-600 dark:border-red-600",children:"Confirmar Eliminacin"})]})]})})]})}const Ho=e=>{if(!e)return"-";const t=new Date,[r,n,s]=e.split("-").map(Number),o=new Date(r,n-1,s).getTime()-t.setHours(0,0,0,0);return isNaN(o)?"-":Math.ceil(o/(1e3*60*60*24))};function m_(){const{user:e}=gr(),t=$s(),[r,n]=k.useState(!0),[s,i]=k.useState(null),[o,l]=k.useState(null),[c,u]=k.useState(null);k.useEffect(()=>{let f=!0;return(async()=>{var x,g,w;if(!(e!=null&&e.id)){f&&(u("No se encontr el usuario"),n(!1));return}try{n(!0);const m=await V.get("/auth/me"),h=((x=m.data)==null?void 0:x.data)||m.data,y=e.id;try{const S=await V.get(`/clients/${y}`),T=((g=S.data)==null?void 0:g.data)||S.data;f&&l(T)}catch{console.log("Cliente no encontrado en Firestore")}if(!f)return;const b=await V.get("/subscriptions"),v=(((w=b.data)==null?void 0:w.data)||b.data||[]).filter(S=>S.clientId===y).find(S=>S.status==="active");i(v?{...v,clientName:(h==null?void 0:h.displayName)||"",clientEmail:(h==null?void 0:h.email)||""}:null)}catch(m){console.error("Error fetching data:",m),f&&u("No se pudieron cargar los datos")}finally{f&&n(!1)}})(),()=>{f=!1}},[e]);const d=f=>{if(!f)return"-";const[N,x,g]=f.split("-"),m=["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"][parseInt(x,10)-1]||"";return`${parseInt(g,10)} de ${m} de ${N}`},p=f=>{switch(f){case"active":return"text-green-600 bg-green-50 dark:bg-green-900/20";case"inactive":return"text-gray-600 bg-gray-50 dark:bg-gray-900/20";case"past_due":return"text-yellow-600 bg-yellow-50 dark:bg-yellow-900/20";case"cancelled":return"text-red-600 bg-red-50 dark:bg-red-900/20";default:return"text-gray-600 bg-gray-50 dark:bg-gray-900/20"}};return r?a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx(En,{className:"w-8 h-8 animate-spin text-primary"})}):a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-secondary tracking-tight",children:"Dashboard Cliente"}),a.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-300",children:["Bienvenido",e!=null&&e.displayName?`, ${e.displayName}`:""]})]})}),c&&a.jsxs("div",{className:"flex items-center gap-2 p-3 bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 rounded-lg text-yellow-600 dark:text-yellow-400 text-sm",children:[a.jsx(Ds,{className:"w-4 h-4 shrink-0"}),a.jsx("span",{children:c})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs(Q,{className:"border-l-4 border-l-primary/70",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"font-semibold text-gray-900 dark:text-secondary",children:"Tu Plan Actual"}),(s==null?void 0:s.status)&&a.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium ${p(s.status)}`,children:[s.status==="active"?a.jsx(Xe,{className:"w-3 h-3"}):a.jsx(_n,{className:"w-3 h-3"}),s.status==="active"?"Activo":s.status]})]}),s?a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"flex items-center justify-between py-2",children:[a.jsxs("div",{children:[a.jsx("div",{className:"font-bold text-lg text-gray-900 dark:text-gray-200",children:s.plan}),a.jsxs("div",{className:"text-2xl font-bold text-primary mt-1 dark:text-secondary",children:[s.amount,a.jsx("span",{className:"text-sm font-normal text-gray-500 dark:text-gray-300",children:"/mes"})]})]}),a.jsx(Tt,{className:"w-10 h-10 text-gray-300 dark:text-gray-600"})]}),a.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-100 dark:border-gray-700 flex items-center justify-between text-sm",children:[a.jsxs("span",{className:"text-gray-500 dark:text-gray-400 flex items-center gap-1.5",children:[a.jsx(ba,{className:"w-4 h-4"}),"Prximo corte:"]}),a.jsx("span",{className:"font-medium text-gray-900 dark:text-gray-200",children:d(s.cutDate)})]}),a.jsx("div",{className:"mt-2 flex items-center gap-2 text-sm text-primary dark:text-secondary font-semibold",children:typeof Ho(s.cutDate)=="number"&&Ho(s.cutDate)>=0?a.jsxs(a.Fragment,{children:[a.jsx(_n,{className:"w-4 h-4"}),"Faltan ",Ho(s.cutDate)," das para el cobro"]}):a.jsx("span",{children:"No se pudo calcular los das restantes"})}),a.jsx("div",{className:"mt-3",children:a.jsx(H,{variant:"primary",className:"w-full font-bold shadow-md shadow-primary/20",onClick:()=>t("/client/subscription"),children:"Ver detalles"})})]}):a.jsxs("div",{className:"flex flex-col items-center justify-center py-8 text-center",children:[a.jsx(Tt,{className:"w-12 h-12 text-gray-300 dark:text-gray-600 mb-3"}),a.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"No tienes suscripcin activa"}),a.jsx(H,{variant:"secondary",size:"sm",className:"mt-3",children:"Contactar soporte"})]})]}),a.jsxs(Q,{children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"font-semibold text-gray-900 dark:text-secondary",children:"Tu Informacin"}),a.jsxs(H,{variant:"ghost",size:"sm",onClick:()=>t("/client/profile"),className:"text-primary hover:text-primary/80",children:["Editar ",a.jsx(jn,{className:"w-4 h-4 ml-1"})]})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gray-50 dark:bg-slate-900/50 rounded-lg",children:[a.jsx(Fo,{className:"w-8 h-8 text-gray-400"}),a.jsxs("div",{children:[a.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Nombre"}),a.jsx("div",{className:"font-medium text-gray-900 dark:text-gray-200",children:(e==null?void 0:e.displayName)||(o==null?void 0:o.name)||"No definido"})]})]}),a.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gray-50 dark:bg-slate-900/50 rounded-lg",children:[a.jsx(Fo,{className:"w-8 h-8 text-gray-400"}),a.jsxs("div",{children:[a.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Email"}),a.jsx("div",{className:"font-medium text-gray-900 dark:text-gray-200",children:(e==null?void 0:e.email)||"No definido"})]})]}),(o==null?void 0:o.phone)&&a.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gray-50 dark:bg-slate-900/50 rounded-lg",children:[a.jsx(Fo,{className:"w-8 h-8 text-gray-400"}),a.jsxs("div",{children:[a.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Telfono"}),a.jsx("div",{className:"font-medium text-gray-900 dark:text-gray-200",children:o.phone})]})]})]})]})]}),a.jsxs(Q,{children:[a.jsx("h3",{className:"font-semibold text-gray-900 dark:text-secondary mb-4",children:"Accesos rpidos"}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3",children:[a.jsxs(H,{variant:"outline",className:"h-auto py-4 flex-col gap-2 bg-blue-50 dark:bg-blue-900/20 border-blue-200 dark:border-blue-800 text-blue-700 dark:text-blue-300",onClick:()=>t("/client/subscription"),children:[a.jsx(Tt,{className:"w-6 h-6"}),a.jsx("span",{children:"Mi Suscripcin"})]}),a.jsxs(H,{variant:"outline",className:"h-auto py-4 flex-col gap-2 bg-blue-50 dark:bg-blue-900/20 border-blue-200 dark:border-blue-800 text-blue-700 dark:text-blue-300",onClick:()=>t("/client/payments"),children:[a.jsx(_a,{className:"w-6 h-6"}),a.jsx("span",{children:"Mis Pagos"})]}),a.jsxs(H,{variant:"outline",className:"h-auto py-4 flex-col gap-2 bg-blue-50 dark:bg-blue-900/20 border-blue-200 dark:border-blue-800 text-blue-700 dark:text-blue-300",onClick:()=>t("/client/profile"),children:[a.jsx(jn,{className:"w-6 h-6"}),a.jsx("span",{children:"Mi Perfil"})]})]})]})]})}function g_(){const{user:e}=gr(),[t,r]=k.useState(!0),[n,s]=k.useState(null),[i,o]=k.useState([]),[l,c]=k.useState(null),[u,d]=k.useState(!1);k.useEffect(()=>{let g=!0;return(async()=>{var m;if(!(e!=null&&e.id)){g&&(c("No se encontr el usuario"),r(!1));return}try{r(!0);const h=await V.get("/subscriptions"),y=((m=h.data)==null?void 0:m.data)||h.data||[],b=e.id,j=y.filter(v=>v.clientId===b).map(v=>({...v,clientName:e.displayName||"",clientEmail:e.email||""}));if(!g)return;o(j);const _=j.find(v=>v.status==="active");s(_||null)}catch(h){console.error("Error fetching subscription:",h),g&&c("No se pudo cargar la informacin de tu suscripcin")}finally{g&&r(!1)}})(),()=>{g=!1}},[e]);const p=async()=>{var g,w;if(n!=null&&n.id)try{d(!0),await V.post(`/subscriptions/${n.id}/renew`),window.location.reload()}catch(m){alert(((w=(g=m.response)==null?void 0:g.data)==null?void 0:w.message)||"Error al renovar suscripcin")}finally{d(!1)}},f=g=>{switch(g){case"active":return"text-green-600 bg-green-50 dark:bg-green-900/20";case"inactive":return"text-gray-600 bg-gray-50 dark:bg-gray-900/20";case"past_due":return"text-yellow-600 bg-yellow-50 dark:bg-yellow-900/20";case"cancelled":return"text-red-600 bg-red-50 dark:bg-red-900/20";default:return"text-gray-600 bg-gray-50 dark:bg-gray-900/20"}},N=g=>{switch(g){case"active":return"Activo";case"inactive":return"Inactivo";case"past_due":return"Pendiente de pago";case"cancelled":return"Cancelado";default:return g}},x=g=>g?new Date(g).toLocaleDateString("es-ES",{day:"2-digit",month:"long",year:"numeric"}):"-";return t?a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx(En,{className:"w-8 h-8 animate-spin text-primary"})}):a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-secondary tracking-tight",children:"Mi Suscripcin"}),a.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-300",children:"Gestiona tu plan de suscripcin"})]}),l&&a.jsxs("div",{className:"flex items-center gap-2 p-3 bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 rounded-lg text-yellow-600 dark:text-yellow-400 text-sm",children:[a.jsx(Ds,{className:"w-4 h-4 shrink-0"}),a.jsx("span",{children:l})]}),!n&&!l&&a.jsx(Q,{children:a.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[a.jsx(Tt,{className:"w-16 h-16 text-gray-300 dark:text-gray-600 mb-4"}),a.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:"No tienes suscripcin activa"}),a.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1 mb-4",children:"Contacta con nosotros para contratar un plan"}),a.jsx(H,{children:"Contactar soporte"})]})}),n&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:`inline-flex items-center gap-2 px-3 py-1.5 rounded-full ${f(n.status||"")}`,children:[n.status==="active"?a.jsx(Xe,{className:"w-4 h-4"}):n.status==="past_due"?a.jsx(Ds,{className:"w-4 h-4"}):a.jsx(_n,{className:"w-4 h-4"}),a.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-gray-200",children:N(n.status||"")})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs(Q,{className:"border-l-4 border-l-primary/70",children:[a.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white mb-4",children:"Plan"}),a.jsxs("div",{className:"flex items-center justify-between py-2",children:[a.jsxs("div",{children:[a.jsx("div",{className:"font-bold text-xl text-gray-900 dark:text-gray-200",children:n.plan}),a.jsxs("div",{className:"text-3xl font-bold text-primary dark:text-secondary mt-2",children:[n.amount,a.jsx("span",{className:"text-sm font-normal text-gray-500 dark:text-gray-300",children:"/mes"})]})]}),a.jsx(Tt,{className:"w-12 h-12 text-gray-300 dark:text-gray-600"})]}),n.passwordSub&&a.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-100 dark:border-gray-700",children:[a.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500 dark:text-gray-400 mb-2",children:[a.jsx(t2,{className:"w-4 h-4"}),"Contrasea del servicio"]}),a.jsx("div",{className:"font-mono text-sm bg-gray-100 dark:bg-slate-800 px-3 py-2 rounded-lg text-gray-900 dark:text-gray-200",children:n.passwordSub})]})]}),a.jsxs(Q,{children:[a.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white mb-4",children:"Informacin de Facturacin"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-slate-900/50 rounded-lg",children:[a.jsxs("div",{className:"flex items-center gap-2 text-gray-500 dark:text-gray-400",children:[a.jsx(ba,{className:"w-4 h-4"}),a.jsx("span",{className:"text-sm",children:"Fecha de inicio"})]}),a.jsx("span",{className:"font-medium text-gray-900 dark:text-gray-200",children:x(n.startDate)})]}),a.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-slate-900/50 rounded-lg",children:[a.jsxs("div",{className:"flex items-center gap-2 text-gray-500 dark:text-gray-400",children:[a.jsx(ba,{className:"w-4 h-4"}),a.jsx("span",{className:"text-sm",children:"Prximo corte"})]}),a.jsx("span",{className:"font-medium text-gray-900 dark:text-gray-200",children:x(n.cutDate)})]})]})]})]}),a.jsxs(Q,{children:[a.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white mb-4",children:"Opciones"}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[a.jsx(H,{variant:"primary",onClick:p,disabled:u,children:u?a.jsxs(a.Fragment,{children:[a.jsx(En,{className:"w-4 h-4 mr-2 animate-spin"}),"Renovando..."]}):"Renovar suscripcin"}),a.jsx(H,{variant:"secondary",children:"Solicitar cambio de plan"}),a.jsx(H,{variant:"outline",children:"Ver historial"})]})]})]}),i.length>1&&a.jsxs(Q,{children:[a.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white mb-4",children:"Historial de Planes"}),a.jsx("div",{className:"space-y-3",children:i.map(g=>a.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-slate-900/50 rounded-lg",children:[a.jsxs("div",{children:[a.jsx("div",{className:"font-medium text-gray-900 dark:text-gray-200",children:g.plan}),a.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:[x(g.startDate)," - ",g.status==="active"?"Actual":x(g.cutDate)]})]}),a.jsx("span",{className:`text-sm font-medium ${f(g.status||"")}`,children:N(g.status||"")})]},g.id))})]})]})}function y_(){const{user:e}=gr(),[t,r]=k.useState(!0),[n,s]=k.useState([]),[i,o]=k.useState(null),[l,c]=k.useState("all");k.useEffect(()=>{let g=!0;return(async()=>{var m;if(!(e!=null&&e.id)){g&&(o("No se encontr el usuario"),r(!1));return}try{r(!0);const h=await V.get("/subscriptions"),y=((m=h.data)==null?void 0:m.data)||h.data||[],b=e.id,j=y.filter(S=>S.clientId===b);if(!g)return;const _=new Date;_.setHours(0,0,0,0);const v=j.map(S=>{const T=S.cutDate?new Date(S.cutDate):null,D=T&&T<_,J=S.status==="active";let K="failed";return D?K="paid":J&&T?Math.ceil((T.getTime()-_.getTime())/864e5)>3?K="up_to_date":K="pending":J||(K="failed"),{id:S.id||Math.random().toString(),plan:S.plan,amount:S.amount,status:K,startDate:S.startDate,cutDate:S.cutDate}});v.sort((S,T)=>S.cutDate?T.cutDate?new Date(T.cutDate).getTime()-new Date(S.cutDate).getTime():-1:1),s(v)}catch(h){console.error("Error fetching payments:",h),g&&o("No se pudieron cargar los pagos")}finally{g&&r(!1)}})(),()=>{g=!1}},[e]);const u=g=>{switch(g){case"paid":return"text-green-600 bg-green-50 dark:bg-green-900/20";case"up_to_date":return"text-blue-600 bg-blue-50 dark:bg-blue-900/20";case"pending":return"text-yellow-600 bg-yellow-50 dark:bg-yellow-900/20";case"failed":return"text-red-600 bg-red-50 dark:bg-red-900/20";default:return"text-gray-600 bg-gray-50 dark:bg-gray-900/20"}},d=g=>{switch(g){case"paid":return a.jsx(Xe,{className:"w-4 h-4"});case"up_to_date":return a.jsx(Xe,{className:"w-4 h-4 text-blue-600 dark:text-blue-400"});case"pending":return a.jsx(_n,{className:"w-4 h-4"});case"failed":return a.jsx(Vb,{className:"w-4 h-4"});default:return a.jsx(_n,{className:"w-4 h-4"})}},p=g=>{switch(g){case"paid":return"Pagado";case"up_to_date":return"Al da";case"pending":return"Por vencer";case"failed":return"Fallido";default:return g}},f=g=>g?new Date(g).toLocaleDateString("es-ES",{day:"2-digit",month:"short",year:"numeric"}):"-",N=n.filter(g=>l==="all"||g.status===l);n.filter(g=>g.status==="paid").reduce((g,w)=>g+parseFloat(w.amount.replace(/[^0-9.-]+/g,"")),0);const x=n.filter(g=>g.status==="pending").reduce((g,w)=>g+parseFloat(w.amount.replace(/[^0-9.-]+/g,"")),0);return t?a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx(En,{className:"w-8 h-8 animate-spin text-primary"})}):a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-secondary tracking-tight",children:"Historial de Pagos"}),a.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-300",children:"Consulta tus facturas y estado de pagos"})]}),i&&a.jsxs("div",{className:"flex items-center gap-2 p-3 bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 rounded-lg text-yellow-600 dark:text-yellow-400 text-sm",children:[a.jsx(Ds,{className:"w-4 h-4 shrink-0"}),a.jsx("span",{children:i})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsxs(Q,{className:"bg-blue-50 dark:bg-blue-900/20 border-blue-200 dark:border-blue-800",children:[a.jsx("div",{className:"text-sm text-blue-600 dark:text-blue-400",children:"Saldo pendiente"}),a.jsxs("div",{className:"text-2xl font-bold text-blue-700 dark:text-blue-300",children:["$",x.toFixed(2)]})]}),a.jsxs(Q,{children:[a.jsx("div",{className:"text-sm text-blue-600 dark:text-blue-400",children:"Gracias por mantenerte al da!"}),a.jsx("div",{className:"text-lg font-semibold text-blue-700 dark:text-blue-300",children:"Tu historial est en orden"})]})]}),a.jsx(Q,{children:a.jsxs("div",{className:"flex flex-wrap gap-2",children:[a.jsx("button",{onClick:()=>c("all"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${l==="all"?"bg-primary text-white":"bg-gray-100 dark:bg-slate-800 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-slate-700"}`,children:"Todos"}),a.jsx("button",{onClick:()=>c("paid"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${l==="paid"?"bg-green-600 text-white":"bg-gray-100 dark:bg-slate-800 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-slate-700"}`,children:"Pagados"}),a.jsx("button",{onClick:()=>c("pending"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${l==="pending"?"bg-yellow-600 text-white":"bg-gray-100 dark:bg-slate-800 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-slate-700"}`,children:"Pendientes"})]})}),N.length===0?a.jsx(Q,{children:a.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[a.jsx(_a,{className:"w-16 h-16 text-gray-300 dark:text-gray-600 mb-4"}),a.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:"No hay registros"}),a.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:l!=="all"?"No se encontraron resultados con los filtros aplicados":"No tienes pagos registrados an"})]})}):a.jsx("div",{className:"space-y-3",children:N.map(g=>a.jsx(Q,{className:"hover:shadow-md transition-shadow",children:a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[a.jsxs("div",{className:"flex items-start gap-4",children:[a.jsx("div",{className:"p-2.5 bg-gray-100 dark:bg-slate-800 rounded-lg",children:a.jsx(_a,{className:"w-5 h-5 text-gray-500 dark:text-gray-400"})}),a.jsxs("div",{children:[a.jsx("div",{className:"font-medium text-gray-900 dark:text-gray-200",children:g.plan}),a.jsx("div",{className:"flex items-center gap-3 mt-1.5 text-xs text-gray-500 dark:text-gray-400",children:a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx(ba,{className:"w-3 h-3"}),"Perodo: ",f(g.startDate)," - ",f(g.cutDate)]})})]})]}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs("div",{className:"text-right",children:[a.jsx("div",{className:"font-bold text-lg text-gray-900 dark:text-secondary",children:g.amount}),a.jsxs("div",{className:`inline-flex items-center gap-1 px-2 py-0.5 rounded-full text-xs font-medium ${u(g.status)}`,children:[d(g.status),p(g.status)]})]}),g.status==="paid"&&a.jsx(H,{variant:"ghost",size:"sm",children:a.jsx(Jb,{className:"w-4 h-4"})})]})]})},g.id))})]})}function x_(){const{user:e}=gr(),[t,r]=k.useState(!0),[n,s]=k.useState(!1),[i,o]=k.useState(null),[l,c]=k.useState(null),[u,d]=k.useState(null),[p,f]=k.useState({}),[N,x]=k.useState(!1);k.useEffect(()=>{let m=!0;return(async()=>{var y;if(!(e!=null&&e.id)){m&&(o("No se encontr el usuario"),r(!1));return}try{r(!0);const b=e.id,j=await V.get(`/clients/${b}`),_=((y=j.data)==null?void 0:y.data)||j.data;if(!m)return;d(_),f(_)}catch(b){console.error("Error fetching profile:",b),m&&o("No se pudo cargar el perfil del cliente")}finally{m&&r(!1)}})(),()=>{m=!1}},[e]);const g=m=>{const{name:h,value:y}=m.target;f(b=>({...b,[h]:y}))},w=async m=>{var h,y;m.preventDefault(),s(!0),o(null),c(null);try{if(!(u!=null&&u.id))throw new Error("No hay cliente cargado");const b={};if(typeof p.phone=="string"&&p.phone.trim()!==""&&(b.phone=p.phone),typeof p.address=="string"&&p.address.trim()!==""&&(b.address=p.address),Object.keys(b).length===0)throw new Error("No hay datos para actualizar");await V.patch(`/clients/${u.id}`,b),d(j=>({...j,...b})),c("Perfil actualizado correctamente"),setTimeout(()=>c(null),3e3)}catch(b){console.error("Error updating profile:",b),o(((y=(h=b.response)==null?void 0:h.data)==null?void 0:y.message)||"Error al actualizar el perfil")}finally{s(!1)}};return a.jsx(cr.Fragment,{children:a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-secondary tracking-tight",children:"Mi Perfil"}),a.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-300",children:"Gestiona tu informacin personal"})]}),a.jsxs("div",{className:"flex flex-col md:flex-row gap-6",children:[a.jsxs(Q,{className:"flex-1 p-6 shadow-md border border-gray-200 dark:border-slate-800",children:[a.jsxs("h2",{className:"text-xl font-bold text-primary dark:text-secondary mb-4 flex items-center gap-2",children:[a.jsx(jn,{className:"w-6 h-6"})," Mi Perfil"]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(fu,{className:"w-5 h-5 text-gray-500 dark:text-gray-400"}),a.jsx("span",{className:"font-medium text-gray-900 dark:text-gray-200",children:(e==null?void 0:e.email)||"-"})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(jn,{className:"w-5 h-5 text-gray-500 dark:text-gray-400"}),a.jsx("span",{className:"font-medium text-gray-900 dark:text-gray-200",children:(u==null?void 0:u.name)||"-"})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(w2,{className:"w-5 h-5 text-gray-500 dark:text-gray-400"}),a.jsx("span",{className:"font-medium text-gray-900 dark:text-gray-200",children:(u==null?void 0:u.phone)||"-"})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(d2,{className:"w-5 h-5 text-gray-500 dark:text-gray-400"}),a.jsx("span",{className:"font-medium text-gray-900 dark:text-gray-200",children:(u==null?void 0:u.address)||"-"})]})]})]}),a.jsxs(Q,{className:"flex-1 p-6 shadow-md border border-gray-200 dark:border-slate-800",children:[a.jsxs("h3",{className:"font-semibold text-primary dark:text-secondary mb-4 flex items-center gap-2",children:[a.jsx(Xl,{className:"w-5 h-5"})," Editar informacin personal"]}),a.jsxs("form",{onSubmit:w,className:"space-y-4",children:[i&&a.jsxs("div",{className:"flex items-center gap-2 p-3 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg text-red-600 dark:text-red-400 text-sm",children:[a.jsx(Ds,{className:"w-4 h-4 shrink-0"}),a.jsx("span",{children:i})]}),l&&a.jsxs("div",{className:"flex items-center gap-2 p-3 bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-lg text-green-600 dark:text-green-400 text-sm",children:[a.jsx(Xe,{className:"w-4 h-4 shrink-0"}),a.jsx("span",{children:l})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsx(ee,{label:"Telfono",name:"phone",value:p.phone||"",onChange:g,placeholder:"+52 123 456 7890"}),a.jsx(ee,{label:"Direccin",name:"address",value:p.address||"",onChange:g,placeholder:"Tu direccin completa"})]}),a.jsx("div",{className:"flex justify-end pt-2",children:a.jsxs(H,{type:"submit",disabled:n||!(p.phone!==(u==null?void 0:u.phone)||p.address!==(u==null?void 0:u.address)),className:p.phone!==(u==null?void 0:u.phone)||p.address!==(u==null?void 0:u.address)?"dark:text-secondary":"opacity-60 cursor-not-allowed",children:[a.jsx(v0,{className:"w-4 h-4 mr-2"}),n?"Guardando...":"Actualizar informacin"]})})]})]})]})]})})}Fk();function v_(){const{user:e,loading:t}=gr();return t?a.jsx("div",{style:{padding:20},children:"Cargando autenticacin..."}):a.jsxs(Wx,{children:[a.jsx(ge,{path:"/login",element:a.jsx(Z2,{})}),a.jsx(ge,{path:"/",element:e?a.jsx(ls,{to:e.role==="admin"?"/admin":"/client",replace:!0}):a.jsx(ls,{to:"/login",replace:!0})}),a.jsxs(ge,{path:"/admin",element:a.jsx(If,{roles:["admin"],children:a.jsx(Tf,{})}),children:[a.jsx(ge,{index:!0,element:a.jsx(n_,{})}),a.jsx(ge,{path:"clients",element:a.jsx(s_,{})}),a.jsx(ge,{path:"client/:uid",element:a.jsx(a_,{})}),a.jsx(ge,{path:"subscriptions",element:a.jsx(i_,{})}),a.jsx(ge,{path:"communication",element:a.jsx(d_,{})}),a.jsx(ge,{path:"automation",element:a.jsx(f_,{})}),a.jsx(ge,{path:"users",element:a.jsx(p_,{})}),a.jsx(ge,{path:"me",element:a.jsx(h_,{})})]}),a.jsxs(ge,{path:"/client/*",element:a.jsx(If,{roles:["client"],children:a.jsx(Tf,{})}),children:[a.jsx(ge,{index:!0,element:a.jsx(m_,{})}),a.jsx(ge,{path:"subscription",element:a.jsx(g_,{})}),a.jsx(ge,{path:"payments",element:a.jsx(y_,{})}),a.jsx(ge,{path:"profile",element:a.jsx(x_,{})})]}),a.jsx(ge,{path:"*",element:a.jsx(ls,{to:"/",replace:!0})})]})}Vp(document.getElementById("root")).render(a.jsx(cr.StrictMode,{children:a.jsx(Zx,{basename:"/suscriptions",children:a.jsx(yb,{children:a.jsx(e_,{children:a.jsx(v_,{})})})})}));

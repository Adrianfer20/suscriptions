function fg(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in e)){const a=Object.getOwnPropertyDescriptor(n,s);a&&Object.defineProperty(e,s,a.get?a:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(s){if(s.ep)return;s.ep=!0;const a=r(s);fetch(s.href,a)}})();function hg(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var dh={exports:{}},Xi={},fh={exports:{}},X={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ca=Symbol.for("react.element"),pg=Symbol.for("react.portal"),mg=Symbol.for("react.fragment"),gg=Symbol.for("react.strict_mode"),xg=Symbol.for("react.profiler"),yg=Symbol.for("react.provider"),vg=Symbol.for("react.context"),wg=Symbol.for("react.forward_ref"),kg=Symbol.for("react.suspense"),bg=Symbol.for("react.memo"),Ng=Symbol.for("react.lazy"),Yu=Symbol.iterator;function jg(e){return e===null||typeof e!="object"?null:(e=Yu&&e[Yu]||e["@@iterator"],typeof e=="function"?e:null)}var hh={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ph=Object.assign,mh={};function Xn(e,t,r){this.props=e,this.context=t,this.refs=mh,this.updater=r||hh}Xn.prototype.isReactComponent={};Xn.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Xn.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function gh(){}gh.prototype=Xn.prototype;function Rc(e,t,r){this.props=e,this.context=t,this.refs=mh,this.updater=r||hh}var Tc=Rc.prototype=new gh;Tc.constructor=Rc;ph(Tc,Xn.prototype);Tc.isPureReactComponent=!0;var Xu=Array.isArray,xh=Object.prototype.hasOwnProperty,Pc={current:null},yh={key:!0,ref:!0,__self:!0,__source:!0};function vh(e,t,r){var n,s={},a=null,o=null;if(t!=null)for(n in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(a=""+t.key),t)xh.call(t,n)&&!yh.hasOwnProperty(n)&&(s[n]=t[n]);var l=arguments.length-2;if(l===1)s.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)s[n]===void 0&&(s[n]=l[n]);return{$$typeof:ca,type:e,key:a,ref:o,props:s,_owner:Pc.current}}function Sg(e,t){return{$$typeof:ca,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Ac(e){return typeof e=="object"&&e!==null&&e.$$typeof===ca}function Eg(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var Zu=/\/+/g;function To(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Eg(""+e.key):t.toString(36)}function Ja(e,t,r,n,s){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(a){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case ca:case pg:o=!0}}if(o)return o=e,s=s(o),e=n===""?"."+To(o,0):n,Xu(s)?(r="",e!=null&&(r=e.replace(Zu,"$&/")+"/"),Ja(s,t,r,"",function(u){return u})):s!=null&&(Ac(s)&&(s=Sg(s,r+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(Zu,"$&/")+"/")+e)),t.push(s)),1;if(o=0,n=n===""?".":n+":",Xu(e))for(var l=0;l<e.length;l++){a=e[l];var c=n+To(a,l);o+=Ja(a,t,r,c,s)}else if(c=jg(e),typeof c=="function")for(e=c.call(e),l=0;!(a=e.next()).done;)a=a.value,c=n+To(a,l++),o+=Ja(a,t,r,c,s);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Ra(e,t,r){if(e==null)return e;var n=[],s=0;return Ja(e,n,"","",function(a){return t.call(r,a,s++)}),n}function _g(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Ke={current:null},Qa={transition:null},Cg={ReactCurrentDispatcher:Ke,ReactCurrentBatchConfig:Qa,ReactCurrentOwner:Pc};function wh(){throw Error("act(...) is not supported in production builds of React.")}X.Children={map:Ra,forEach:function(e,t,r){Ra(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Ra(e,function(){t++}),t},toArray:function(e){return Ra(e,function(t){return t})||[]},only:function(e){if(!Ac(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};X.Component=Xn;X.Fragment=mg;X.Profiler=xg;X.PureComponent=Rc;X.StrictMode=gg;X.Suspense=kg;X.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Cg;X.act=wh;X.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=ph({},e.props),s=e.key,a=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,o=Pc.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)xh.call(t,c)&&!yh.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];n.children=l}return{$$typeof:ca,type:e.type,key:s,ref:a,props:n,_owner:o}};X.createContext=function(e){return e={$$typeof:vg,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:yg,_context:e},e.Consumer=e};X.createElement=vh;X.createFactory=function(e){var t=vh.bind(null,e);return t.type=e,t};X.createRef=function(){return{current:null}};X.forwardRef=function(e){return{$$typeof:wg,render:e}};X.isValidElement=Ac;X.lazy=function(e){return{$$typeof:Ng,_payload:{_status:-1,_result:e},_init:_g}};X.memo=function(e,t){return{$$typeof:bg,type:e,compare:t===void 0?null:t}};X.startTransition=function(e){var t=Qa.transition;Qa.transition={};try{e()}finally{Qa.transition=t}};X.unstable_act=wh;X.useCallback=function(e,t){return Ke.current.useCallback(e,t)};X.useContext=function(e){return Ke.current.useContext(e)};X.useDebugValue=function(){};X.useDeferredValue=function(e){return Ke.current.useDeferredValue(e)};X.useEffect=function(e,t){return Ke.current.useEffect(e,t)};X.useId=function(){return Ke.current.useId()};X.useImperativeHandle=function(e,t,r){return Ke.current.useImperativeHandle(e,t,r)};X.useInsertionEffect=function(e,t){return Ke.current.useInsertionEffect(e,t)};X.useLayoutEffect=function(e,t){return Ke.current.useLayoutEffect(e,t)};X.useMemo=function(e,t){return Ke.current.useMemo(e,t)};X.useReducer=function(e,t,r){return Ke.current.useReducer(e,t,r)};X.useRef=function(e){return Ke.current.useRef(e)};X.useState=function(e){return Ke.current.useState(e)};X.useSyncExternalStore=function(e,t,r){return Ke.current.useSyncExternalStore(e,t,r)};X.useTransition=function(){return Ke.current.useTransition()};X.version="18.3.1";fh.exports=X;var v=fh.exports;const Tr=hg(v),Ig=fg({__proto__:null,default:Tr},[v]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rg=v,Tg=Symbol.for("react.element"),Pg=Symbol.for("react.fragment"),Ag=Object.prototype.hasOwnProperty,Og=Rg.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Dg={key:!0,ref:!0,__self:!0,__source:!0};function kh(e,t,r){var n,s={},a=null,o=null;r!==void 0&&(a=""+r),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(o=t.ref);for(n in t)Ag.call(t,n)&&!Dg.hasOwnProperty(n)&&(s[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)s[n]===void 0&&(s[n]=t[n]);return{$$typeof:Tg,type:e,key:a,ref:o,props:s,_owner:Og.current}}Xi.Fragment=Pg;Xi.jsx=kh;Xi.jsxs=kh;dh.exports=Xi;var i=dh.exports,bh={exports:{}},ot={},Nh={exports:{}},jh={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(_,D){var O=_.length;_.push(D);e:for(;0<O;){var M=O-1>>>1,V=_[M];if(0<s(V,D))_[M]=D,_[O]=V,O=M;else break e}}function r(_){return _.length===0?null:_[0]}function n(_){if(_.length===0)return null;var D=_[0],O=_.pop();if(O!==D){_[0]=O;e:for(var M=0,V=_.length,ye=V>>>1;M<ye;){var te=2*(M+1)-1,Be=_[te],Te=te+1,Se=_[Te];if(0>s(Be,O))Te<V&&0>s(Se,Be)?(_[M]=Se,_[Te]=O,M=Te):(_[M]=Be,_[te]=O,M=te);else if(Te<V&&0>s(Se,O))_[M]=Se,_[Te]=O,M=Te;else break e}}return D}function s(_,D){var O=_.sortIndex-D.sortIndex;return O!==0?O:_.id-D.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,h=null,f=3,w=!1,g=!1,y=!1,k=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(_){for(var D=r(u);D!==null;){if(D.callback===null)n(u);else if(D.startTime<=_)n(u),D.sortIndex=D.expirationTime,t(c,D);else break;D=r(u)}}function N(_){if(y=!1,x(_),!g)if(r(c)!==null)g=!0,z(E);else{var D=r(u);D!==null&&J(N,D.startTime-_)}}function E(_,D){g=!1,y&&(y=!1,m(I),I=-1),w=!0;var O=f;try{for(x(D),h=r(c);h!==null&&(!(h.expirationTime>D)||_&&!K());){var M=h.callback;if(typeof M=="function"){h.callback=null,f=h.priorityLevel;var V=M(h.expirationTime<=D);D=e.unstable_now(),typeof V=="function"?h.callback=V:h===r(c)&&n(c),x(D)}else n(c);h=r(c)}if(h!==null)var ye=!0;else{var te=r(u);te!==null&&J(N,te.startTime-D),ye=!1}return ye}finally{h=null,f=O,w=!1}}var b=!1,j=null,I=-1,A=5,L=-1;function K(){return!(e.unstable_now()-L<A)}function Q(){if(j!==null){var _=e.unstable_now();L=_;var D=!0;try{D=j(!0,_)}finally{D?Y():(b=!1,j=null)}}else b=!1}var Y;if(typeof p=="function")Y=function(){p(Q)};else if(typeof MessageChannel<"u"){var P=new MessageChannel,H=P.port2;P.port1.onmessage=Q,Y=function(){H.postMessage(null)}}else Y=function(){k(Q,0)};function z(_){j=_,b||(b=!0,Y())}function J(_,D){I=k(function(){_(e.unstable_now())},D)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(_){_.callback=null},e.unstable_continueExecution=function(){g||w||(g=!0,z(E))},e.unstable_forceFrameRate=function(_){0>_||125<_?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<_?Math.floor(1e3/_):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(_){switch(f){case 1:case 2:case 3:var D=3;break;default:D=f}var O=f;f=D;try{return _()}finally{f=O}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(_,D){switch(_){case 1:case 2:case 3:case 4:case 5:break;default:_=3}var O=f;f=_;try{return D()}finally{f=O}},e.unstable_scheduleCallback=function(_,D,O){var M=e.unstable_now();switch(typeof O=="object"&&O!==null?(O=O.delay,O=typeof O=="number"&&0<O?M+O:M):O=M,_){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=O+V,_={id:d++,callback:D,priorityLevel:_,startTime:O,expirationTime:V,sortIndex:-1},O>M?(_.sortIndex=O,t(u,_),r(c)===null&&_===r(u)&&(y?(m(I),I=-1):y=!0,J(N,O-M))):(_.sortIndex=V,t(c,_),g||w||(g=!0,z(E))),_},e.unstable_shouldYield=K,e.unstable_wrapCallback=function(_){var D=f;return function(){var O=f;f=D;try{return _.apply(this,arguments)}finally{f=O}}}})(jh);Nh.exports=jh;var Lg=Nh.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mg=v,it=Lg;function T(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Sh=new Set,Os={};function un(e,t){zn(e,t),zn(e+"Capture",t)}function zn(e,t){for(Os[e]=t,e=0;e<t.length;e++)Sh.add(t[e])}var Qt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),vl=Object.prototype.hasOwnProperty,Ug=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,ed={},td={};function zg(e){return vl.call(td,e)?!0:vl.call(ed,e)?!1:Ug.test(e)?td[e]=!0:(ed[e]=!0,!1)}function Fg(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function $g(e,t,r,n){if(t===null||typeof t>"u"||Fg(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Ge(e,t,r,n,s,a,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var Oe={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Oe[e]=new Ge(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Oe[t]=new Ge(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Oe[e]=new Ge(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Oe[e]=new Ge(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Oe[e]=new Ge(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Oe[e]=new Ge(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Oe[e]=new Ge(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Oe[e]=new Ge(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Oe[e]=new Ge(e,5,!1,e.toLowerCase(),null,!1,!1)});var Oc=/[\-:]([a-z])/g;function Dc(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Oc,Dc);Oe[t]=new Ge(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Oc,Dc);Oe[t]=new Ge(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Oc,Dc);Oe[t]=new Ge(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Oe[e]=new Ge(e,1,!1,e.toLowerCase(),null,!1,!1)});Oe.xlinkHref=new Ge("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Oe[e]=new Ge(e,1,!1,e.toLowerCase(),null,!0,!0)});function Lc(e,t,r,n){var s=Oe.hasOwnProperty(t)?Oe[t]:null;(s!==null?s.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&($g(t,r,s,n)&&(r=null),n||s===null?zg(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):s.mustUseProperty?e[s.propertyName]=r===null?s.type===3?!1:"":r:(t=s.attributeName,n=s.attributeNamespace,r===null?e.removeAttribute(t):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var tr=Mg.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ta=Symbol.for("react.element"),xn=Symbol.for("react.portal"),yn=Symbol.for("react.fragment"),Mc=Symbol.for("react.strict_mode"),wl=Symbol.for("react.profiler"),Eh=Symbol.for("react.provider"),_h=Symbol.for("react.context"),Uc=Symbol.for("react.forward_ref"),kl=Symbol.for("react.suspense"),bl=Symbol.for("react.suspense_list"),zc=Symbol.for("react.memo"),lr=Symbol.for("react.lazy"),Ch=Symbol.for("react.offscreen"),rd=Symbol.iterator;function os(e){return e===null||typeof e!="object"?null:(e=rd&&e[rd]||e["@@iterator"],typeof e=="function"?e:null)}var me=Object.assign,Po;function xs(e){if(Po===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Po=t&&t[1]||""}return`
`+Po+e}var Ao=!1;function Oo(e,t){if(!e||Ao)return"";Ao=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),a=n.stack.split(`
`),o=s.length-1,l=a.length-1;1<=o&&0<=l&&s[o]!==a[l];)l--;for(;1<=o&&0<=l;o--,l--)if(s[o]!==a[l]){if(o!==1||l!==1)do if(o--,l--,0>l||s[o]!==a[l]){var c=`
`+s[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=l);break}}}finally{Ao=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?xs(e):""}function Bg(e){switch(e.tag){case 5:return xs(e.type);case 16:return xs("Lazy");case 13:return xs("Suspense");case 19:return xs("SuspenseList");case 0:case 2:case 15:return e=Oo(e.type,!1),e;case 11:return e=Oo(e.type.render,!1),e;case 1:return e=Oo(e.type,!0),e;default:return""}}function Nl(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case yn:return"Fragment";case xn:return"Portal";case wl:return"Profiler";case Mc:return"StrictMode";case kl:return"Suspense";case bl:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case _h:return(e.displayName||"Context")+".Consumer";case Eh:return(e._context.displayName||"Context")+".Provider";case Uc:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case zc:return t=e.displayName||null,t!==null?t:Nl(e.type)||"Memo";case lr:t=e._payload,e=e._init;try{return Nl(e(t))}catch{}}return null}function Hg(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Nl(t);case 8:return t===Mc?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Pr(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Ih(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Vg(e){var t=Ih(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,a=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(o){n=""+o,a.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Pa(e){e._valueTracker||(e._valueTracker=Vg(e))}function Rh(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=Ih(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function mi(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function jl(e,t){var r=t.checked;return me({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function nd(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Pr(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Th(e,t){t=t.checked,t!=null&&Lc(e,"checked",t,!1)}function Sl(e,t){Th(e,t);var r=Pr(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?El(e,t.type,r):t.hasOwnProperty("defaultValue")&&El(e,t.type,Pr(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function sd(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function El(e,t,r){(t!=="number"||mi(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var ys=Array.isArray;function Rn(e,t,r,n){if(e=e.options,t){t={};for(var s=0;s<r.length;s++)t["$"+r[s]]=!0;for(r=0;r<e.length;r++)s=t.hasOwnProperty("$"+e[r].value),e[r].selected!==s&&(e[r].selected=s),s&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Pr(r),t=null,s=0;s<e.length;s++){if(e[s].value===r){e[s].selected=!0,n&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function _l(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(T(91));return me({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ad(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(T(92));if(ys(r)){if(1<r.length)throw Error(T(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Pr(r)}}function Ph(e,t){var r=Pr(t.value),n=Pr(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function id(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Ah(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Cl(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Ah(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Aa,Oh=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,s){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Aa=Aa||document.createElement("div"),Aa.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Aa.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Ds(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var js={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Wg=["Webkit","ms","Moz","O"];Object.keys(js).forEach(function(e){Wg.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),js[t]=js[e]})});function Dh(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||js.hasOwnProperty(e)&&js[e]?(""+t).trim():t+"px"}function Lh(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=Dh(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,s):e[r]=s}}var qg=me({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Il(e,t){if(t){if(qg[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(T(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(T(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(T(61))}if(t.style!=null&&typeof t.style!="object")throw Error(T(62))}}function Rl(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Tl=null;function Fc(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Pl=null,Tn=null,Pn=null;function od(e){if(e=fa(e)){if(typeof Pl!="function")throw Error(T(280));var t=e.stateNode;t&&(t=no(t),Pl(e.stateNode,e.type,t))}}function Mh(e){Tn?Pn?Pn.push(e):Pn=[e]:Tn=e}function Uh(){if(Tn){var e=Tn,t=Pn;if(Pn=Tn=null,od(e),t)for(e=0;e<t.length;e++)od(t[e])}}function zh(e,t){return e(t)}function Fh(){}var Do=!1;function $h(e,t,r){if(Do)return e(t,r);Do=!0;try{return zh(e,t,r)}finally{Do=!1,(Tn!==null||Pn!==null)&&(Fh(),Uh())}}function Ls(e,t){var r=e.stateNode;if(r===null)return null;var n=no(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(T(231,t,typeof r));return r}var Al=!1;if(Qt)try{var ls={};Object.defineProperty(ls,"passive",{get:function(){Al=!0}}),window.addEventListener("test",ls,ls),window.removeEventListener("test",ls,ls)}catch{Al=!1}function Kg(e,t,r,n,s,a,o,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(d){this.onError(d)}}var Ss=!1,gi=null,xi=!1,Ol=null,Gg={onError:function(e){Ss=!0,gi=e}};function Jg(e,t,r,n,s,a,o,l,c){Ss=!1,gi=null,Kg.apply(Gg,arguments)}function Qg(e,t,r,n,s,a,o,l,c){if(Jg.apply(this,arguments),Ss){if(Ss){var u=gi;Ss=!1,gi=null}else throw Error(T(198));xi||(xi=!0,Ol=u)}}function dn(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function Bh(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function ld(e){if(dn(e)!==e)throw Error(T(188))}function Yg(e){var t=e.alternate;if(!t){if(t=dn(e),t===null)throw Error(T(188));return t!==e?null:e}for(var r=e,n=t;;){var s=r.return;if(s===null)break;var a=s.alternate;if(a===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===a.child){for(a=s.child;a;){if(a===r)return ld(s),e;if(a===n)return ld(s),t;a=a.sibling}throw Error(T(188))}if(r.return!==n.return)r=s,n=a;else{for(var o=!1,l=s.child;l;){if(l===r){o=!0,r=s,n=a;break}if(l===n){o=!0,n=s,r=a;break}l=l.sibling}if(!o){for(l=a.child;l;){if(l===r){o=!0,r=a,n=s;break}if(l===n){o=!0,n=a,r=s;break}l=l.sibling}if(!o)throw Error(T(189))}}if(r.alternate!==n)throw Error(T(190))}if(r.tag!==3)throw Error(T(188));return r.stateNode.current===r?e:t}function Hh(e){return e=Yg(e),e!==null?Vh(e):null}function Vh(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Vh(e);if(t!==null)return t;e=e.sibling}return null}var Wh=it.unstable_scheduleCallback,cd=it.unstable_cancelCallback,Xg=it.unstable_shouldYield,Zg=it.unstable_requestPaint,ke=it.unstable_now,ex=it.unstable_getCurrentPriorityLevel,$c=it.unstable_ImmediatePriority,qh=it.unstable_UserBlockingPriority,yi=it.unstable_NormalPriority,tx=it.unstable_LowPriority,Kh=it.unstable_IdlePriority,Zi=null,Lt=null;function rx(e){if(Lt&&typeof Lt.onCommitFiberRoot=="function")try{Lt.onCommitFiberRoot(Zi,e,void 0,(e.current.flags&128)===128)}catch{}}var jt=Math.clz32?Math.clz32:ax,nx=Math.log,sx=Math.LN2;function ax(e){return e>>>=0,e===0?32:31-(nx(e)/sx|0)|0}var Oa=64,Da=4194304;function vs(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function vi(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,s=e.suspendedLanes,a=e.pingedLanes,o=r&268435455;if(o!==0){var l=o&~s;l!==0?n=vs(l):(a&=o,a!==0&&(n=vs(a)))}else o=r&~s,o!==0?n=vs(o):a!==0&&(n=vs(a));if(n===0)return 0;if(t!==0&&t!==n&&!(t&s)&&(s=n&-n,a=t&-t,s>=a||s===16&&(a&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-jt(t),s=1<<r,n|=e[r],t&=~s;return n}function ix(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ox(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,s=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-jt(a),l=1<<o,c=s[o];c===-1?(!(l&r)||l&n)&&(s[o]=ix(l,t)):c<=t&&(e.expiredLanes|=l),a&=~l}}function Dl(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Gh(){var e=Oa;return Oa<<=1,!(Oa&4194240)&&(Oa=64),e}function Lo(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function ua(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-jt(t),e[t]=r}function lx(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var s=31-jt(r),a=1<<s;t[s]=0,n[s]=-1,e[s]=-1,r&=~a}}function Bc(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-jt(r),s=1<<n;s&t|e[n]&t&&(e[n]|=t),r&=~s}}var ae=0;function Jh(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Qh,Hc,Yh,Xh,Zh,Ll=!1,La=[],wr=null,kr=null,br=null,Ms=new Map,Us=new Map,ur=[],cx="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ud(e,t){switch(e){case"focusin":case"focusout":wr=null;break;case"dragenter":case"dragleave":kr=null;break;case"mouseover":case"mouseout":br=null;break;case"pointerover":case"pointerout":Ms.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Us.delete(t.pointerId)}}function cs(e,t,r,n,s,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:a,targetContainers:[s]},t!==null&&(t=fa(t),t!==null&&Hc(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function ux(e,t,r,n,s){switch(t){case"focusin":return wr=cs(wr,e,t,r,n,s),!0;case"dragenter":return kr=cs(kr,e,t,r,n,s),!0;case"mouseover":return br=cs(br,e,t,r,n,s),!0;case"pointerover":var a=s.pointerId;return Ms.set(a,cs(Ms.get(a)||null,e,t,r,n,s)),!0;case"gotpointercapture":return a=s.pointerId,Us.set(a,cs(Us.get(a)||null,e,t,r,n,s)),!0}return!1}function ep(e){var t=Vr(e.target);if(t!==null){var r=dn(t);if(r!==null){if(t=r.tag,t===13){if(t=Bh(r),t!==null){e.blockedOn=t,Zh(e.priority,function(){Yh(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ya(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=Ml(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);Tl=n,r.target.dispatchEvent(n),Tl=null}else return t=fa(r),t!==null&&Hc(t),e.blockedOn=r,!1;t.shift()}return!0}function dd(e,t,r){Ya(e)&&r.delete(t)}function dx(){Ll=!1,wr!==null&&Ya(wr)&&(wr=null),kr!==null&&Ya(kr)&&(kr=null),br!==null&&Ya(br)&&(br=null),Ms.forEach(dd),Us.forEach(dd)}function us(e,t){e.blockedOn===t&&(e.blockedOn=null,Ll||(Ll=!0,it.unstable_scheduleCallback(it.unstable_NormalPriority,dx)))}function zs(e){function t(s){return us(s,e)}if(0<La.length){us(La[0],e);for(var r=1;r<La.length;r++){var n=La[r];n.blockedOn===e&&(n.blockedOn=null)}}for(wr!==null&&us(wr,e),kr!==null&&us(kr,e),br!==null&&us(br,e),Ms.forEach(t),Us.forEach(t),r=0;r<ur.length;r++)n=ur[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<ur.length&&(r=ur[0],r.blockedOn===null);)ep(r),r.blockedOn===null&&ur.shift()}var An=tr.ReactCurrentBatchConfig,wi=!0;function fx(e,t,r,n){var s=ae,a=An.transition;An.transition=null;try{ae=1,Vc(e,t,r,n)}finally{ae=s,An.transition=a}}function hx(e,t,r,n){var s=ae,a=An.transition;An.transition=null;try{ae=4,Vc(e,t,r,n)}finally{ae=s,An.transition=a}}function Vc(e,t,r,n){if(wi){var s=Ml(e,t,r,n);if(s===null)qo(e,t,n,ki,r),ud(e,n);else if(ux(s,e,t,r,n))n.stopPropagation();else if(ud(e,n),t&4&&-1<cx.indexOf(e)){for(;s!==null;){var a=fa(s);if(a!==null&&Qh(a),a=Ml(e,t,r,n),a===null&&qo(e,t,n,ki,r),a===s)break;s=a}s!==null&&n.stopPropagation()}else qo(e,t,n,null,r)}}var ki=null;function Ml(e,t,r,n){if(ki=null,e=Fc(n),e=Vr(e),e!==null)if(t=dn(e),t===null)e=null;else if(r=t.tag,r===13){if(e=Bh(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return ki=e,null}function tp(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ex()){case $c:return 1;case qh:return 4;case yi:case tx:return 16;case Kh:return 536870912;default:return 16}default:return 16}}var xr=null,Wc=null,Xa=null;function rp(){if(Xa)return Xa;var e,t=Wc,r=t.length,n,s="value"in xr?xr.value:xr.textContent,a=s.length;for(e=0;e<r&&t[e]===s[e];e++);var o=r-e;for(n=1;n<=o&&t[r-n]===s[a-n];n++);return Xa=s.slice(e,1<n?1-n:void 0)}function Za(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Ma(){return!0}function fd(){return!1}function lt(e){function t(r,n,s,a,o){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=a,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(a):a[l]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?Ma:fd,this.isPropagationStopped=fd,this}return me(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Ma)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Ma)},persist:function(){},isPersistent:Ma}),t}var Zn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},qc=lt(Zn),da=me({},Zn,{view:0,detail:0}),px=lt(da),Mo,Uo,ds,eo=me({},da,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Kc,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ds&&(ds&&e.type==="mousemove"?(Mo=e.screenX-ds.screenX,Uo=e.screenY-ds.screenY):Uo=Mo=0,ds=e),Mo)},movementY:function(e){return"movementY"in e?e.movementY:Uo}}),hd=lt(eo),mx=me({},eo,{dataTransfer:0}),gx=lt(mx),xx=me({},da,{relatedTarget:0}),zo=lt(xx),yx=me({},Zn,{animationName:0,elapsedTime:0,pseudoElement:0}),vx=lt(yx),wx=me({},Zn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),kx=lt(wx),bx=me({},Zn,{data:0}),pd=lt(bx),Nx={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},jx={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Sx={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ex(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Sx[e])?!!t[e]:!1}function Kc(){return Ex}var _x=me({},da,{key:function(e){if(e.key){var t=Nx[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Za(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?jx[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Kc,charCode:function(e){return e.type==="keypress"?Za(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Za(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Cx=lt(_x),Ix=me({},eo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),md=lt(Ix),Rx=me({},da,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Kc}),Tx=lt(Rx),Px=me({},Zn,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ax=lt(Px),Ox=me({},eo,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Dx=lt(Ox),Lx=[9,13,27,32],Gc=Qt&&"CompositionEvent"in window,Es=null;Qt&&"documentMode"in document&&(Es=document.documentMode);var Mx=Qt&&"TextEvent"in window&&!Es,np=Qt&&(!Gc||Es&&8<Es&&11>=Es),gd=" ",xd=!1;function sp(e,t){switch(e){case"keyup":return Lx.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ap(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var vn=!1;function Ux(e,t){switch(e){case"compositionend":return ap(t);case"keypress":return t.which!==32?null:(xd=!0,gd);case"textInput":return e=t.data,e===gd&&xd?null:e;default:return null}}function zx(e,t){if(vn)return e==="compositionend"||!Gc&&sp(e,t)?(e=rp(),Xa=Wc=xr=null,vn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return np&&t.locale!=="ko"?null:t.data;default:return null}}var Fx={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function yd(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Fx[e.type]:t==="textarea"}function ip(e,t,r,n){Mh(n),t=bi(t,"onChange"),0<t.length&&(r=new qc("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var _s=null,Fs=null;function $x(e){xp(e,0)}function to(e){var t=bn(e);if(Rh(t))return e}function Bx(e,t){if(e==="change")return t}var op=!1;if(Qt){var Fo;if(Qt){var $o="oninput"in document;if(!$o){var vd=document.createElement("div");vd.setAttribute("oninput","return;"),$o=typeof vd.oninput=="function"}Fo=$o}else Fo=!1;op=Fo&&(!document.documentMode||9<document.documentMode)}function wd(){_s&&(_s.detachEvent("onpropertychange",lp),Fs=_s=null)}function lp(e){if(e.propertyName==="value"&&to(Fs)){var t=[];ip(t,Fs,e,Fc(e)),$h($x,t)}}function Hx(e,t,r){e==="focusin"?(wd(),_s=t,Fs=r,_s.attachEvent("onpropertychange",lp)):e==="focusout"&&wd()}function Vx(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return to(Fs)}function Wx(e,t){if(e==="click")return to(t)}function qx(e,t){if(e==="input"||e==="change")return to(t)}function Kx(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var _t=typeof Object.is=="function"?Object.is:Kx;function $s(e,t){if(_t(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!vl.call(t,s)||!_t(e[s],t[s]))return!1}return!0}function kd(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function bd(e,t){var r=kd(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=kd(r)}}function cp(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?cp(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function up(){for(var e=window,t=mi();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=mi(e.document)}return t}function Jc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Gx(e){var t=up(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&cp(r.ownerDocument.documentElement,r)){if(n!==null&&Jc(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=r.textContent.length,a=Math.min(n.start,s);n=n.end===void 0?a:Math.min(n.end,s),!e.extend&&a>n&&(s=n,n=a,a=s),s=bd(r,a);var o=bd(r,n);s&&o&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),a>n?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Jx=Qt&&"documentMode"in document&&11>=document.documentMode,wn=null,Ul=null,Cs=null,zl=!1;function Nd(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;zl||wn==null||wn!==mi(n)||(n=wn,"selectionStart"in n&&Jc(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Cs&&$s(Cs,n)||(Cs=n,n=bi(Ul,"onSelect"),0<n.length&&(t=new qc("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=wn)))}function Ua(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var kn={animationend:Ua("Animation","AnimationEnd"),animationiteration:Ua("Animation","AnimationIteration"),animationstart:Ua("Animation","AnimationStart"),transitionend:Ua("Transition","TransitionEnd")},Bo={},dp={};Qt&&(dp=document.createElement("div").style,"AnimationEvent"in window||(delete kn.animationend.animation,delete kn.animationiteration.animation,delete kn.animationstart.animation),"TransitionEvent"in window||delete kn.transitionend.transition);function ro(e){if(Bo[e])return Bo[e];if(!kn[e])return e;var t=kn[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in dp)return Bo[e]=t[r];return e}var fp=ro("animationend"),hp=ro("animationiteration"),pp=ro("animationstart"),mp=ro("transitionend"),gp=new Map,jd="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Or(e,t){gp.set(e,t),un(t,[e])}for(var Ho=0;Ho<jd.length;Ho++){var Vo=jd[Ho],Qx=Vo.toLowerCase(),Yx=Vo[0].toUpperCase()+Vo.slice(1);Or(Qx,"on"+Yx)}Or(fp,"onAnimationEnd");Or(hp,"onAnimationIteration");Or(pp,"onAnimationStart");Or("dblclick","onDoubleClick");Or("focusin","onFocus");Or("focusout","onBlur");Or(mp,"onTransitionEnd");zn("onMouseEnter",["mouseout","mouseover"]);zn("onMouseLeave",["mouseout","mouseover"]);zn("onPointerEnter",["pointerout","pointerover"]);zn("onPointerLeave",["pointerout","pointerover"]);un("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));un("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));un("onBeforeInput",["compositionend","keypress","textInput","paste"]);un("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));un("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));un("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ws="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Xx=new Set("cancel close invalid load scroll toggle".split(" ").concat(ws));function Sd(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,Qg(n,t,void 0,e),e.currentTarget=null}function xp(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],s=n.event;n=n.listeners;e:{var a=void 0;if(t)for(var o=n.length-1;0<=o;o--){var l=n[o],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==a&&s.isPropagationStopped())break e;Sd(s,l,u),a=c}else for(o=0;o<n.length;o++){if(l=n[o],c=l.instance,u=l.currentTarget,l=l.listener,c!==a&&s.isPropagationStopped())break e;Sd(s,l,u),a=c}}}if(xi)throw e=Ol,xi=!1,Ol=null,e}function ce(e,t){var r=t[Vl];r===void 0&&(r=t[Vl]=new Set);var n=e+"__bubble";r.has(n)||(yp(t,e,2,!1),r.add(n))}function Wo(e,t,r){var n=0;t&&(n|=4),yp(r,e,n,t)}var za="_reactListening"+Math.random().toString(36).slice(2);function Bs(e){if(!e[za]){e[za]=!0,Sh.forEach(function(r){r!=="selectionchange"&&(Xx.has(r)||Wo(r,!1,e),Wo(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[za]||(t[za]=!0,Wo("selectionchange",!1,t))}}function yp(e,t,r,n){switch(tp(t)){case 1:var s=fx;break;case 4:s=hx;break;default:s=Vc}r=s.bind(null,t,r,e),s=void 0,!Al||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),n?s!==void 0?e.addEventListener(t,r,{capture:!0,passive:s}):e.addEventListener(t,r,!0):s!==void 0?e.addEventListener(t,r,{passive:s}):e.addEventListener(t,r,!1)}function qo(e,t,r,n,s){var a=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var l=n.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(o===4)for(o=n.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;o=o.return}for(;l!==null;){if(o=Vr(l),o===null)return;if(c=o.tag,c===5||c===6){n=a=o;continue e}l=l.parentNode}}n=n.return}$h(function(){var u=a,d=Fc(r),h=[];e:{var f=gp.get(e);if(f!==void 0){var w=qc,g=e;switch(e){case"keypress":if(Za(r)===0)break e;case"keydown":case"keyup":w=Cx;break;case"focusin":g="focus",w=zo;break;case"focusout":g="blur",w=zo;break;case"beforeblur":case"afterblur":w=zo;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":w=hd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":w=gx;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":w=Tx;break;case fp:case hp:case pp:w=vx;break;case mp:w=Ax;break;case"scroll":w=px;break;case"wheel":w=Dx;break;case"copy":case"cut":case"paste":w=kx;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":w=md}var y=(t&4)!==0,k=!y&&e==="scroll",m=y?f!==null?f+"Capture":null:f;y=[];for(var p=u,x;p!==null;){x=p;var N=x.stateNode;if(x.tag===5&&N!==null&&(x=N,m!==null&&(N=Ls(p,m),N!=null&&y.push(Hs(p,N,x)))),k)break;p=p.return}0<y.length&&(f=new w(f,g,null,r,d),h.push({event:f,listeners:y}))}}if(!(t&7)){e:{if(f=e==="mouseover"||e==="pointerover",w=e==="mouseout"||e==="pointerout",f&&r!==Tl&&(g=r.relatedTarget||r.fromElement)&&(Vr(g)||g[Yt]))break e;if((w||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,w?(g=r.relatedTarget||r.toElement,w=u,g=g?Vr(g):null,g!==null&&(k=dn(g),g!==k||g.tag!==5&&g.tag!==6)&&(g=null)):(w=null,g=u),w!==g)){if(y=hd,N="onMouseLeave",m="onMouseEnter",p="mouse",(e==="pointerout"||e==="pointerover")&&(y=md,N="onPointerLeave",m="onPointerEnter",p="pointer"),k=w==null?f:bn(w),x=g==null?f:bn(g),f=new y(N,p+"leave",w,r,d),f.target=k,f.relatedTarget=x,N=null,Vr(d)===u&&(y=new y(m,p+"enter",g,r,d),y.target=x,y.relatedTarget=k,N=y),k=N,w&&g)t:{for(y=w,m=g,p=0,x=y;x;x=gn(x))p++;for(x=0,N=m;N;N=gn(N))x++;for(;0<p-x;)y=gn(y),p--;for(;0<x-p;)m=gn(m),x--;for(;p--;){if(y===m||m!==null&&y===m.alternate)break t;y=gn(y),m=gn(m)}y=null}else y=null;w!==null&&Ed(h,f,w,y,!1),g!==null&&k!==null&&Ed(h,k,g,y,!0)}}e:{if(f=u?bn(u):window,w=f.nodeName&&f.nodeName.toLowerCase(),w==="select"||w==="input"&&f.type==="file")var E=Bx;else if(yd(f))if(op)E=qx;else{E=Vx;var b=Hx}else(w=f.nodeName)&&w.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(E=Wx);if(E&&(E=E(e,u))){ip(h,E,r,d);break e}b&&b(e,f,u),e==="focusout"&&(b=f._wrapperState)&&b.controlled&&f.type==="number"&&El(f,"number",f.value)}switch(b=u?bn(u):window,e){case"focusin":(yd(b)||b.contentEditable==="true")&&(wn=b,Ul=u,Cs=null);break;case"focusout":Cs=Ul=wn=null;break;case"mousedown":zl=!0;break;case"contextmenu":case"mouseup":case"dragend":zl=!1,Nd(h,r,d);break;case"selectionchange":if(Jx)break;case"keydown":case"keyup":Nd(h,r,d)}var j;if(Gc)e:{switch(e){case"compositionstart":var I="onCompositionStart";break e;case"compositionend":I="onCompositionEnd";break e;case"compositionupdate":I="onCompositionUpdate";break e}I=void 0}else vn?sp(e,r)&&(I="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(I="onCompositionStart");I&&(np&&r.locale!=="ko"&&(vn||I!=="onCompositionStart"?I==="onCompositionEnd"&&vn&&(j=rp()):(xr=d,Wc="value"in xr?xr.value:xr.textContent,vn=!0)),b=bi(u,I),0<b.length&&(I=new pd(I,e,null,r,d),h.push({event:I,listeners:b}),j?I.data=j:(j=ap(r),j!==null&&(I.data=j)))),(j=Mx?Ux(e,r):zx(e,r))&&(u=bi(u,"onBeforeInput"),0<u.length&&(d=new pd("onBeforeInput","beforeinput",null,r,d),h.push({event:d,listeners:u}),d.data=j))}xp(h,t)})}function Hs(e,t,r){return{instance:e,listener:t,currentTarget:r}}function bi(e,t){for(var r=t+"Capture",n=[];e!==null;){var s=e,a=s.stateNode;s.tag===5&&a!==null&&(s=a,a=Ls(e,r),a!=null&&n.unshift(Hs(e,a,s)),a=Ls(e,t),a!=null&&n.push(Hs(e,a,s))),e=e.return}return n}function gn(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Ed(e,t,r,n,s){for(var a=t._reactName,o=[];r!==null&&r!==n;){var l=r,c=l.alternate,u=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&u!==null&&(l=u,s?(c=Ls(r,a),c!=null&&o.unshift(Hs(r,c,l))):s||(c=Ls(r,a),c!=null&&o.push(Hs(r,c,l)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var Zx=/\r\n?/g,ey=/\u0000|\uFFFD/g;function _d(e){return(typeof e=="string"?e:""+e).replace(Zx,`
`).replace(ey,"")}function Fa(e,t,r){if(t=_d(t),_d(e)!==t&&r)throw Error(T(425))}function Ni(){}var Fl=null,$l=null;function Bl(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Hl=typeof setTimeout=="function"?setTimeout:void 0,ty=typeof clearTimeout=="function"?clearTimeout:void 0,Cd=typeof Promise=="function"?Promise:void 0,ry=typeof queueMicrotask=="function"?queueMicrotask:typeof Cd<"u"?function(e){return Cd.resolve(null).then(e).catch(ny)}:Hl;function ny(e){setTimeout(function(){throw e})}function Ko(e,t){var r=t,n=0;do{var s=r.nextSibling;if(e.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){e.removeChild(s),zs(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);zs(t)}function Nr(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Id(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var es=Math.random().toString(36).slice(2),Ot="__reactFiber$"+es,Vs="__reactProps$"+es,Yt="__reactContainer$"+es,Vl="__reactEvents$"+es,sy="__reactListeners$"+es,ay="__reactHandles$"+es;function Vr(e){var t=e[Ot];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Yt]||r[Ot]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=Id(e);e!==null;){if(r=e[Ot])return r;e=Id(e)}return t}e=r,r=e.parentNode}return null}function fa(e){return e=e[Ot]||e[Yt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function bn(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(T(33))}function no(e){return e[Vs]||null}var Wl=[],Nn=-1;function Dr(e){return{current:e}}function ue(e){0>Nn||(e.current=Wl[Nn],Wl[Nn]=null,Nn--)}function le(e,t){Nn++,Wl[Nn]=e.current,e.current=t}var Ar={},Fe=Dr(Ar),Ye=Dr(!1),en=Ar;function Fn(e,t){var r=e.type.contextTypes;if(!r)return Ar;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var s={},a;for(a in r)s[a]=t[a];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Xe(e){return e=e.childContextTypes,e!=null}function ji(){ue(Ye),ue(Fe)}function Rd(e,t,r){if(Fe.current!==Ar)throw Error(T(168));le(Fe,t),le(Ye,r)}function vp(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in t))throw Error(T(108,Hg(e)||"Unknown",s));return me({},r,n)}function Si(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ar,en=Fe.current,le(Fe,e),le(Ye,Ye.current),!0}function Td(e,t,r){var n=e.stateNode;if(!n)throw Error(T(169));r?(e=vp(e,t,en),n.__reactInternalMemoizedMergedChildContext=e,ue(Ye),ue(Fe),le(Fe,e)):ue(Ye),le(Ye,r)}var Vt=null,so=!1,Go=!1;function wp(e){Vt===null?Vt=[e]:Vt.push(e)}function iy(e){so=!0,wp(e)}function Lr(){if(!Go&&Vt!==null){Go=!0;var e=0,t=ae;try{var r=Vt;for(ae=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}Vt=null,so=!1}catch(s){throw Vt!==null&&(Vt=Vt.slice(e+1)),Wh($c,Lr),s}finally{ae=t,Go=!1}}return null}var jn=[],Sn=0,Ei=null,_i=0,ft=[],ht=0,tn=null,Wt=1,qt="";function Fr(e,t){jn[Sn++]=_i,jn[Sn++]=Ei,Ei=e,_i=t}function kp(e,t,r){ft[ht++]=Wt,ft[ht++]=qt,ft[ht++]=tn,tn=e;var n=Wt;e=qt;var s=32-jt(n)-1;n&=~(1<<s),r+=1;var a=32-jt(t)+s;if(30<a){var o=s-s%5;a=(n&(1<<o)-1).toString(32),n>>=o,s-=o,Wt=1<<32-jt(t)+s|r<<s|n,qt=a+e}else Wt=1<<a|r<<s|n,qt=e}function Qc(e){e.return!==null&&(Fr(e,1),kp(e,1,0))}function Yc(e){for(;e===Ei;)Ei=jn[--Sn],jn[Sn]=null,_i=jn[--Sn],jn[Sn]=null;for(;e===tn;)tn=ft[--ht],ft[ht]=null,qt=ft[--ht],ft[ht]=null,Wt=ft[--ht],ft[ht]=null}var at=null,st=null,de=!1,bt=null;function bp(e,t){var r=pt(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function Pd(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,at=e,st=Nr(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,at=e,st=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=tn!==null?{id:Wt,overflow:qt}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=pt(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,at=e,st=null,!0):!1;default:return!1}}function ql(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Kl(e){if(de){var t=st;if(t){var r=t;if(!Pd(e,t)){if(ql(e))throw Error(T(418));t=Nr(r.nextSibling);var n=at;t&&Pd(e,t)?bp(n,r):(e.flags=e.flags&-4097|2,de=!1,at=e)}}else{if(ql(e))throw Error(T(418));e.flags=e.flags&-4097|2,de=!1,at=e}}}function Ad(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;at=e}function $a(e){if(e!==at)return!1;if(!de)return Ad(e),de=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Bl(e.type,e.memoizedProps)),t&&(t=st)){if(ql(e))throw Np(),Error(T(418));for(;t;)bp(e,t),t=Nr(t.nextSibling)}if(Ad(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(T(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){st=Nr(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}st=null}}else st=at?Nr(e.stateNode.nextSibling):null;return!0}function Np(){for(var e=st;e;)e=Nr(e.nextSibling)}function $n(){st=at=null,de=!1}function Xc(e){bt===null?bt=[e]:bt.push(e)}var oy=tr.ReactCurrentBatchConfig;function fs(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(T(309));var n=r.stateNode}if(!n)throw Error(T(147,e));var s=n,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(o){var l=s.refs;o===null?delete l[a]:l[a]=o},t._stringRef=a,t)}if(typeof e!="string")throw Error(T(284));if(!r._owner)throw Error(T(290,e))}return e}function Ba(e,t){throw e=Object.prototype.toString.call(t),Error(T(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Od(e){var t=e._init;return t(e._payload)}function jp(e){function t(m,p){if(e){var x=m.deletions;x===null?(m.deletions=[p],m.flags|=16):x.push(p)}}function r(m,p){if(!e)return null;for(;p!==null;)t(m,p),p=p.sibling;return null}function n(m,p){for(m=new Map;p!==null;)p.key!==null?m.set(p.key,p):m.set(p.index,p),p=p.sibling;return m}function s(m,p){return m=_r(m,p),m.index=0,m.sibling=null,m}function a(m,p,x){return m.index=x,e?(x=m.alternate,x!==null?(x=x.index,x<p?(m.flags|=2,p):x):(m.flags|=2,p)):(m.flags|=1048576,p)}function o(m){return e&&m.alternate===null&&(m.flags|=2),m}function l(m,p,x,N){return p===null||p.tag!==6?(p=tl(x,m.mode,N),p.return=m,p):(p=s(p,x),p.return=m,p)}function c(m,p,x,N){var E=x.type;return E===yn?d(m,p,x.props.children,N,x.key):p!==null&&(p.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===lr&&Od(E)===p.type)?(N=s(p,x.props),N.ref=fs(m,p,x),N.return=m,N):(N=ii(x.type,x.key,x.props,null,m.mode,N),N.ref=fs(m,p,x),N.return=m,N)}function u(m,p,x,N){return p===null||p.tag!==4||p.stateNode.containerInfo!==x.containerInfo||p.stateNode.implementation!==x.implementation?(p=rl(x,m.mode,N),p.return=m,p):(p=s(p,x.children||[]),p.return=m,p)}function d(m,p,x,N,E){return p===null||p.tag!==7?(p=Jr(x,m.mode,N,E),p.return=m,p):(p=s(p,x),p.return=m,p)}function h(m,p,x){if(typeof p=="string"&&p!==""||typeof p=="number")return p=tl(""+p,m.mode,x),p.return=m,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case Ta:return x=ii(p.type,p.key,p.props,null,m.mode,x),x.ref=fs(m,null,p),x.return=m,x;case xn:return p=rl(p,m.mode,x),p.return=m,p;case lr:var N=p._init;return h(m,N(p._payload),x)}if(ys(p)||os(p))return p=Jr(p,m.mode,x,null),p.return=m,p;Ba(m,p)}return null}function f(m,p,x,N){var E=p!==null?p.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return E!==null?null:l(m,p,""+x,N);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Ta:return x.key===E?c(m,p,x,N):null;case xn:return x.key===E?u(m,p,x,N):null;case lr:return E=x._init,f(m,p,E(x._payload),N)}if(ys(x)||os(x))return E!==null?null:d(m,p,x,N,null);Ba(m,x)}return null}function w(m,p,x,N,E){if(typeof N=="string"&&N!==""||typeof N=="number")return m=m.get(x)||null,l(p,m,""+N,E);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case Ta:return m=m.get(N.key===null?x:N.key)||null,c(p,m,N,E);case xn:return m=m.get(N.key===null?x:N.key)||null,u(p,m,N,E);case lr:var b=N._init;return w(m,p,x,b(N._payload),E)}if(ys(N)||os(N))return m=m.get(x)||null,d(p,m,N,E,null);Ba(p,N)}return null}function g(m,p,x,N){for(var E=null,b=null,j=p,I=p=0,A=null;j!==null&&I<x.length;I++){j.index>I?(A=j,j=null):A=j.sibling;var L=f(m,j,x[I],N);if(L===null){j===null&&(j=A);break}e&&j&&L.alternate===null&&t(m,j),p=a(L,p,I),b===null?E=L:b.sibling=L,b=L,j=A}if(I===x.length)return r(m,j),de&&Fr(m,I),E;if(j===null){for(;I<x.length;I++)j=h(m,x[I],N),j!==null&&(p=a(j,p,I),b===null?E=j:b.sibling=j,b=j);return de&&Fr(m,I),E}for(j=n(m,j);I<x.length;I++)A=w(j,m,I,x[I],N),A!==null&&(e&&A.alternate!==null&&j.delete(A.key===null?I:A.key),p=a(A,p,I),b===null?E=A:b.sibling=A,b=A);return e&&j.forEach(function(K){return t(m,K)}),de&&Fr(m,I),E}function y(m,p,x,N){var E=os(x);if(typeof E!="function")throw Error(T(150));if(x=E.call(x),x==null)throw Error(T(151));for(var b=E=null,j=p,I=p=0,A=null,L=x.next();j!==null&&!L.done;I++,L=x.next()){j.index>I?(A=j,j=null):A=j.sibling;var K=f(m,j,L.value,N);if(K===null){j===null&&(j=A);break}e&&j&&K.alternate===null&&t(m,j),p=a(K,p,I),b===null?E=K:b.sibling=K,b=K,j=A}if(L.done)return r(m,j),de&&Fr(m,I),E;if(j===null){for(;!L.done;I++,L=x.next())L=h(m,L.value,N),L!==null&&(p=a(L,p,I),b===null?E=L:b.sibling=L,b=L);return de&&Fr(m,I),E}for(j=n(m,j);!L.done;I++,L=x.next())L=w(j,m,I,L.value,N),L!==null&&(e&&L.alternate!==null&&j.delete(L.key===null?I:L.key),p=a(L,p,I),b===null?E=L:b.sibling=L,b=L);return e&&j.forEach(function(Q){return t(m,Q)}),de&&Fr(m,I),E}function k(m,p,x,N){if(typeof x=="object"&&x!==null&&x.type===yn&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case Ta:e:{for(var E=x.key,b=p;b!==null;){if(b.key===E){if(E=x.type,E===yn){if(b.tag===7){r(m,b.sibling),p=s(b,x.props.children),p.return=m,m=p;break e}}else if(b.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===lr&&Od(E)===b.type){r(m,b.sibling),p=s(b,x.props),p.ref=fs(m,b,x),p.return=m,m=p;break e}r(m,b);break}else t(m,b);b=b.sibling}x.type===yn?(p=Jr(x.props.children,m.mode,N,x.key),p.return=m,m=p):(N=ii(x.type,x.key,x.props,null,m.mode,N),N.ref=fs(m,p,x),N.return=m,m=N)}return o(m);case xn:e:{for(b=x.key;p!==null;){if(p.key===b)if(p.tag===4&&p.stateNode.containerInfo===x.containerInfo&&p.stateNode.implementation===x.implementation){r(m,p.sibling),p=s(p,x.children||[]),p.return=m,m=p;break e}else{r(m,p);break}else t(m,p);p=p.sibling}p=rl(x,m.mode,N),p.return=m,m=p}return o(m);case lr:return b=x._init,k(m,p,b(x._payload),N)}if(ys(x))return g(m,p,x,N);if(os(x))return y(m,p,x,N);Ba(m,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,p!==null&&p.tag===6?(r(m,p.sibling),p=s(p,x),p.return=m,m=p):(r(m,p),p=tl(x,m.mode,N),p.return=m,m=p),o(m)):r(m,p)}return k}var Bn=jp(!0),Sp=jp(!1),Ci=Dr(null),Ii=null,En=null,Zc=null;function eu(){Zc=En=Ii=null}function tu(e){var t=Ci.current;ue(Ci),e._currentValue=t}function Gl(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function On(e,t){Ii=e,Zc=En=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Qe=!0),e.firstContext=null)}function gt(e){var t=e._currentValue;if(Zc!==e)if(e={context:e,memoizedValue:t,next:null},En===null){if(Ii===null)throw Error(T(308));En=e,Ii.dependencies={lanes:0,firstContext:e}}else En=En.next=e;return t}var Wr=null;function ru(e){Wr===null?Wr=[e]:Wr.push(e)}function Ep(e,t,r,n){var s=t.interleaved;return s===null?(r.next=r,ru(t)):(r.next=s.next,s.next=r),t.interleaved=r,Xt(e,n)}function Xt(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var cr=!1;function nu(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function _p(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Jt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function jr(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,re&2){var s=n.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),n.pending=t,Xt(e,r)}return s=n.interleaved,s===null?(t.next=t,ru(n)):(t.next=s.next,s.next=t),n.interleaved=t,Xt(e,r)}function ei(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Bc(e,r)}}function Dd(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,a=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};a===null?s=a=o:a=a.next=o,r=r.next}while(r!==null);a===null?s=a=t:a=a.next=t}else s=a=t;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:a,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Ri(e,t,r,n){var s=e.updateQueue;cr=!1;var a=s.firstBaseUpdate,o=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,u=c.next;c.next=null,o===null?a=u:o.next=u,o=c;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==o&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(a!==null){var h=s.baseState;o=0,d=u=c=null,l=a;do{var f=l.lane,w=l.eventTime;if((n&f)===f){d!==null&&(d=d.next={eventTime:w,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var g=e,y=l;switch(f=t,w=r,y.tag){case 1:if(g=y.payload,typeof g=="function"){h=g.call(w,h,f);break e}h=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=y.payload,f=typeof g=="function"?g.call(w,h,f):g,f==null)break e;h=me({},h,f);break e;case 2:cr=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,f=s.effects,f===null?s.effects=[l]:f.push(l))}else w={eventTime:w,lane:f,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=w,c=h):d=d.next=w,o|=f;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;f=l,l=f.next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}while(!0);if(d===null&&(c=h),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=d,t=s.shared.interleaved,t!==null){s=t;do o|=s.lane,s=s.next;while(s!==t)}else a===null&&(s.shared.lanes=0);nn|=o,e.lanes=o,e.memoizedState=h}}function Ld(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(T(191,s));s.call(n)}}}var ha={},Mt=Dr(ha),Ws=Dr(ha),qs=Dr(ha);function qr(e){if(e===ha)throw Error(T(174));return e}function su(e,t){switch(le(qs,t),le(Ws,e),le(Mt,ha),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Cl(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Cl(t,e)}ue(Mt),le(Mt,t)}function Hn(){ue(Mt),ue(Ws),ue(qs)}function Cp(e){qr(qs.current);var t=qr(Mt.current),r=Cl(t,e.type);t!==r&&(le(Ws,e),le(Mt,r))}function au(e){Ws.current===e&&(ue(Mt),ue(Ws))}var fe=Dr(0);function Ti(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Jo=[];function iu(){for(var e=0;e<Jo.length;e++)Jo[e]._workInProgressVersionPrimary=null;Jo.length=0}var ti=tr.ReactCurrentDispatcher,Qo=tr.ReactCurrentBatchConfig,rn=0,he=null,_e=null,Ie=null,Pi=!1,Is=!1,Ks=0,ly=0;function Le(){throw Error(T(321))}function ou(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!_t(e[r],t[r]))return!1;return!0}function lu(e,t,r,n,s,a){if(rn=a,he=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ti.current=e===null||e.memoizedState===null?fy:hy,e=r(n,s),Is){a=0;do{if(Is=!1,Ks=0,25<=a)throw Error(T(301));a+=1,Ie=_e=null,t.updateQueue=null,ti.current=py,e=r(n,s)}while(Is)}if(ti.current=Ai,t=_e!==null&&_e.next!==null,rn=0,Ie=_e=he=null,Pi=!1,t)throw Error(T(300));return e}function cu(){var e=Ks!==0;return Ks=0,e}function At(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ie===null?he.memoizedState=Ie=e:Ie=Ie.next=e,Ie}function xt(){if(_e===null){var e=he.alternate;e=e!==null?e.memoizedState:null}else e=_e.next;var t=Ie===null?he.memoizedState:Ie.next;if(t!==null)Ie=t,_e=e;else{if(e===null)throw Error(T(310));_e=e,e={memoizedState:_e.memoizedState,baseState:_e.baseState,baseQueue:_e.baseQueue,queue:_e.queue,next:null},Ie===null?he.memoizedState=Ie=e:Ie=Ie.next=e}return Ie}function Gs(e,t){return typeof t=="function"?t(e):t}function Yo(e){var t=xt(),r=t.queue;if(r===null)throw Error(T(311));r.lastRenderedReducer=e;var n=_e,s=n.baseQueue,a=r.pending;if(a!==null){if(s!==null){var o=s.next;s.next=a.next,a.next=o}n.baseQueue=s=a,r.pending=null}if(s!==null){a=s.next,n=n.baseState;var l=o=null,c=null,u=a;do{var d=u.lane;if((rn&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=h,o=n):c=c.next=h,he.lanes|=d,nn|=d}u=u.next}while(u!==null&&u!==a);c===null?o=n:c.next=l,_t(n,t.memoizedState)||(Qe=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){s=e;do a=s.lane,he.lanes|=a,nn|=a,s=s.next;while(s!==e)}else s===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Xo(e){var t=xt(),r=t.queue;if(r===null)throw Error(T(311));r.lastRenderedReducer=e;var n=r.dispatch,s=r.pending,a=t.memoizedState;if(s!==null){r.pending=null;var o=s=s.next;do a=e(a,o.action),o=o.next;while(o!==s);_t(a,t.memoizedState)||(Qe=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),r.lastRenderedState=a}return[a,n]}function Ip(){}function Rp(e,t){var r=he,n=xt(),s=t(),a=!_t(n.memoizedState,s);if(a&&(n.memoizedState=s,Qe=!0),n=n.queue,uu(Ap.bind(null,r,n,e),[e]),n.getSnapshot!==t||a||Ie!==null&&Ie.memoizedState.tag&1){if(r.flags|=2048,Js(9,Pp.bind(null,r,n,s,t),void 0,null),Re===null)throw Error(T(349));rn&30||Tp(r,t,s)}return s}function Tp(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=he.updateQueue,t===null?(t={lastEffect:null,stores:null},he.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function Pp(e,t,r,n){t.value=r,t.getSnapshot=n,Op(t)&&Dp(e)}function Ap(e,t,r){return r(function(){Op(t)&&Dp(e)})}function Op(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!_t(e,r)}catch{return!0}}function Dp(e){var t=Xt(e,1);t!==null&&St(t,e,1,-1)}function Md(e){var t=At();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Gs,lastRenderedState:e},t.queue=e,e=e.dispatch=dy.bind(null,he,e),[t.memoizedState,e]}function Js(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=he.updateQueue,t===null?(t={lastEffect:null,stores:null},he.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function Lp(){return xt().memoizedState}function ri(e,t,r,n){var s=At();he.flags|=e,s.memoizedState=Js(1|t,r,void 0,n===void 0?null:n)}function ao(e,t,r,n){var s=xt();n=n===void 0?null:n;var a=void 0;if(_e!==null){var o=_e.memoizedState;if(a=o.destroy,n!==null&&ou(n,o.deps)){s.memoizedState=Js(t,r,a,n);return}}he.flags|=e,s.memoizedState=Js(1|t,r,a,n)}function Ud(e,t){return ri(8390656,8,e,t)}function uu(e,t){return ao(2048,8,e,t)}function Mp(e,t){return ao(4,2,e,t)}function Up(e,t){return ao(4,4,e,t)}function zp(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Fp(e,t,r){return r=r!=null?r.concat([e]):null,ao(4,4,zp.bind(null,t,e),r)}function du(){}function $p(e,t){var r=xt();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&ou(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function Bp(e,t){var r=xt();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&ou(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function Hp(e,t,r){return rn&21?(_t(r,t)||(r=Gh(),he.lanes|=r,nn|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Qe=!0),e.memoizedState=r)}function cy(e,t){var r=ae;ae=r!==0&&4>r?r:4,e(!0);var n=Qo.transition;Qo.transition={};try{e(!1),t()}finally{ae=r,Qo.transition=n}}function Vp(){return xt().memoizedState}function uy(e,t,r){var n=Er(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},Wp(e))qp(t,r);else if(r=Ep(e,t,r,n),r!==null){var s=qe();St(r,e,n,s),Kp(r,t,n)}}function dy(e,t,r){var n=Er(e),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(Wp(e))qp(t,s);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var o=t.lastRenderedState,l=a(o,r);if(s.hasEagerState=!0,s.eagerState=l,_t(l,o)){var c=t.interleaved;c===null?(s.next=s,ru(t)):(s.next=c.next,c.next=s),t.interleaved=s;return}}catch{}finally{}r=Ep(e,t,s,n),r!==null&&(s=qe(),St(r,e,n,s),Kp(r,t,n))}}function Wp(e){var t=e.alternate;return e===he||t!==null&&t===he}function qp(e,t){Is=Pi=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function Kp(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Bc(e,r)}}var Ai={readContext:gt,useCallback:Le,useContext:Le,useEffect:Le,useImperativeHandle:Le,useInsertionEffect:Le,useLayoutEffect:Le,useMemo:Le,useReducer:Le,useRef:Le,useState:Le,useDebugValue:Le,useDeferredValue:Le,useTransition:Le,useMutableSource:Le,useSyncExternalStore:Le,useId:Le,unstable_isNewReconciler:!1},fy={readContext:gt,useCallback:function(e,t){return At().memoizedState=[e,t===void 0?null:t],e},useContext:gt,useEffect:Ud,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,ri(4194308,4,zp.bind(null,t,e),r)},useLayoutEffect:function(e,t){return ri(4194308,4,e,t)},useInsertionEffect:function(e,t){return ri(4,2,e,t)},useMemo:function(e,t){var r=At();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=At();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=uy.bind(null,he,e),[n.memoizedState,e]},useRef:function(e){var t=At();return e={current:e},t.memoizedState=e},useState:Md,useDebugValue:du,useDeferredValue:function(e){return At().memoizedState=e},useTransition:function(){var e=Md(!1),t=e[0];return e=cy.bind(null,e[1]),At().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=he,s=At();if(de){if(r===void 0)throw Error(T(407));r=r()}else{if(r=t(),Re===null)throw Error(T(349));rn&30||Tp(n,t,r)}s.memoizedState=r;var a={value:r,getSnapshot:t};return s.queue=a,Ud(Ap.bind(null,n,a,e),[e]),n.flags|=2048,Js(9,Pp.bind(null,n,a,r,t),void 0,null),r},useId:function(){var e=At(),t=Re.identifierPrefix;if(de){var r=qt,n=Wt;r=(n&~(1<<32-jt(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=Ks++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=ly++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},hy={readContext:gt,useCallback:$p,useContext:gt,useEffect:uu,useImperativeHandle:Fp,useInsertionEffect:Mp,useLayoutEffect:Up,useMemo:Bp,useReducer:Yo,useRef:Lp,useState:function(){return Yo(Gs)},useDebugValue:du,useDeferredValue:function(e){var t=xt();return Hp(t,_e.memoizedState,e)},useTransition:function(){var e=Yo(Gs)[0],t=xt().memoizedState;return[e,t]},useMutableSource:Ip,useSyncExternalStore:Rp,useId:Vp,unstable_isNewReconciler:!1},py={readContext:gt,useCallback:$p,useContext:gt,useEffect:uu,useImperativeHandle:Fp,useInsertionEffect:Mp,useLayoutEffect:Up,useMemo:Bp,useReducer:Xo,useRef:Lp,useState:function(){return Xo(Gs)},useDebugValue:du,useDeferredValue:function(e){var t=xt();return _e===null?t.memoizedState=e:Hp(t,_e.memoizedState,e)},useTransition:function(){var e=Xo(Gs)[0],t=xt().memoizedState;return[e,t]},useMutableSource:Ip,useSyncExternalStore:Rp,useId:Vp,unstable_isNewReconciler:!1};function wt(e,t){if(e&&e.defaultProps){t=me({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function Jl(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:me({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var io={isMounted:function(e){return(e=e._reactInternals)?dn(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=qe(),s=Er(e),a=Jt(n,s);a.payload=t,r!=null&&(a.callback=r),t=jr(e,a,s),t!==null&&(St(t,e,s,n),ei(t,e,s))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=qe(),s=Er(e),a=Jt(n,s);a.tag=1,a.payload=t,r!=null&&(a.callback=r),t=jr(e,a,s),t!==null&&(St(t,e,s,n),ei(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=qe(),n=Er(e),s=Jt(r,n);s.tag=2,t!=null&&(s.callback=t),t=jr(e,s,n),t!==null&&(St(t,e,n,r),ei(t,e,n))}};function zd(e,t,r,n,s,a,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,a,o):t.prototype&&t.prototype.isPureReactComponent?!$s(r,n)||!$s(s,a):!0}function Gp(e,t,r){var n=!1,s=Ar,a=t.contextType;return typeof a=="object"&&a!==null?a=gt(a):(s=Xe(t)?en:Fe.current,n=t.contextTypes,a=(n=n!=null)?Fn(e,s):Ar),t=new t(r,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=io,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=a),t}function Fd(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&io.enqueueReplaceState(t,t.state,null)}function Ql(e,t,r,n){var s=e.stateNode;s.props=r,s.state=e.memoizedState,s.refs={},nu(e);var a=t.contextType;typeof a=="object"&&a!==null?s.context=gt(a):(a=Xe(t)?en:Fe.current,s.context=Fn(e,a)),s.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(Jl(e,t,a,r),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&io.enqueueReplaceState(s,s.state,null),Ri(e,r,s,n),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function Vn(e,t){try{var r="",n=t;do r+=Bg(n),n=n.return;while(n);var s=r}catch(a){s=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:s,digest:null}}function Zo(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function Yl(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var my=typeof WeakMap=="function"?WeakMap:Map;function Jp(e,t,r){r=Jt(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Di||(Di=!0,oc=n),Yl(e,t)},r}function Qp(e,t,r){r=Jt(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var s=t.value;r.payload=function(){return n(s)},r.callback=function(){Yl(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(r.callback=function(){Yl(e,t),typeof n!="function"&&(Sr===null?Sr=new Set([this]):Sr.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function $d(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new my;var s=new Set;n.set(t,s)}else s=n.get(t),s===void 0&&(s=new Set,n.set(t,s));s.has(r)||(s.add(r),e=Iy.bind(null,e,t,r),t.then(e,e))}function Bd(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Hd(e,t,r,n,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Jt(-1,1),t.tag=2,jr(r,t,1))),r.lanes|=1),e)}var gy=tr.ReactCurrentOwner,Qe=!1;function He(e,t,r,n){t.child=e===null?Sp(t,null,r,n):Bn(t,e.child,r,n)}function Vd(e,t,r,n,s){r=r.render;var a=t.ref;return On(t,s),n=lu(e,t,r,n,a,s),r=cu(),e!==null&&!Qe?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Zt(e,t,s)):(de&&r&&Qc(t),t.flags|=1,He(e,t,n,s),t.child)}function Wd(e,t,r,n,s){if(e===null){var a=r.type;return typeof a=="function"&&!vu(a)&&a.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=a,Yp(e,t,a,n,s)):(e=ii(r.type,null,n,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&s)){var o=a.memoizedProps;if(r=r.compare,r=r!==null?r:$s,r(o,n)&&e.ref===t.ref)return Zt(e,t,s)}return t.flags|=1,e=_r(a,n),e.ref=t.ref,e.return=t,t.child=e}function Yp(e,t,r,n,s){if(e!==null){var a=e.memoizedProps;if($s(a,n)&&e.ref===t.ref)if(Qe=!1,t.pendingProps=n=a,(e.lanes&s)!==0)e.flags&131072&&(Qe=!0);else return t.lanes=e.lanes,Zt(e,t,s)}return Xl(e,t,r,n,s)}function Xp(e,t,r){var n=t.pendingProps,s=n.children,a=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},le(Cn,nt),nt|=r;else{if(!(r&1073741824))return e=a!==null?a.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,le(Cn,nt),nt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=a!==null?a.baseLanes:r,le(Cn,nt),nt|=n}else a!==null?(n=a.baseLanes|r,t.memoizedState=null):n=r,le(Cn,nt),nt|=n;return He(e,t,s,r),t.child}function Zp(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function Xl(e,t,r,n,s){var a=Xe(r)?en:Fe.current;return a=Fn(t,a),On(t,s),r=lu(e,t,r,n,a,s),n=cu(),e!==null&&!Qe?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Zt(e,t,s)):(de&&n&&Qc(t),t.flags|=1,He(e,t,r,s),t.child)}function qd(e,t,r,n,s){if(Xe(r)){var a=!0;Si(t)}else a=!1;if(On(t,s),t.stateNode===null)ni(e,t),Gp(t,r,n),Ql(t,r,n,s),n=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var c=o.context,u=r.contextType;typeof u=="object"&&u!==null?u=gt(u):(u=Xe(r)?en:Fe.current,u=Fn(t,u));var d=r.getDerivedStateFromProps,h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==n||c!==u)&&Fd(t,o,n,u),cr=!1;var f=t.memoizedState;o.state=f,Ri(t,n,o,s),c=t.memoizedState,l!==n||f!==c||Ye.current||cr?(typeof d=="function"&&(Jl(t,r,d,n),c=t.memoizedState),(l=cr||zd(t,r,l,n,f,c,u))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),o.props=n,o.state=c,o.context=u,n=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,_p(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:wt(t.type,l),o.props=u,h=t.pendingProps,f=o.context,c=r.contextType,typeof c=="object"&&c!==null?c=gt(c):(c=Xe(r)?en:Fe.current,c=Fn(t,c));var w=r.getDerivedStateFromProps;(d=typeof w=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==h||f!==c)&&Fd(t,o,n,c),cr=!1,f=t.memoizedState,o.state=f,Ri(t,n,o,s);var g=t.memoizedState;l!==h||f!==g||Ye.current||cr?(typeof w=="function"&&(Jl(t,r,w,n),g=t.memoizedState),(u=cr||zd(t,r,u,n,f,g,c)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,g,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,g,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=g),o.props=n,o.state=g,o.context=c,n=u):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),n=!1)}return Zl(e,t,r,n,a,s)}function Zl(e,t,r,n,s,a){Zp(e,t);var o=(t.flags&128)!==0;if(!n&&!o)return s&&Td(t,r,!1),Zt(e,t,a);n=t.stateNode,gy.current=t;var l=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&o?(t.child=Bn(t,e.child,null,a),t.child=Bn(t,null,l,a)):He(e,t,l,a),t.memoizedState=n.state,s&&Td(t,r,!0),t.child}function em(e){var t=e.stateNode;t.pendingContext?Rd(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Rd(e,t.context,!1),su(e,t.containerInfo)}function Kd(e,t,r,n,s){return $n(),Xc(s),t.flags|=256,He(e,t,r,n),t.child}var ec={dehydrated:null,treeContext:null,retryLane:0};function tc(e){return{baseLanes:e,cachePool:null,transitions:null}}function tm(e,t,r){var n=t.pendingProps,s=fe.current,a=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(s&2)!==0),l?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),le(fe,s&1),e===null)return Kl(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=n.children,e=n.fallback,a?(n=t.mode,a=t.child,o={mode:"hidden",children:o},!(n&1)&&a!==null?(a.childLanes=0,a.pendingProps=o):a=co(o,n,0,null),e=Jr(e,n,r,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=tc(r),t.memoizedState=ec,e):fu(t,o));if(s=e.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return xy(e,t,o,n,l,s,r);if(a){a=n.fallback,o=t.mode,s=e.child,l=s.sibling;var c={mode:"hidden",children:n.children};return!(o&1)&&t.child!==s?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=_r(s,c),n.subtreeFlags=s.subtreeFlags&14680064),l!==null?a=_r(l,a):(a=Jr(a,o,r,null),a.flags|=2),a.return=t,n.return=t,n.sibling=a,t.child=n,n=a,a=t.child,o=e.child.memoizedState,o=o===null?tc(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},a.memoizedState=o,a.childLanes=e.childLanes&~r,t.memoizedState=ec,n}return a=e.child,e=a.sibling,n=_r(a,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function fu(e,t){return t=co({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Ha(e,t,r,n){return n!==null&&Xc(n),Bn(t,e.child,null,r),e=fu(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function xy(e,t,r,n,s,a,o){if(r)return t.flags&256?(t.flags&=-257,n=Zo(Error(T(422))),Ha(e,t,o,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=n.fallback,s=t.mode,n=co({mode:"visible",children:n.children},s,0,null),a=Jr(a,s,o,null),a.flags|=2,n.return=t,a.return=t,n.sibling=a,t.child=n,t.mode&1&&Bn(t,e.child,null,o),t.child.memoizedState=tc(o),t.memoizedState=ec,a);if(!(t.mode&1))return Ha(e,t,o,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var l=n.dgst;return n=l,a=Error(T(419)),n=Zo(a,n,void 0),Ha(e,t,o,n)}if(l=(o&e.childLanes)!==0,Qe||l){if(n=Re,n!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|o)?0:s,s!==0&&s!==a.retryLane&&(a.retryLane=s,Xt(e,s),St(n,e,s,-1))}return yu(),n=Zo(Error(T(421))),Ha(e,t,o,n)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=Ry.bind(null,e),s._reactRetry=t,null):(e=a.treeContext,st=Nr(s.nextSibling),at=t,de=!0,bt=null,e!==null&&(ft[ht++]=Wt,ft[ht++]=qt,ft[ht++]=tn,Wt=e.id,qt=e.overflow,tn=t),t=fu(t,n.children),t.flags|=4096,t)}function Gd(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),Gl(e.return,t,r)}function el(e,t,r,n,s){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=n,a.tail=r,a.tailMode=s)}function rm(e,t,r){var n=t.pendingProps,s=n.revealOrder,a=n.tail;if(He(e,t,n.children,r),n=fe.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Gd(e,r,t);else if(e.tag===19)Gd(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(le(fe,n),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(r=t.child,s=null;r!==null;)e=r.alternate,e!==null&&Ti(e)===null&&(s=r),r=r.sibling;r=s,r===null?(s=t.child,t.child=null):(s=r.sibling,r.sibling=null),el(t,!1,s,r,a);break;case"backwards":for(r=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&Ti(e)===null){t.child=s;break}e=s.sibling,s.sibling=r,r=s,s=e}el(t,!0,r,null,a);break;case"together":el(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function ni(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Zt(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),nn|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(T(153));if(t.child!==null){for(e=t.child,r=_r(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=_r(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function yy(e,t,r){switch(t.tag){case 3:em(t),$n();break;case 5:Cp(t);break;case 1:Xe(t.type)&&Si(t);break;case 4:su(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,s=t.memoizedProps.value;le(Ci,n._currentValue),n._currentValue=s;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(le(fe,fe.current&1),t.flags|=128,null):r&t.child.childLanes?tm(e,t,r):(le(fe,fe.current&1),e=Zt(e,t,r),e!==null?e.sibling:null);le(fe,fe.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return rm(e,t,r);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),le(fe,fe.current),n)break;return null;case 22:case 23:return t.lanes=0,Xp(e,t,r)}return Zt(e,t,r)}var nm,rc,sm,am;nm=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};rc=function(){};sm=function(e,t,r,n){var s=e.memoizedProps;if(s!==n){e=t.stateNode,qr(Mt.current);var a=null;switch(r){case"input":s=jl(e,s),n=jl(e,n),a=[];break;case"select":s=me({},s,{value:void 0}),n=me({},n,{value:void 0}),a=[];break;case"textarea":s=_l(e,s),n=_l(e,n),a=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=Ni)}Il(r,n);var o;r=null;for(u in s)if(!n.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var l=s[u];for(o in l)l.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Os.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in n){var c=n[u];if(l=s!=null?s[u]:void 0,n.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(r||(r={}),r[o]=c[o])}else r||(a||(a=[]),a.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(a=a||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(a=a||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Os.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&ce("scroll",e),a||l===c||(a=[])):(a=a||[]).push(u,c))}r&&(a=a||[]).push("style",r);var u=a;(t.updateQueue=u)&&(t.flags|=4)}};am=function(e,t,r,n){r!==n&&(t.flags|=4)};function hs(e,t){if(!de)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Me(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function vy(e,t,r){var n=t.pendingProps;switch(Yc(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Me(t),null;case 1:return Xe(t.type)&&ji(),Me(t),null;case 3:return n=t.stateNode,Hn(),ue(Ye),ue(Fe),iu(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&($a(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,bt!==null&&(uc(bt),bt=null))),rc(e,t),Me(t),null;case 5:au(t);var s=qr(qs.current);if(r=t.type,e!==null&&t.stateNode!=null)sm(e,t,r,n,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(T(166));return Me(t),null}if(e=qr(Mt.current),$a(t)){n=t.stateNode,r=t.type;var a=t.memoizedProps;switch(n[Ot]=t,n[Vs]=a,e=(t.mode&1)!==0,r){case"dialog":ce("cancel",n),ce("close",n);break;case"iframe":case"object":case"embed":ce("load",n);break;case"video":case"audio":for(s=0;s<ws.length;s++)ce(ws[s],n);break;case"source":ce("error",n);break;case"img":case"image":case"link":ce("error",n),ce("load",n);break;case"details":ce("toggle",n);break;case"input":nd(n,a),ce("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!a.multiple},ce("invalid",n);break;case"textarea":ad(n,a),ce("invalid",n)}Il(r,a),s=null;for(var o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="children"?typeof l=="string"?n.textContent!==l&&(a.suppressHydrationWarning!==!0&&Fa(n.textContent,l,e),s=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(a.suppressHydrationWarning!==!0&&Fa(n.textContent,l,e),s=["children",""+l]):Os.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&ce("scroll",n)}switch(r){case"input":Pa(n),sd(n,a,!0);break;case"textarea":Pa(n),id(n);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(n.onclick=Ni)}n=s,t.updateQueue=n,n!==null&&(t.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Ah(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=o.createElement(r,{is:n.is}):(e=o.createElement(r),r==="select"&&(o=e,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):e=o.createElementNS(e,r),e[Ot]=t,e[Vs]=n,nm(e,t,!1,!1),t.stateNode=e;e:{switch(o=Rl(r,n),r){case"dialog":ce("cancel",e),ce("close",e),s=n;break;case"iframe":case"object":case"embed":ce("load",e),s=n;break;case"video":case"audio":for(s=0;s<ws.length;s++)ce(ws[s],e);s=n;break;case"source":ce("error",e),s=n;break;case"img":case"image":case"link":ce("error",e),ce("load",e),s=n;break;case"details":ce("toggle",e),s=n;break;case"input":nd(e,n),s=jl(e,n),ce("invalid",e);break;case"option":s=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},s=me({},n,{value:void 0}),ce("invalid",e);break;case"textarea":ad(e,n),s=_l(e,n),ce("invalid",e);break;default:s=n}Il(r,s),l=s;for(a in l)if(l.hasOwnProperty(a)){var c=l[a];a==="style"?Lh(e,c):a==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Oh(e,c)):a==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&Ds(e,c):typeof c=="number"&&Ds(e,""+c):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(Os.hasOwnProperty(a)?c!=null&&a==="onScroll"&&ce("scroll",e):c!=null&&Lc(e,a,c,o))}switch(r){case"input":Pa(e),sd(e,n,!1);break;case"textarea":Pa(e),id(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Pr(n.value));break;case"select":e.multiple=!!n.multiple,a=n.value,a!=null?Rn(e,!!n.multiple,a,!1):n.defaultValue!=null&&Rn(e,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=Ni)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Me(t),null;case 6:if(e&&t.stateNode!=null)am(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(T(166));if(r=qr(qs.current),qr(Mt.current),$a(t)){if(n=t.stateNode,r=t.memoizedProps,n[Ot]=t,(a=n.nodeValue!==r)&&(e=at,e!==null))switch(e.tag){case 3:Fa(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Fa(n.nodeValue,r,(e.mode&1)!==0)}a&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Ot]=t,t.stateNode=n}return Me(t),null;case 13:if(ue(fe),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(de&&st!==null&&t.mode&1&&!(t.flags&128))Np(),$n(),t.flags|=98560,a=!1;else if(a=$a(t),n!==null&&n.dehydrated!==null){if(e===null){if(!a)throw Error(T(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(T(317));a[Ot]=t}else $n(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Me(t),a=!1}else bt!==null&&(uc(bt),bt=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||fe.current&1?Ce===0&&(Ce=3):yu())),t.updateQueue!==null&&(t.flags|=4),Me(t),null);case 4:return Hn(),rc(e,t),e===null&&Bs(t.stateNode.containerInfo),Me(t),null;case 10:return tu(t.type._context),Me(t),null;case 17:return Xe(t.type)&&ji(),Me(t),null;case 19:if(ue(fe),a=t.memoizedState,a===null)return Me(t),null;if(n=(t.flags&128)!==0,o=a.rendering,o===null)if(n)hs(a,!1);else{if(Ce!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Ti(e),o!==null){for(t.flags|=128,hs(a,!1),n=o.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)a=r,e=n,a.flags&=14680066,o=a.alternate,o===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=o.childLanes,a.lanes=o.lanes,a.child=o.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=o.memoizedProps,a.memoizedState=o.memoizedState,a.updateQueue=o.updateQueue,a.type=o.type,e=o.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return le(fe,fe.current&1|2),t.child}e=e.sibling}a.tail!==null&&ke()>Wn&&(t.flags|=128,n=!0,hs(a,!1),t.lanes=4194304)}else{if(!n)if(e=Ti(o),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),hs(a,!0),a.tail===null&&a.tailMode==="hidden"&&!o.alternate&&!de)return Me(t),null}else 2*ke()-a.renderingStartTime>Wn&&r!==1073741824&&(t.flags|=128,n=!0,hs(a,!1),t.lanes=4194304);a.isBackwards?(o.sibling=t.child,t.child=o):(r=a.last,r!==null?r.sibling=o:t.child=o,a.last=o)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=ke(),t.sibling=null,r=fe.current,le(fe,n?r&1|2:r&1),t):(Me(t),null);case 22:case 23:return xu(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?nt&1073741824&&(Me(t),t.subtreeFlags&6&&(t.flags|=8192)):Me(t),null;case 24:return null;case 25:return null}throw Error(T(156,t.tag))}function wy(e,t){switch(Yc(t),t.tag){case 1:return Xe(t.type)&&ji(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Hn(),ue(Ye),ue(Fe),iu(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return au(t),null;case 13:if(ue(fe),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(T(340));$n()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ue(fe),null;case 4:return Hn(),null;case 10:return tu(t.type._context),null;case 22:case 23:return xu(),null;case 24:return null;default:return null}}var Va=!1,Ue=!1,ky=typeof WeakSet=="function"?WeakSet:Set,U=null;function _n(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){xe(e,t,n)}else r.current=null}function nc(e,t,r){try{r()}catch(n){xe(e,t,n)}}var Jd=!1;function by(e,t){if(Fl=wi,e=up(),Jc(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,a=n.focusNode;n=n.focusOffset;try{r.nodeType,a.nodeType}catch{r=null;break e}var o=0,l=-1,c=-1,u=0,d=0,h=e,f=null;t:for(;;){for(var w;h!==r||s!==0&&h.nodeType!==3||(l=o+s),h!==a||n!==0&&h.nodeType!==3||(c=o+n),h.nodeType===3&&(o+=h.nodeValue.length),(w=h.firstChild)!==null;)f=h,h=w;for(;;){if(h===e)break t;if(f===r&&++u===s&&(l=o),f===a&&++d===n&&(c=o),(w=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=w}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for($l={focusedElem:e,selectionRange:r},wi=!1,U=t;U!==null;)if(t=U,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,U=e;else for(;U!==null;){t=U;try{var g=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var y=g.memoizedProps,k=g.memoizedState,m=t.stateNode,p=m.getSnapshotBeforeUpdate(t.elementType===t.type?y:wt(t.type,y),k);m.__reactInternalSnapshotBeforeUpdate=p}break;case 3:var x=t.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(T(163))}}catch(N){xe(t,t.return,N)}if(e=t.sibling,e!==null){e.return=t.return,U=e;break}U=t.return}return g=Jd,Jd=!1,g}function Rs(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&e)===e){var a=s.destroy;s.destroy=void 0,a!==void 0&&nc(t,r,a)}s=s.next}while(s!==n)}}function oo(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function sc(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function im(e){var t=e.alternate;t!==null&&(e.alternate=null,im(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Ot],delete t[Vs],delete t[Vl],delete t[sy],delete t[ay])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function om(e){return e.tag===5||e.tag===3||e.tag===4}function Qd(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||om(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function ac(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Ni));else if(n!==4&&(e=e.child,e!==null))for(ac(e,t,r),e=e.sibling;e!==null;)ac(e,t,r),e=e.sibling}function ic(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(ic(e,t,r),e=e.sibling;e!==null;)ic(e,t,r),e=e.sibling}var Pe=null,kt=!1;function ir(e,t,r){for(r=r.child;r!==null;)lm(e,t,r),r=r.sibling}function lm(e,t,r){if(Lt&&typeof Lt.onCommitFiberUnmount=="function")try{Lt.onCommitFiberUnmount(Zi,r)}catch{}switch(r.tag){case 5:Ue||_n(r,t);case 6:var n=Pe,s=kt;Pe=null,ir(e,t,r),Pe=n,kt=s,Pe!==null&&(kt?(e=Pe,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Pe.removeChild(r.stateNode));break;case 18:Pe!==null&&(kt?(e=Pe,r=r.stateNode,e.nodeType===8?Ko(e.parentNode,r):e.nodeType===1&&Ko(e,r),zs(e)):Ko(Pe,r.stateNode));break;case 4:n=Pe,s=kt,Pe=r.stateNode.containerInfo,kt=!0,ir(e,t,r),Pe=n,kt=s;break;case 0:case 11:case 14:case 15:if(!Ue&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var a=s,o=a.destroy;a=a.tag,o!==void 0&&(a&2||a&4)&&nc(r,t,o),s=s.next}while(s!==n)}ir(e,t,r);break;case 1:if(!Ue&&(_n(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){xe(r,t,l)}ir(e,t,r);break;case 21:ir(e,t,r);break;case 22:r.mode&1?(Ue=(n=Ue)||r.memoizedState!==null,ir(e,t,r),Ue=n):ir(e,t,r);break;default:ir(e,t,r)}}function Yd(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new ky),t.forEach(function(n){var s=Ty.bind(null,e,n);r.has(n)||(r.add(n),n.then(s,s))})}}function vt(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var a=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:Pe=l.stateNode,kt=!1;break e;case 3:Pe=l.stateNode.containerInfo,kt=!0;break e;case 4:Pe=l.stateNode.containerInfo,kt=!0;break e}l=l.return}if(Pe===null)throw Error(T(160));lm(a,o,s),Pe=null,kt=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){xe(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)cm(t,e),t=t.sibling}function cm(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(vt(t,e),Pt(e),n&4){try{Rs(3,e,e.return),oo(3,e)}catch(y){xe(e,e.return,y)}try{Rs(5,e,e.return)}catch(y){xe(e,e.return,y)}}break;case 1:vt(t,e),Pt(e),n&512&&r!==null&&_n(r,r.return);break;case 5:if(vt(t,e),Pt(e),n&512&&r!==null&&_n(r,r.return),e.flags&32){var s=e.stateNode;try{Ds(s,"")}catch(y){xe(e,e.return,y)}}if(n&4&&(s=e.stateNode,s!=null)){var a=e.memoizedProps,o=r!==null?r.memoizedProps:a,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&a.type==="radio"&&a.name!=null&&Th(s,a),Rl(l,o);var u=Rl(l,a);for(o=0;o<c.length;o+=2){var d=c[o],h=c[o+1];d==="style"?Lh(s,h):d==="dangerouslySetInnerHTML"?Oh(s,h):d==="children"?Ds(s,h):Lc(s,d,h,u)}switch(l){case"input":Sl(s,a);break;case"textarea":Ph(s,a);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!a.multiple;var w=a.value;w!=null?Rn(s,!!a.multiple,w,!1):f!==!!a.multiple&&(a.defaultValue!=null?Rn(s,!!a.multiple,a.defaultValue,!0):Rn(s,!!a.multiple,a.multiple?[]:"",!1))}s[Vs]=a}catch(y){xe(e,e.return,y)}}break;case 6:if(vt(t,e),Pt(e),n&4){if(e.stateNode===null)throw Error(T(162));s=e.stateNode,a=e.memoizedProps;try{s.nodeValue=a}catch(y){xe(e,e.return,y)}}break;case 3:if(vt(t,e),Pt(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{zs(t.containerInfo)}catch(y){xe(e,e.return,y)}break;case 4:vt(t,e),Pt(e);break;case 13:vt(t,e),Pt(e),s=e.child,s.flags&8192&&(a=s.memoizedState!==null,s.stateNode.isHidden=a,!a||s.alternate!==null&&s.alternate.memoizedState!==null||(mu=ke())),n&4&&Yd(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(Ue=(u=Ue)||d,vt(t,e),Ue=u):vt(t,e),Pt(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(U=e,d=e.child;d!==null;){for(h=U=d;U!==null;){switch(f=U,w=f.child,f.tag){case 0:case 11:case 14:case 15:Rs(4,f,f.return);break;case 1:_n(f,f.return);var g=f.stateNode;if(typeof g.componentWillUnmount=="function"){n=f,r=f.return;try{t=n,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(y){xe(n,r,y)}}break;case 5:_n(f,f.return);break;case 22:if(f.memoizedState!==null){Zd(h);continue}}w!==null?(w.return=f,U=w):Zd(h)}d=d.sibling}e:for(d=null,h=e;;){if(h.tag===5){if(d===null){d=h;try{s=h.stateNode,u?(a=s.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(l=h.stateNode,c=h.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=Dh("display",o))}catch(y){xe(e,e.return,y)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(y){xe(e,e.return,y)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:vt(t,e),Pt(e),n&4&&Yd(e);break;case 21:break;default:vt(t,e),Pt(e)}}function Pt(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(om(r)){var n=r;break e}r=r.return}throw Error(T(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(Ds(s,""),n.flags&=-33);var a=Qd(e);ic(e,a,s);break;case 3:case 4:var o=n.stateNode.containerInfo,l=Qd(e);ac(e,l,o);break;default:throw Error(T(161))}}catch(c){xe(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Ny(e,t,r){U=e,um(e)}function um(e,t,r){for(var n=(e.mode&1)!==0;U!==null;){var s=U,a=s.child;if(s.tag===22&&n){var o=s.memoizedState!==null||Va;if(!o){var l=s.alternate,c=l!==null&&l.memoizedState!==null||Ue;l=Va;var u=Ue;if(Va=o,(Ue=c)&&!u)for(U=s;U!==null;)o=U,c=o.child,o.tag===22&&o.memoizedState!==null?ef(s):c!==null?(c.return=o,U=c):ef(s);for(;a!==null;)U=a,um(a),a=a.sibling;U=s,Va=l,Ue=u}Xd(e)}else s.subtreeFlags&8772&&a!==null?(a.return=s,U=a):Xd(e)}}function Xd(e){for(;U!==null;){var t=U;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Ue||oo(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!Ue)if(r===null)n.componentDidMount();else{var s=t.elementType===t.type?r.memoizedProps:wt(t.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&Ld(t,a,n);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}Ld(t,o,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&zs(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(T(163))}Ue||t.flags&512&&sc(t)}catch(f){xe(t,t.return,f)}}if(t===e){U=null;break}if(r=t.sibling,r!==null){r.return=t.return,U=r;break}U=t.return}}function Zd(e){for(;U!==null;){var t=U;if(t===e){U=null;break}var r=t.sibling;if(r!==null){r.return=t.return,U=r;break}U=t.return}}function ef(e){for(;U!==null;){var t=U;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{oo(4,t)}catch(c){xe(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var s=t.return;try{n.componentDidMount()}catch(c){xe(t,s,c)}}var a=t.return;try{sc(t)}catch(c){xe(t,a,c)}break;case 5:var o=t.return;try{sc(t)}catch(c){xe(t,o,c)}}}catch(c){xe(t,t.return,c)}if(t===e){U=null;break}var l=t.sibling;if(l!==null){l.return=t.return,U=l;break}U=t.return}}var jy=Math.ceil,Oi=tr.ReactCurrentDispatcher,hu=tr.ReactCurrentOwner,mt=tr.ReactCurrentBatchConfig,re=0,Re=null,je=null,Ae=0,nt=0,Cn=Dr(0),Ce=0,Qs=null,nn=0,lo=0,pu=0,Ts=null,Je=null,mu=0,Wn=1/0,Ht=null,Di=!1,oc=null,Sr=null,Wa=!1,yr=null,Li=0,Ps=0,lc=null,si=-1,ai=0;function qe(){return re&6?ke():si!==-1?si:si=ke()}function Er(e){return e.mode&1?re&2&&Ae!==0?Ae&-Ae:oy.transition!==null?(ai===0&&(ai=Gh()),ai):(e=ae,e!==0||(e=window.event,e=e===void 0?16:tp(e.type)),e):1}function St(e,t,r,n){if(50<Ps)throw Ps=0,lc=null,Error(T(185));ua(e,r,n),(!(re&2)||e!==Re)&&(e===Re&&(!(re&2)&&(lo|=r),Ce===4&&dr(e,Ae)),Ze(e,n),r===1&&re===0&&!(t.mode&1)&&(Wn=ke()+500,so&&Lr()))}function Ze(e,t){var r=e.callbackNode;ox(e,t);var n=vi(e,e===Re?Ae:0);if(n===0)r!==null&&cd(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&cd(r),t===1)e.tag===0?iy(tf.bind(null,e)):wp(tf.bind(null,e)),ry(function(){!(re&6)&&Lr()}),r=null;else{switch(Jh(n)){case 1:r=$c;break;case 4:r=qh;break;case 16:r=yi;break;case 536870912:r=Kh;break;default:r=yi}r=ym(r,dm.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function dm(e,t){if(si=-1,ai=0,re&6)throw Error(T(327));var r=e.callbackNode;if(Dn()&&e.callbackNode!==r)return null;var n=vi(e,e===Re?Ae:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=Mi(e,n);else{t=n;var s=re;re|=2;var a=hm();(Re!==e||Ae!==t)&&(Ht=null,Wn=ke()+500,Gr(e,t));do try{_y();break}catch(l){fm(e,l)}while(!0);eu(),Oi.current=a,re=s,je!==null?t=0:(Re=null,Ae=0,t=Ce)}if(t!==0){if(t===2&&(s=Dl(e),s!==0&&(n=s,t=cc(e,s))),t===1)throw r=Qs,Gr(e,0),dr(e,n),Ze(e,ke()),r;if(t===6)dr(e,n);else{if(s=e.current.alternate,!(n&30)&&!Sy(s)&&(t=Mi(e,n),t===2&&(a=Dl(e),a!==0&&(n=a,t=cc(e,a))),t===1))throw r=Qs,Gr(e,0),dr(e,n),Ze(e,ke()),r;switch(e.finishedWork=s,e.finishedLanes=n,t){case 0:case 1:throw Error(T(345));case 2:$r(e,Je,Ht);break;case 3:if(dr(e,n),(n&130023424)===n&&(t=mu+500-ke(),10<t)){if(vi(e,0)!==0)break;if(s=e.suspendedLanes,(s&n)!==n){qe(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=Hl($r.bind(null,e,Je,Ht),t);break}$r(e,Je,Ht);break;case 4:if(dr(e,n),(n&4194240)===n)break;for(t=e.eventTimes,s=-1;0<n;){var o=31-jt(n);a=1<<o,o=t[o],o>s&&(s=o),n&=~a}if(n=s,n=ke()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*jy(n/1960))-n,10<n){e.timeoutHandle=Hl($r.bind(null,e,Je,Ht),n);break}$r(e,Je,Ht);break;case 5:$r(e,Je,Ht);break;default:throw Error(T(329))}}}return Ze(e,ke()),e.callbackNode===r?dm.bind(null,e):null}function cc(e,t){var r=Ts;return e.current.memoizedState.isDehydrated&&(Gr(e,t).flags|=256),e=Mi(e,t),e!==2&&(t=Je,Je=r,t!==null&&uc(t)),e}function uc(e){Je===null?Je=e:Je.push.apply(Je,e)}function Sy(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],a=s.getSnapshot;s=s.value;try{if(!_t(a(),s))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function dr(e,t){for(t&=~pu,t&=~lo,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-jt(t),n=1<<r;e[r]=-1,t&=~n}}function tf(e){if(re&6)throw Error(T(327));Dn();var t=vi(e,0);if(!(t&1))return Ze(e,ke()),null;var r=Mi(e,t);if(e.tag!==0&&r===2){var n=Dl(e);n!==0&&(t=n,r=cc(e,n))}if(r===1)throw r=Qs,Gr(e,0),dr(e,t),Ze(e,ke()),r;if(r===6)throw Error(T(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,$r(e,Je,Ht),Ze(e,ke()),null}function gu(e,t){var r=re;re|=1;try{return e(t)}finally{re=r,re===0&&(Wn=ke()+500,so&&Lr())}}function sn(e){yr!==null&&yr.tag===0&&!(re&6)&&Dn();var t=re;re|=1;var r=mt.transition,n=ae;try{if(mt.transition=null,ae=1,e)return e()}finally{ae=n,mt.transition=r,re=t,!(re&6)&&Lr()}}function xu(){nt=Cn.current,ue(Cn)}function Gr(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,ty(r)),je!==null)for(r=je.return;r!==null;){var n=r;switch(Yc(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&ji();break;case 3:Hn(),ue(Ye),ue(Fe),iu();break;case 5:au(n);break;case 4:Hn();break;case 13:ue(fe);break;case 19:ue(fe);break;case 10:tu(n.type._context);break;case 22:case 23:xu()}r=r.return}if(Re=e,je=e=_r(e.current,null),Ae=nt=t,Ce=0,Qs=null,pu=lo=nn=0,Je=Ts=null,Wr!==null){for(t=0;t<Wr.length;t++)if(r=Wr[t],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,a=r.pending;if(a!==null){var o=a.next;a.next=s,n.next=o}r.pending=n}Wr=null}return e}function fm(e,t){do{var r=je;try{if(eu(),ti.current=Ai,Pi){for(var n=he.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}Pi=!1}if(rn=0,Ie=_e=he=null,Is=!1,Ks=0,hu.current=null,r===null||r.return===null){Ce=1,Qs=t,je=null;break}e:{var a=e,o=r.return,l=r,c=t;if(t=Ae,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var w=Bd(o);if(w!==null){w.flags&=-257,Hd(w,o,l,a,t),w.mode&1&&$d(a,u,t),t=w,c=u;var g=t.updateQueue;if(g===null){var y=new Set;y.add(c),t.updateQueue=y}else g.add(c);break e}else{if(!(t&1)){$d(a,u,t),yu();break e}c=Error(T(426))}}else if(de&&l.mode&1){var k=Bd(o);if(k!==null){!(k.flags&65536)&&(k.flags|=256),Hd(k,o,l,a,t),Xc(Vn(c,l));break e}}a=c=Vn(c,l),Ce!==4&&(Ce=2),Ts===null?Ts=[a]:Ts.push(a),a=o;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var m=Jp(a,c,t);Dd(a,m);break e;case 1:l=c;var p=a.type,x=a.stateNode;if(!(a.flags&128)&&(typeof p.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(Sr===null||!Sr.has(x)))){a.flags|=65536,t&=-t,a.lanes|=t;var N=Qp(a,l,t);Dd(a,N);break e}}a=a.return}while(a!==null)}mm(r)}catch(E){t=E,je===r&&r!==null&&(je=r=r.return);continue}break}while(!0)}function hm(){var e=Oi.current;return Oi.current=Ai,e===null?Ai:e}function yu(){(Ce===0||Ce===3||Ce===2)&&(Ce=4),Re===null||!(nn&268435455)&&!(lo&268435455)||dr(Re,Ae)}function Mi(e,t){var r=re;re|=2;var n=hm();(Re!==e||Ae!==t)&&(Ht=null,Gr(e,t));do try{Ey();break}catch(s){fm(e,s)}while(!0);if(eu(),re=r,Oi.current=n,je!==null)throw Error(T(261));return Re=null,Ae=0,Ce}function Ey(){for(;je!==null;)pm(je)}function _y(){for(;je!==null&&!Xg();)pm(je)}function pm(e){var t=xm(e.alternate,e,nt);e.memoizedProps=e.pendingProps,t===null?mm(e):je=t,hu.current=null}function mm(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=wy(r,t),r!==null){r.flags&=32767,je=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ce=6,je=null;return}}else if(r=vy(r,t,nt),r!==null){je=r;return}if(t=t.sibling,t!==null){je=t;return}je=t=e}while(t!==null);Ce===0&&(Ce=5)}function $r(e,t,r){var n=ae,s=mt.transition;try{mt.transition=null,ae=1,Cy(e,t,r,n)}finally{mt.transition=s,ae=n}return null}function Cy(e,t,r,n){do Dn();while(yr!==null);if(re&6)throw Error(T(327));r=e.finishedWork;var s=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(T(177));e.callbackNode=null,e.callbackPriority=0;var a=r.lanes|r.childLanes;if(lx(e,a),e===Re&&(je=Re=null,Ae=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Wa||(Wa=!0,ym(yi,function(){return Dn(),null})),a=(r.flags&15990)!==0,r.subtreeFlags&15990||a){a=mt.transition,mt.transition=null;var o=ae;ae=1;var l=re;re|=4,hu.current=null,by(e,r),cm(r,e),Gx($l),wi=!!Fl,$l=Fl=null,e.current=r,Ny(r),Zg(),re=l,ae=o,mt.transition=a}else e.current=r;if(Wa&&(Wa=!1,yr=e,Li=s),a=e.pendingLanes,a===0&&(Sr=null),rx(r.stateNode),Ze(e,ke()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)s=t[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(Di)throw Di=!1,e=oc,oc=null,e;return Li&1&&e.tag!==0&&Dn(),a=e.pendingLanes,a&1?e===lc?Ps++:(Ps=0,lc=e):Ps=0,Lr(),null}function Dn(){if(yr!==null){var e=Jh(Li),t=mt.transition,r=ae;try{if(mt.transition=null,ae=16>e?16:e,yr===null)var n=!1;else{if(e=yr,yr=null,Li=0,re&6)throw Error(T(331));var s=re;for(re|=4,U=e.current;U!==null;){var a=U,o=a.child;if(U.flags&16){var l=a.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(U=u;U!==null;){var d=U;switch(d.tag){case 0:case 11:case 15:Rs(8,d,a)}var h=d.child;if(h!==null)h.return=d,U=h;else for(;U!==null;){d=U;var f=d.sibling,w=d.return;if(im(d),d===u){U=null;break}if(f!==null){f.return=w,U=f;break}U=w}}}var g=a.alternate;if(g!==null){var y=g.child;if(y!==null){g.child=null;do{var k=y.sibling;y.sibling=null,y=k}while(y!==null)}}U=a}}if(a.subtreeFlags&2064&&o!==null)o.return=a,U=o;else e:for(;U!==null;){if(a=U,a.flags&2048)switch(a.tag){case 0:case 11:case 15:Rs(9,a,a.return)}var m=a.sibling;if(m!==null){m.return=a.return,U=m;break e}U=a.return}}var p=e.current;for(U=p;U!==null;){o=U;var x=o.child;if(o.subtreeFlags&2064&&x!==null)x.return=o,U=x;else e:for(o=p;U!==null;){if(l=U,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:oo(9,l)}}catch(E){xe(l,l.return,E)}if(l===o){U=null;break e}var N=l.sibling;if(N!==null){N.return=l.return,U=N;break e}U=l.return}}if(re=s,Lr(),Lt&&typeof Lt.onPostCommitFiberRoot=="function")try{Lt.onPostCommitFiberRoot(Zi,e)}catch{}n=!0}return n}finally{ae=r,mt.transition=t}}return!1}function rf(e,t,r){t=Vn(r,t),t=Jp(e,t,1),e=jr(e,t,1),t=qe(),e!==null&&(ua(e,1,t),Ze(e,t))}function xe(e,t,r){if(e.tag===3)rf(e,e,r);else for(;t!==null;){if(t.tag===3){rf(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Sr===null||!Sr.has(n))){e=Vn(r,e),e=Qp(t,e,1),t=jr(t,e,1),e=qe(),t!==null&&(ua(t,1,e),Ze(t,e));break}}t=t.return}}function Iy(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=qe(),e.pingedLanes|=e.suspendedLanes&r,Re===e&&(Ae&r)===r&&(Ce===4||Ce===3&&(Ae&130023424)===Ae&&500>ke()-mu?Gr(e,0):pu|=r),Ze(e,t)}function gm(e,t){t===0&&(e.mode&1?(t=Da,Da<<=1,!(Da&130023424)&&(Da=4194304)):t=1);var r=qe();e=Xt(e,t),e!==null&&(ua(e,t,r),Ze(e,r))}function Ry(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),gm(e,r)}function Ty(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,s=e.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(T(314))}n!==null&&n.delete(t),gm(e,r)}var xm;xm=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Ye.current)Qe=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Qe=!1,yy(e,t,r);Qe=!!(e.flags&131072)}else Qe=!1,de&&t.flags&1048576&&kp(t,_i,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;ni(e,t),e=t.pendingProps;var s=Fn(t,Fe.current);On(t,r),s=lu(null,t,n,e,s,r);var a=cu();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Xe(n)?(a=!0,Si(t)):a=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,nu(t),s.updater=io,t.stateNode=s,s._reactInternals=t,Ql(t,n,e,r),t=Zl(null,t,n,!0,a,r)):(t.tag=0,de&&a&&Qc(t),He(null,t,s,r),t=t.child),t;case 16:n=t.elementType;e:{switch(ni(e,t),e=t.pendingProps,s=n._init,n=s(n._payload),t.type=n,s=t.tag=Ay(n),e=wt(n,e),s){case 0:t=Xl(null,t,n,e,r);break e;case 1:t=qd(null,t,n,e,r);break e;case 11:t=Vd(null,t,n,e,r);break e;case 14:t=Wd(null,t,n,wt(n.type,e),r);break e}throw Error(T(306,n,""))}return t;case 0:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:wt(n,s),Xl(e,t,n,s,r);case 1:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:wt(n,s),qd(e,t,n,s,r);case 3:e:{if(em(t),e===null)throw Error(T(387));n=t.pendingProps,a=t.memoizedState,s=a.element,_p(e,t),Ri(t,n,null,r);var o=t.memoizedState;if(n=o.element,a.isDehydrated)if(a={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){s=Vn(Error(T(423)),t),t=Kd(e,t,n,r,s);break e}else if(n!==s){s=Vn(Error(T(424)),t),t=Kd(e,t,n,r,s);break e}else for(st=Nr(t.stateNode.containerInfo.firstChild),at=t,de=!0,bt=null,r=Sp(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if($n(),n===s){t=Zt(e,t,r);break e}He(e,t,n,r)}t=t.child}return t;case 5:return Cp(t),e===null&&Kl(t),n=t.type,s=t.pendingProps,a=e!==null?e.memoizedProps:null,o=s.children,Bl(n,s)?o=null:a!==null&&Bl(n,a)&&(t.flags|=32),Zp(e,t),He(e,t,o,r),t.child;case 6:return e===null&&Kl(t),null;case 13:return tm(e,t,r);case 4:return su(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Bn(t,null,n,r):He(e,t,n,r),t.child;case 11:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:wt(n,s),Vd(e,t,n,s,r);case 7:return He(e,t,t.pendingProps,r),t.child;case 8:return He(e,t,t.pendingProps.children,r),t.child;case 12:return He(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,s=t.pendingProps,a=t.memoizedProps,o=s.value,le(Ci,n._currentValue),n._currentValue=o,a!==null)if(_t(a.value,o)){if(a.children===s.children&&!Ye.current){t=Zt(e,t,r);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var l=a.dependencies;if(l!==null){o=a.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(a.tag===1){c=Jt(-1,r&-r),c.tag=2;var u=a.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}a.lanes|=r,c=a.alternate,c!==null&&(c.lanes|=r),Gl(a.return,r,t),l.lanes|=r;break}c=c.next}}else if(a.tag===10)o=a.type===t.type?null:a.child;else if(a.tag===18){if(o=a.return,o===null)throw Error(T(341));o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),Gl(o,r,t),o=a.sibling}else o=a.child;if(o!==null)o.return=a;else for(o=a;o!==null;){if(o===t){o=null;break}if(a=o.sibling,a!==null){a.return=o.return,o=a;break}o=o.return}a=o}He(e,t,s.children,r),t=t.child}return t;case 9:return s=t.type,n=t.pendingProps.children,On(t,r),s=gt(s),n=n(s),t.flags|=1,He(e,t,n,r),t.child;case 14:return n=t.type,s=wt(n,t.pendingProps),s=wt(n.type,s),Wd(e,t,n,s,r);case 15:return Yp(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:wt(n,s),ni(e,t),t.tag=1,Xe(n)?(e=!0,Si(t)):e=!1,On(t,r),Gp(t,n,s),Ql(t,n,s,r),Zl(null,t,n,!0,e,r);case 19:return rm(e,t,r);case 22:return Xp(e,t,r)}throw Error(T(156,t.tag))};function ym(e,t){return Wh(e,t)}function Py(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function pt(e,t,r,n){return new Py(e,t,r,n)}function vu(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Ay(e){if(typeof e=="function")return vu(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Uc)return 11;if(e===zc)return 14}return 2}function _r(e,t){var r=e.alternate;return r===null?(r=pt(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function ii(e,t,r,n,s,a){var o=2;if(n=e,typeof e=="function")vu(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case yn:return Jr(r.children,s,a,t);case Mc:o=8,s|=8;break;case wl:return e=pt(12,r,t,s|2),e.elementType=wl,e.lanes=a,e;case kl:return e=pt(13,r,t,s),e.elementType=kl,e.lanes=a,e;case bl:return e=pt(19,r,t,s),e.elementType=bl,e.lanes=a,e;case Ch:return co(r,s,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Eh:o=10;break e;case _h:o=9;break e;case Uc:o=11;break e;case zc:o=14;break e;case lr:o=16,n=null;break e}throw Error(T(130,e==null?e:typeof e,""))}return t=pt(o,r,t,s),t.elementType=e,t.type=n,t.lanes=a,t}function Jr(e,t,r,n){return e=pt(7,e,n,t),e.lanes=r,e}function co(e,t,r,n){return e=pt(22,e,n,t),e.elementType=Ch,e.lanes=r,e.stateNode={isHidden:!1},e}function tl(e,t,r){return e=pt(6,e,null,t),e.lanes=r,e}function rl(e,t,r){return t=pt(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Oy(e,t,r,n,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Lo(0),this.expirationTimes=Lo(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Lo(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function wu(e,t,r,n,s,a,o,l,c){return e=new Oy(e,t,r,l,c),t===1?(t=1,a===!0&&(t|=8)):t=0,a=pt(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},nu(a),e}function Dy(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:xn,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function vm(e){if(!e)return Ar;e=e._reactInternals;e:{if(dn(e)!==e||e.tag!==1)throw Error(T(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Xe(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(T(171))}if(e.tag===1){var r=e.type;if(Xe(r))return vp(e,r,t)}return t}function wm(e,t,r,n,s,a,o,l,c){return e=wu(r,n,!0,e,s,a,o,l,c),e.context=vm(null),r=e.current,n=qe(),s=Er(r),a=Jt(n,s),a.callback=t??null,jr(r,a,s),e.current.lanes=s,ua(e,s,n),Ze(e,n),e}function uo(e,t,r,n){var s=t.current,a=qe(),o=Er(s);return r=vm(r),t.context===null?t.context=r:t.pendingContext=r,t=Jt(a,o),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=jr(s,t,o),e!==null&&(St(e,s,o,a),ei(e,s,o)),o}function Ui(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function nf(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function ku(e,t){nf(e,t),(e=e.alternate)&&nf(e,t)}function Ly(){return null}var km=typeof reportError=="function"?reportError:function(e){console.error(e)};function bu(e){this._internalRoot=e}fo.prototype.render=bu.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(T(409));uo(e,t,null,null)};fo.prototype.unmount=bu.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;sn(function(){uo(null,e,null,null)}),t[Yt]=null}};function fo(e){this._internalRoot=e}fo.prototype.unstable_scheduleHydration=function(e){if(e){var t=Xh();e={blockedOn:null,target:e,priority:t};for(var r=0;r<ur.length&&t!==0&&t<ur[r].priority;r++);ur.splice(r,0,e),r===0&&ep(e)}};function Nu(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function ho(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function sf(){}function My(e,t,r,n,s){if(s){if(typeof n=="function"){var a=n;n=function(){var u=Ui(o);a.call(u)}}var o=wm(t,n,e,0,null,!1,!1,"",sf);return e._reactRootContainer=o,e[Yt]=o.current,Bs(e.nodeType===8?e.parentNode:e),sn(),o}for(;s=e.lastChild;)e.removeChild(s);if(typeof n=="function"){var l=n;n=function(){var u=Ui(c);l.call(u)}}var c=wu(e,0,!1,null,null,!1,!1,"",sf);return e._reactRootContainer=c,e[Yt]=c.current,Bs(e.nodeType===8?e.parentNode:e),sn(function(){uo(t,c,r,n)}),c}function po(e,t,r,n,s){var a=r._reactRootContainer;if(a){var o=a;if(typeof s=="function"){var l=s;s=function(){var c=Ui(o);l.call(c)}}uo(t,o,e,s)}else o=My(r,t,e,s,n);return Ui(o)}Qh=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=vs(t.pendingLanes);r!==0&&(Bc(t,r|1),Ze(t,ke()),!(re&6)&&(Wn=ke()+500,Lr()))}break;case 13:sn(function(){var n=Xt(e,1);if(n!==null){var s=qe();St(n,e,1,s)}}),ku(e,1)}};Hc=function(e){if(e.tag===13){var t=Xt(e,134217728);if(t!==null){var r=qe();St(t,e,134217728,r)}ku(e,134217728)}};Yh=function(e){if(e.tag===13){var t=Er(e),r=Xt(e,t);if(r!==null){var n=qe();St(r,e,t,n)}ku(e,t)}};Xh=function(){return ae};Zh=function(e,t){var r=ae;try{return ae=e,t()}finally{ae=r}};Pl=function(e,t,r){switch(t){case"input":if(Sl(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var s=no(n);if(!s)throw Error(T(90));Rh(n),Sl(n,s)}}}break;case"textarea":Ph(e,r);break;case"select":t=r.value,t!=null&&Rn(e,!!r.multiple,t,!1)}};zh=gu;Fh=sn;var Uy={usingClientEntryPoint:!1,Events:[fa,bn,no,Mh,Uh,gu]},ps={findFiberByHostInstance:Vr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},zy={bundleType:ps.bundleType,version:ps.version,rendererPackageName:ps.rendererPackageName,rendererConfig:ps.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:tr.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Hh(e),e===null?null:e.stateNode},findFiberByHostInstance:ps.findFiberByHostInstance||Ly,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var qa=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!qa.isDisabled&&qa.supportsFiber)try{Zi=qa.inject(zy),Lt=qa}catch{}}ot.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Uy;ot.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Nu(t))throw Error(T(200));return Dy(e,t,null,r)};ot.createRoot=function(e,t){if(!Nu(e))throw Error(T(299));var r=!1,n="",s=km;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=wu(e,1,!1,null,null,r,!1,n,s),e[Yt]=t.current,Bs(e.nodeType===8?e.parentNode:e),new bu(t)};ot.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(T(188)):(e=Object.keys(e).join(","),Error(T(268,e)));return e=Hh(t),e=e===null?null:e.stateNode,e};ot.flushSync=function(e){return sn(e)};ot.hydrate=function(e,t,r){if(!ho(t))throw Error(T(200));return po(null,e,t,!0,r)};ot.hydrateRoot=function(e,t,r){if(!Nu(e))throw Error(T(405));var n=r!=null&&r.hydratedSources||null,s=!1,a="",o=km;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(a=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=wm(t,null,e,1,r??null,s,!1,a,o),e[Yt]=t.current,Bs(e),n)for(e=0;e<n.length;e++)r=n[e],s=r._getVersion,s=s(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,s]:t.mutableSourceEagerHydrationData.push(r,s);return new fo(t)};ot.render=function(e,t,r){if(!ho(t))throw Error(T(200));return po(null,e,t,!1,r)};ot.unmountComponentAtNode=function(e){if(!ho(e))throw Error(T(40));return e._reactRootContainer?(sn(function(){po(null,null,e,!1,function(){e._reactRootContainer=null,e[Yt]=null})}),!0):!1};ot.unstable_batchedUpdates=gu;ot.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!ho(r))throw Error(T(200));if(e==null||e._reactInternals===void 0)throw Error(T(38));return po(e,t,r,!1,n)};ot.version="18.3.1-next-f1338f8080-20240426";function bm(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(bm)}catch(e){console.error(e)}}bm(),bh.exports=ot;var Fy=bh.exports,Nm,af=Fy;Nm=af.createRoot,af.hydrateRoot;/**
 * @remix-run/router v1.23.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ys(){return Ys=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ys.apply(this,arguments)}var vr;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(vr||(vr={}));const of="popstate";function $y(e){e===void 0&&(e={});function t(n,s){let{pathname:a,search:o,hash:l}=n.location;return dc("",{pathname:a,search:o,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(n,s){return typeof s=="string"?s:zi(s)}return Hy(t,r,null,e)}function pe(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function ju(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function By(){return Math.random().toString(36).substr(2,8)}function lf(e,t){return{usr:e.state,key:e.key,idx:t}}function dc(e,t,r,n){return r===void 0&&(r=null),Ys({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?ts(t):t,{state:r,key:t&&t.key||n||By()})}function zi(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function ts(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function Hy(e,t,r,n){n===void 0&&(n={});let{window:s=document.defaultView,v5Compat:a=!1}=n,o=s.history,l=vr.Pop,c=null,u=d();u==null&&(u=0,o.replaceState(Ys({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function h(){l=vr.Pop;let k=d(),m=k==null?null:k-u;u=k,c&&c({action:l,location:y.location,delta:m})}function f(k,m){l=vr.Push;let p=dc(y.location,k,m);u=d()+1;let x=lf(p,u),N=y.createHref(p);try{o.pushState(x,"",N)}catch(E){if(E instanceof DOMException&&E.name==="DataCloneError")throw E;s.location.assign(N)}a&&c&&c({action:l,location:y.location,delta:1})}function w(k,m){l=vr.Replace;let p=dc(y.location,k,m);u=d();let x=lf(p,u),N=y.createHref(p);o.replaceState(x,"",N),a&&c&&c({action:l,location:y.location,delta:0})}function g(k){let m=s.location.origin!=="null"?s.location.origin:s.location.href,p=typeof k=="string"?k:zi(k);return p=p.replace(/ $/,"%20"),pe(m,"No window.location.(origin|href) available to create URL for href: "+p),new URL(p,m)}let y={get action(){return l},get location(){return e(s,o)},listen(k){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(of,h),c=k,()=>{s.removeEventListener(of,h),c=null}},createHref(k){return t(s,k)},createURL:g,encodeLocation(k){let m=g(k);return{pathname:m.pathname,search:m.search,hash:m.hash}},push:f,replace:w,go(k){return o.go(k)}};return y}var cf;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(cf||(cf={}));function Vy(e,t,r){return r===void 0&&(r="/"),Wy(e,t,r)}function Wy(e,t,r,n){let s=typeof t=="string"?ts(t):t,a=qn(s.pathname||"/",r);if(a==null)return null;let o=jm(e);qy(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let u=nv(a);l=tv(o[c],u)}return l}function jm(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let s=(a,o,l)=>{let c={relativePath:l===void 0?a.path||"":l,caseSensitive:a.caseSensitive===!0,childrenIndex:o,route:a};c.relativePath.startsWith("/")&&(pe(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let u=Cr([n,c.relativePath]),d=r.concat(c);a.children&&a.children.length>0&&(pe(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),jm(a.children,t,d,u)),!(a.path==null&&!a.index)&&t.push({path:u,score:Zy(u,a.index),routesMeta:d})};return e.forEach((a,o)=>{var l;if(a.path===""||!((l=a.path)!=null&&l.includes("?")))s(a,o);else for(let c of Sm(a.path))s(a,o,c)}),t}function Sm(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,s=r.endsWith("?"),a=r.replace(/\?$/,"");if(n.length===0)return s?[a,""]:[a];let o=Sm(n.join("/")),l=[];return l.push(...o.map(c=>c===""?a:[a,c].join("/"))),s&&l.push(...o),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function qy(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:ev(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const Ky=/^:[\w-]+$/,Gy=3,Jy=2,Qy=1,Yy=10,Xy=-2,uf=e=>e==="*";function Zy(e,t){let r=e.split("/"),n=r.length;return r.some(uf)&&(n+=Xy),t&&(n+=Jy),r.filter(s=>!uf(s)).reduce((s,a)=>s+(Ky.test(a)?Gy:a===""?Qy:Yy),n)}function ev(e,t){return e.length===t.length&&e.slice(0,-1).every((n,s)=>n===t[s])?e[e.length-1]-t[t.length-1]:0}function tv(e,t,r){let{routesMeta:n}=e,s={},a="/",o=[];for(let l=0;l<n.length;++l){let c=n[l],u=l===n.length-1,d=a==="/"?t:t.slice(a.length)||"/",h=fc({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),f=c.route;if(!h)return null;Object.assign(s,h.params),o.push({params:s,pathname:Cr([a,h.pathname]),pathnameBase:lv(Cr([a,h.pathnameBase])),route:f}),h.pathnameBase!=="/"&&(a=Cr([a,h.pathnameBase]))}return o}function fc(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=rv(e.path,e.caseSensitive,e.end),s=t.match(r);if(!s)return null;let a=s[0],o=a.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:n.reduce((u,d,h)=>{let{paramName:f,isOptional:w}=d;if(f==="*"){let y=l[h]||"";o=a.slice(0,a.length-y.length).replace(/(.)\/+$/,"$1")}const g=l[h];return w&&!g?u[f]=void 0:u[f]=(g||"").replace(/%2F/g,"/"),u},{}),pathname:a,pathnameBase:o,pattern:e}}function rv(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),ju(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),n]}function nv(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return ju(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function qn(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}const sv=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,av=e=>sv.test(e);function iv(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:s=""}=typeof e=="string"?ts(e):e,a;if(r)if(av(r))a=r;else{if(r.includes("//")){let o=r;r=r.replace(/\/\/+/g,"/"),ju(!1,"Pathnames cannot have embedded double slashes - normalizing "+(o+" -> "+r))}r.startsWith("/")?a=df(r.substring(1),"/"):a=df(r,t)}else a=t;return{pathname:a,search:cv(n),hash:uv(s)}}function df(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function nl(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function ov(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function Su(e,t){let r=ov(e);return t?r.map((n,s)=>s===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function Eu(e,t,r,n){n===void 0&&(n=!1);let s;typeof e=="string"?s=ts(e):(s=Ys({},e),pe(!s.pathname||!s.pathname.includes("?"),nl("?","pathname","search",s)),pe(!s.pathname||!s.pathname.includes("#"),nl("#","pathname","hash",s)),pe(!s.search||!s.search.includes("#"),nl("#","search","hash",s)));let a=e===""||s.pathname==="",o=a?"/":s.pathname,l;if(o==null)l=r;else{let h=t.length-1;if(!n&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),h-=1;s.pathname=f.join("/")}l=h>=0?t[h]:"/"}let c=iv(s,l),u=o&&o!=="/"&&o.endsWith("/"),d=(a||o===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const Cr=e=>e.join("/").replace(/\/\/+/g,"/"),lv=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),cv=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,uv=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function dv(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const Em=["post","put","patch","delete"];new Set(Em);const fv=["get",...Em];new Set(fv);/**
 * React Router v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Xs(){return Xs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Xs.apply(this,arguments)}const mo=v.createContext(null),_m=v.createContext(null),rr=v.createContext(null),go=v.createContext(null),Ft=v.createContext({outlet:null,matches:[],isDataRoute:!1}),Cm=v.createContext(null);function hv(e,t){let{relative:r}=t===void 0?{}:t;rs()||pe(!1);let{basename:n,navigator:s}=v.useContext(rr),{hash:a,pathname:o,search:l}=xo(e,{relative:r}),c=o;return n!=="/"&&(c=o==="/"?n:Cr([n,o])),s.createHref({pathname:c,search:l,hash:a})}function rs(){return v.useContext(go)!=null}function ns(){return rs()||pe(!1),v.useContext(go).location}function Im(e){v.useContext(rr).static||v.useLayoutEffect(e)}function pa(){let{isDataRoute:e}=v.useContext(Ft);return e?Iv():pv()}function pv(){rs()||pe(!1);let e=v.useContext(mo),{basename:t,future:r,navigator:n}=v.useContext(rr),{matches:s}=v.useContext(Ft),{pathname:a}=ns(),o=JSON.stringify(Su(s,r.v7_relativeSplatPath)),l=v.useRef(!1);return Im(()=>{l.current=!0}),v.useCallback(function(u,d){if(d===void 0&&(d={}),!l.current)return;if(typeof u=="number"){n.go(u);return}let h=Eu(u,JSON.parse(o),a,d.relative==="path");e==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:Cr([t,h.pathname])),(d.replace?n.replace:n.push)(h,d.state,d)},[t,n,o,a,e])}const mv=v.createContext(null);function gv(e){let t=v.useContext(Ft).outlet;return t&&v.createElement(mv.Provider,{value:e},t)}function xv(){let{matches:e}=v.useContext(Ft),t=e[e.length-1];return t?t.params:{}}function xo(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=v.useContext(rr),{matches:s}=v.useContext(Ft),{pathname:a}=ns(),o=JSON.stringify(Su(s,n.v7_relativeSplatPath));return v.useMemo(()=>Eu(e,JSON.parse(o),a,r==="path"),[e,o,a,r])}function yv(e,t){return vv(e,t)}function vv(e,t,r,n){rs()||pe(!1);let{navigator:s}=v.useContext(rr),{matches:a}=v.useContext(Ft),o=a[a.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let u=ns(),d;if(t){var h;let k=typeof t=="string"?ts(t):t;c==="/"||(h=k.pathname)!=null&&h.startsWith(c)||pe(!1),d=k}else d=u;let f=d.pathname||"/",w=f;if(c!=="/"){let k=c.replace(/^\//,"").split("/");w="/"+f.replace(/^\//,"").split("/").slice(k.length).join("/")}let g=Vy(e,{pathname:w}),y=jv(g&&g.map(k=>Object.assign({},k,{params:Object.assign({},l,k.params),pathname:Cr([c,s.encodeLocation?s.encodeLocation(k.pathname).pathname:k.pathname]),pathnameBase:k.pathnameBase==="/"?c:Cr([c,s.encodeLocation?s.encodeLocation(k.pathnameBase).pathname:k.pathnameBase])})),a,r,n);return t&&y?v.createElement(go.Provider,{value:{location:Xs({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:vr.Pop}},y):y}function wv(){let e=Cv(),t=dv(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return v.createElement(v.Fragment,null,v.createElement("h2",null,"Unexpected Application Error!"),v.createElement("h3",{style:{fontStyle:"italic"}},t),r?v.createElement("pre",{style:s},r):null,null)}const kv=v.createElement(wv,null);class bv extends v.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?v.createElement(Ft.Provider,{value:this.props.routeContext},v.createElement(Cm.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Nv(e){let{routeContext:t,match:r,children:n}=e,s=v.useContext(mo);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),v.createElement(Ft.Provider,{value:t},n)}function jv(e,t,r,n){var s;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var a;if(!r)return null;if(r.errors)e=r.matches;else if((a=n)!=null&&a.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let o=e,l=(s=r)==null?void 0:s.errors;if(l!=null){let d=o.findIndex(h=>h.route.id&&(l==null?void 0:l[h.route.id])!==void 0);d>=0||pe(!1),o=o.slice(0,Math.min(o.length,d+1))}let c=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let d=0;d<o.length;d++){let h=o[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=d),h.route.id){let{loaderData:f,errors:w}=r,g=h.route.loader&&f[h.route.id]===void 0&&(!w||w[h.route.id]===void 0);if(h.route.lazy||g){c=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((d,h,f)=>{let w,g=!1,y=null,k=null;r&&(w=l&&h.route.id?l[h.route.id]:void 0,y=h.route.errorElement||kv,c&&(u<0&&f===0?(Rv("route-fallback"),g=!0,k=null):u===f&&(g=!0,k=h.route.hydrateFallbackElement||null)));let m=t.concat(o.slice(0,f+1)),p=()=>{let x;return w?x=y:g?x=k:h.route.Component?x=v.createElement(h.route.Component,null):h.route.element?x=h.route.element:x=d,v.createElement(Nv,{match:h,routeContext:{outlet:d,matches:m,isDataRoute:r!=null},children:x})};return r&&(h.route.ErrorBoundary||h.route.errorElement||f===0)?v.createElement(bv,{location:r.location,revalidation:r.revalidation,component:y,error:w,children:p(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):p()},null)}var Rm=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Rm||{}),Tm=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Tm||{});function Sv(e){let t=v.useContext(mo);return t||pe(!1),t}function Ev(e){let t=v.useContext(_m);return t||pe(!1),t}function _v(e){let t=v.useContext(Ft);return t||pe(!1),t}function Pm(e){let t=_v(),r=t.matches[t.matches.length-1];return r.route.id||pe(!1),r.route.id}function Cv(){var e;let t=v.useContext(Cm),r=Ev(),n=Pm();return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function Iv(){let{router:e}=Sv(Rm.UseNavigateStable),t=Pm(Tm.UseNavigateStable),r=v.useRef(!1);return Im(()=>{r.current=!0}),v.useCallback(function(s,a){a===void 0&&(a={}),r.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,Xs({fromRouteId:t},a)))},[e,t])}const ff={};function Rv(e,t,r){ff[e]||(ff[e]=!0)}function Tv(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function Zs(e){let{to:t,replace:r,state:n,relative:s}=e;rs()||pe(!1);let{future:a,static:o}=v.useContext(rr),{matches:l}=v.useContext(Ft),{pathname:c}=ns(),u=pa(),d=Eu(t,Su(l,a.v7_relativeSplatPath),c,s==="path"),h=JSON.stringify(d);return v.useEffect(()=>u(JSON.parse(h),{replace:r,state:n,relative:s}),[u,h,s,r,n]),null}function Pv(e){return gv(e.context)}function Ee(e){pe(!1)}function Av(e){let{basename:t="/",children:r=null,location:n,navigationType:s=vr.Pop,navigator:a,static:o=!1,future:l}=e;rs()&&pe(!1);let c=t.replace(/^\/*/,"/"),u=v.useMemo(()=>({basename:c,navigator:a,static:o,future:Xs({v7_relativeSplatPath:!1},l)}),[c,l,a,o]);typeof n=="string"&&(n=ts(n));let{pathname:d="/",search:h="",hash:f="",state:w=null,key:g="default"}=n,y=v.useMemo(()=>{let k=qn(d,c);return k==null?null:{location:{pathname:k,search:h,hash:f,state:w,key:g},navigationType:s}},[c,d,h,f,w,g,s]);return y==null?null:v.createElement(rr.Provider,{value:u},v.createElement(go.Provider,{children:r,value:y}))}function Ov(e){let{children:t,location:r}=e;return yv(hc(t),r)}new Promise(()=>{});function hc(e,t){t===void 0&&(t=[]);let r=[];return v.Children.forEach(e,(n,s)=>{if(!v.isValidElement(n))return;let a=[...t,s];if(n.type===v.Fragment){r.push.apply(r,hc(n.props.children,a));return}n.type!==Ee&&pe(!1),!n.props.index||!n.props.children||pe(!1);let o={id:n.props.id||a.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=hc(n.props.children,a)),r.push(o)}),r}/**
 * React Router DOM v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Fi(){return Fi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Fi.apply(this,arguments)}function Am(e,t){if(e==null)return{};var r={},n=Object.keys(e),s,a;for(a=0;a<n.length;a++)s=n[a],!(t.indexOf(s)>=0)&&(r[s]=e[s]);return r}function Dv(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function Lv(e,t){return e.button===0&&(!t||t==="_self")&&!Dv(e)}const Mv=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Uv=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],zv="6";try{window.__reactRouterVersion=zv}catch{}const Fv=v.createContext({isTransitioning:!1}),$v="startTransition",hf=Ig[$v];function Bv(e){let{basename:t,children:r,future:n,window:s}=e,a=v.useRef();a.current==null&&(a.current=$y({window:s,v5Compat:!0}));let o=a.current,[l,c]=v.useState({action:o.action,location:o.location}),{v7_startTransition:u}=n||{},d=v.useCallback(h=>{u&&hf?hf(()=>c(h)):c(h)},[c,u]);return v.useLayoutEffect(()=>o.listen(d),[o,d]),v.useEffect(()=>Tv(n),[n]),v.createElement(Av,{basename:t,children:r,location:l.location,navigationType:l.action,navigator:o,future:n})}const Hv=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Vv=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ea=v.forwardRef(function(t,r){let{onClick:n,relative:s,reloadDocument:a,replace:o,state:l,target:c,to:u,preventScrollReset:d,viewTransition:h}=t,f=Am(t,Mv),{basename:w}=v.useContext(rr),g,y=!1;if(typeof u=="string"&&Vv.test(u)&&(g=u,Hv))try{let x=new URL(window.location.href),N=u.startsWith("//")?new URL(x.protocol+u):new URL(u),E=qn(N.pathname,w);N.origin===x.origin&&E!=null?u=E+N.search+N.hash:y=!0}catch{}let k=hv(u,{relative:s}),m=qv(u,{replace:o,state:l,target:c,preventScrollReset:d,relative:s,viewTransition:h});function p(x){n&&n(x),x.defaultPrevented||m(x)}return v.createElement("a",Fi({},f,{href:g||k,onClick:y||a?n:p,ref:r,target:c}))}),$i=v.forwardRef(function(t,r){let{"aria-current":n="page",caseSensitive:s=!1,className:a="",end:o=!1,style:l,to:c,viewTransition:u,children:d}=t,h=Am(t,Uv),f=xo(c,{relative:h.relative}),w=ns(),g=v.useContext(_m),{navigator:y,basename:k}=v.useContext(rr),m=g!=null&&Kv(f)&&u===!0,p=y.encodeLocation?y.encodeLocation(f).pathname:f.pathname,x=w.pathname,N=g&&g.navigation&&g.navigation.location?g.navigation.location.pathname:null;s||(x=x.toLowerCase(),N=N?N.toLowerCase():null,p=p.toLowerCase()),N&&k&&(N=qn(N,k)||N);const E=p!=="/"&&p.endsWith("/")?p.length-1:p.length;let b=x===p||!o&&x.startsWith(p)&&x.charAt(E)==="/",j=N!=null&&(N===p||!o&&N.startsWith(p)&&N.charAt(p.length)==="/"),I={isActive:b,isPending:j,isTransitioning:m},A=b?n:void 0,L;typeof a=="function"?L=a(I):L=[a,b?"active":null,j?"pending":null,m?"transitioning":null].filter(Boolean).join(" ");let K=typeof l=="function"?l(I):l;return v.createElement(ea,Fi({},h,{"aria-current":A,className:L,ref:r,style:K,to:c,viewTransition:u}),typeof d=="function"?d(I):d)});var pc;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(pc||(pc={}));var pf;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(pf||(pf={}));function Wv(e){let t=v.useContext(mo);return t||pe(!1),t}function qv(e,t){let{target:r,replace:n,state:s,preventScrollReset:a,relative:o,viewTransition:l}=t===void 0?{}:t,c=pa(),u=ns(),d=xo(e,{relative:o});return v.useCallback(h=>{if(Lv(h,r)){h.preventDefault();let f=n!==void 0?n:zi(u)===zi(d);c(e,{replace:f,state:s,preventScrollReset:a,relative:o,viewTransition:l})}},[u,c,d,n,s,r,e,a,o,l])}function Kv(e,t){t===void 0&&(t={});let r=v.useContext(Fv);r==null&&pe(!1);let{basename:n}=Wv(pc.useViewTransitionState),s=xo(e,{relative:t.relative});if(!r.isTransitioning)return!1;let a=qn(r.currentLocation.pathname,n)||r.currentLocation.pathname,o=qn(r.nextLocation.pathname,n)||r.nextLocation.pathname;return fc(s.pathname,o)!=null||fc(s.pathname,a)!=null}var mf={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Om=function(e){const t=[];let r=0;for(let n=0;n<e.length;n++){let s=e.charCodeAt(n);s<128?t[r++]=s:s<2048?(t[r++]=s>>6|192,t[r++]=s&63|128):(s&64512)===55296&&n+1<e.length&&(e.charCodeAt(n+1)&64512)===56320?(s=65536+((s&1023)<<10)+(e.charCodeAt(++n)&1023),t[r++]=s>>18|240,t[r++]=s>>12&63|128,t[r++]=s>>6&63|128,t[r++]=s&63|128):(t[r++]=s>>12|224,t[r++]=s>>6&63|128,t[r++]=s&63|128)}return t},Gv=function(e){const t=[];let r=0,n=0;for(;r<e.length;){const s=e[r++];if(s<128)t[n++]=String.fromCharCode(s);else if(s>191&&s<224){const a=e[r++];t[n++]=String.fromCharCode((s&31)<<6|a&63)}else if(s>239&&s<365){const a=e[r++],o=e[r++],l=e[r++],c=((s&7)<<18|(a&63)<<12|(o&63)<<6|l&63)-65536;t[n++]=String.fromCharCode(55296+(c>>10)),t[n++]=String.fromCharCode(56320+(c&1023))}else{const a=e[r++],o=e[r++];t[n++]=String.fromCharCode((s&15)<<12|(a&63)<<6|o&63)}}return t.join("")},Dm={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let s=0;s<e.length;s+=3){const a=e[s],o=s+1<e.length,l=o?e[s+1]:0,c=s+2<e.length,u=c?e[s+2]:0,d=a>>2,h=(a&3)<<4|l>>4;let f=(l&15)<<2|u>>6,w=u&63;c||(w=64,o||(f=64)),n.push(r[d],r[h],r[f],r[w])}return n.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Om(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):Gv(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const r=t?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let s=0;s<e.length;){const a=r[e.charAt(s++)],l=s<e.length?r[e.charAt(s)]:0;++s;const u=s<e.length?r[e.charAt(s)]:64;++s;const h=s<e.length?r[e.charAt(s)]:64;if(++s,a==null||l==null||u==null||h==null)throw new Jv;const f=a<<2|l>>4;if(n.push(f),u!==64){const w=l<<4&240|u>>2;if(n.push(w),h!==64){const g=u<<6&192|h;n.push(g)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class Jv extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Qv=function(e){const t=Om(e);return Dm.encodeByteArray(t,!0)},Lm=function(e){return Qv(e).replace(/\./g,"")},Mm=function(e){try{return Dm.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yv(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xv=()=>Yv().__FIREBASE_DEFAULTS__,Zv=()=>{if(typeof process>"u"||typeof mf>"u")return;const e=mf.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},ew=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&Mm(e[1]);return t&&JSON.parse(t)},_u=()=>{try{return Xv()||Zv()||ew()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},tw=e=>{var t,r;return(r=(t=_u())===null||t===void 0?void 0:t.emulatorHosts)===null||r===void 0?void 0:r[e]},Um=()=>{var e;return(e=_u())===null||e===void 0?void 0:e.config},zm=e=>{var t;return(t=_u())===null||t===void 0?void 0:t[`_${e}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rw{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,r)=>{this.resolve=t,this.reject=r})}wrapCallback(t){return(r,n)=>{r?this.reject(r):this.resolve(n),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(r):t(r,n))}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $e(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function nw(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test($e())}function sw(){const e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function aw(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function iw(){const e=$e();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function ow(){try{return typeof indexedDB=="object"}catch{return!1}}function lw(){return new Promise((e,t)=>{try{let r=!0;const n="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(n);s.onsuccess=()=>{s.result.close(),r||self.indexedDB.deleteDatabase(n),e(!0)},s.onupgradeneeded=()=>{r=!1},s.onerror=()=>{var a;t(((a=s.error)===null||a===void 0?void 0:a.message)||"")}}catch(r){t(r)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cw="FirebaseError";class Mr extends Error{constructor(t,r,n){super(r),this.code=t,this.customData=n,this.name=cw,Object.setPrototypeOf(this,Mr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ma.prototype.create)}}class ma{constructor(t,r,n){this.service=t,this.serviceName=r,this.errors=n}create(t,...r){const n=r[0]||{},s=`${this.service}/${t}`,a=this.errors[t],o=a?uw(a,n):"Error",l=`${this.serviceName}: ${o} (${s}).`;return new Mr(s,l,n)}}function uw(e,t){return e.replace(dw,(r,n)=>{const s=t[n];return s!=null?String(s):`<${n}?>`})}const dw=/\{\$([^}]+)}/g;function fw(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function Bi(e,t){if(e===t)return!0;const r=Object.keys(e),n=Object.keys(t);for(const s of r){if(!n.includes(s))return!1;const a=e[s],o=t[s];if(gf(a)&&gf(o)){if(!Bi(a,o))return!1}else if(a!==o)return!1}for(const s of n)if(!r.includes(s))return!1;return!0}function gf(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ga(e){const t=[];for(const[r,n]of Object.entries(e))Array.isArray(n)?n.forEach(s=>{t.push(encodeURIComponent(r)+"="+encodeURIComponent(s))}):t.push(encodeURIComponent(r)+"="+encodeURIComponent(n));return t.length?"&"+t.join("&"):""}function ks(e){const t={};return e.replace(/^\?/,"").split("&").forEach(n=>{if(n){const[s,a]=n.split("=");t[decodeURIComponent(s)]=decodeURIComponent(a)}}),t}function bs(e){const t=e.indexOf("?");if(!t)return"";const r=e.indexOf("#",t);return e.substring(t,r>0?r:void 0)}function hw(e,t){const r=new pw(e,t);return r.subscribe.bind(r)}class pw{constructor(t,r){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=r,this.task.then(()=>{t(this)}).catch(n=>{this.error(n)})}next(t){this.forEachObserver(r=>{r.next(t)})}error(t){this.forEachObserver(r=>{r.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,r,n){let s;if(t===void 0&&r===void 0&&n===void 0)throw new Error("Missing Observer.");mw(t,["next","error","complete"])?s=t:s={next:t,error:r,complete:n},s.next===void 0&&(s.next=sl),s.error===void 0&&(s.error=sl),s.complete===void 0&&(s.complete=sl);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),a}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let r=0;r<this.observers.length;r++)this.sendOne(r,t)}sendOne(t,r){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{r(this.observers[t])}catch(n){typeof console<"u"&&console.error&&console.error(n)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function mw(e,t){if(typeof e!="object"||e===null)return!1;for(const r of t)if(r in e&&typeof e[r]=="function")return!0;return!1}function sl(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nr(e){return e&&e._delegate?e._delegate:e}class Kn{constructor(t,r,n){this.name=t,this.instanceFactory=r,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Br="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gw{constructor(t,r){this.name=t,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const r=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(r)){const n=new rw;if(this.instancesDeferred.set(r,n),this.isInitialized(r)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:r});s&&n.resolve(s)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(t){var r;const n=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),s=(r=t==null?void 0:t.optional)!==null&&r!==void 0?r:!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(a){if(s)return null;throw a}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(yw(t))try{this.getOrInitializeService({instanceIdentifier:Br})}catch{}for(const[r,n]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(r);try{const a=this.getOrInitializeService({instanceIdentifier:s});n.resolve(a)}catch{}}}}clearInstance(t=Br){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...t.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Br){return this.instances.has(t)}getOptions(t=Br){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:r={}}=t,n=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:n,options:r});for(const[a,o]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(a);n===l&&o.resolve(s)}return s}onInit(t,r){var n;const s=this.normalizeInstanceIdentifier(r),a=(n=this.onInitCallbacks.get(s))!==null&&n!==void 0?n:new Set;a.add(t),this.onInitCallbacks.set(s,a);const o=this.instances.get(s);return o&&t(o,s),()=>{a.delete(t)}}invokeOnInitCallbacks(t,r){const n=this.onInitCallbacks.get(r);if(n)for(const s of n)try{s(t,r)}catch{}}getOrInitializeService({instanceIdentifier:t,options:r={}}){let n=this.instances.get(t);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:xw(t),options:r}),this.instances.set(t,n),this.instancesOptions.set(t,r),this.invokeOnInitCallbacks(n,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,n)}catch{}return n||null}normalizeInstanceIdentifier(t=Br){return this.component?this.component.multipleInstances?t:Br:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function xw(e){return e===Br?void 0:e}function yw(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vw{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const r=this.getProvider(t.name);if(r.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);r.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const r=new gw(t,this);return this.providers.set(t,r),r}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ie;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(ie||(ie={}));const ww={debug:ie.DEBUG,verbose:ie.VERBOSE,info:ie.INFO,warn:ie.WARN,error:ie.ERROR,silent:ie.SILENT},kw=ie.INFO,bw={[ie.DEBUG]:"log",[ie.VERBOSE]:"log",[ie.INFO]:"info",[ie.WARN]:"warn",[ie.ERROR]:"error"},Nw=(e,t,...r)=>{if(t<e.logLevel)return;const n=new Date().toISOString(),s=bw[t];if(s)console[s](`[${n}]  ${e.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Fm{constructor(t){this.name=t,this._logLevel=kw,this._logHandler=Nw,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in ie))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?ww[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,ie.DEBUG,...t),this._logHandler(this,ie.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,ie.VERBOSE,...t),this._logHandler(this,ie.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,ie.INFO,...t),this._logHandler(this,ie.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,ie.WARN,...t),this._logHandler(this,ie.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,ie.ERROR,...t),this._logHandler(this,ie.ERROR,...t)}}const jw=(e,t)=>t.some(r=>e instanceof r);let xf,yf;function Sw(){return xf||(xf=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Ew(){return yf||(yf=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const $m=new WeakMap,mc=new WeakMap,Bm=new WeakMap,al=new WeakMap,Cu=new WeakMap;function _w(e){const t=new Promise((r,n)=>{const s=()=>{e.removeEventListener("success",a),e.removeEventListener("error",o)},a=()=>{r(Ir(e.result)),s()},o=()=>{n(e.error),s()};e.addEventListener("success",a),e.addEventListener("error",o)});return t.then(r=>{r instanceof IDBCursor&&$m.set(r,e)}).catch(()=>{}),Cu.set(t,e),t}function Cw(e){if(mc.has(e))return;const t=new Promise((r,n)=>{const s=()=>{e.removeEventListener("complete",a),e.removeEventListener("error",o),e.removeEventListener("abort",o)},a=()=>{r(),s()},o=()=>{n(e.error||new DOMException("AbortError","AbortError")),s()};e.addEventListener("complete",a),e.addEventListener("error",o),e.addEventListener("abort",o)});mc.set(e,t)}let gc={get(e,t,r){if(e instanceof IDBTransaction){if(t==="done")return mc.get(e);if(t==="objectStoreNames")return e.objectStoreNames||Bm.get(e);if(t==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return Ir(e[t])},set(e,t,r){return e[t]=r,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function Iw(e){gc=e(gc)}function Rw(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...r){const n=e.call(il(this),t,...r);return Bm.set(n,t.sort?t.sort():[t]),Ir(n)}:Ew().includes(e)?function(...t){return e.apply(il(this),t),Ir($m.get(this))}:function(...t){return Ir(e.apply(il(this),t))}}function Tw(e){return typeof e=="function"?Rw(e):(e instanceof IDBTransaction&&Cw(e),jw(e,Sw())?new Proxy(e,gc):e)}function Ir(e){if(e instanceof IDBRequest)return _w(e);if(al.has(e))return al.get(e);const t=Tw(e);return t!==e&&(al.set(e,t),Cu.set(t,e)),t}const il=e=>Cu.get(e);function Pw(e,t,{blocked:r,upgrade:n,blocking:s,terminated:a}={}){const o=indexedDB.open(e,t),l=Ir(o);return n&&o.addEventListener("upgradeneeded",c=>{n(Ir(o.result),c.oldVersion,c.newVersion,Ir(o.transaction),c)}),r&&o.addEventListener("blocked",c=>r(c.oldVersion,c.newVersion,c)),l.then(c=>{a&&c.addEventListener("close",()=>a()),s&&c.addEventListener("versionchange",u=>s(u.oldVersion,u.newVersion,u))}).catch(()=>{}),l}const Aw=["get","getKey","getAll","getAllKeys","count"],Ow=["put","add","delete","clear"],ol=new Map;function vf(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(ol.get(t))return ol.get(t);const r=t.replace(/FromIndex$/,""),n=t!==r,s=Ow.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!(s||Aw.includes(r)))return;const a=async function(o,...l){const c=this.transaction(o,s?"readwrite":"readonly");let u=c.store;return n&&(u=u.index(l.shift())),(await Promise.all([u[r](...l),s&&c.done]))[0]};return ol.set(t,a),a}Iw(e=>({...e,get:(t,r,n)=>vf(t,r)||e.get(t,r,n),has:(t,r)=>!!vf(t,r)||e.has(t,r)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dw{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(Lw(r)){const n=r.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(r=>r).join(" ")}}function Lw(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const xc="@firebase/app",wf="0.9.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const an=new Fm("@firebase/app"),Mw="@firebase/app-compat",Uw="@firebase/analytics-compat",zw="@firebase/analytics",Fw="@firebase/app-check-compat",$w="@firebase/app-check",Bw="@firebase/auth",Hw="@firebase/auth-compat",Vw="@firebase/database",Ww="@firebase/database-compat",qw="@firebase/functions",Kw="@firebase/functions-compat",Gw="@firebase/installations",Jw="@firebase/installations-compat",Qw="@firebase/messaging",Yw="@firebase/messaging-compat",Xw="@firebase/performance",Zw="@firebase/performance-compat",e1="@firebase/remote-config",t1="@firebase/remote-config-compat",r1="@firebase/storage",n1="@firebase/storage-compat",s1="@firebase/firestore",a1="@firebase/firestore-compat",i1="firebase",o1="9.23.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yc="[DEFAULT]",l1={[xc]:"fire-core",[Mw]:"fire-core-compat",[zw]:"fire-analytics",[Uw]:"fire-analytics-compat",[$w]:"fire-app-check",[Fw]:"fire-app-check-compat",[Bw]:"fire-auth",[Hw]:"fire-auth-compat",[Vw]:"fire-rtdb",[Ww]:"fire-rtdb-compat",[qw]:"fire-fn",[Kw]:"fire-fn-compat",[Gw]:"fire-iid",[Jw]:"fire-iid-compat",[Qw]:"fire-fcm",[Yw]:"fire-fcm-compat",[Xw]:"fire-perf",[Zw]:"fire-perf-compat",[e1]:"fire-rc",[t1]:"fire-rc-compat",[r1]:"fire-gcs",[n1]:"fire-gcs-compat",[s1]:"fire-fst",[a1]:"fire-fst-compat","fire-js":"fire-js",[i1]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hi=new Map,vc=new Map;function c1(e,t){try{e.container.addComponent(t)}catch(r){an.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,r)}}function ta(e){const t=e.name;if(vc.has(t))return an.debug(`There were multiple attempts to register component ${t}.`),!1;vc.set(t,e);for(const r of Hi.values())c1(r,e);return!0}function Hm(e,t){const r=e.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),e.container.getProvider(t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u1={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},Rr=new ma("app","Firebase",u1);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d1{constructor(t,r,n){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},r),this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new Kn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Rr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xa=o1;function Vm(e,t={}){let r=e;typeof t!="object"&&(t={name:t});const n=Object.assign({name:yc,automaticDataCollectionEnabled:!1},t),s=n.name;if(typeof s!="string"||!s)throw Rr.create("bad-app-name",{appName:String(s)});if(r||(r=Um()),!r)throw Rr.create("no-options");const a=Hi.get(s);if(a){if(Bi(r,a.options)&&Bi(n,a.config))return a;throw Rr.create("duplicate-app",{appName:s})}const o=new vw(s);for(const c of vc.values())o.addComponent(c);const l=new d1(r,n,o);return Hi.set(s,l),l}function f1(e=yc){const t=Hi.get(e);if(!t&&e===yc&&Um())return Vm();if(!t)throw Rr.create("no-app",{appName:e});return t}function Ln(e,t,r){var n;let s=(n=l1[e])!==null&&n!==void 0?n:e;r&&(s+=`-${r}`);const a=s.match(/\s|\//),o=t.match(/\s|\//);if(a||o){const l=[`Unable to register library "${s}" with version "${t}":`];a&&l.push(`library name "${s}" contains illegal characters (whitespace or "/")`),a&&o&&l.push("and"),o&&l.push(`version name "${t}" contains illegal characters (whitespace or "/")`),an.warn(l.join(" "));return}ta(new Kn(`${s}-version`,()=>({library:s,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h1="firebase-heartbeat-database",p1=1,ra="firebase-heartbeat-store";let ll=null;function Wm(){return ll||(ll=Pw(h1,p1,{upgrade:(e,t)=>{switch(t){case 0:e.createObjectStore(ra)}}}).catch(e=>{throw Rr.create("idb-open",{originalErrorMessage:e.message})})),ll}async function m1(e){try{return await(await Wm()).transaction(ra).objectStore(ra).get(qm(e))}catch(t){if(t instanceof Mr)an.warn(t.message);else{const r=Rr.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});an.warn(r.message)}}}async function kf(e,t){try{const n=(await Wm()).transaction(ra,"readwrite");await n.objectStore(ra).put(t,qm(e)),await n.done}catch(r){if(r instanceof Mr)an.warn(r.message);else{const n=Rr.create("idb-set",{originalErrorMessage:r==null?void 0:r.message});an.warn(n.message)}}}function qm(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g1=1024,x1=30*24*60*60*1e3;class y1{constructor(t){this.container=t,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new w1(r),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){const r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),n=bf();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===n||this._heartbeatsCache.heartbeats.some(s=>s.date===n)))return this._heartbeatsCache.heartbeats.push({date:n,agent:r}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{const a=new Date(s.date).valueOf();return Date.now()-a<=x1}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const t=bf(),{heartbeatsToSend:r,unsentEntries:n}=v1(this._heartbeatsCache.heartbeats),s=Lm(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,n.length>0?(this._heartbeatsCache.heartbeats=n,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}}function bf(){return new Date().toISOString().substring(0,10)}function v1(e,t=g1){const r=[];let n=e.slice();for(const s of e){const a=r.find(o=>o.agent===s.agent);if(a){if(a.dates.push(s.date),Nf(r)>t){a.dates.pop();break}}else if(r.push({agent:s.agent,dates:[s.date]}),Nf(r)>t){r.pop();break}n=n.slice(1)}return{heartbeatsToSend:r,unsentEntries:n}}class w1{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return ow()?lw().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await m1(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(t){var r;if(await this._canUseIndexedDBPromise){const s=await this.read();return kf(this.app,{lastSentHeartbeatDate:(r=t.lastSentHeartbeatDate)!==null&&r!==void 0?r:s.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var r;if(await this._canUseIndexedDBPromise){const s=await this.read();return kf(this.app,{lastSentHeartbeatDate:(r=t.lastSentHeartbeatDate)!==null&&r!==void 0?r:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...t.heartbeats]})}else return}}function Nf(e){return Lm(JSON.stringify({version:2,heartbeats:e})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k1(e){ta(new Kn("platform-logger",t=>new Dw(t),"PRIVATE")),ta(new Kn("heartbeat",t=>new y1(t),"PRIVATE")),Ln(xc,wf,e),Ln(xc,wf,"esm2017"),Ln("fire-js","")}k1("");var b1="firebase",N1="9.23.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ln(b1,N1,"app");function Iu(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r}function Km(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const j1=Km,Gm=new ma("auth","Firebase",Km());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vi=new Fm("@firebase/auth");function S1(e,...t){Vi.logLevel<=ie.WARN&&Vi.warn(`Auth (${xa}): ${e}`,...t)}function oi(e,...t){Vi.logLevel<=ie.ERROR&&Vi.error(`Auth (${xa}): ${e}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ct(e,...t){throw Ru(e,...t)}function Ut(e,...t){return Ru(e,...t)}function E1(e,t,r){const n=Object.assign(Object.assign({},j1()),{[t]:r});return new ma("auth","Firebase",n).create(t,{appName:e.name})}function Ru(e,...t){if(typeof e!="string"){const r=t[0],n=[...t.slice(1)];return n[0]&&(n[0].appName=e.name),e._errorFactory.create(r,...n)}return Gm.create(e,...t)}function q(e,t,...r){if(!e)throw Ru(t,...r)}function Kt(e){const t="INTERNAL ASSERTION FAILED: "+e;throw oi(t),new Error(t)}function er(e,t){e||Kt(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wc(){var e;return typeof self<"u"&&((e=self.location)===null||e===void 0?void 0:e.href)||""}function _1(){return jf()==="http:"||jf()==="https:"}function jf(){var e;return typeof self<"u"&&((e=self.location)===null||e===void 0?void 0:e.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C1(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(_1()||sw()||"connection"in navigator)?navigator.onLine:!0}function I1(){if(typeof navigator>"u")return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ya{constructor(t,r){this.shortDelay=t,this.longDelay=r,er(r>t,"Short delay should be less than long delay!"),this.isMobile=nw()||aw()}get(){return C1()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tu(e,t){er(e.emulator,"Emulator should always be set here");const{url:r}=e.emulator;return t?`${r}${t.startsWith("/")?t.slice(1):t}`:r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jm{static initialize(t,r,n){this.fetchImpl=t,r&&(this.headersImpl=r),n&&(this.responseImpl=n)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;Kt("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;Kt("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;Kt("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R1={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T1=new ya(3e4,6e4);function va(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function ss(e,t,r,n,s={}){return Qm(e,s,async()=>{let a={},o={};n&&(t==="GET"?o=n:a={body:JSON.stringify(n)});const l=ga(Object.assign({key:e.config.apiKey},o)).slice(1),c=await e._getAdditionalHeaders();return c["Content-Type"]="application/json",e.languageCode&&(c["X-Firebase-Locale"]=e.languageCode),Jm.fetch()(Ym(e,e.config.apiHost,r,l),Object.assign({method:t,headers:c,referrerPolicy:"no-referrer"},a))})}async function Qm(e,t,r){e._canInitEmulator=!1;const n=Object.assign(Object.assign({},R1),t);try{const s=new P1(e),a=await Promise.race([r(),s.promise]);s.clearNetworkTimeout();const o=await a.json();if("needConfirmation"in o)throw Ka(e,"account-exists-with-different-credential",o);if(a.ok&&!("errorMessage"in o))return o;{const l=a.ok?o.errorMessage:o.error.message,[c,u]=l.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ka(e,"credential-already-in-use",o);if(c==="EMAIL_EXISTS")throw Ka(e,"email-already-in-use",o);if(c==="USER_DISABLED")throw Ka(e,"user-disabled",o);const d=n[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw E1(e,d,u);Ct(e,d)}}catch(s){if(s instanceof Mr)throw s;Ct(e,"network-request-failed",{message:String(s)})}}async function yo(e,t,r,n,s={}){const a=await ss(e,t,r,n,s);return"mfaPendingCredential"in a&&Ct(e,"multi-factor-auth-required",{_serverResponse:a}),a}function Ym(e,t,r,n){const s=`${t}${r}?${n}`;return e.config.emulator?Tu(e.config,s):`${e.config.apiScheme}://${s}`}class P1{constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((r,n)=>{this.timer=setTimeout(()=>n(Ut(this.auth,"network-request-failed")),T1.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Ka(e,t,r){const n={appName:e.name};r.email&&(n.email=r.email),r.phoneNumber&&(n.phoneNumber=r.phoneNumber);const s=Ut(e,t,n);return s.customData._tokenResponse=r,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function A1(e,t){return ss(e,"POST","/v1/accounts:delete",t)}async function O1(e,t){return ss(e,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function As(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function D1(e,t=!1){const r=nr(e),n=await r.getIdToken(t),s=Pu(n);q(s&&s.exp&&s.auth_time&&s.iat,r.auth,"internal-error");const a=typeof s.firebase=="object"?s.firebase:void 0,o=a==null?void 0:a.sign_in_provider;return{claims:s,token:n,authTime:As(cl(s.auth_time)),issuedAtTime:As(cl(s.iat)),expirationTime:As(cl(s.exp)),signInProvider:o||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function cl(e){return Number(e)*1e3}function Pu(e){const[t,r,n]=e.split(".");if(t===void 0||r===void 0||n===void 0)return oi("JWT malformed, contained fewer than 3 sections"),null;try{const s=Mm(r);return s?JSON.parse(s):(oi("Failed to decode base64 JWT payload"),null)}catch(s){return oi("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function L1(e){const t=Pu(e);return q(t,"internal-error"),q(typeof t.exp<"u","internal-error"),q(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function na(e,t,r=!1){if(r)return t;try{return await t}catch(n){throw n instanceof Mr&&M1(n)&&e.auth.currentUser===e&&await e.auth.signOut(),n}}function M1({code:e}){return e==="auth/user-disabled"||e==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U1{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var r;if(t){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=((r=this.user.stsTokenManager.expirationTime)!==null&&r!==void 0?r:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(t=!1){if(!this.isRunning)return;const r=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},r)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xm{constructor(t,r){this.createdAt=t,this.lastLoginAt=r,this._initializeTime()}_initializeTime(){this.lastSignInTime=As(this.lastLoginAt),this.creationTime=As(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wi(e){var t;const r=e.auth,n=await e.getIdToken(),s=await na(e,O1(r,{idToken:n}));q(s==null?void 0:s.users.length,r,"internal-error");const a=s.users[0];e._notifyReloadListener(a);const o=!((t=a.providerUserInfo)===null||t===void 0)&&t.length?$1(a.providerUserInfo):[],l=F1(e.providerData,o),c=e.isAnonymous,u=!(e.email&&a.passwordHash)&&!(l!=null&&l.length),d=c?u:!1,h={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new Xm(a.createdAt,a.lastLoginAt),isAnonymous:d};Object.assign(e,h)}async function z1(e){const t=nr(e);await Wi(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function F1(e,t){return[...e.filter(n=>!t.some(s=>s.providerId===n.providerId)),...t]}function $1(e){return e.map(t=>{var{providerId:r}=t,n=Iu(t,["providerId"]);return{providerId:r,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function B1(e,t){const r=await Qm(e,{},async()=>{const n=ga({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:s,apiKey:a}=e.config,o=Ym(e,s,"/v1/token",`key=${a}`),l=await e._getAdditionalHeaders();return l["Content-Type"]="application/x-www-form-urlencoded",Jm.fetch()(o,{method:"POST",headers:l,body:n})});return{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sa{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){q(t.idToken,"internal-error"),q(typeof t.idToken<"u","internal-error"),q(typeof t.refreshToken<"u","internal-error");const r="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):L1(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,r)}async getToken(t,r=!1){return q(!this.accessToken||this.refreshToken,t,"user-token-expired"),!r&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(t,r){const{accessToken:n,refreshToken:s,expiresIn:a}=await B1(t,r);this.updateTokensAndExpiration(n,s,Number(a))}updateTokensAndExpiration(t,r,n){this.refreshToken=r||null,this.accessToken=t||null,this.expirationTime=Date.now()+n*1e3}static fromJSON(t,r){const{refreshToken:n,accessToken:s,expirationTime:a}=r,o=new sa;return n&&(q(typeof n=="string","internal-error",{appName:t}),o.refreshToken=n),s&&(q(typeof s=="string","internal-error",{appName:t}),o.accessToken=s),a&&(q(typeof a=="number","internal-error",{appName:t}),o.expirationTime=a),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new sa,this.toJSON())}_performRefresh(){return Kt("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function or(e,t){q(typeof e=="string"||typeof e>"u","internal-error",{appName:t})}class Qr{constructor(t){var{uid:r,auth:n,stsTokenManager:s}=t,a=Iu(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new U1(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=r,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new Xm(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(t){const r=await na(this,this.stsTokenManager.getToken(this.auth,t));return q(r,this.auth,"internal-error"),this.accessToken!==r&&(this.accessToken=r,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),r}getIdTokenResult(t){return D1(this,t)}reload(){return z1(this)}_assign(t){this!==t&&(q(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(r=>Object.assign({},r)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const r=new Qr(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return r.metadata._copy(this.metadata),r}_onReload(t){q(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,r=!1){let n=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),n=!0),r&&await Wi(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){const t=await this.getIdToken();return await na(this,A1(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,r){var n,s,a,o,l,c,u,d;const h=(n=r.displayName)!==null&&n!==void 0?n:void 0,f=(s=r.email)!==null&&s!==void 0?s:void 0,w=(a=r.phoneNumber)!==null&&a!==void 0?a:void 0,g=(o=r.photoURL)!==null&&o!==void 0?o:void 0,y=(l=r.tenantId)!==null&&l!==void 0?l:void 0,k=(c=r._redirectEventId)!==null&&c!==void 0?c:void 0,m=(u=r.createdAt)!==null&&u!==void 0?u:void 0,p=(d=r.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:x,emailVerified:N,isAnonymous:E,providerData:b,stsTokenManager:j}=r;q(x&&j,t,"internal-error");const I=sa.fromJSON(this.name,j);q(typeof x=="string",t,"internal-error"),or(h,t.name),or(f,t.name),q(typeof N=="boolean",t,"internal-error"),q(typeof E=="boolean",t,"internal-error"),or(w,t.name),or(g,t.name),or(y,t.name),or(k,t.name),or(m,t.name),or(p,t.name);const A=new Qr({uid:x,auth:t,email:f,emailVerified:N,displayName:h,isAnonymous:E,photoURL:g,phoneNumber:w,tenantId:y,stsTokenManager:I,createdAt:m,lastLoginAt:p});return b&&Array.isArray(b)&&(A.providerData=b.map(L=>Object.assign({},L))),k&&(A._redirectEventId=k),A}static async _fromIdTokenResponse(t,r,n=!1){const s=new sa;s.updateFromServerResponse(r);const a=new Qr({uid:r.localId,auth:t,stsTokenManager:s,isAnonymous:n});return await Wi(a),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sf=new Map;function Gt(e){er(e instanceof Function,"Expected a class definition");let t=Sf.get(e);return t?(er(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,Sf.set(e,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zm{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,r){this.storage[t]=r}async _get(t){const r=this.storage[t];return r===void 0?null:r}async _remove(t){delete this.storage[t]}_addListener(t,r){}_removeListener(t,r){}}Zm.type="NONE";const Ef=Zm;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function li(e,t,r){return`firebase:${e}:${t}:${r}`}class Mn{constructor(t,r,n){this.persistence=t,this.auth=r,this.userKey=n;const{config:s,name:a}=this.auth;this.fullUserKey=li(this.userKey,s.apiKey,a),this.fullPersistenceKey=li("persistence",s.apiKey,a),this.boundEventHandler=r._onStorageEvent.bind(r),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);return t?Qr._fromJSON(this.auth,t):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const r=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,r)return this.setCurrentUser(r)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,r,n="authUser"){if(!r.length)return new Mn(Gt(Ef),t,n);const s=(await Promise.all(r.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let a=s[0]||Gt(Ef);const o=li(n,t.config.apiKey,t.name);let l=null;for(const u of r)try{const d=await u._get(o);if(d){const h=Qr._fromJSON(t,d);u!==a&&(l=h),a=u;break}}catch{}const c=s.filter(u=>u._shouldAllowMigration);return!a._shouldAllowMigration||!c.length?new Mn(a,t,n):(a=c[0],l&&await a._set(o,l.toJSON()),await Promise.all(r.map(async u=>{if(u!==a)try{await u._remove(o)}catch{}})),new Mn(a,t,n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _f(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(r0(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(e0(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(s0(t))return"Blackberry";if(a0(t))return"Webos";if(Au(t))return"Safari";if((t.includes("chrome/")||t0(t))&&!t.includes("edge/"))return"Chrome";if(n0(t))return"Android";{const r=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(r);if((n==null?void 0:n.length)===2)return n[1]}return"Other"}function e0(e=$e()){return/firefox\//i.test(e)}function Au(e=$e()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function t0(e=$e()){return/crios\//i.test(e)}function r0(e=$e()){return/iemobile/i.test(e)}function n0(e=$e()){return/android/i.test(e)}function s0(e=$e()){return/blackberry/i.test(e)}function a0(e=$e()){return/webos/i.test(e)}function vo(e=$e()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function H1(e=$e()){var t;return vo(e)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function V1(){return iw()&&document.documentMode===10}function i0(e=$e()){return vo(e)||n0(e)||a0(e)||s0(e)||/windows phone/i.test(e)||r0(e)}function W1(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o0(e,t=[]){let r;switch(e){case"Browser":r=_f($e());break;case"Worker":r=`${_f($e())}-${e}`;break;default:r=e}const n=t.length?t.join(","):"FirebaseCore-web";return`${r}/JsCore/${xa}/${n}`}async function l0(e,t){return ss(e,"GET","/v2/recaptchaConfig",va(e,t))}function Cf(e){return e!==void 0&&e.enterprise!==void 0}class c0{constructor(t){if(this.siteKey="",this.emailPasswordEnabled=!1,t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.emailPasswordEnabled=t.recaptchaEnforcementState.some(r=>r.provider==="EMAIL_PASSWORD_PROVIDER"&&r.enforcementState!=="OFF")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q1(){var e,t;return(t=(e=document.getElementsByTagName("head"))===null||e===void 0?void 0:e[0])!==null&&t!==void 0?t:document}function u0(e){return new Promise((t,r)=>{const n=document.createElement("script");n.setAttribute("src",e),n.onload=t,n.onerror=s=>{const a=Ut("internal-error");a.customData=s,r(a)},n.type="text/javascript",n.charset="UTF-8",q1().appendChild(n)})}function K1(e){return`__${e}${Math.floor(Math.random()*1e6)}`}const G1="https://www.google.com/recaptcha/enterprise.js?render=",J1="recaptcha-enterprise",Q1="NO_RECAPTCHA";class d0{constructor(t){this.type=J1,this.auth=wa(t)}async verify(t="verify",r=!1){async function n(a){if(!r){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(o,l)=>{l0(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)l(new Error("recaptcha Enterprise site key undefined"));else{const u=new c0(c);return a.tenantId==null?a._agentRecaptchaConfig=u:a._tenantRecaptchaConfigs[a.tenantId]=u,o(u.siteKey)}}).catch(c=>{l(c)})})}function s(a,o,l){const c=window.grecaptcha;Cf(c)?c.enterprise.ready(()=>{c.enterprise.execute(a,{action:t}).then(u=>{o(u)}).catch(()=>{o(Q1)})}):l(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((a,o)=>{n(this.auth).then(l=>{if(!r&&Cf(window.grecaptcha))s(l,a,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}u0(G1+l).then(()=>{s(l,a,o)}).catch(c=>{o(c)})}}).catch(l=>{o(l)})})}}async function If(e,t,r,n=!1){const s=new d0(e);let a;try{a=await s.verify(r)}catch{a=await s.verify(r,!0)}const o=Object.assign({},t);return n?Object.assign(o,{captchaResp:a}):Object.assign(o,{captchaResponse:a}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y1{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,r){const n=a=>new Promise((o,l)=>{try{const c=t(a);o(c)}catch(c){l(c)}});n.onAbort=r,this.queue.push(n);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const r=[];try{for(const n of this.queue)await n(t),n.onAbort&&r.push(n.onAbort)}catch(n){r.reverse();for(const s of r)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:n==null?void 0:n.message})}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X1{constructor(t,r,n,s){this.app=t,this.heartbeatServiceProvider=r,this.appCheckServiceProvider=n,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Rf(this),this.idTokenSubscription=new Rf(this),this.beforeStateQueue=new Y1(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Gm,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=s.sdkClientVersion}_initializeWithPersistence(t,r){return r&&(this._popupRedirectResolver=Gt(r)),this._initializationPromise=this.queue(async()=>{var n,s;if(!this._deleted&&(this.persistenceManager=await Mn.create(this,t),!this._deleted)){if(!((n=this._popupRedirectResolver)===null||n===void 0)&&n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(r),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUser(t){var r;const n=await this.assertedPersistence.getCurrentUser();let s=n,a=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId,l=s==null?void 0:s._redirectEventId,c=await this.tryRedirectSignIn(t);(!o||o===l)&&(c!=null&&c.user)&&(s=c.user,a=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(s)}catch(o){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return q(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(t){let r=null;try{r=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return r}async reloadAndSetCurrentUserOrClear(t){try{await Wi(t)}catch(r){if((r==null?void 0:r.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=I1()}async _delete(){this._deleted=!0}async updateCurrentUser(t){const r=t?nr(t):null;return r&&q(r.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(r&&r._clone(this))}async _updateCurrentUser(t,r=!1){if(!this._deleted)return t&&q(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),r||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(t){return this.queue(async()=>{await this.assertedPersistence.setPersistence(Gt(t))})}async initializeRecaptchaConfig(){const t=await l0(this,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new c0(t);this.tenantId==null?this._agentRecaptchaConfig=r:this._tenantRecaptchaConfigs[this.tenantId]=r,r.emailPasswordEnabled&&new d0(this).verify()}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(t){this._errorFactory=new ma("auth","Firebase",t())}onAuthStateChanged(t,r,n){return this.registerStateListener(this.authStateSubscription,t,r,n)}beforeAuthStateChanged(t,r){return this.beforeStateQueue.pushCallback(t,r)}onIdTokenChanged(t,r,n){return this.registerStateListener(this.idTokenSubscription,t,r,n)}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}async _setRedirectUser(t,r){const n=await this.getOrInitRedirectPersistenceManager(r);return t===null?n.removeCurrentUser():n.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const r=t&&Gt(t)||this._popupRedirectResolver;q(r,this,"argument-error"),this.redirectPersistenceManager=await Mn.create(this,[Gt(r._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var r,n;return this._isInitialized&&await this.queue(async()=>{}),((r=this._currentUser)===null||r===void 0?void 0:r._redirectEventId)===t?this._currentUser:((n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,r;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=(r=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&r!==void 0?r:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,r,n,s){if(this._deleted)return()=>{};const a=typeof r=="function"?r:r.next.bind(r),o=this._isInitialized?Promise.resolve():this._initializationPromise;return q(o,this,"internal-error"),o.then(()=>a(this.currentUser)),typeof r=="function"?t.addObserver(r,n,s):t.addObserver(r)}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return q(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=o0(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const r={"X-Client-Version":this.clientVersion};this.app.options.appId&&(r["X-Firebase-gmpid"]=this.app.options.appId);const n=await((t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader());n&&(r["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(r["X-Firebase-AppCheck"]=s),r}async _getAppCheckToken(){var t;const r=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken());return r!=null&&r.error&&S1(`Error while retrieving App Check token: ${r.error}`),r==null?void 0:r.token}}function wa(e){return nr(e)}class Rf{constructor(t){this.auth=t,this.observer=null,this.addObserver=hw(r=>this.observer=r)}get next(){return q(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z1(e,t){const r=Hm(e,"auth");if(r.isInitialized()){const s=r.getImmediate(),a=r.getOptions();if(Bi(a,t??{}))return s;Ct(s,"already-initialized")}return r.initialize({options:t})}function ek(e,t){const r=(t==null?void 0:t.persistence)||[],n=(Array.isArray(r)?r:[r]).map(Gt);t!=null&&t.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(n,t==null?void 0:t.popupRedirectResolver)}function tk(e,t,r){const n=wa(e);q(n._canInitEmulator,n,"emulator-config-failed"),q(/^https?:\/\//.test(t),n,"invalid-emulator-scheme");const s=!1,a=f0(t),{host:o,port:l}=rk(t),c=l===null?"":`:${l}`;n.config.emulator={url:`${a}//${o}${c}/`},n.settings.appVerificationDisabledForTesting=!0,n.emulatorConfig=Object.freeze({host:o,port:l,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:s})}),nk()}function f0(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function rk(e){const t=f0(e),r=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!r)return{host:"",port:null};const n=r[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(n);if(s){const a=s[1];return{host:a,port:Tf(n.substr(a.length+1))}}else{const[a,o]=n.split(":");return{host:a,port:Tf(o)}}}function Tf(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}function nk(){function e(){const t=document.createElement("p"),r=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",r.position="fixed",r.width="100%",r.backgroundColor="#ffffff",r.border=".1em solid #000000",r.color="#b50000",r.bottom="0px",r.left="0px",r.margin="0px",r.zIndex="10000",r.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",e):e())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ou{constructor(t,r){this.providerId=t,this.signInMethod=r}toJSON(){return Kt("not implemented")}_getIdTokenResponse(t){return Kt("not implemented")}_linkToIdToken(t,r){return Kt("not implemented")}_getReauthenticationResolver(t){return Kt("not implemented")}}async function sk(e,t){return ss(e,"POST","/v1/accounts:update",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ul(e,t){return yo(e,"POST","/v1/accounts:signInWithPassword",va(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ak(e,t){return yo(e,"POST","/v1/accounts:signInWithEmailLink",va(e,t))}async function ik(e,t){return yo(e,"POST","/v1/accounts:signInWithEmailLink",va(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aa extends Ou{constructor(t,r,n,s=null){super("password",n),this._email=t,this._password=r,this._tenantId=s}static _fromEmailAndPassword(t,r){return new aa(t,r,"password")}static _fromEmailAndCode(t,r,n=null){return new aa(t,r,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const r=typeof t=="string"?JSON.parse(t):t;if(r!=null&&r.email&&(r!=null&&r.password)){if(r.signInMethod==="password")return this._fromEmailAndPassword(r.email,r.password);if(r.signInMethod==="emailLink")return this._fromEmailAndCode(r.email,r.password,r.tenantId)}return null}async _getIdTokenResponse(t){var r;switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};if(!((r=t._getRecaptchaConfig())===null||r===void 0)&&r.emailPasswordEnabled){const s=await If(t,n,"signInWithPassword");return ul(t,s)}else return ul(t,n).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const a=await If(t,n,"signInWithPassword");return ul(t,a)}else return Promise.reject(s)});case"emailLink":return ak(t,{email:this._email,oobCode:this._password});default:Ct(t,"internal-error")}}async _linkToIdToken(t,r){switch(this.signInMethod){case"password":return sk(t,{idToken:r,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return ik(t,{idToken:r,email:this._email,oobCode:this._password});default:Ct(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Un(e,t){return yo(e,"POST","/v1/accounts:signInWithIdp",va(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ok="http://localhost";class on extends Ou{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const r=new on(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(r.idToken=t.idToken),t.accessToken&&(r.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(r.nonce=t.nonce),t.pendingToken&&(r.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(r.accessToken=t.oauthToken,r.secret=t.oauthTokenSecret):Ct("argument-error"),r}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const r=typeof t=="string"?JSON.parse(t):t,{providerId:n,signInMethod:s}=r,a=Iu(r,["providerId","signInMethod"]);if(!n||!s)return null;const o=new on(n,s);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}_getIdTokenResponse(t){const r=this.buildRequest();return Un(t,r)}_linkToIdToken(t,r){const n=this.buildRequest();return n.idToken=r,Un(t,n)}_getReauthenticationResolver(t){const r=this.buildRequest();return r.autoCreate=!1,Un(t,r)}buildRequest(){const t={requestUri:ok,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const r={};this.idToken&&(r.id_token=this.idToken),this.accessToken&&(r.access_token=this.accessToken),this.secret&&(r.oauth_token_secret=this.secret),r.providerId=this.providerId,this.nonce&&!this.pendingToken&&(r.nonce=this.nonce),t.postBody=ga(r)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lk(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function ck(e){const t=ks(bs(e)).link,r=t?ks(bs(t)).deep_link_id:null,n=ks(bs(e)).deep_link_id;return(n?ks(bs(n)).link:null)||n||r||t||e}class Du{constructor(t){var r,n,s,a,o,l;const c=ks(bs(t)),u=(r=c.apiKey)!==null&&r!==void 0?r:null,d=(n=c.oobCode)!==null&&n!==void 0?n:null,h=lk((s=c.mode)!==null&&s!==void 0?s:null);q(u&&d&&h,"argument-error"),this.apiKey=u,this.operation=h,this.code=d,this.continueUrl=(a=c.continueUrl)!==null&&a!==void 0?a:null,this.languageCode=(o=c.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(l=c.tenantId)!==null&&l!==void 0?l:null}static parseLink(t){const r=ck(t);try{return new Du(r)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class as{constructor(){this.providerId=as.PROVIDER_ID}static credential(t,r){return aa._fromEmailAndPassword(t,r)}static credentialWithLink(t,r){const n=Du.parseLink(r);return q(n,"argument-error"),aa._fromEmailAndCode(t,n.code,n.tenantId)}}as.PROVIDER_ID="password";as.EMAIL_PASSWORD_SIGN_IN_METHOD="password";as.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h0{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ka extends h0{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fr extends ka{constructor(){super("facebook.com")}static credential(t){return on._fromParams({providerId:fr.PROVIDER_ID,signInMethod:fr.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return fr.credentialFromTaggedObject(t)}static credentialFromError(t){return fr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return fr.credential(t.oauthAccessToken)}catch{return null}}}fr.FACEBOOK_SIGN_IN_METHOD="facebook.com";fr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hr extends ka{constructor(){super("google.com"),this.addScope("profile")}static credential(t,r){return on._fromParams({providerId:hr.PROVIDER_ID,signInMethod:hr.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:r})}static credentialFromResult(t){return hr.credentialFromTaggedObject(t)}static credentialFromError(t){return hr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:r,oauthAccessToken:n}=t;if(!r&&!n)return null;try{return hr.credential(r,n)}catch{return null}}}hr.GOOGLE_SIGN_IN_METHOD="google.com";hr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pr extends ka{constructor(){super("github.com")}static credential(t){return on._fromParams({providerId:pr.PROVIDER_ID,signInMethod:pr.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return pr.credentialFromTaggedObject(t)}static credentialFromError(t){return pr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return pr.credential(t.oauthAccessToken)}catch{return null}}}pr.GITHUB_SIGN_IN_METHOD="github.com";pr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mr extends ka{constructor(){super("twitter.com")}static credential(t,r){return on._fromParams({providerId:mr.PROVIDER_ID,signInMethod:mr.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:r})}static credentialFromResult(t){return mr.credentialFromTaggedObject(t)}static credentialFromError(t){return mr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:r,oauthTokenSecret:n}=t;if(!r||!n)return null;try{return mr.credential(r,n)}catch{return null}}}mr.TWITTER_SIGN_IN_METHOD="twitter.com";mr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gn{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,r,n,s=!1){const a=await Qr._fromIdTokenResponse(t,n,s),o=Pf(n);return new Gn({user:a,providerId:o,_tokenResponse:n,operationType:r})}static async _forOperation(t,r,n){await t._updateTokensIfNecessary(n,!0);const s=Pf(n);return new Gn({user:t,providerId:s,_tokenResponse:n,operationType:r})}}function Pf(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qi extends Mr{constructor(t,r,n,s){var a;super(r.code,r.message),this.operationType=n,this.user=s,Object.setPrototypeOf(this,qi.prototype),this.customData={appName:t.name,tenantId:(a=t.tenantId)!==null&&a!==void 0?a:void 0,_serverResponse:r.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(t,r,n,s){return new qi(t,r,n,s)}}function p0(e,t,r,n){return(t==="reauthenticate"?r._getReauthenticationResolver(e):r._getIdTokenResponse(e)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?qi._fromErrorAndOperation(e,a,t,n):a})}async function uk(e,t,r=!1){const n=await na(e,t._linkToIdToken(e.auth,await e.getIdToken()),r);return Gn._forOperation(e,"link",n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dk(e,t,r=!1){const{auth:n}=e,s="reauthenticate";try{const a=await na(e,p0(n,s,t,e),r);q(a.idToken,n,"internal-error");const o=Pu(a.idToken);q(o,n,"internal-error");const{sub:l}=o;return q(e.uid===l,n,"user-mismatch"),Gn._forOperation(e,s,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&Ct(n,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function m0(e,t,r=!1){const n="signIn",s=await p0(e,n,t),a=await Gn._fromIdTokenResponse(e,n,s);return r||await e._updateCurrentUser(a.user),a}async function fk(e,t){return m0(wa(e),t)}function hk(e,t,r){return fk(nr(e),as.credential(t,r))}function pk(e,t,r,n){return nr(e).onIdTokenChanged(t,r,n)}function mk(e,t,r){return nr(e).beforeAuthStateChanged(t,r)}function gk(e,t,r,n){return nr(e).onAuthStateChanged(t,r,n)}function xk(e){return nr(e).signOut()}const Ki="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g0{constructor(t,r){this.storageRetriever=t,this.type=r}_isAvailable(){try{return this.storage?(this.storage.setItem(Ki,"1"),this.storage.removeItem(Ki),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,r){return this.storage.setItem(t,JSON.stringify(r)),Promise.resolve()}_get(t){const r=this.storage.getItem(t);return Promise.resolve(r?JSON.parse(r):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yk(){const e=$e();return Au(e)||vo(e)}const vk=1e3,wk=10;class x0 extends g0{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,r)=>this.onStorageEvent(t,r),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=yk()&&W1(),this.fallbackToPolling=i0(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const r of Object.keys(this.listeners)){const n=this.storage.getItem(r),s=this.localCache[r];n!==s&&t(r,s,n)}}onStorageEvent(t,r=!1){if(!t.key){this.forAllChangedKeys((o,l,c)=>{this.notifyListeners(o,c)});return}const n=t.key;if(r?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const o=this.storage.getItem(n);if(t.newValue!==o)t.newValue!==null?this.storage.setItem(n,t.newValue):this.storage.removeItem(n);else if(this.localCache[n]===t.newValue&&!r)return}const s=()=>{const o=this.storage.getItem(n);!r&&this.localCache[n]===o||this.notifyListeners(n,o)},a=this.storage.getItem(n);V1()&&a!==t.newValue&&t.newValue!==t.oldValue?setTimeout(s,wk):s()}notifyListeners(t,r){this.localCache[t]=r;const n=this.listeners[t];if(n)for(const s of Array.from(n))s(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,r,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:r,newValue:n}),!0)})},vk)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,r){await super._set(t,r),this.localCache[t]=JSON.stringify(r)}async _get(t){const r=await super._get(t);return this.localCache[t]=JSON.stringify(r),r}async _remove(t){await super._remove(t),delete this.localCache[t]}}x0.type="LOCAL";const kk=x0;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y0 extends g0{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,r){}_removeListener(t,r){}}y0.type="SESSION";const v0=y0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bk(e){return Promise.all(e.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(r){return{fulfilled:!1,reason:r}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wo{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const r=this.receivers.find(s=>s.isListeningto(t));if(r)return r;const n=new wo(t);return this.receivers.push(n),n}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const r=t,{eventId:n,eventType:s,data:a}=r.data,o=this.handlersMap[s];if(!(o!=null&&o.size))return;r.ports[0].postMessage({status:"ack",eventId:n,eventType:s});const l=Array.from(o).map(async u=>u(r.origin,a)),c=await bk(l);r.ports[0].postMessage({status:"done",eventId:n,eventType:s,response:c})}_subscribe(t,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(r)}_unsubscribe(t,r){this.handlersMap[t]&&r&&this.handlersMap[t].delete(r),(!r||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}wo.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lu(e="",t=10){let r="";for(let n=0;n<t;n++)r+=Math.floor(Math.random()*10);return e+r}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nk{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,r,n=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let a,o;return new Promise((l,c)=>{const u=Lu("",20);s.port1.start();const d=setTimeout(()=>{c(new Error("unsupported_event"))},n);o={messageChannel:s,onMessage(h){const f=h;if(f.data.eventId===u)switch(f.data.status){case"ack":clearTimeout(d),a=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),l(f.data.response);break;default:clearTimeout(d),clearTimeout(a),c(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:t,eventId:u,data:r},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zt(){return window}function jk(e){zt().location.href=e}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w0(){return typeof zt().WorkerGlobalScope<"u"&&typeof zt().importScripts=="function"}async function Sk(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Ek(){var e;return((e=navigator==null?void 0:navigator.serviceWorker)===null||e===void 0?void 0:e.controller)||null}function _k(){return w0()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k0="firebaseLocalStorageDb",Ck=1,Gi="firebaseLocalStorage",b0="fbase_key";class ba{constructor(t){this.request=t}toPromise(){return new Promise((t,r)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{r(this.request.error)})})}}function ko(e,t){return e.transaction([Gi],t?"readwrite":"readonly").objectStore(Gi)}function Ik(){const e=indexedDB.deleteDatabase(k0);return new ba(e).toPromise()}function kc(){const e=indexedDB.open(k0,Ck);return new Promise((t,r)=>{e.addEventListener("error",()=>{r(e.error)}),e.addEventListener("upgradeneeded",()=>{const n=e.result;try{n.createObjectStore(Gi,{keyPath:b0})}catch(s){r(s)}}),e.addEventListener("success",async()=>{const n=e.result;n.objectStoreNames.contains(Gi)?t(n):(n.close(),await Ik(),t(await kc()))})})}async function Af(e,t,r){const n=ko(e,!0).put({[b0]:t,value:r});return new ba(n).toPromise()}async function Rk(e,t){const r=ko(e,!1).get(t),n=await new ba(r).toPromise();return n===void 0?null:n.value}function Of(e,t){const r=ko(e,!0).delete(t);return new ba(r).toPromise()}const Tk=800,Pk=3;class N0{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await kc(),this.db)}async _withRetries(t){let r=0;for(;;)try{const n=await this._openDb();return await t(n)}catch(n){if(r++>Pk)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return w0()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=wo._getInstance(_k()),this.receiver._subscribe("keyChanged",async(t,r)=>({keyProcessed:(await this._poll()).includes(r.key)})),this.receiver._subscribe("ping",async(t,r)=>["keyChanged"])}async initializeSender(){var t,r;if(this.activeServiceWorker=await Sk(),!this.activeServiceWorker)return;this.sender=new Nk(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&!((t=n[0])===null||t===void 0)&&t.fulfilled&&!((r=n[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||Ek()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await kc();return await Af(t,Ki,"1"),await Of(t,Ki),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,r){return this._withPendingWrite(async()=>(await this._withRetries(n=>Af(n,t,r)),this.localCache[t]=r,this.notifyServiceWorker(t)))}async _get(t){const r=await this._withRetries(n=>Rk(n,t));return this.localCache[t]=r,r}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(r=>Of(r,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(s=>{const a=ko(s,!1).getAll();return new ba(a).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const r=[],n=new Set;for(const{fbase_key:s,value:a}of t)n.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(a)&&(this.notifyListeners(s,a),r.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!n.has(s)&&(this.notifyListeners(s,null),r.push(s));return r}notifyListeners(t,r){this.localCache[t]=r;const n=this.listeners[t];if(n)for(const s of Array.from(n))s(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Tk)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}N0.type="LOCAL";const Ak=N0;new ya(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ok(e,t){return t?Gt(t):(q(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mu extends Ou{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Un(t,this._buildIdpRequest())}_linkToIdToken(t,r){return Un(t,this._buildIdpRequest(r))}_getReauthenticationResolver(t){return Un(t,this._buildIdpRequest())}_buildIdpRequest(t){const r={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(r.idToken=t),r}}function Dk(e){return m0(e.auth,new Mu(e),e.bypassAuthState)}function Lk(e){const{auth:t,user:r}=e;return q(r,t,"internal-error"),dk(r,new Mu(e),e.bypassAuthState)}async function Mk(e){const{auth:t,user:r}=e;return q(r,t,"internal-error"),uk(r,new Mu(e),e.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j0{constructor(t,r,n,s,a=!1){this.auth=t,this.resolver=n,this.user=s,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(r)?r:[r]}execute(){return new Promise(async(t,r)=>{this.pendingPromise={resolve:t,reject:r};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}})}async onAuthEvent(t){const{urlResponse:r,sessionId:n,postBody:s,tenantId:a,error:o,type:l}=t;if(o){this.reject(o);return}const c={auth:this.auth,requestUri:r,sessionId:n,tenantId:a||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(c))}catch(u){this.reject(u)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return Dk;case"linkViaPopup":case"linkViaRedirect":return Mk;case"reauthViaPopup":case"reauthViaRedirect":return Lk;default:Ct(this.auth,"internal-error")}}resolve(t){er(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){er(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uk=new ya(2e3,1e4);class In extends j0{constructor(t,r,n,s,a){super(t,r,s,a),this.provider=n,this.authWindow=null,this.pollId=null,In.currentPopupAction&&In.currentPopupAction.cancel(),In.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return q(t,this.auth,"internal-error"),t}async onExecution(){er(this.filter.length===1,"Popup operations only handle one event");const t=Lu();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(r=>{this.reject(r)}),this.resolver._isIframeWebStorageSupported(this.auth,r=>{r||this.reject(Ut(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(Ut(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,In.currentPopupAction=null}pollUserCancellation(){const t=()=>{var r,n;if(!((n=(r=this.authWindow)===null||r===void 0?void 0:r.window)===null||n===void 0)&&n.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ut(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,Uk.get())};t()}}In.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zk="pendingRedirect",ci=new Map;class Fk extends j0{constructor(t,r,n=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,n),this.eventId=null}async execute(){let t=ci.get(this.auth._key());if(!t){try{const n=await $k(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(n)}catch(r){t=()=>Promise.reject(r)}ci.set(this.auth._key(),t)}return this.bypassAuthState||ci.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const r=await this.auth._redirectUserForId(t.eventId);if(r)return this.user=r,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function $k(e,t){const r=Vk(t),n=Hk(e);if(!await n._isAvailable())return!1;const s=await n._get(r)==="true";return await n._remove(r),s}function Bk(e,t){ci.set(e._key(),t)}function Hk(e){return Gt(e._redirectPersistence)}function Vk(e){return li(zk,e.config.apiKey,e.name)}async function Wk(e,t,r=!1){const n=wa(e),s=Ok(n,t),o=await new Fk(n,s,r).execute();return o&&!r&&(delete o.user._redirectEventId,await n._persistUserIfCurrent(o.user),await n._setRedirectUser(null,t)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qk=10*60*1e3;class Kk{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let r=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(t,n)&&(r=!0,this.sendToConsumer(t,n),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!Gk(t)||(this.hasHandledPotentialRedirect=!0,r||(this.queuedRedirectEvent=t,r=!0)),r}sendToConsumer(t,r){var n;if(t.error&&!S0(t)){const s=((n=t.error.code)===null||n===void 0?void 0:n.split("auth/")[1])||"internal-error";r.onError(Ut(this.auth,s))}else r.onAuthEvent(t)}isEventForConsumer(t,r){const n=r.eventId===null||!!t.eventId&&t.eventId===r.eventId;return r.filter.includes(t.type)&&n}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=qk&&this.cachedEventUids.clear(),this.cachedEventUids.has(Df(t))}saveEventToCache(t){this.cachedEventUids.add(Df(t)),this.lastProcessedEventTime=Date.now()}}function Df(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(t=>t).join("-")}function S0({type:e,error:t}){return e==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function Gk(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return S0(e);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Jk(e,t={}){return ss(e,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qk=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Yk=/^https?/;async function Xk(e){if(e.config.emulator)return;const{authorizedDomains:t}=await Jk(e);for(const r of t)try{if(Zk(r))return}catch{}Ct(e,"unauthorized-domain")}function Zk(e){const t=wc(),{protocol:r,hostname:n}=new URL(t);if(e.startsWith("chrome-extension://")){const o=new URL(e);return o.hostname===""&&n===""?r==="chrome-extension:"&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):r==="chrome-extension:"&&o.hostname===n}if(!Yk.test(r))return!1;if(Qk.test(e))return n===e;const s=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(n)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eb=new ya(3e4,6e4);function Lf(){const e=zt().___jsl;if(e!=null&&e.H){for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let r=0;r<e.CP.length;r++)e.CP[r]=null}}function tb(e){return new Promise((t,r)=>{var n,s,a;function o(){Lf(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Lf(),r(Ut(e,"network-request-failed"))},timeout:eb.get()})}if(!((s=(n=zt().gapi)===null||n===void 0?void 0:n.iframes)===null||s===void 0)&&s.Iframe)t(gapi.iframes.getContext());else if(!((a=zt().gapi)===null||a===void 0)&&a.load)o();else{const l=K1("iframefcb");return zt()[l]=()=>{gapi.load?o():r(Ut(e,"network-request-failed"))},u0(`https://apis.google.com/js/api.js?onload=${l}`).catch(c=>r(c))}}).catch(t=>{throw ui=null,t})}let ui=null;function rb(e){return ui=ui||tb(e),ui}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nb=new ya(5e3,15e3),sb="__/auth/iframe",ab="emulator/auth/iframe",ib={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},ob=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function lb(e){const t=e.config;q(t.authDomain,e,"auth-domain-config-required");const r=t.emulator?Tu(t,ab):`https://${e.config.authDomain}/${sb}`,n={apiKey:t.apiKey,appName:e.name,v:xa},s=ob.get(e.config.apiHost);s&&(n.eid=s);const a=e._getFrameworks();return a.length&&(n.fw=a.join(",")),`${r}?${ga(n).slice(1)}`}async function cb(e){const t=await rb(e),r=zt().gapi;return q(r,e,"internal-error"),t.open({where:document.body,url:lb(e),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ib,dontclear:!0},n=>new Promise(async(s,a)=>{await n.restyle({setHideOnLeave:!1});const o=Ut(e,"network-request-failed"),l=zt().setTimeout(()=>{a(o)},nb.get());function c(){zt().clearTimeout(l),s(n)}n.ping(c).then(c,()=>{a(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ub={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},db=500,fb=600,hb="_blank",pb="http://localhost";class Mf{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function mb(e,t,r,n=db,s=fb){const a=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-n)/2,0).toString();let l="";const c=Object.assign(Object.assign({},ub),{width:n.toString(),height:s.toString(),top:a,left:o}),u=$e().toLowerCase();r&&(l=t0(u)?hb:r),e0(u)&&(t=t||pb,c.scrollbars="yes");const d=Object.entries(c).reduce((f,[w,g])=>`${f}${w}=${g},`,"");if(H1(u)&&l!=="_self")return gb(t||"",l),new Mf(null);const h=window.open(t||"",l,d);q(h,e,"popup-blocked");try{h.focus()}catch{}return new Mf(h)}function gb(e,t){const r=document.createElement("a");r.href=e,r.target=t;const n=document.createEvent("MouseEvent");n.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),r.dispatchEvent(n)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xb="__/auth/handler",yb="emulator/auth/handler",vb=encodeURIComponent("fac");async function Uf(e,t,r,n,s,a){q(e.config.authDomain,e,"auth-domain-config-required"),q(e.config.apiKey,e,"invalid-api-key");const o={apiKey:e.config.apiKey,appName:e.name,authType:r,redirectUrl:n,v:xa,eventId:s};if(t instanceof h0){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",fw(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(const[d,h]of Object.entries({}))o[d]=h}if(t instanceof ka){const d=t.getScopes().filter(h=>h!=="");d.length>0&&(o.scopes=d.join(","))}e.tenantId&&(o.tid=e.tenantId);const l=o;for(const d of Object.keys(l))l[d]===void 0&&delete l[d];const c=await e._getAppCheckToken(),u=c?`#${vb}=${encodeURIComponent(c)}`:"";return`${wb(e)}?${ga(l).slice(1)}${u}`}function wb({config:e}){return e.emulator?Tu(e,yb):`https://${e.authDomain}/${xb}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dl="webStorageSupport";class kb{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=v0,this._completeRedirectFn=Wk,this._overrideRedirectResult=Bk}async _openPopup(t,r,n,s){var a;er((a=this.eventManagers[t._key()])===null||a===void 0?void 0:a.manager,"_initialize() not called before _openPopup()");const o=await Uf(t,r,n,wc(),s);return mb(t,o,Lu())}async _openRedirect(t,r,n,s){await this._originValidation(t);const a=await Uf(t,r,n,wc(),s);return jk(a),new Promise(()=>{})}_initialize(t){const r=t._key();if(this.eventManagers[r]){const{manager:s,promise:a}=this.eventManagers[r];return s?Promise.resolve(s):(er(a,"If manager is not set, promise should be"),a)}const n=this.initAndGetManager(t);return this.eventManagers[r]={promise:n},n.catch(()=>{delete this.eventManagers[r]}),n}async initAndGetManager(t){const r=await cb(t),n=new Kk(t);return r.register("authEvent",s=>(q(s==null?void 0:s.authEvent,t,"invalid-auth-event"),{status:n.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:n},this.iframes[t._key()]=r,n}_isIframeWebStorageSupported(t,r){this.iframes[t._key()].send(dl,{type:dl},s=>{var a;const o=(a=s==null?void 0:s[0])===null||a===void 0?void 0:a[dl];o!==void 0&&r(!!o),Ct(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const r=t._key();return this.originValidationPromises[r]||(this.originValidationPromises[r]=Xk(t)),this.originValidationPromises[r]}get _shouldInitProactively(){return i0()||Au()||vo()}}const bb=kb;var zf="@firebase/auth",Ff="0.23.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nb{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const r=this.auth.onIdTokenChanged(n=>{t((n==null?void 0:n.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,r),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const r=this.internalListeners.get(t);r&&(this.internalListeners.delete(t),r(),this.updateProactiveRefresh())}assertAuthConfigured(){q(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jb(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function Sb(e){ta(new Kn("auth",(t,{options:r})=>{const n=t.getProvider("app").getImmediate(),s=t.getProvider("heartbeat"),a=t.getProvider("app-check-internal"),{apiKey:o,authDomain:l}=n.options;q(o&&!o.includes(":"),"invalid-api-key",{appName:n.name});const c={apiKey:o,authDomain:l,clientPlatform:e,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:o0(e)},u=new X1(n,s,a,c);return ek(u,r),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,r,n)=>{t.getProvider("auth-internal").initialize()})),ta(new Kn("auth-internal",t=>{const r=wa(t.getProvider("auth").getImmediate());return(n=>new Nb(n))(r)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ln(zf,Ff,jb(e)),Ln(zf,Ff,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eb=5*60,_b=zm("authIdTokenMaxAge")||Eb;let $f=null;const Cb=e=>async t=>{const r=t&&await t.getIdTokenResult(),n=r&&(new Date().getTime()-Date.parse(r.issuedAtTime))/1e3;if(n&&n>_b)return;const s=r==null?void 0:r.token;$f!==s&&($f=s,await fetch(e,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function bc(e=f1()){const t=Hm(e,"auth");if(t.isInitialized())return t.getImmediate();const r=Z1(e,{popupRedirectResolver:bb,persistence:[Ak,kk,v0]}),n=zm("authTokenSyncURL");if(n){const a=Cb(n);mk(r,a,()=>a(r.currentUser)),pk(r,o=>a(o))}const s=tw("auth");return s&&tk(r,`http://${s}`),r}Sb("Browser");let Bf=null,Ji=null;function Ib(){const t={apiKey:"AIzaSyBQOcdmwbBh4tI9-3j5_OudffV8Df5p4XI",authDomain:"starlink-suscription.firebaseapp.com",projectId:"starlink-suscription",appId:"1:1051339110973:web:0fe624ae8a2c90744bc854"};try{Bf=Vm(t),Ji=bc(Bf)}catch{try{Ji=bc()}catch{}}}function di(){try{return Ji||bc()}catch{return null}}function E0(e,t){return function(){return e.apply(t,arguments)}}const{toString:Rb}=Object.prototype,{getPrototypeOf:Uu}=Object,{iterator:bo,toStringTag:_0}=Symbol,No=(e=>t=>{const r=Rb.call(t);return e[r]||(e[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),It=e=>(e=e.toLowerCase(),t=>No(t)===e),jo=e=>t=>typeof t===e,{isArray:is}=Array,Jn=jo("undefined");function Na(e){return e!==null&&!Jn(e)&&e.constructor!==null&&!Jn(e.constructor)&&et(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const C0=It("ArrayBuffer");function Tb(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&C0(e.buffer),t}const Pb=jo("string"),et=jo("function"),I0=jo("number"),ja=e=>e!==null&&typeof e=="object",Ab=e=>e===!0||e===!1,fi=e=>{if(No(e)!=="object")return!1;const t=Uu(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(_0 in e)&&!(bo in e)},Ob=e=>{if(!ja(e)||Na(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},Db=It("Date"),Lb=It("File"),Mb=It("Blob"),Ub=It("FileList"),zb=e=>ja(e)&&et(e.pipe),Fb=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||et(e.append)&&((t=No(e))==="formdata"||t==="object"&&et(e.toString)&&e.toString()==="[object FormData]"))},$b=It("URLSearchParams"),[Bb,Hb,Vb,Wb]=["ReadableStream","Request","Response","Headers"].map(It),qb=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Sa(e,t,{allOwnKeys:r=!1}={}){if(e===null||typeof e>"u")return;let n,s;if(typeof e!="object"&&(e=[e]),is(e))for(n=0,s=e.length;n<s;n++)t.call(null,e[n],n,e);else{if(Na(e))return;const a=r?Object.getOwnPropertyNames(e):Object.keys(e),o=a.length;let l;for(n=0;n<o;n++)l=a[n],t.call(null,e[l],l,e)}}function R0(e,t){if(Na(e))return null;t=t.toLowerCase();const r=Object.keys(e);let n=r.length,s;for(;n-- >0;)if(s=r[n],t===s.toLowerCase())return s;return null}const Kr=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,T0=e=>!Jn(e)&&e!==Kr;function Nc(){const{caseless:e,skipUndefined:t}=T0(this)&&this||{},r={},n=(s,a)=>{if(a==="__proto__"||a==="constructor"||a==="prototype")return;const o=e&&R0(r,a)||a;fi(r[o])&&fi(s)?r[o]=Nc(r[o],s):fi(s)?r[o]=Nc({},s):is(s)?r[o]=s.slice():(!t||!Jn(s))&&(r[o]=s)};for(let s=0,a=arguments.length;s<a;s++)arguments[s]&&Sa(arguments[s],n);return r}const Kb=(e,t,r,{allOwnKeys:n}={})=>(Sa(t,(s,a)=>{r&&et(s)?Object.defineProperty(e,a,{value:E0(s,r),writable:!0,enumerable:!0,configurable:!0}):Object.defineProperty(e,a,{value:s,writable:!0,enumerable:!0,configurable:!0})},{allOwnKeys:n}),e),Gb=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),Jb=(e,t,r,n)=>{e.prototype=Object.create(t.prototype,n),Object.defineProperty(e.prototype,"constructor",{value:e,writable:!0,enumerable:!1,configurable:!0}),Object.defineProperty(e,"super",{value:t.prototype}),r&&Object.assign(e.prototype,r)},Qb=(e,t,r,n)=>{let s,a,o;const l={};if(t=t||{},e==null)return t;do{for(s=Object.getOwnPropertyNames(e),a=s.length;a-- >0;)o=s[a],(!n||n(o,e,t))&&!l[o]&&(t[o]=e[o],l[o]=!0);e=r!==!1&&Uu(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t},Yb=(e,t,r)=>{e=String(e),(r===void 0||r>e.length)&&(r=e.length),r-=t.length;const n=e.indexOf(t,r);return n!==-1&&n===r},Xb=e=>{if(!e)return null;if(is(e))return e;let t=e.length;if(!I0(t))return null;const r=new Array(t);for(;t-- >0;)r[t]=e[t];return r},Zb=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&Uu(Uint8Array)),eN=(e,t)=>{const n=(e&&e[bo]).call(e);let s;for(;(s=n.next())&&!s.done;){const a=s.value;t.call(e,a[0],a[1])}},tN=(e,t)=>{let r;const n=[];for(;(r=e.exec(t))!==null;)n.push(r);return n},rN=It("HTMLFormElement"),nN=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,n,s){return n.toUpperCase()+s}),Hf=(({hasOwnProperty:e})=>(t,r)=>e.call(t,r))(Object.prototype),sN=It("RegExp"),P0=(e,t)=>{const r=Object.getOwnPropertyDescriptors(e),n={};Sa(r,(s,a)=>{let o;(o=t(s,a,e))!==!1&&(n[a]=o||s)}),Object.defineProperties(e,n)},aN=e=>{P0(e,(t,r)=>{if(et(e)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const n=e[r];if(et(n)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},iN=(e,t)=>{const r={},n=s=>{s.forEach(a=>{r[a]=!0})};return is(e)?n(e):n(String(e).split(t)),r},oN=()=>{},lN=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function cN(e){return!!(e&&et(e.append)&&e[_0]==="FormData"&&e[bo])}const uN=e=>{const t=new Array(10),r=(n,s)=>{if(ja(n)){if(t.indexOf(n)>=0)return;if(Na(n))return n;if(!("toJSON"in n)){t[s]=n;const a=is(n)?[]:{};return Sa(n,(o,l)=>{const c=r(o,s+1);!Jn(c)&&(a[l]=c)}),t[s]=void 0,a}}return n};return r(e,0)},dN=It("AsyncFunction"),fN=e=>e&&(ja(e)||et(e))&&et(e.then)&&et(e.catch),A0=((e,t)=>e?setImmediate:t?((r,n)=>(Kr.addEventListener("message",({source:s,data:a})=>{s===Kr&&a===r&&n.length&&n.shift()()},!1),s=>{n.push(s),Kr.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",et(Kr.postMessage)),hN=typeof queueMicrotask<"u"?queueMicrotask.bind(Kr):typeof process<"u"&&process.nextTick||A0,pN=e=>e!=null&&et(e[bo]),S={isArray:is,isArrayBuffer:C0,isBuffer:Na,isFormData:Fb,isArrayBufferView:Tb,isString:Pb,isNumber:I0,isBoolean:Ab,isObject:ja,isPlainObject:fi,isEmptyObject:Ob,isReadableStream:Bb,isRequest:Hb,isResponse:Vb,isHeaders:Wb,isUndefined:Jn,isDate:Db,isFile:Lb,isBlob:Mb,isRegExp:sN,isFunction:et,isStream:zb,isURLSearchParams:$b,isTypedArray:Zb,isFileList:Ub,forEach:Sa,merge:Nc,extend:Kb,trim:qb,stripBOM:Gb,inherits:Jb,toFlatObject:Qb,kindOf:No,kindOfTest:It,endsWith:Yb,toArray:Xb,forEachEntry:eN,matchAll:tN,isHTMLForm:rN,hasOwnProperty:Hf,hasOwnProp:Hf,reduceDescriptors:P0,freezeMethods:aN,toObjectSet:iN,toCamelCase:nN,noop:oN,toFiniteNumber:lN,findKey:R0,global:Kr,isContextDefined:T0,isSpecCompliantForm:cN,toJSONObject:uN,isAsyncFn:dN,isThenable:fN,setImmediate:A0,asap:hN,isIterable:pN};let W=class O0 extends Error{static from(t,r,n,s,a,o){const l=new O0(t.message,r||t.code,n,s,a);return l.cause=t,l.name=t.name,o&&Object.assign(l,o),l}constructor(t,r,n,s,a){super(t),this.name="AxiosError",this.isAxiosError=!0,r&&(this.code=r),n&&(this.config=n),s&&(this.request=s),a&&(this.response=a,this.status=a.status)}toJSON(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:S.toJSONObject(this.config),code:this.code,status:this.status}}};W.ERR_BAD_OPTION_VALUE="ERR_BAD_OPTION_VALUE";W.ERR_BAD_OPTION="ERR_BAD_OPTION";W.ECONNABORTED="ECONNABORTED";W.ETIMEDOUT="ETIMEDOUT";W.ERR_NETWORK="ERR_NETWORK";W.ERR_FR_TOO_MANY_REDIRECTS="ERR_FR_TOO_MANY_REDIRECTS";W.ERR_DEPRECATED="ERR_DEPRECATED";W.ERR_BAD_RESPONSE="ERR_BAD_RESPONSE";W.ERR_BAD_REQUEST="ERR_BAD_REQUEST";W.ERR_CANCELED="ERR_CANCELED";W.ERR_NOT_SUPPORT="ERR_NOT_SUPPORT";W.ERR_INVALID_URL="ERR_INVALID_URL";const mN=null;function jc(e){return S.isPlainObject(e)||S.isArray(e)}function D0(e){return S.endsWith(e,"[]")?e.slice(0,-2):e}function Vf(e,t,r){return e?e.concat(t).map(function(s,a){return s=D0(s),!r&&a?"["+s+"]":s}).join(r?".":""):t}function gN(e){return S.isArray(e)&&!e.some(jc)}const xN=S.toFlatObject(S,{},null,function(t){return/^is[A-Z]/.test(t)});function So(e,t,r){if(!S.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,r=S.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(y,k){return!S.isUndefined(k[y])});const n=r.metaTokens,s=r.visitor||d,a=r.dots,o=r.indexes,c=(r.Blob||typeof Blob<"u"&&Blob)&&S.isSpecCompliantForm(t);if(!S.isFunction(s))throw new TypeError("visitor must be a function");function u(g){if(g===null)return"";if(S.isDate(g))return g.toISOString();if(S.isBoolean(g))return g.toString();if(!c&&S.isBlob(g))throw new W("Blob is not supported. Use a Buffer instead.");return S.isArrayBuffer(g)||S.isTypedArray(g)?c&&typeof Blob=="function"?new Blob([g]):Buffer.from(g):g}function d(g,y,k){let m=g;if(g&&!k&&typeof g=="object"){if(S.endsWith(y,"{}"))y=n?y:y.slice(0,-2),g=JSON.stringify(g);else if(S.isArray(g)&&gN(g)||(S.isFileList(g)||S.endsWith(y,"[]"))&&(m=S.toArray(g)))return y=D0(y),m.forEach(function(x,N){!(S.isUndefined(x)||x===null)&&t.append(o===!0?Vf([y],N,a):o===null?y:y+"[]",u(x))}),!1}return jc(g)?!0:(t.append(Vf(k,y,a),u(g)),!1)}const h=[],f=Object.assign(xN,{defaultVisitor:d,convertValue:u,isVisitable:jc});function w(g,y){if(!S.isUndefined(g)){if(h.indexOf(g)!==-1)throw Error("Circular reference detected in "+y.join("."));h.push(g),S.forEach(g,function(m,p){(!(S.isUndefined(m)||m===null)&&s.call(t,m,S.isString(p)?p.trim():p,y,f))===!0&&w(m,y?y.concat(p):[p])}),h.pop()}}if(!S.isObject(e))throw new TypeError("data must be an object");return w(e),t}function Wf(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(n){return t[n]})}function zu(e,t){this._pairs=[],e&&So(e,this,t)}const L0=zu.prototype;L0.append=function(t,r){this._pairs.push([t,r])};L0.toString=function(t){const r=t?function(n){return t.call(this,n,Wf)}:Wf;return this._pairs.map(function(s){return r(s[0])+"="+r(s[1])},"").join("&")};function yN(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function M0(e,t,r){if(!t)return e;const n=r&&r.encode||yN,s=S.isFunction(r)?{serialize:r}:r,a=s&&s.serialize;let o;if(a?o=a(t,s):o=S.isURLSearchParams(t)?t.toString():new zu(t,s).toString(n),o){const l=e.indexOf("#");l!==-1&&(e=e.slice(0,l)),e+=(e.indexOf("?")===-1?"?":"&")+o}return e}class qf{constructor(){this.handlers=[]}use(t,r,n){return this.handlers.push({fulfilled:t,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){S.forEach(this.handlers,function(n){n!==null&&t(n)})}}const Fu={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1,legacyInterceptorReqResOrdering:!0},vN=typeof URLSearchParams<"u"?URLSearchParams:zu,wN=typeof FormData<"u"?FormData:null,kN=typeof Blob<"u"?Blob:null,bN={isBrowser:!0,classes:{URLSearchParams:vN,FormData:wN,Blob:kN},protocols:["http","https","file","blob","url","data"]},$u=typeof window<"u"&&typeof document<"u",Sc=typeof navigator=="object"&&navigator||void 0,NN=$u&&(!Sc||["ReactNative","NativeScript","NS"].indexOf(Sc.product)<0),jN=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",SN=$u&&window.location.href||"http://localhost",EN=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:$u,hasStandardBrowserEnv:NN,hasStandardBrowserWebWorkerEnv:jN,navigator:Sc,origin:SN},Symbol.toStringTag,{value:"Module"})),ze={...EN,...bN};function _N(e,t){return So(e,new ze.classes.URLSearchParams,{visitor:function(r,n,s,a){return ze.isNode&&S.isBuffer(r)?(this.append(n,r.toString("base64")),!1):a.defaultVisitor.apply(this,arguments)},...t})}function CN(e){return S.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function IN(e){const t={},r=Object.keys(e);let n;const s=r.length;let a;for(n=0;n<s;n++)a=r[n],t[a]=e[a];return t}function U0(e){function t(r,n,s,a){let o=r[a++];if(o==="__proto__")return!0;const l=Number.isFinite(+o),c=a>=r.length;return o=!o&&S.isArray(s)?s.length:o,c?(S.hasOwnProp(s,o)?s[o]=[s[o],n]:s[o]=n,!l):((!s[o]||!S.isObject(s[o]))&&(s[o]=[]),t(r,n,s[o],a)&&S.isArray(s[o])&&(s[o]=IN(s[o])),!l)}if(S.isFormData(e)&&S.isFunction(e.entries)){const r={};return S.forEachEntry(e,(n,s)=>{t(CN(n),s,r,0)}),r}return null}function RN(e,t,r){if(S.isString(e))try{return(t||JSON.parse)(e),S.trim(e)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(e)}const Ea={transitional:Fu,adapter:["xhr","http","fetch"],transformRequest:[function(t,r){const n=r.getContentType()||"",s=n.indexOf("application/json")>-1,a=S.isObject(t);if(a&&S.isHTMLForm(t)&&(t=new FormData(t)),S.isFormData(t))return s?JSON.stringify(U0(t)):t;if(S.isArrayBuffer(t)||S.isBuffer(t)||S.isStream(t)||S.isFile(t)||S.isBlob(t)||S.isReadableStream(t))return t;if(S.isArrayBufferView(t))return t.buffer;if(S.isURLSearchParams(t))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let l;if(a){if(n.indexOf("application/x-www-form-urlencoded")>-1)return _N(t,this.formSerializer).toString();if((l=S.isFileList(t))||n.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return So(l?{"files[]":t}:t,c&&new c,this.formSerializer)}}return a||s?(r.setContentType("application/json",!1),RN(t)):t}],transformResponse:[function(t){const r=this.transitional||Ea.transitional,n=r&&r.forcedJSONParsing,s=this.responseType==="json";if(S.isResponse(t)||S.isReadableStream(t))return t;if(t&&S.isString(t)&&(n&&!this.responseType||s)){const o=!(r&&r.silentJSONParsing)&&s;try{return JSON.parse(t,this.parseReviver)}catch(l){if(o)throw l.name==="SyntaxError"?W.from(l,W.ERR_BAD_RESPONSE,this,null,this.response):l}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:ze.classes.FormData,Blob:ze.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};S.forEach(["delete","get","head","post","put","patch"],e=>{Ea.headers[e]={}});const TN=S.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),PN=e=>{const t={};let r,n,s;return e&&e.split(`
`).forEach(function(o){s=o.indexOf(":"),r=o.substring(0,s).trim().toLowerCase(),n=o.substring(s+1).trim(),!(!r||t[r]&&TN[r])&&(r==="set-cookie"?t[r]?t[r].push(n):t[r]=[n]:t[r]=t[r]?t[r]+", "+n:n)}),t},Kf=Symbol("internals");function ms(e){return e&&String(e).trim().toLowerCase()}function hi(e){return e===!1||e==null?e:S.isArray(e)?e.map(hi):String(e)}function AN(e){const t=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(e);)t[n[1]]=n[2];return t}const ON=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function fl(e,t,r,n,s){if(S.isFunction(n))return n.call(this,t,r);if(s&&(t=r),!!S.isString(t)){if(S.isString(n))return t.indexOf(n)!==-1;if(S.isRegExp(n))return n.test(t)}}function DN(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,r,n)=>r.toUpperCase()+n)}function LN(e,t){const r=S.toCamelCase(" "+t);["get","set","has"].forEach(n=>{Object.defineProperty(e,n+r,{value:function(s,a,o){return this[n].call(this,t,s,a,o)},configurable:!0})})}let tt=class{constructor(t){t&&this.set(t)}set(t,r,n){const s=this;function a(l,c,u){const d=ms(c);if(!d)throw new Error("header name must be a non-empty string");const h=S.findKey(s,d);(!h||s[h]===void 0||u===!0||u===void 0&&s[h]!==!1)&&(s[h||c]=hi(l))}const o=(l,c)=>S.forEach(l,(u,d)=>a(u,d,c));if(S.isPlainObject(t)||t instanceof this.constructor)o(t,r);else if(S.isString(t)&&(t=t.trim())&&!ON(t))o(PN(t),r);else if(S.isObject(t)&&S.isIterable(t)){let l={},c,u;for(const d of t){if(!S.isArray(d))throw TypeError("Object iterator must return a key-value pair");l[u=d[0]]=(c=l[u])?S.isArray(c)?[...c,d[1]]:[c,d[1]]:d[1]}o(l,r)}else t!=null&&a(r,t,n);return this}get(t,r){if(t=ms(t),t){const n=S.findKey(this,t);if(n){const s=this[n];if(!r)return s;if(r===!0)return AN(s);if(S.isFunction(r))return r.call(this,s,n);if(S.isRegExp(r))return r.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,r){if(t=ms(t),t){const n=S.findKey(this,t);return!!(n&&this[n]!==void 0&&(!r||fl(this,this[n],n,r)))}return!1}delete(t,r){const n=this;let s=!1;function a(o){if(o=ms(o),o){const l=S.findKey(n,o);l&&(!r||fl(n,n[l],l,r))&&(delete n[l],s=!0)}}return S.isArray(t)?t.forEach(a):a(t),s}clear(t){const r=Object.keys(this);let n=r.length,s=!1;for(;n--;){const a=r[n];(!t||fl(this,this[a],a,t,!0))&&(delete this[a],s=!0)}return s}normalize(t){const r=this,n={};return S.forEach(this,(s,a)=>{const o=S.findKey(n,a);if(o){r[o]=hi(s),delete r[a];return}const l=t?DN(a):String(a).trim();l!==a&&delete r[a],r[l]=hi(s),n[l]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const r=Object.create(null);return S.forEach(this,(n,s)=>{n!=null&&n!==!1&&(r[s]=t&&S.isArray(n)?n.join(", "):n)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,r])=>t+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...r){const n=new this(t);return r.forEach(s=>n.set(s)),n}static accessor(t){const n=(this[Kf]=this[Kf]={accessors:{}}).accessors,s=this.prototype;function a(o){const l=ms(o);n[l]||(LN(s,o),n[l]=!0)}return S.isArray(t)?t.forEach(a):a(t),this}};tt.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);S.reduceDescriptors(tt.prototype,({value:e},t)=>{let r=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(n){this[r]=n}}});S.freezeMethods(tt);function hl(e,t){const r=this||Ea,n=t||r,s=tt.from(n.headers);let a=n.data;return S.forEach(e,function(l){a=l.call(r,a,s.normalize(),t?t.status:void 0)}),s.normalize(),a}function z0(e){return!!(e&&e.__CANCEL__)}let _a=class extends W{constructor(t,r,n){super(t??"canceled",W.ERR_CANCELED,r,n),this.name="CanceledError",this.__CANCEL__=!0}};function F0(e,t,r){const n=r.config.validateStatus;!r.status||!n||n(r.status)?e(r):t(new W("Request failed with status code "+r.status,[W.ERR_BAD_REQUEST,W.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function MN(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function UN(e,t){e=e||10;const r=new Array(e),n=new Array(e);let s=0,a=0,o;return t=t!==void 0?t:1e3,function(c){const u=Date.now(),d=n[a];o||(o=u),r[s]=c,n[s]=u;let h=a,f=0;for(;h!==s;)f+=r[h++],h=h%e;if(s=(s+1)%e,s===a&&(a=(a+1)%e),u-o<t)return;const w=d&&u-d;return w?Math.round(f*1e3/w):void 0}}function zN(e,t){let r=0,n=1e3/t,s,a;const o=(u,d=Date.now())=>{r=d,s=null,a&&(clearTimeout(a),a=null),e(...u)};return[(...u)=>{const d=Date.now(),h=d-r;h>=n?o(u,d):(s=u,a||(a=setTimeout(()=>{a=null,o(s)},n-h)))},()=>s&&o(s)]}const Qi=(e,t,r=3)=>{let n=0;const s=UN(50,250);return zN(a=>{const o=a.loaded,l=a.lengthComputable?a.total:void 0,c=o-n,u=s(c),d=o<=l;n=o;const h={loaded:o,total:l,progress:l?o/l:void 0,bytes:c,rate:u||void 0,estimated:u&&l&&d?(l-o)/u:void 0,event:a,lengthComputable:l!=null,[t?"download":"upload"]:!0};e(h)},r)},Gf=(e,t)=>{const r=e!=null;return[n=>t[0]({lengthComputable:r,total:e,loaded:n}),t[1]]},Jf=e=>(...t)=>S.asap(()=>e(...t)),FN=ze.hasStandardBrowserEnv?((e,t)=>r=>(r=new URL(r,ze.origin),e.protocol===r.protocol&&e.host===r.host&&(t||e.port===r.port)))(new URL(ze.origin),ze.navigator&&/(msie|trident)/i.test(ze.navigator.userAgent)):()=>!0,$N=ze.hasStandardBrowserEnv?{write(e,t,r,n,s,a,o){if(typeof document>"u")return;const l=[`${e}=${encodeURIComponent(t)}`];S.isNumber(r)&&l.push(`expires=${new Date(r).toUTCString()}`),S.isString(n)&&l.push(`path=${n}`),S.isString(s)&&l.push(`domain=${s}`),a===!0&&l.push("secure"),S.isString(o)&&l.push(`SameSite=${o}`),document.cookie=l.join("; ")},read(e){if(typeof document>"u")return null;const t=document.cookie.match(new RegExp("(?:^|; )"+e+"=([^;]*)"));return t?decodeURIComponent(t[1]):null},remove(e){this.write(e,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function BN(e){return typeof e!="string"?!1:/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function HN(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function $0(e,t,r){let n=!BN(t);return e&&(n||r==!1)?HN(e,t):t}const Qf=e=>e instanceof tt?{...e}:e;function ln(e,t){t=t||{};const r={};function n(u,d,h,f){return S.isPlainObject(u)&&S.isPlainObject(d)?S.merge.call({caseless:f},u,d):S.isPlainObject(d)?S.merge({},d):S.isArray(d)?d.slice():d}function s(u,d,h,f){if(S.isUndefined(d)){if(!S.isUndefined(u))return n(void 0,u,h,f)}else return n(u,d,h,f)}function a(u,d){if(!S.isUndefined(d))return n(void 0,d)}function o(u,d){if(S.isUndefined(d)){if(!S.isUndefined(u))return n(void 0,u)}else return n(void 0,d)}function l(u,d,h){if(h in t)return n(u,d);if(h in e)return n(void 0,u)}const c={url:a,method:a,data:a,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:l,headers:(u,d,h)=>s(Qf(u),Qf(d),h,!0)};return S.forEach(Object.keys({...e,...t}),function(d){if(d==="__proto__"||d==="constructor"||d==="prototype")return;const h=S.hasOwnProp(c,d)?c[d]:s,f=h(e[d],t[d],d);S.isUndefined(f)&&h!==l||(r[d]=f)}),r}const B0=e=>{const t=ln({},e);let{data:r,withXSRFToken:n,xsrfHeaderName:s,xsrfCookieName:a,headers:o,auth:l}=t;if(t.headers=o=tt.from(o),t.url=M0($0(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),l&&o.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):""))),S.isFormData(r)){if(ze.hasStandardBrowserEnv||ze.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if(S.isFunction(r.getHeaders)){const c=r.getHeaders(),u=["content-type","content-length"];Object.entries(c).forEach(([d,h])=>{u.includes(d.toLowerCase())&&o.set(d,h)})}}if(ze.hasStandardBrowserEnv&&(n&&S.isFunction(n)&&(n=n(t)),n||n!==!1&&FN(t.url))){const c=s&&a&&$N.read(a);c&&o.set(s,c)}return t},VN=typeof XMLHttpRequest<"u",WN=VN&&function(e){return new Promise(function(r,n){const s=B0(e);let a=s.data;const o=tt.from(s.headers).normalize();let{responseType:l,onUploadProgress:c,onDownloadProgress:u}=s,d,h,f,w,g;function y(){w&&w(),g&&g(),s.cancelToken&&s.cancelToken.unsubscribe(d),s.signal&&s.signal.removeEventListener("abort",d)}let k=new XMLHttpRequest;k.open(s.method.toUpperCase(),s.url,!0),k.timeout=s.timeout;function m(){if(!k)return;const x=tt.from("getAllResponseHeaders"in k&&k.getAllResponseHeaders()),E={data:!l||l==="text"||l==="json"?k.responseText:k.response,status:k.status,statusText:k.statusText,headers:x,config:e,request:k};F0(function(j){r(j),y()},function(j){n(j),y()},E),k=null}"onloadend"in k?k.onloadend=m:k.onreadystatechange=function(){!k||k.readyState!==4||k.status===0&&!(k.responseURL&&k.responseURL.indexOf("file:")===0)||setTimeout(m)},k.onabort=function(){k&&(n(new W("Request aborted",W.ECONNABORTED,e,k)),k=null)},k.onerror=function(N){const E=N&&N.message?N.message:"Network Error",b=new W(E,W.ERR_NETWORK,e,k);b.event=N||null,n(b),k=null},k.ontimeout=function(){let N=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const E=s.transitional||Fu;s.timeoutErrorMessage&&(N=s.timeoutErrorMessage),n(new W(N,E.clarifyTimeoutError?W.ETIMEDOUT:W.ECONNABORTED,e,k)),k=null},a===void 0&&o.setContentType(null),"setRequestHeader"in k&&S.forEach(o.toJSON(),function(N,E){k.setRequestHeader(E,N)}),S.isUndefined(s.withCredentials)||(k.withCredentials=!!s.withCredentials),l&&l!=="json"&&(k.responseType=s.responseType),u&&([f,g]=Qi(u,!0),k.addEventListener("progress",f)),c&&k.upload&&([h,w]=Qi(c),k.upload.addEventListener("progress",h),k.upload.addEventListener("loadend",w)),(s.cancelToken||s.signal)&&(d=x=>{k&&(n(!x||x.type?new _a(null,e,k):x),k.abort(),k=null)},s.cancelToken&&s.cancelToken.subscribe(d),s.signal&&(s.signal.aborted?d():s.signal.addEventListener("abort",d)));const p=MN(s.url);if(p&&ze.protocols.indexOf(p)===-1){n(new W("Unsupported protocol "+p+":",W.ERR_BAD_REQUEST,e));return}k.send(a||null)})},qN=(e,t)=>{const{length:r}=e=e?e.filter(Boolean):[];if(t||r){let n=new AbortController,s;const a=function(u){if(!s){s=!0,l();const d=u instanceof Error?u:this.reason;n.abort(d instanceof W?d:new _a(d instanceof Error?d.message:d))}};let o=t&&setTimeout(()=>{o=null,a(new W(`timeout of ${t}ms exceeded`,W.ETIMEDOUT))},t);const l=()=>{e&&(o&&clearTimeout(o),o=null,e.forEach(u=>{u.unsubscribe?u.unsubscribe(a):u.removeEventListener("abort",a)}),e=null)};e.forEach(u=>u.addEventListener("abort",a));const{signal:c}=n;return c.unsubscribe=()=>S.asap(l),c}},KN=function*(e,t){let r=e.byteLength;if(r<t){yield e;return}let n=0,s;for(;n<r;)s=n+t,yield e.slice(n,s),n=s},GN=async function*(e,t){for await(const r of JN(e))yield*KN(r,t)},JN=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:r,value:n}=await t.read();if(r)break;yield n}}finally{await t.cancel()}},Yf=(e,t,r,n)=>{const s=GN(e,t);let a=0,o,l=c=>{o||(o=!0,n&&n(c))};return new ReadableStream({async pull(c){try{const{done:u,value:d}=await s.next();if(u){l(),c.close();return}let h=d.byteLength;if(r){let f=a+=h;r(f)}c.enqueue(new Uint8Array(d))}catch(u){throw l(u),u}},cancel(c){return l(c),s.return()}},{highWaterMark:2})},Xf=64*1024,{isFunction:Ga}=S,QN=(({Request:e,Response:t})=>({Request:e,Response:t}))(S.global),{ReadableStream:Zf,TextEncoder:eh}=S.global,th=(e,...t)=>{try{return!!e(...t)}catch{return!1}},YN=e=>{e=S.merge.call({skipUndefined:!0},QN,e);const{fetch:t,Request:r,Response:n}=e,s=t?Ga(t):typeof fetch=="function",a=Ga(r),o=Ga(n);if(!s)return!1;const l=s&&Ga(Zf),c=s&&(typeof eh=="function"?(g=>y=>g.encode(y))(new eh):async g=>new Uint8Array(await new r(g).arrayBuffer())),u=a&&l&&th(()=>{let g=!1;const y=new r(ze.origin,{body:new Zf,method:"POST",get duplex(){return g=!0,"half"}}).headers.has("Content-Type");return g&&!y}),d=o&&l&&th(()=>S.isReadableStream(new n("").body)),h={stream:d&&(g=>g.body)};s&&["text","arrayBuffer","blob","formData","stream"].forEach(g=>{!h[g]&&(h[g]=(y,k)=>{let m=y&&y[g];if(m)return m.call(y);throw new W(`Response type '${g}' is not supported`,W.ERR_NOT_SUPPORT,k)})});const f=async g=>{if(g==null)return 0;if(S.isBlob(g))return g.size;if(S.isSpecCompliantForm(g))return(await new r(ze.origin,{method:"POST",body:g}).arrayBuffer()).byteLength;if(S.isArrayBufferView(g)||S.isArrayBuffer(g))return g.byteLength;if(S.isURLSearchParams(g)&&(g=g+""),S.isString(g))return(await c(g)).byteLength},w=async(g,y)=>{const k=S.toFiniteNumber(g.getContentLength());return k??f(y)};return async g=>{let{url:y,method:k,data:m,signal:p,cancelToken:x,timeout:N,onDownloadProgress:E,onUploadProgress:b,responseType:j,headers:I,withCredentials:A="same-origin",fetchOptions:L}=B0(g),K=t||fetch;j=j?(j+"").toLowerCase():"text";let Q=qN([p,x&&x.toAbortSignal()],N),Y=null;const P=Q&&Q.unsubscribe&&(()=>{Q.unsubscribe()});let H;try{if(b&&u&&k!=="get"&&k!=="head"&&(H=await w(I,m))!==0){let M=new r(y,{method:"POST",body:m,duplex:"half"}),V;if(S.isFormData(m)&&(V=M.headers.get("content-type"))&&I.setContentType(V),M.body){const[ye,te]=Gf(H,Qi(Jf(b)));m=Yf(M.body,Xf,ye,te)}}S.isString(A)||(A=A?"include":"omit");const z=a&&"credentials"in r.prototype,J={...L,signal:Q,method:k.toUpperCase(),headers:I.normalize().toJSON(),body:m,duplex:"half",credentials:z?A:void 0};Y=a&&new r(y,J);let _=await(a?K(Y,L):K(y,J));const D=d&&(j==="stream"||j==="response");if(d&&(E||D&&P)){const M={};["status","statusText","headers"].forEach(Be=>{M[Be]=_[Be]});const V=S.toFiniteNumber(_.headers.get("content-length")),[ye,te]=E&&Gf(V,Qi(Jf(E),!0))||[];_=new n(Yf(_.body,Xf,ye,()=>{te&&te(),P&&P()}),M)}j=j||"text";let O=await h[S.findKey(h,j)||"text"](_,g);return!D&&P&&P(),await new Promise((M,V)=>{F0(M,V,{data:O,headers:tt.from(_.headers),status:_.status,statusText:_.statusText,config:g,request:Y})})}catch(z){throw P&&P(),z&&z.name==="TypeError"&&/Load failed|fetch/i.test(z.message)?Object.assign(new W("Network Error",W.ERR_NETWORK,g,Y,z&&z.response),{cause:z.cause||z}):W.from(z,z&&z.code,g,Y,z&&z.response)}}},XN=new Map,H0=e=>{let t=e&&e.env||{};const{fetch:r,Request:n,Response:s}=t,a=[n,s,r];let o=a.length,l=o,c,u,d=XN;for(;l--;)c=a[l],u=d.get(c),u===void 0&&d.set(c,u=l?new Map:YN(t)),d=u;return u};H0();const Bu={http:mN,xhr:WN,fetch:{get:H0}};S.forEach(Bu,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const rh=e=>`- ${e}`,ZN=e=>S.isFunction(e)||e===null||e===!1;function ej(e,t){e=S.isArray(e)?e:[e];const{length:r}=e;let n,s;const a={};for(let o=0;o<r;o++){n=e[o];let l;if(s=n,!ZN(n)&&(s=Bu[(l=String(n)).toLowerCase()],s===void 0))throw new W(`Unknown adapter '${l}'`);if(s&&(S.isFunction(s)||(s=s.get(t))))break;a[l||"#"+o]=s}if(!s){const o=Object.entries(a).map(([c,u])=>`adapter ${c} `+(u===!1?"is not supported by the environment":"is not available in the build"));let l=r?o.length>1?`since :
`+o.map(rh).join(`
`):" "+rh(o[0]):"as no adapter specified";throw new W("There is no suitable adapter to dispatch the request "+l,"ERR_NOT_SUPPORT")}return s}const V0={getAdapter:ej,adapters:Bu};function pl(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new _a(null,e)}function nh(e){return pl(e),e.headers=tt.from(e.headers),e.data=hl.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),V0.getAdapter(e.adapter||Ea.adapter,e)(e).then(function(n){return pl(e),n.data=hl.call(e,e.transformResponse,n),n.headers=tt.from(n.headers),n},function(n){return z0(n)||(pl(e),n&&n.response&&(n.response.data=hl.call(e,e.transformResponse,n.response),n.response.headers=tt.from(n.response.headers))),Promise.reject(n)})}const W0="1.13.5",Eo={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{Eo[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});const sh={};Eo.transitional=function(t,r,n){function s(a,o){return"[Axios v"+W0+"] Transitional option '"+a+"'"+o+(n?". "+n:"")}return(a,o,l)=>{if(t===!1)throw new W(s(o," has been removed"+(r?" in "+r:"")),W.ERR_DEPRECATED);return r&&!sh[o]&&(sh[o]=!0,console.warn(s(o," has been deprecated since v"+r+" and will be removed in the near future"))),t?t(a,o,l):!0}};Eo.spelling=function(t){return(r,n)=>(console.warn(`${n} is likely a misspelling of ${t}`),!0)};function tj(e,t,r){if(typeof e!="object")throw new W("options must be an object",W.ERR_BAD_OPTION_VALUE);const n=Object.keys(e);let s=n.length;for(;s-- >0;){const a=n[s],o=t[a];if(o){const l=e[a],c=l===void 0||o(l,a,e);if(c!==!0)throw new W("option "+a+" must be "+c,W.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new W("Unknown option "+a,W.ERR_BAD_OPTION)}}const pi={assertOptions:tj,validators:Eo},dt=pi.validators;let Yr=class{constructor(t){this.defaults=t||{},this.interceptors={request:new qf,response:new qf}}async request(t,r){try{return await this._request(t,r)}catch(n){if(n instanceof Error){let s={};Error.captureStackTrace?Error.captureStackTrace(s):s=new Error;const a=s.stack?s.stack.replace(/^.+\n/,""):"";try{n.stack?a&&!String(n.stack).endsWith(a.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+a):n.stack=a}catch{}}throw n}}_request(t,r){typeof t=="string"?(r=r||{},r.url=t):r=t||{},r=ln(this.defaults,r);const{transitional:n,paramsSerializer:s,headers:a}=r;n!==void 0&&pi.assertOptions(n,{silentJSONParsing:dt.transitional(dt.boolean),forcedJSONParsing:dt.transitional(dt.boolean),clarifyTimeoutError:dt.transitional(dt.boolean),legacyInterceptorReqResOrdering:dt.transitional(dt.boolean)},!1),s!=null&&(S.isFunction(s)?r.paramsSerializer={serialize:s}:pi.assertOptions(s,{encode:dt.function,serialize:dt.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),pi.assertOptions(r,{baseUrl:dt.spelling("baseURL"),withXsrfToken:dt.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let o=a&&S.merge(a.common,a[r.method]);a&&S.forEach(["delete","get","head","post","put","patch","common"],g=>{delete a[g]}),r.headers=tt.concat(o,a);const l=[];let c=!0;this.interceptors.request.forEach(function(y){if(typeof y.runWhen=="function"&&y.runWhen(r)===!1)return;c=c&&y.synchronous;const k=r.transitional||Fu;k&&k.legacyInterceptorReqResOrdering?l.unshift(y.fulfilled,y.rejected):l.push(y.fulfilled,y.rejected)});const u=[];this.interceptors.response.forEach(function(y){u.push(y.fulfilled,y.rejected)});let d,h=0,f;if(!c){const g=[nh.bind(this),void 0];for(g.unshift(...l),g.push(...u),f=g.length,d=Promise.resolve(r);h<f;)d=d.then(g[h++],g[h++]);return d}f=l.length;let w=r;for(;h<f;){const g=l[h++],y=l[h++];try{w=g(w)}catch(k){y.call(this,k);break}}try{d=nh.call(this,w)}catch(g){return Promise.reject(g)}for(h=0,f=u.length;h<f;)d=d.then(u[h++],u[h++]);return d}getUri(t){t=ln(this.defaults,t);const r=$0(t.baseURL,t.url,t.allowAbsoluteUrls);return M0(r,t.params,t.paramsSerializer)}};S.forEach(["delete","get","head","options"],function(t){Yr.prototype[t]=function(r,n){return this.request(ln(n||{},{method:t,url:r,data:(n||{}).data}))}});S.forEach(["post","put","patch"],function(t){function r(n){return function(a,o,l){return this.request(ln(l||{},{method:t,headers:n?{"Content-Type":"multipart/form-data"}:{},url:a,data:o}))}}Yr.prototype[t]=r(),Yr.prototype[t+"Form"]=r(!0)});let rj=class q0{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(a){r=a});const n=this;this.promise.then(s=>{if(!n._listeners)return;let a=n._listeners.length;for(;a-- >0;)n._listeners[a](s);n._listeners=null}),this.promise.then=s=>{let a;const o=new Promise(l=>{n.subscribe(l),a=l}).then(s);return o.cancel=function(){n.unsubscribe(a)},o},t(function(a,o,l){n.reason||(n.reason=new _a(a,o,l),r(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const r=this._listeners.indexOf(t);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const t=new AbortController,r=n=>{t.abort(n)};return this.subscribe(r),t.signal.unsubscribe=()=>this.unsubscribe(r),t.signal}static source(){let t;return{token:new q0(function(s){t=s}),cancel:t}}};function nj(e){return function(r){return e.apply(null,r)}}function sj(e){return S.isObject(e)&&e.isAxiosError===!0}const Ec={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(Ec).forEach(([e,t])=>{Ec[t]=e});function K0(e){const t=new Yr(e),r=E0(Yr.prototype.request,t);return S.extend(r,Yr.prototype,t,{allOwnKeys:!0}),S.extend(r,t,null,{allOwnKeys:!0}),r.create=function(s){return K0(ln(e,s))},r}const be=K0(Ea);be.Axios=Yr;be.CanceledError=_a;be.CancelToken=rj;be.isCancel=z0;be.VERSION=W0;be.toFormData=So;be.AxiosError=W;be.Cancel=be.CanceledError;be.all=function(t){return Promise.all(t)};be.spread=nj;be.isAxiosError=sj;be.mergeConfig=ln;be.AxiosHeaders=tt;be.formToJSON=e=>U0(S.isHTMLForm(e)?new FormData(e):e);be.getAdapter=V0.getAdapter;be.HttpStatusCode=Ec;be.default=be;const{Axios:CS,AxiosError:IS,CanceledError:RS,isCancel:TS,CancelToken:PS,VERSION:AS,all:OS,Cancel:DS,isAxiosError:LS,spread:MS,toFormData:US,AxiosHeaders:zS,HttpStatusCode:FS,formToJSON:$S,getAdapter:BS,mergeConfig:HS}=be,aj="https://api-suscriptions-production.up.railway.app",$=be.create({baseURL:aj});$.interceptors.request.use(async e=>{try{const t=di(),r=t==null?void 0:t.currentUser;if(r){const n=await r.getIdToken();e.headers.Authorization=`Bearer ${n}`}}catch{}return e});const Dt={create:async e=>$.post("/auth/create",e),me:async()=>$.get("/auth/me"),getUser:async e=>$.get(`/auth/user/${e}`),listUsers:async e=>$.get("/auth/users",{params:e}),updateUser:async(e,t)=>$.patch(`/auth/user/${e}`,t),deleteUser:async e=>$.delete(`/auth/user/${e}`)},Xr={create:async e=>$.post("/clients",e),list:async e=>$.get("/clients",{params:e}),get:async e=>$.get(`/clients/${e}`),delete:async e=>$.delete(`/clients/${e}`),update:async(e,t)=>$.patch(`/clients/${e}`,t)},Ns={create:async e=>$.post("/subscriptions",e),list:async e=>$.get("/subscriptions",{params:e}),get:async e=>$.get(`/subscriptions/${e}`),renew:async e=>$.post(`/subscriptions/${e}/renew`),delete:async e=>$.delete(`/subscriptions/${e}`),update:async(e,t)=>$.patch(`/subscriptions/${e}`,t)},Hr={sendTemplate:async e=>$.post("/communications/send-template",e),send:async e=>$.post("/communications/send",e),listConversations:async()=>$.get("/communications/conversations"),getMessages:async(e,t)=>$.get(`/communications/messages/${encodeURIComponent(e)}`,{params:t}),getUnreadCount:async()=>$.get("/communications/unread-count"),markAsRead:async e=>$.post(`/communications/conversations/${encodeURIComponent(e)}/read`)},gs={runDaily:async(e,t)=>$.post("/automation/run-daily",t,{params:e}),updateConfig:async e=>$.put("/automation/config",e),getConfig:async()=>$.get("/automation/config"),deleteConfig:async()=>$.delete("/automation/config")},gr={create:async e=>$.post("/payments",e),list:async e=>$.get("/payments",{params:e}),get:async e=>$.get(`/payments/${e}`),getBySubscription:async e=>$.get(`/payments/subscription/${e}`),verify:async(e,t)=>$.patch(`/payments/${e}/verify`,{notes:t||void 0}),reject:async(e,t)=>$.patch(`/payments/${e}/reject`,{notes:t||void 0}),retry:async e=>$.patch(`/payments/${e}/retry`),getStats:async e=>$.get("/payments/stats",{params:e})},G0=v.createContext(void 0);function ij({children:e}){const[t,r]=v.useState(null),[n,s]=v.useState(null),[a,o]=v.useState(!0),l=pa();v.useEffect(()=>{const d=di();if(!d){o(!1);return}const h=gk(d,async f=>{var w;if(!f){r(null),s(null),o(!1);return}try{const g=await f.getIdToken();s(g);try{const k=(w=(await f.getIdTokenResult()).claims)==null?void 0:w.role;if(k){r({id:f.uid,email:f.email??void 0,role:k,displayName:f.displayName??void 0,photoURL:f.photoURL??void 0}),o(!1);return}}catch{}try{const k=(await $.get("/auth/me")).data||{};r({id:k.id??f.uid,email:k.email??f.email??void 0,role:k.role,displayName:k.displayName??f.displayName??void 0,photoURL:f.photoURL??void 0})}catch{r({id:f.uid,email:f.email??void 0,displayName:f.displayName??void 0,photoURL:f.photoURL??void 0})}}catch{r({id:f.uid,email:f.email??void 0,displayName:f.displayName??void 0,photoURL:f.photoURL??void 0})}finally{o(!1)}});return()=>h()},[]);async function c(d,h){var k;const f=di();if(!f)throw new Error("Firebase auth not initialized");const g=(await hk(f,d,h)).user,y=await g.getIdToken();s(y);try{const p=(k=(await g.getIdTokenResult()).claims)==null?void 0:k.role;if(p){r({id:g.uid,email:g.email??void 0,role:p,photoURL:g.photoURL??void 0,displayName:g.displayName??void 0}),l(p==="admin"?"/admin":p==="client"?"/client":"/");return}}catch{}try{const p=(await $.get("/auth/me")).data||{},x=p.role??void 0;r({id:p.id??g.uid,email:p.email??g.email??void 0,role:x,photoURL:g.photoURL??void 0,displayName:p.displayName??g.displayName??void 0}),l(x==="admin"?"/admin":x==="client"?"/client":"/");return}catch{r({id:g.uid,email:g.email??void 0,photoURL:g.photoURL??void 0,displayName:g.displayName??void 0}),l("/")}}function u(){const d=di();try{d&&xk(d)}catch{}s(null),r(null),l("/login")}return i.jsx(G0.Provider,{value:{user:t,token:n,login:c,logout:u,loading:a},children:e})}function Ur(){const e=v.useContext(G0);if(!e)throw new Error("useAuth must be used within AuthProvider");return e}function Ve(...e){return e.filter(Boolean).join(" ")}const B=Tr.forwardRef(({variant:e="primary",size:t="md",className:r,children:n,...s},a)=>{const o="inline-flex items-center justify-center rounded-lg font-medium transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:opacity-50 disabled:pointer-events-none cursor-pointer",l={primary:"bg-primary hover:bg-primary-600 text-white shadow-sm focus:ring-primary",secondary:"bg-white dark:bg-slate-800 text-gray-900 dark:text-gray-100 border border-gray-200 dark:border-slate-700 hover:bg-gray-50 dark:hover:bg-slate-700 focus:ring-gray-200 shadow-sm",ghost:"bg-transparent text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-slate-800 hover:text-gray-900 dark:hover:text-white focus:ring-gray-200",outline:"bg-transparent border border-primary text-primary hover:bg-primary/5 dark:hover:bg-primary/20 focus:ring-primary",danger:"bg-red-600 text-white hover:bg-red-700 focus:ring-red-600 shadow-sm",destructive:"bg-red-600 text-white hover:bg-red-700 focus:ring-red-600 shadow-sm"},c={sm:"h-8 px-3 text-xs",md:"h-10 px-4 py-2 text-sm",lg:"h-12 px-6 text-base",icon:"h-10 w-10 p-2"};return i.jsx("button",{ref:a,className:Ve(o,l[e],c[t],r),...s,children:n})});B.displayName="Button";/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J0=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim();/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oj=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lj=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,r,n)=>n?n.toUpperCase():r.toLowerCase());/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ah=e=>{const t=lj(e);return t.charAt(0).toUpperCase()+t.slice(1)};/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var cj={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uj=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0;return!1};/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dj=v.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:s="",children:a,iconNode:o,...l},c)=>v.createElement("svg",{ref:c,...cj,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:J0("lucide",s),...!a&&!uj(l)&&{"aria-hidden":"true"},...l},[...o.map(([u,d])=>v.createElement(u,d)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F=(e,t)=>{const r=v.forwardRef(({className:n,...s},a)=>v.createElement(dj,{ref:a,iconNode:t,className:J0(`lucide-${oj(ah(e))}`,`lucide-${e}`,n),...s}));return r.displayName=ah(e),r};/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fj=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],hj=F("activity",fj);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pj=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],mj=F("arrow-left",pj);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gj=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M22 8c0-2.3-.8-4.3-2-6",key:"5bb3ad"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}],["path",{d:"M4 2C2.8 3.7 2 5.7 2 8",key:"tap9e0"}]],xj=F("bell-ring",gj);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yj=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],vj=F("briefcase",yj);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wj=[["path",{d:"M16 14v2.2l1.6 1",key:"fo4ql5"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M21 7.5V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h3.5",key:"1osxxc"}],["path",{d:"M3 10h5",key:"r794hk"}],["path",{d:"M8 2v4",key:"1cmpym"}],["circle",{cx:"16",cy:"16",r:"6",key:"qoo3c4"}]],kj=F("calendar-clock",wj);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bj=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],ia=F("calendar",bj);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nj=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],jj=F("check",Nj);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sj=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Zr=F("chevron-down",Sj);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ej=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],_c=F("chevron-right",Ej);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _j=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],Q0=F("chevron-up",_j);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cj=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Qn=F("circle-alert",Cj);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ij=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],We=F("circle-check-big",Ij);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rj=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]],ml=F("circle-user",Rj);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tj=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],Cc=F("circle-x",Tj);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pj=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],cn=F("clock",Pj);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Aj=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],ih=F("copy",Aj);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oj=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],Et=F("credit-card",Oj);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dj=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],Y0=F("dollar-sign",Dj);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lj=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],Mj=F("download",Lj);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uj=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],zj=F("eye-off",Uj);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fj=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],$j=F("eye",Fj);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bj=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],X0=F("funnel",Bj);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hj=[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]],Vj=F("gift",Hj);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wj=[["path",{d:"M2.586 17.414A2 2 0 0 0 2 18.828V21a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h1a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h.172a2 2 0 0 0 1.414-.586l.814-.814a6.5 6.5 0 1 0-4-4z",key:"1s6t7t"}],["circle",{cx:"16.5",cy:"7.5",r:".5",fill:"currentColor",key:"w0ekpg"}]],qj=F("key-round",Wj);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kj=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],oh=F("layout-dashboard",Kj);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gj=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Nt=F("loader-circle",Gj);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jj=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],Z0=F("lock",Jj);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qj=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],Yj=F("log-in",Qj);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xj=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],Zj=F("log-out",Xj);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e2=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],Hu=F("mail",e2);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t2=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],r2=F("map-pin",t2);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n2=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],Vu=F("message-square",n2);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s2=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],a2=F("moon",s2);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i2=[["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"M2.586 16.726A2 2 0 0 1 2 15.312V8.688a2 2 0 0 1 .586-1.414l4.688-4.688A2 2 0 0 1 8.688 2h6.624a2 2 0 0 1 1.414.586l4.688 4.688A2 2 0 0 1 22 8.688v6.624a2 2 0 0 1-.586 1.414l-4.688 4.688a2 2 0 0 1-1.414.586H8.688a2 2 0 0 1-1.414-.586z",key:"2d38gg"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],o2=F("octagon-x",i2);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l2=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],c2=F("pencil",l2);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u2=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],d2=F("phone",u2);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f2=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],lh=F("play",f2);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h2=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Wu=F("plus",h2);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p2=[["path",{d:"M16.247 7.761a6 6 0 0 1 0 8.478",key:"1fwjs5"}],["path",{d:"M19.075 4.933a10 10 0 0 1 0 14.134",key:"ehdyv1"}],["path",{d:"M4.925 19.067a10 10 0 0 1 0-14.134",key:"1q22gi"}],["path",{d:"M7.753 16.239a6 6 0 0 1 0-8.478",key:"r2q7qm"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],m2=F("radio",p2);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g2=[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]],oa=F("receipt",g2);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x2=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],y2=F("refresh-cw",x2);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v2=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],w2=F("rotate-ccw",v2);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k2=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],eg=F("save",k2);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b2=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],qu=F("search",b2);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N2=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],j2=F("send",N2);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S2=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],gl=F("shield",S2);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E2=[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]],_2=F("smartphone",E2);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C2=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],Ic=F("square-pen",C2);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I2=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],R2=F("sun",I2);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T2=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],P2=F("trash-2",T2);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A2=[["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],xl=F("trash",A2);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O2=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],D2=F("triangle-alert",O2);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L2=[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],M2=F("user-check",L2);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U2=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],Yi=F("user-plus",U2);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z2=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Yn=F("user",z2);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F2=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],$2=F("users",F2);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B2=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],H2=F("wallet",B2);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V2=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],la=F("x",V2);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W2=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],tg=F("zap",W2);function q2(){const[e,t]=v.useState(""),[r,n]=v.useState(""),[s,a]=v.useState(!1),[o,l]=v.useState(!1),{login:c}=Ur();async function u(d){d.preventDefault(),l(!0);try{await c(e,r)}catch{alert("Login failed")}finally{l(!1)}}return i.jsx("div",{className:"min-h-dvh flex flex-col items-center justify-center bg-slate-50 dark:bg-slate-950 p-4 transition-colors",children:i.jsxs("div",{className:"w-full max-w-sm sm:max-w-md",children:[i.jsxs("div",{className:"mb-8 text-center flex flex-col items-center",children:[i.jsxs("h1",{className:"text-3xl font-bold tracking-tight text-slate-900 dark:text-white",children:["A",i.jsx("span",{className:"text-secondary",children:"|"}),"R SYSTEM"]}),i.jsx("p",{className:"mt-2 text-sm text-slate-600 dark:text-slate-400",children:"Ingresa tus credenciales para acceder"})]}),i.jsx("div",{className:"p-6 sm:p-8 bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-800 rounded-xl shadow-2xl shadow-slate-200/50 dark:shadow-black/50",children:i.jsxs("form",{onSubmit:u,className:"space-y-6",children:[i.jsxs("div",{className:"space-y-5",children:[i.jsxs("div",{className:"relative",children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1.5 ml-1",children:"Correo Electrnico"}),i.jsxs("div",{className:"relative",children:[i.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none text-slate-400 dark:text-slate-500",children:i.jsx(Hu,{className:"h-5 w-5"})}),i.jsx("input",{type:"email",className:"block w-full pl-10 h-12 rounded-lg border-slate-300 dark:border-slate-700 bg-white dark:bg-slate-950 text-slate-900 dark:text-white shadow-sm focus:border-primary focus:ring-primary sm:text-sm",placeholder:"ejemplo@empresa.com",value:e,onChange:d=>t(d.target.value),required:!0,autoComplete:"email"})]})]}),i.jsxs("div",{className:"relative",children:[i.jsxs("div",{className:"flex justify-between items-center mb-1.5 ml-1",children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300",children:"Contrasea"}),i.jsx("a",{href:"#",className:"text-xs font-medium text-primary hover:text-primary-600 dark:text-primary-400 dark:hover:text-primary-300",tabIndex:-1,children:"Olvidaste tu contrasea?"})]}),i.jsxs("div",{className:"relative",children:[i.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none text-slate-400 dark:text-slate-500",children:i.jsx(Z0,{className:"h-5 w-5"})}),i.jsx("input",{type:s?"text":"password",className:"block w-full pl-10 pr-10 h-12 rounded-lg border-slate-300 dark:border-slate-700 bg-white dark:bg-slate-950 text-slate-900 dark:text-white shadow-sm focus:border-primary focus:ring-primary sm:text-sm",placeholder:"",value:r,onChange:d=>n(d.target.value),required:!0,autoComplete:"current-password"}),i.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:i.jsx("button",{type:"button",onClick:()=>a(!s),className:"focus:outline-none text-slate-400 hover:text-slate-600 dark:text-slate-500 dark:hover:text-slate-300",children:s?i.jsx(zj,{className:"h-5 w-5"}):i.jsx($j,{className:"h-5 w-5"})})})]})]})]}),i.jsx(B,{type:"submit",className:"w-full h-12 text-base font-semibold shadow-lg shadow-primary/25 hover:shadow-primary/40 transition-all active:scale-[0.98] rounded-lg bg-primary hover:bg-primary-600 text-white border-0",disabled:o,children:o?i.jsxs("span",{className:"flex items-center justify-center gap-2",children:[i.jsxs("svg",{className:"animate-spin h-5 w-5",viewBox:"0 0 24 24",children:[i.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),i.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Iniciando..."]}):i.jsxs("span",{className:"flex items-center justify-center gap-2",children:[i.jsx(Yj,{className:"h-5 w-5"}),"Iniciar Sesin"]})})]})}),i.jsxs("p",{className:"mt-8 text-center text-xs text-slate-400 dark:text-slate-500",children:[" ",new Date().getFullYear()," A|R System. Todos los derechos reservados."]})]})})}function K2(){return i.jsx(i.Fragment,{children:i.jsx(Ee,{path:"/login",element:i.jsx(q2,{})})})}function rg({children:e,roles:t}){const{token:r,user:n}=Ur();if(!r)return i.jsx(Zs,{to:"/login",replace:!0});if(t&&t.length>0){const s=n==null?void 0:n.role;if(!s||!t.includes(s))return i.jsx(Zs,{to:"/",replace:!0})}return e}const ng=v.createContext(void 0);function G2({children:e}){const[t,r]=v.useState(()=>{const s=localStorage.getItem("theme");return s||(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")});v.useEffect(()=>{const s=window.document.documentElement;s.classList.remove("light","dark"),s.classList.add(t),localStorage.setItem("theme",t)},[t]);const n=()=>{r(s=>s==="light"?"dark":"light")};return i.jsx(ng.Provider,{value:{theme:t,toggleTheme:n},children:e})}function J2(){const e=v.useContext(ng);if(e===void 0)throw new Error("useTheme must be used within a ThemeProvider");return e}function Q2({role:e,user:t,unreadCount:r,onOpenSidebar:n,collapsed:s,setCollapsed:a}){return i.jsxs("header",{className:"fixed top-0 inset-x-0 h-16 bg-primary dark:bg-slate-900/90 dark:border-b dark:border-slate-800 border-b border-gray-200 z-30 flex items-center justify-between px-4 md:hidden shadow-sm backdrop-blur-md",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("button",{onClick:n,className:"p-2 -ml-2 rounded-lg text-white hover:bg-secondary hover:text-primary focus:outline-none focus:ring-2 focus:ring-primary/20 cursor-pointer","aria-label":"Abrir men",children:i.jsx("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})}),i.jsxs("span",{className:"font-bold text-lg text-white truncate",children:["A",i.jsx("span",{className:"text-secondary",children:"|"}),"R SYSTEM"]})]}),i.jsxs("div",{className:"flex items-center gap-3",children:[e==="admin"&&i.jsxs($i,{to:"/admin/communication",className:"relative p-1.5 text-white/80 hover:text-white transition-colors",children:[i.jsx(Vu,{size:22}),r>0&&i.jsx("span",{className:"absolute -top-0.5 -right-0.5 h-4 w-4 bg-red-500 rounded-full text-[10px] font-bold flex items-center justify-center text-white border border-primary",children:r>9?"9+":r})]}),i.jsx($i,{to:e==="admin"?"/admin/me":e==="client"?"/client/profile":"/",className:"flex items-center cursor-pointer hover:opacity-80 transition-opacity",children:i.jsx("div",{className:"h-8 w-8 rounded-full bg-white text-primary border border-gray-200 flex items-center justify-center text-xs font-bold shadow-sm",children:((t==null?void 0:t.displayName)||(t==null?void 0:t.email)||"U").charAt(0).toUpperCase()})}),i.jsx("button",{onClick:()=>a(!s),className:"hidden md:inline-flex ml-3 items-center justify-center p-2 rounded-md text-white/90 hover:bg-white/10 transition-colors",title:s?"Expandir men":"Colapsar men",children:i.jsx(_c,{className:`w-4 h-4 transition-transform ${s?"rotate-180":"rotate-0"}`})})]})]})}const Y2={admin:[{label:"Dashboard",to:"/admin",icon:i.jsx(oh,{className:"w-5 h-5"})},{label:"Clientes",to:"/admin/clients",icon:i.jsx(vj,{className:"w-5 h-5"})},{label:"Suscripciones",to:"/admin/subscriptions",icon:i.jsx(Et,{className:"w-5 h-5"})},{label:"Pagos",to:"/admin/payments",icon:i.jsx(Y0,{className:"w-5 h-5"})},{label:"Comunicacin",to:"/admin/communication",icon:i.jsx(Vu,{className:"w-5 h-5"})},{label:"Automatizacin",to:"/admin/automation",icon:i.jsx(tg,{className:"w-5 h-5"})},{label:"Usuarios",to:"/admin/users",icon:i.jsx($2,{className:"w-5 h-5"})}],client:[{label:"Dashboard",to:"/client",icon:i.jsx(oh,{className:"w-5 h-5"})},{label:"Mi suscripcin",to:"/client/subscription",icon:i.jsx(Et,{className:"w-5 h-5"})},{label:"Historial de pagos",to:"/client/payments",icon:i.jsx(oa,{className:"w-5 h-5"})},{label:"Mi perfil",to:"/client/profile",icon:i.jsx(Yn,{className:"w-5 h-5"})}]};function X2({role:e,user:t,unreadCount:r,collapsed:n,setCollapsed:s,sidebarOpen:a,setSidebarOpen:o,logout:l,theme:c,toggleTheme:u,isDesktop:d}){const h=Y2[e]??[],f=n&&d;return i.jsxs("aside",{className:Ve("fixed inset-y-0 left-0 bg-white dark:bg-slate-950/50 border-r border-gray-200/50 dark:border-slate-800 z-50 transform transition-all duration-300 ease-in-out flex flex-col shadow-2xl md:shadow-none md:translate-x-0 md:fixed md:top-0 md:left-0 md:h-screen backdrop-blur-xl",a?"translate-x-0 w-72":"-translate-x-full md:translate-x-0",f?"md:w-20":"md:w-72","w-72"),children:[i.jsxs("div",{className:Ve("h-20 flex items-center border-b border-gray-100 dark:border-slate-800 shrink-0 transition-all duration-300",n?"justify-center px-0":"px-6 justify-between"),children:[i.jsxs("div",{className:Ve("flex items-center gap-3",n?"justify-center":""),children:[i.jsx("div",{className:"h-12 w-12 min-w-12 bg-primary rounded-md flex items-center justify-center text-white shadow-lg shadow-primary/25 cursor-pointer transition-transform hover:scale-105",onClick:()=>s(!n),children:i.jsxs("span",{className:"font-extrabold text-xl",children:["A",i.jsx("span",{className:"text-secondary",children:"|"}),"R"]})}),!f&&i.jsxs("div",{className:"flex flex-col whitespace-nowrap overflow-hidden transition-all duration-300",children:[i.jsx("span",{className:"font-bold text-lg leading-tight text-slate-900 dark:text-white",children:"SYSTEM"}),i.jsx("span",{className:"text-[10px] font-medium text-slate-400 uppercase tracking-widest",children:"Management"})]})]}),!n&&i.jsx("button",{onClick:()=>s(!0),className:"hidden md:flex p-1 rounded-md hover:bg-slate-100 dark:hover:bg-slate-800 text-slate-400",children:i.jsx(_c,{className:"w-4 h-4 rotate-180"})})]}),i.jsxs("div",{className:"flex-1 overflow-y-auto py-8 px-3 scrollbar-hide",children:[!f&&i.jsx("div",{className:"mb-2 px-3",children:i.jsx("p",{className:"text-xs font-bold text-slate-400 dark:text-slate-500 uppercase tracking-wider mb-4",children:"Menu Principal"})}),i.jsx("nav",{className:"space-y-2",children:h.map(w=>i.jsx($i,{to:w.to,end:w.to==="/admin"||w.to==="/client",onClick:()=>o(!1),title:f?w.label:void 0,className:({isActive:g})=>Ve("flex items-center gap-3 px-3 py-3 rounded-xl text-sm font-medium transition-all duration-200 group relative",g?"bg-primary text-white shadow-md shadow-primary/25":"text-slate-600 dark:text-slate-400 hover:bg-slate-50 dark:hover:bg-slate-800/50 hover:text-slate-900 dark:hover:text-white",n?"justify-center":""),children:({isActive:g})=>i.jsxs(i.Fragment,{children:[i.jsx("span",{className:Ve("transition-colors",g?"text-white":"text-slate-400 dark:text-slate-500 group-hover:text-primary dark:group-hover:text-white"),children:w.icon}),!f&&i.jsxs(i.Fragment,{children:[i.jsx("span",{className:"flex-1 whitespace-nowrap overflow-hidden transition-all duration-300",children:w.label}),g&&i.jsx(_c,{className:"w-4 h-4 text-white/50"})]})]})},w.to))})]}),i.jsxs("div",{className:Ve("border-t border-gray-100 dark:border-slate-800 bg-gray-50/80 dark:bg-slate-900/50 backdrop-blur-sm shrink-0 transition-all duration-300",n?"p-2":"p-4"),children:[!f&&i.jsx("div",{className:"mb-2 px-2",children:i.jsx("span",{className:"text-xs font-semibold text-slate-400 uppercase tracking-wider",children:"Cuenta"})}),i.jsx("div",{className:Ve("bg-white dark:bg-slate-800 rounded-2xl shadow-sm border border-gray-100 dark:border-slate-700/50 overflow-hidden",n?"p-1":"p-3"),children:i.jsxs("div",{className:Ve("bg-white dark:bg-slate-800 rounded-2xl shadow-sm border border-gray-100 dark:border-slate-700/50 overflow-hidden",f?"p-1":"p-3"),children:[i.jsxs($i,{to:e==="admin"?"/admin/me":e==="client"?"/client/profile":"/",onClick:()=>o(!1),title:n?"Perfil":void 0,className:Ve("flex items-center gap-3 -mx-2 hover:bg-slate-50 dark:hover:bg-slate-700/50 rounded-xl transition-colors cursor-pointer group",n?"justify-center mx-0 p-1 mb-0":"p-2"),children:[i.jsx("div",{className:"h-10 w-10 min-w-10 rounded-full bg-slate-100 dark:bg-slate-700 border-2 border-white dark:border-slate-600 flex items-center justify-center text-sm font-bold text-primary dark:text-white shadow-sm overflow-hidden shrink-0",children:t!=null&&t.photoURL?i.jsx("img",{src:t.photoURL,alt:"Avatar",className:"w-full h-full object-cover"}):((t==null?void 0:t.displayName)||(t==null?void 0:t.email)||"?").charAt(0).toUpperCase()}),!n&&i.jsxs("div",{className:"flex-1 min-w-0 transition-all duration-300",children:[i.jsx("p",{className:"text-sm font-bold text-slate-900 dark:text-white truncate group-hover:text-white/70 transition-colors",children:(t==null?void 0:t.displayName)||"Usuario"}),i.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 truncate font-medium",children:t==null?void 0:t.email})]})]}),!f&&i.jsxs("div",{className:"grid grid-cols-2 gap-2 mt-2 pt-2 border-t border-gray-100 dark:border-slate-700",children:[i.jsxs("button",{onClick:l,className:"flex flex-col items-center justify-center gap-1 p-2 rounded-lg text-xs font-medium text-slate-500 hover:text-red-600 hover:bg-red-50 dark:hover:bg-red-900/10 dark:text-slate-400 dark:hover:text-red-400 transition-all border border-transparent hover:border-red-100 cursor-pointer",children:[i.jsx(Zj,{className:"w-4 h-4"}),i.jsx("span",{children:"Salir"})]}),i.jsxs("button",{onClick:u,className:"flex flex-col items-center justify-center gap-1 p-2 rounded-lg text-xs font-medium text-slate-500 hover:text-primary hover:bg-primary/5 dark:hover:bg-primary dark:text-slate-400 dark:hover:text-slate-200 transition-all border border-transparent hover:border-primary/10 cursor-pointer",children:[c==="light"?i.jsx(a2,{className:"w-4 h-4"}):i.jsx(R2,{className:"w-4 h-4"}),i.jsx("span",{children:c==="light"?"Oscuro":"Claro"})]})]})]})})]})]})}function sg({children:e}){const{user:t,logout:r}=Ur(),{theme:n,toggleTheme:s}=J2(),a=(t==null?void 0:t.role)??"guest",o=768,l=1024,[c,u]=v.useState(!1),[d,h]=v.useState(()=>{const p=typeof window<"u"?window.innerWidth:1024;return p<o||p<l}),[f,w]=v.useState(()=>typeof window<"u"?window.innerWidth>=o:!0);v.useEffect(()=>{const p=()=>{const x=window.innerWidth;if(w(x>=o),x<o){u(!1),h(!0);return}if(x<l){h(!0);return}h(!1)};return p(),window.addEventListener("resize",p),()=>window.removeEventListener("resize",p)},[]);const[g,y]=v.useState(0),k=Tr.useRef(0),m=Tr.useRef(!0);return v.useEffect(()=>{u(!1)},[]),v.useEffect(()=>{a==="admin"&&"Notification"in window&&Notification.permission==="default"&&Notification.requestPermission()},[a]),v.useEffect(()=>{if(a!=="admin")return;const p=async()=>{var N;try{const E=await Hr.listConversations(),j=(Array.isArray(E.data)?E.data:((N=E.data)==null?void 0:N.data)||[]).reduce((I,A)=>I+(A.unreadCount||0),0);if(!m.current&&j>k.current){"Notification"in window&&Notification.permission==="granted"&&navigator.serviceWorker.ready.then(I=>{I.showNotification("A|R System",{body:`Tienes ${j} mensajes sin leer`,icon:"/suscriptions/vite.svg"})}).catch(()=>{new Notification("A|R System",{body:`Tienes ${j} mensajes sin leer`,icon:"/suscriptions/vite.svg"})});try{new Audio("/suscriptions/notification.mp3").play().catch(()=>{})}catch{}}k.current=j,y(j),m.current=!1}catch{}};p();const x=setInterval(p,3e4);return()=>clearInterval(x)},[a]),i.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-slate-900 flex flex-col md:flex-row font-sans transition-colors duration-300 overflow-x-hidden",children:[i.jsx(Q2,{role:a,user:t,unreadCount:g,onOpenSidebar:()=>u(!0),collapsed:d,setCollapsed:h}),c&&i.jsx("div",{className:"fixed inset-0 bg-gray-900/50 z-40 md:hidden backdrop-blur-sm transition-opacity",onClick:()=>u(!1)}),i.jsx(X2,{role:a,user:t,unreadCount:g,collapsed:d,setCollapsed:h,sidebarOpen:c,setSidebarOpen:u,logout:r,theme:n,toggleTheme:s,isDesktop:f}),i.jsx("main",{className:Ve("flex-1 min-w-0 w-full min-h-[calc(100vh-4rem)] md:min-h-screen pt-16 md:pt-0 bg-gray-50 dark:bg-slate-900 transition-all duration-300",d?"md:pl-20":"md:pl-72"),children:i.jsx("div",{className:"max-w-7xl mx-auto p-4 sm:p-6 lg:p-8 animate-in fade-in slide-in-from-bottom-4 duration-500 fill-mode-backwards",children:e||i.jsx(Pv,{})})})]})}const Z=v.forwardRef(({children:e,className:t,title:r,...n},s)=>i.jsxs("div",{ref:s,className:Ve("bg-white dark:bg-slate-800 rounded-xl shadow-sm ring-1 ring-gray-200 dark:ring-slate-700 overflow-hidden flex flex-col p-4",t),...n,children:[r&&i.jsx("div",{className:"px-4 py-3 border-b border-gray-100 dark:border-slate-700 bg-gray-50/50 dark:bg-slate-900/50 shrink-0",children:typeof r=="string"?i.jsx("h3",{className:"font-semibold text-gray-900 dark:text-gray-100 text-sm",children:r}):r}),i.jsx("div",{className:Ve("flex-1 min-h-0 flex flex-col",r?"p-4":""),children:e})]}));function Z2(){const[e,t]=v.useState({clients:0,subscriptions:0,revenue:0,unread:0}),[r,n]=v.useState(!0),[s,a]=v.useState([]),[o,l]=v.useState([]);v.useEffect(()=>{(async()=>{var d,h,f;try{const[w,g,y]=await Promise.all([Xr.list(),Ns.list(),Hr.listConversations()]),k=Array.isArray(w.data)?w.data:((d=w.data)==null?void 0:d.data)||[];a(k);const m=Array.isArray(g.data)?g.data:((h=g.data)==null?void 0:h.data)||[];l(m);const p=m.reduce((E,b)=>{if(!b.amount)return E;const j=b.amount.replace(/[^0-9]/g,"");return E+(parseInt(j)||0)},0),N=(Array.isArray(y.data)?y.data:((f=y.data)==null?void 0:f.data)||[]).reduce((E,b)=>E+(b.unreadCount||0),0);t({clients:k.length,subscriptions:m.length,revenue:p,unread:N})}catch(w){console.error("Error loading dashboard stats",w)}finally{n(!1)}})()},[]);const c=u=>new Intl.NumberFormat("es-CL",{style:"currency",currency:"CLP"}).format(u);return i.jsxs("div",{className:"space-y-6",children:[i.jsx("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:i.jsxs("div",{children:[i.jsx("h2",{className:"text-2xl font-bold text-gray dark:text-white tracking-tight",children:"Panel de Control"}),i.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Resumen y accesos directos."})]})}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 2xl:grid-cols-2 gap-6 md:auto-rows-fr",children:[i.jsxs(Z,{title:"Suscripciones",className:"h-full md:col-span-2 2xl:col-span-2 hover:shadow-lg transition-all duration-200",children:[i.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6 text-sm",children:"Controla los planes activos, fechas de corte y facturacin mensual."}),o.length>0&&(()=>{const u=o.filter(h=>{if(!h.cutDate)return!1;const f=new Date(h.cutDate),w=new Date,g=Math.ceil((f.getTime()-w.getTime())/(1e3*60*60*24));return g>=0&&g<=7});if(u.length===0)return null;const d=h=>{const f=new Date(h),w=["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"];return`${f.getDate()} de ${w[f.getMonth()]}`};return i.jsxs("div",{className:"mb-4",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[i.jsx("svg",{className:"w-5 h-5 text-primary dark:text-slate-200 animate-pulse",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),i.jsx("span",{className:"font-semibold text-primary dark:text-slate-200",children:"Suscripciones por vencer esta semana"})]}),i.jsx("div",{className:"flex flex-col gap-3",children:u.map(h=>{const f=s.find(k=>k.uid===h.clientId||k.id===h.clientId),w=new Date(h.cutDate),g=new Date,y=Math.ceil((w.getTime()-g.getTime())/(1e3*60*60*24));return i.jsxs("div",{className:"flex items-center gap-2 md:gap-4 p-3 rounded-xl border border-secondary dark:border-secondary bg-secondary/50 dark:bg-secondary/40 shadow-sm",children:[i.jsx("div",{className:"flex flex-col",children:i.jsx("span",{className:"font-bold text-gray dark:text-primary text-sm px-2 py-1 rounded bg-secondary dark:bg-secondary uppercase",children:(f==null?void 0:f.name)||"Cliente desconocido"})}),i.jsx("div",{className:"flex-1 text-center",children:i.jsx("span",{className:"inline-block text-xs font-semibold px-2 py-1 rounded bg-secondary dark:bg-secondary text-primary dark:text-primary",children:y===0?i.jsx("span",{children:"Vence hoy!"}):i.jsxs("span",{children:["Faltan"," ",i.jsx("b",{className:"text-primary dark:text-primary",children:y})," ","da",y>1?"s":""," para vencer el"," ",i.jsx("b",{children:d(h.cutDate)})]})})})]},h.id??h.clientId)})})]})})(),i.jsx("div",{className:"flex justify-end mt-auto",children:i.jsx(ea,{to:"/admin/subscriptions",className:"w-full",children:i.jsxs(B,{variant:"secondary",className:"w-full justify-between group",children:[i.jsx("span",{children:"Ver Suscripciones"}),i.jsx("svg",{className:"w-4 h-4 text-gray-500 dark:text-gray-400 group-hover:translate-x-1 transition-transform",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M14 5l7 7m0 0l-7 7m7-7H3"})})]})})})]}),i.jsx(Z,{title:"Estadsticas Rpidas",className:"h-full hover:shadow-lg transition-all duration bg-primary/5 dark:bg-slate-800/80 dark:border-primary/30 border-primary/20",children:r?i.jsx("div",{className:"flex justify-center p-4",children:i.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{className:"text-sm font-medium text-gray-600 dark:text-gray-300",children:"Clientes Totales"}),i.jsx("span",{className:"text-xl font-bold text-gray dark:text-white",children:e.clients})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{className:"text-sm font-medium text-gray-600 dark:text-gray-300",children:"Suscripciones"}),i.jsx("span",{className:"text-xl font-bold text-gray dark:text-white",children:e.subscriptions})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{className:"text-sm font-medium text-gray-600 dark:text-gray-300",children:"Ingresos Mensuales"}),i.jsx("span",{className:"text-xl font-bold text-emerald-600 dark:text-emerald-400",children:c(e.revenue)})]}),i.jsxs("div",{className:"flex items-center justify-between border-t border-primary/10 dark:border-primary/20 pt-3 mt-2",children:[i.jsx("span",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Mensajes sin leer"}),i.jsx("span",{className:`text-sm font-bold px-2 py-0.5 rounded-full ${e.unread>0?"bg-red-100 dark:bg-red-900/30 text-red-700 dark:text-red-300 border border-red dark:border-red-800":"bg-gray-100 dark:bg-slate-700 text-gray-500 dark:text-gray-400 border border-gray dark:border-slate-600"}`,children:e.unread})]})]})}),i.jsxs(Z,{title:"Gestin de Clientes",className:"h-full hover:shadow-lg transition-all duration-200",children:[i.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6 text-sm",children:"Administra la base de datos de usuarios, sus datos de contacto y estado."}),i.jsx("div",{className:"flex justify-end mt-auto",children:i.jsx(ea,{to:"/admin/clients",className:"w-full",children:i.jsxs(B,{className:"w-full justify-between group",children:[i.jsx("span",{children:"Ver Clientes"}),i.jsx("svg",{className:"w-4 h-4 group-hover:translate-x-1 transition-transform",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M14 5l7 7m0 0l-7 7m7-7H3"})})]})})})]})]})]})}const G=Tr.forwardRef(({label:e,id:t,className:r,error:n,helpText:s,endContent:a,...o},l)=>{const c=t||o.name||void 0;return i.jsxs("div",{className:Ve("flex flex-col"),children:[e&&i.jsx("label",{htmlFor:c,className:"mb-1 text-sm font-medium text-gray-700 dark:text-gray-300",children:e}),i.jsxs("div",{className:"relative",children:[i.jsx("input",{id:c,ref:l,className:Ve("flex h-11 w-full rounded-lg border border-gray-300 dark:border-slate-600 bg-white dark:bg-slate-900 px-3 py-2 text-sm placeholder:text-gray-400 dark:placeholder:text-gray-500 dark:text-white focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent disabled:cursor-not-allowed disabled:opacity-50 transition-shadow",n?"border-red-500 focus:ring-red-500":"",a?"pr-10":"",r),"aria-invalid":!!n,"aria-describedby":n?`${c}-error`:s?`${c}-help`:void 0,...o}),a&&i.jsx("div",{className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-500",children:a})]}),s&&!n&&i.jsx("p",{id:`${c}-help`,className:"mt-1 text-xs text-gray-500",children:s}),n&&i.jsx("p",{id:`${c}-error`,className:"mt-1 text-sm text-rose-600",children:n})]})});G.displayName="Input";function eS(){const[e,t]=v.useState([]),[r,n]=v.useState(!0),[s,a]=v.useState(!1),[o,l]=v.useState(!1),[c,u]=v.useState({name:"",email:"",phone:"",address:"",password:""});v.useEffect(()=>{let f=!0;return n(!0),(async()=>{var g;try{const y=await Xr.list();if(!f)return;const k=Array.isArray(y.data)?y.data:((g=y.data)==null?void 0:g.data)||[],m=await Promise.all(k.map(async p=>{var x,N;if(!p.uid)return p;try{const E=await Dt.getUser(p.uid),b=((x=E.data)==null?void 0:x.data)||E.data,j=(b==null?void 0:b.email)||((N=b==null?void 0:b.user)==null?void 0:N.email);return{...p,email:j}}catch{return p}}));f&&t(m)}catch(y){console.error(y)}finally{f&&n(!1)}})(),()=>{f=!1}},[]);async function d(f){var w,g,y,k,m;f.preventDefault(),a(!0);try{if(!c.email||!c.password)throw new Error("Email y password son requeridos para crear el auth user");console.log("Creating auth user...");const p=await Dt.create({email:c.email,password:c.password,displayName:c.name,role:"client"}),x=((w=p.data)==null?void 0:w.data)||p.data,N=(x==null?void 0:x.uid)||((g=x==null?void 0:x.user)==null?void 0:g.uid);if(!N)throw console.error("No uid found in:",x),new Error("No uid retornado al crear usuario de auth");const E={uid:N,name:c.name,phone:c.phone||"",address:c.address||""},b=await Xr.create(E),I={...((y=b.data)==null?void 0:y.data)||b.data,email:c.email};t(A=>[I,...A]),u({name:"",email:"",phone:"",address:"",password:""}),l(!1)}catch(p){console.error(p);const N=((m=(k=p.response)==null?void 0:k.data)==null?void 0:m.message)||(p instanceof Error?p.message:"Error creando cliente");alert(`Error: ${N}`)}finally{a(!1)}}const h=async f=>{var w,g,y;if(!f){alert("ID del cliente no disponible");return}if(confirm("Eliminar este cliente? Esta accin es irreversible."))try{await Xr.delete(f),t(k=>k.filter(m=>m.id!==f&&m.uid!==f))}catch(k){console.error("Error deleting client:",k),((w=k.response)==null?void 0:w.status)===404?alert("Cliente no encontrado (404)."):alert("Error eliminando cliente: "+(((y=(g=k.response)==null?void 0:g.data)==null?void 0:y.message)||k.message||"Desconocido"))}};return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white tracking-tight",children:"Gestin de Clientes"}),i.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Administra los usuarios y sus credenciales de acceso"})]}),i.jsxs(B,{onClick:()=>l(!o),className:"flex items-center gap-2",variant:o?"outline":"primary",children:[o?i.jsx(Q0,{size:18}):i.jsx(Yi,{size:18}),o?"Cancelar":"Nuevo Cliente"]})]}),o&&i.jsxs("div",{className:"bg-white dark:bg-slate-800 border border-gray-200 dark:border-slate-700 rounded-xl shadow-sm overflow-hidden transition-all duration-300 ease-in-out",children:[i.jsxs("div",{className:"p-6 bg-gray-50 dark:bg-slate-900/50 border-b border-gray-100 dark:border-slate-700",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Registrar Nuevo Cliente"}),i.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:"Ingresa los datos para crear un nuevo perfil de cliente."})]}),i.jsx("div",{className:"p-6",children:i.jsxs("form",{onSubmit:d,className:"space-y-6",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsx(G,{label:"Nombre Completo",value:c.name,onChange:f=>u(w=>({...w,name:f.target.value})),required:!0,placeholder:"Juan Prez",className:"md:col-span-2"}),i.jsx(G,{label:"Email",type:"email",value:c.email,onChange:f=>u(w=>({...w,email:f.target.value})),required:!0,placeholder:"juan@ejemplo.com"}),i.jsx(G,{label:"Contrasea",type:"password",value:c.password,onChange:f=>u(w=>({...w,password:f.target.value})),required:!0,placeholder:""}),i.jsx(G,{label:"Telfono",type:"tel",value:c.phone,onChange:f=>u(w=>({...w,phone:f.target.value})),placeholder:"+56 9 1234 5678"}),i.jsx(G,{label:"Direccin",value:c.address,onChange:f=>u(w=>({...w,address:f.target.value})),placeholder:"Av. Siempre Viva 123"})]}),i.jsxs("div",{className:"flex justify-end gap-3 pt-2",children:[i.jsx(B,{type:"button",variant:"outline",onClick:()=>l(!1),disabled:s,children:"Cancelar"}),i.jsx(B,{type:"submit",disabled:s,className:"min-w-30",children:s?"Guardando...":"Crear Cliente"})]})]})})]}),i.jsx(Z,{title:`Lista de Clientes (${e.length})`,className:"h-full",children:r?i.jsx("div",{className:"flex justify-center p-8",children:i.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):e.length===0?i.jsxs("div",{className:"text-center p-12",children:[i.jsx("div",{className:"bg-gray-100 dark:bg-slate-700/50 rounded-full h-16 w-16 flex items-center justify-center mx-auto mb-4",children:i.jsx(Yi,{size:32,className:"text-gray-400 dark:text-gray-500"})}),i.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"No hay clientes registrados"}),i.jsx("p",{className:"text-gray-500 dark:text-gray-400 mb-6",children:"Comienza agregando tu primer cliente."}),i.jsx(B,{onClick:()=>l(!0),children:"Crear primer cliente"})]}):i.jsxs("div",{className:"overflow-x-auto -mx-4 sm:mx-0",children:[i.jsx("div",{className:"sm:hidden space-y-4 px-4 pb-4",children:e.map(f=>i.jsxs("div",{className:"bg-white dark:bg-slate-800 border border-gray-200 dark:border-slate-700 rounded-lg p-4 shadow-sm space-y-3",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"h-10 w-10 rounded-full bg-white dark:bg-slate-700 text-white border border-gray-200 dark:border-slate-700 flex items-center justify-center font-bold text-sm shadow-sm shrink-0",children:f.name.charAt(0).toUpperCase()}),i.jsxs("div",{children:[i.jsx("div",{className:"text-sm font-semibold text-gray-900 dark:text-white",children:f.name}),i.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:f.email||"Sin email"})]})]}),i.jsx(ea,{to:`/admin/client/${f.id}`,className:"text-primary hover:bg-primary/5 dark:hover:bg-primary/20 p-2 rounded-full transition-colors",children:i.jsx(Zr,{size:20,className:"-rotate-90"})})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs text-gray-600 dark:text-gray-300 pt-2 border-t border-gray-50 dark:border-slate-700/50",children:[i.jsxs("div",{children:[i.jsx("span",{className:"block text-gray-400 dark:text-gray-500 text-[10px] uppercase font-semibold",children:"Telfono"}),f.phone||"-"]}),i.jsxs("div",{children:[i.jsx("span",{className:"block text-gray-400 dark:text-gray-500 text-[10px] uppercase font-semibold",children:"Direccin"}),i.jsx("span",{className:"truncate block",children:f.address||"-"})]})]}),i.jsx("div",{className:"flex justify-end gap-2 pt-2",children:i.jsx(B,{variant:"destructive",onClick:()=>h(f.uid||f.id),children:"Eliminar"})})]},f.uid||f.id))}),i.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-slate-700 hidden sm:table",children:[i.jsx("thead",{className:"bg-gray-50/50 dark:bg-slate-900/50",children:i.jsxs("tr",{children:[i.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Cliente"}),i.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Contacto"}),i.jsx("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Acciones"})]})}),i.jsx("tbody",{className:"bg-white dark:bg-slate-800 divide-y divide-gray-200 dark:divide-slate-700",children:e.map(f=>i.jsxs("tr",{className:"hover:bg-gray-50/50 dark:hover:bg-slate-700/50 transition-colors",children:[i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx("div",{className:"h-10 w-10 rounded-full bg-white dark:bg-slate-800 text-primary border border-gray-200 dark:border-slate-700 flex items-center justify-center font-bold text-sm shadow-sm ring-2 ring-white dark:ring-slate-800",children:f.name.charAt(0).toUpperCase()}),i.jsxs("div",{className:"ml-4",children:[i.jsx("div",{className:"text-sm font-semibold text-gray-900 dark:text-white",children:f.name}),i.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:f.address||"Sin direccin"})]})]})}),i.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[i.jsxs("div",{className:"text-sm text-gray-900 dark:text-gray-300 flex items-center gap-2",children:[i.jsx("span",{className:"bg-blue-50 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300 px-2 py-0.5 rounded text-xs font-medium",children:"Email"}),f.email]}),i.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1 flex items-center gap-2",children:f.phone?i.jsxs(i.Fragment,{children:[i.jsx("span",{className:"bg-green-50 dark:bg-green-900/30 text-green-700 dark:text-green-400 px-2 py-0.5 rounded text-xs font-medium",children:"Tel"}),f.phone]}):"Sin telfono"})]}),i.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:[i.jsx(ea,{to:`/admin/client/${f.id}`,className:"inline-flex items-center justify-center text-primary dark:text-white hover:text-primary-700 dark:hover:text-primary font-medium text-sm bg-primary/10 dark:bg-primary/50 hover:bg-primary/20 dark:hover:bg-secondary px-4 py-2 rounded-lg transition-colors",children:"Ver detalles"}),i.jsx("button",{onClick:()=>h(f.uid||f.id),className:"ml-2 inline-flex items-center justify-center text-red-600 bg-red-50 hover:bg-red-100 dark:bg-red-900/20 dark:text-red-400 px-3 py-2 rounded-lg text-sm",children:"Eliminar"})]})]},f.uid||f.id))})]})]})})]})}function tS({title:e,subtitle:t,action:r,className:n=""}){return i.jsxs("div",{className:`flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 ${n}`,children:[i.jsxs("div",{children:[i.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white tracking-tight",children:e}),t&&i.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:t})]}),r&&i.jsx("div",{className:"flex items-center",children:r})]})}function rS({form:e,setForm:t,clients:r,onCancel:n,onSubmit:s,creating:a,editingId:o}){return i.jsxs("div",{className:"bg-white dark:bg-slate-800 border border-gray-200 dark:border-slate-700 rounded-xl shadow-sm overflow-hidden transition-all duration-300 ease-in-out",children:[i.jsxs("div",{className:"p-6 bg-gray-50 dark:bg-slate-900/50 border-b border-gray-100 dark:border-slate-700",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:o?"Editar Suscripcin":"Registrar Nueva Suscripcin"}),i.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:"Configura los detalles del plan para el cliente seleccionado."})]}),i.jsx("div",{className:"p-6",children:i.jsxs("form",{onSubmit:s,className:"space-y-6",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{className:"md:col-span-2",children:[i.jsx("label",{className:"mb-1 text-sm font-medium text-gray-700 dark:text-gray-300 block",children:"Cliente"}),i.jsxs("select",{className:"flex h-11 w-full rounded-lg border border-gray-300 dark:border-slate-600 bg-white dark:bg-slate-900 text-gray-900 dark:text-white px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent transition-shadow",value:e.clientId,onChange:l=>t({...e,clientId:l.target.value}),required:!0,disabled:!!o,children:[i.jsx("option",{value:"",children:"Selecciona un cliente"}),r.map(l=>{const c=l.uid||l.id||"",u=l.name||l.email||c;return i.jsxs("option",{value:c,children:[u," ",l.email?`(${l.email})`:""]},c)})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"mb-1 text-sm font-medium text-gray-700 dark:text-gray-300 block",children:"Plan"}),i.jsxs("select",{className:"flex h-11 w-full rounded-lg border border-gray-300 dark:border-slate-600 bg-white dark:bg-slate-900 text-gray-900 dark:text-white px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent transition-shadow",value:e.plan,onChange:l=>t({...e,plan:l.target.value}),required:!0,children:[i.jsx("option",{value:"",children:"Selecciona un plan"}),i.jsx("option",{value:"Itinerante Ilimitado",children:"Itinerante Ilimitado"}),i.jsx("option",{value:"Itinerante Limitado",children:"Itinerante Limitado"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"mb-1 text-sm font-medium text-gray-700 dark:text-gray-300 block",children:"Pas"}),i.jsxs("select",{className:"flex h-11 w-full rounded-lg border border-gray-300 dark:border-slate-600 bg-white dark:bg-slate-900 text-gray-900 dark:text-white px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent transition-shadow",value:e.country||"",onChange:l=>t({...e,country:l.target.value}),required:!0,children:[i.jsx("option",{value:"",children:"Selecciona pas"}),i.jsx("option",{value:"BR",children:"Brasil"}),i.jsx("option",{value:"VES",children:"Venezuela"}),i.jsx("option",{value:"COL",children:"Colombia"}),i.jsx("option",{value:"AR",children:"Argentina"})]})]}),i.jsx(G,{label:"Contrasea del Servicio",value:e.passwordSub||"",onChange:l=>t({...e,passwordSub:l.target.value}),placeholder:"Contrasea del servicio",required:!o}),i.jsx(G,{label:"Monto ($)",value:e.amount,onChange:l=>t({...e,amount:l.target.value}),placeholder:"$50.000",required:!0}),i.jsx(G,{label:"Fecha de Inicio",type:"date",value:e.startDate,onChange:l=>t({...e,startDate:l.target.value}),required:!0}),i.jsx(G,{label:"Fecha de Corte",type:"date",value:e.cutDate,onChange:l=>t({...e,cutDate:l.target.value}),required:!0})]}),i.jsxs("div",{className:"flex justify-end gap-3 pt-2",children:[i.jsx(B,{type:"button",variant:"outline",onClick:n,disabled:a,children:"Cancelar"}),i.jsx(B,{type:"submit",disabled:a,className:"min-w-30",children:a?"Procesando...":o?"Actualizar":"Crear Suscripcin"})]})]})})]})}function nS({sub:e,client:t,onEdit:r,onDelete:n,onCopy:s,copiedValue:a,PLAN_LABELS:o}){var l;return i.jsx("div",{className:"group bg-white dark:bg-slate-800 border border-gray-200 dark:border-slate-700 rounded-2xl p-4 hover:shadow-xl hover:border-secondary/20 transition-all duration-300",children:i.jsxs("div",{className:"flex flex-col lg:flex-row gap-5 lg:items-center",children:[i.jsxs("div",{className:"flex items-center gap-4 min-w-55",children:[i.jsxs("div",{className:"relative shrink-0",children:[i.jsx("div",{className:"w-12 h-12 rounded-full bg-slate-100 dark:bg-slate-700 flex items-center justify-center text-secondary font-bold text-lg border border-slate-200 dark:border-slate-600",children:((l=t==null?void 0:t.name)==null?void 0:l.charAt(0))||"U"}),i.jsx("span",{className:"absolute -bottom-1 -right-1 px-1.5 py-0.5 rounded-md bg-secondary text-[10px] font-bold text-white uppercase shadow-sm",children:e.country||""})]}),i.jsxs("div",{className:"flex flex-col min-w-0",children:[i.jsx("h3",{className:"font-bold text-gray-900 dark:text-white truncate",children:(t==null?void 0:t.name)||"Cliente desconocido"}),i.jsx("span",{className:"text-xs font-semibold text-secondary uppercase tracking-wider",children:o[e.plan]||e.plan})]})]}),i.jsxs("div",{className:"flex-1 grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[e.clientEmail&&i.jsxs("div",{className:"flex items-center justify-between bg-slate-50 dark:bg-slate-900/40 px-3 py-2 rounded-xl border border-gray-100 dark:border-slate-700 group/copy",children:[i.jsx("span",{className:"text-xs text-gray-500 dark:text-slate-400 truncate mr-2",children:e.clientEmail}),i.jsx("button",{onClick:()=>s(e.clientEmail),className:"text-gray-400 hover:text-secondary transition-all active:scale-90",children:a===e.clientEmail?i.jsx(We,{size:14,className:"text-green-500"}):i.jsx(ih,{size:14})})]}),e.passwordSub&&i.jsxs("div",{className:"flex items-center justify-between bg-slate-50 dark:bg-slate-900/40 px-3 py-2 rounded-xl border border-gray-100 dark:border-slate-700",children:[i.jsx("span",{className:"text-xs font-mono text-gray-400 tracking-widest",children:""}),i.jsx("button",{onClick:()=>s(e.passwordSub),className:"text-gray-400 hover:text-secondary transition-all active:scale-90",children:a===e.passwordSub?i.jsx(We,{size:14,className:"text-green-500"}):i.jsx(ih,{size:14})})]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-2 p-2 bg-slate-50/50 dark:bg-slate-900/20 rounded-2xl border border-dashed border-gray-200 dark:border-slate-700",children:[i.jsxs("div",{className:"flex flex-col items-center justify-center border-r border-gray-200 dark:border-slate-700",children:[i.jsx("span",{className:"text-[10px] uppercase text-gray-400 font-bold mb-1",children:"Monto"}),i.jsx("span",{className:"text-sm font-bold text-gray-700 dark:text-gray-200",children:e.amount})]}),i.jsxs("div",{className:"flex flex-col items-center justify-center",children:[i.jsx("span",{className:"text-[10px] uppercase text-red-400 font-bold mb-1",children:"Corte"}),i.jsx("span",{className:"text-sm font-black text-red-600 dark:text-red-400",children:e.cutDate})]})]})]}),i.jsxs("div",{className:"flex lg:flex-col gap-2 pt-2 lg:pt-0 border-t lg:border-t-0 border-gray-100 dark:border-slate-700 justify-end",children:[i.jsx("button",{onClick:()=>r(e),className:"flex-1 lg:flex-none p-2.5 flex items-center justify-center rounded-xl bg-slate-100 dark:bg-slate-700/50 text-slate-500 hover:bg-secondary hover:text-white transition-all shadow-sm",children:i.jsx(c2,{size:18})}),i.jsx("button",{onClick:()=>n(e.id??e.clientId),className:"flex-1 lg:flex-none p-2.5 flex items-center justify-center rounded-xl bg-red-50 dark:bg-red-950/30 text-red-500 hover:bg-red-500 hover:text-white transition-all shadow-sm",children:i.jsx(P2,{size:18})})]})]})})}function sS(){const[e,t]=v.useState([]),[r,n]=v.useState(!0),[s,a]=v.useState(!1),[o,l]=v.useState(!1),[c,u]=v.useState(null),[d,h]=v.useState({clientId:"",startDate:"",cutDate:"",amount:"",plan:"",passwordSub:""}),[f,w]=v.useState([]),[g,y]=v.useState(null),k={"Itinerante Ilimitado":"Itinerante Ilimitado","Itinerante Limitado":"Itinerante Limitado","starlink-basic":"Itinerante Ilimitado","starlink-limited":"Itinerante Limitado"},m=new Date().toISOString().slice(0,10);v.useEffect(()=>{h(j=>({...j,startDate:j.startDate||m,cutDate:j.cutDate||m}))},[]),v.useEffect(()=>{let j=!0;return n(!0),(async()=>{var A;try{const L=await Ns.list();if(!j)return;const K=Array.isArray(L.data)?L.data:((A=L.data)==null?void 0:A.data)||[],Q=await Promise.all(K.map(async Y=>{var H,z;const P=Y.clientId;if(!P)return Y;try{const J=await Dt.getUser(P),_=((H=J.data)==null?void 0:H.data)||((z=J.data)==null?void 0:z.user)||J.data;return{...Y,clientEmail:_==null?void 0:_.email}}catch{return Y}}));j&&t(Q)}catch(L){console.error(L)}finally{j&&n(!1)}})(),()=>{j=!1}},[]),v.useEffect(()=>{let j=!0;return(async()=>{var A;try{const L=await Xr.list();if(!j)return;const K=Array.isArray(L.data)?L.data:((A=L.data)==null?void 0:A.data)||[];w(K)}catch{}})(),()=>{j=!1}},[]);function p(j){l(!0),u(j.id??null),h({clientId:j.clientId,plan:j.plan,amount:j.amount,startDate:j.startDate,cutDate:j.cutDate,country:j.country||"",passwordSub:j.passwordSub||""})}function x(){l(!1),u(null),h({clientId:"",startDate:m,cutDate:m,amount:"",plan:"",passwordSub:""})}async function N(j){var I,A,L,K,Q,Y,P;j.preventDefault(),a(!0);try{if(!d.clientId)throw new Error("Cliente es requerido");if(!d.plan)throw new Error("Plan es requerido");if(!d.startDate)throw new Error("Fecha de inicio es requerida");if(!d.cutDate)throw new Error("Fecha de corte es requerida");if(!d.amount)throw new Error("Monto es requerido");if(!c&&!d.passwordSub)throw new Error("Contrasea del servicio es requerida");const H=_=>{if(!_)return;if(/^\d{4}-\d{2}-\d{2}$/.test(_))return _;const D=new Date(_);return isNaN(D)?_:D.toISOString().slice(0,10)},z=_=>{if(!_)return"";const D=_.trim();return/^\$/.test(D)?D:`$${D}`},J={plan:d.plan||"",startDate:H(d.startDate)??d.startDate??"",cutDate:H(d.cutDate)??d.cutDate??"",amount:z(d.amount),country:d.country||""};if(d.passwordSub&&(J.passwordSub=d.passwordSub),c){const _=await Ns.update(c,J);t(D=>D.map(O=>O.id===c?{...O,...J,id:c}:O)),x()}else{const _={...J,clientId:d.clientId},D=await Ns.create(_);let O=((I=D.data)==null?void 0:I.data)||D.data;if(O!=null&&O.clientId)try{const M=await Dt.getUser(O.clientId),V=((A=M.data)==null?void 0:A.data)||((L=M.data)==null?void 0:L.user)||M.data;O={...O,clientEmail:(V==null?void 0:V.email)??void 0}}catch{}t(M=>[O,...M]),h({clientId:"",startDate:m,cutDate:m,amount:"",plan:"",passwordSub:""}),l(!1)}}catch(H){const J=((Q=(K=H==null?void 0:H.response)==null?void 0:K.data)==null?void 0:Q.message)||((P=(Y=H==null?void 0:H.response)==null?void 0:Y.data)==null?void 0:P.error)||(H instanceof Error?H.message:"Error procesando solicitud");alert(J)}finally{a(!1)}}const E=async j=>{var I,A,L,K;if(confirm("Ests seguro de que deseas eliminar esta suscripcin permanentemente?"))try{await Ns.delete(j),t(Q=>Q.filter(Y=>Y.id!==j))}catch(Q){const P=((A=(I=Q==null?void 0:Q.response)==null?void 0:I.data)==null?void 0:A.message)||((K=(L=Q==null?void 0:Q.response)==null?void 0:L.data)==null?void 0:K.error)||(Q instanceof Error?Q.message:"Error eliminando suscripcin");alert(P)}},b=j=>{j&&(navigator.clipboard.writeText(j),y(j),setTimeout(()=>y(null),2e3))};return i.jsxs("div",{className:"space-y-6",children:[g&&i.jsxs("div",{className:"fixed bottom-4 right-4 bg-gray-900 text-white dark:bg-white dark:text-gray-900 px-4 py-2 rounded-lg shadow-lg flex items-center gap-2 text-sm font-medium z-50 animate-in fade-in slide-in-from-bottom-2 duration-200",children:[i.jsx(We,{size:16,className:"text-green-500"}),"Copiado al portapapeles"]}),i.jsx(tS,{title:"Suscripciones",subtitle:"Gestiona los planes y cobros de los clientes",action:i.jsxs(B,{onClick:()=>{o&&c?x():l(!o)},className:"flex items-center gap-2",variant:o?"outline":"primary",children:[o?i.jsx(Q0,{size:18}):i.jsx(Wu,{size:18}),o?c?"Cancelar Edicin":"Cancelar":"Nueva Suscripcin"]})}),o&&i.jsx(rS,{form:d,setForm:h,clients:f,onCancel:x,onSubmit:N,creating:s,editingId:c}),i.jsx(Z,{title:`Historial de Suscripciones (${e.length})`,className:"h-full",children:r?i.jsx("div",{className:"flex justify-center p-8",children:i.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):e.length===0?i.jsxs("div",{className:"text-center p-12",children:[i.jsx("div",{className:"bg-gray-100 dark:bg-slate-700/50 rounded-full h-16 w-16 flex items-center justify-center mx-auto mb-4",children:i.jsx(Et,{size:32,className:"text-gray-400 dark:text-gray-500"})}),i.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"No hay suscripciones activas"}),i.jsx("p",{className:"text-gray-500 dark:text-gray-400 mb-6",children:"Crea una nueva suscripcin para comenzar."}),i.jsx(B,{onClick:()=>l(!0),children:"Crear primera suscripcin"})]}):i.jsx("div",{className:"flex flex-col gap-4",children:e.map(j=>{const I=f.find(A=>A.uid===j.clientId||A.id===j.clientId);return i.jsx(nS,{sub:j,client:I,onEdit:()=>p(j),onDelete:E,onCopy:b,copiedValue:g??"",PLAN_LABELS:k},j.id??j.clientId)})})})]})}function aS(){const{uid:e}=xv(),t=pa(),[r,n]=v.useState(!0),[s,a]=v.useState(!1),[o,l]=v.useState(null),[c,u]=v.useState(""),[d,h]=v.useState({name:"",phone:"",address:""}),[f,w]=v.useState(null);v.useEffect(()=>{if(!e)return;n(!0),(async()=>{var k,m;try{const x=(await Xr.get(e)).data,N=x.data||x;!N||N.name;const E=N;if(l(E),h({name:E.name||"",phone:E.phone||"",address:E.address||""}),E.uid)try{const b=await Dt.getUser(E.uid),j=((k=b.data)==null?void 0:k.data)||((m=b.data)==null?void 0:m.user)||b.data;u((j==null?void 0:j.email)||"")}catch{}}catch(p){console.error(p),w("Error cargando cliente")}finally{n(!1)}})()},[e]);const g=async y=>{var k,m,p,x;if(y.preventDefault(),!!e){a(!0),w(null);try{await Xr.update(e,d),alert("Cliente actualizado correctamente"),t("/admin/clients")}catch(N){console.error(N);const b=((m=(k=N.response)==null?void 0:k.data)==null?void 0:m.message)||((x=(p=N.response)==null?void 0:p.data)==null?void 0:x.error)||(N instanceof Error?N.message:"Error actualizando cliente");w(b)}finally{a(!1)}}};return r?i.jsx("div",{className:"p-8 text-center text-gray-500",children:"Cargando datos..."}):i.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"text-2xl font-bold text-gray-900 tracking-tight",children:"Editar Cliente"}),i.jsx("p",{className:"text-sm text-gray-500",children:"Actualiza la informacin de contacto"})]}),i.jsx(B,{variant:"ghost",onClick:()=>t("/admin/clients"),children:" Volver"})]}),i.jsxs(Z,{title:`Editar: ${(o==null?void 0:o.name)||e}`,children:[f&&i.jsx("div",{className:"mb-4 p-3 bg-red-50 text-red-700 rounded-lg text-sm border border-red-100",children:f}),i.jsxs("form",{onSubmit:g,className:"space-y-6",children:[i.jsx(G,{label:"ID Cliente",value:e||"",disabled:!0,className:"bg-gray-50 text-gray-500"}),i.jsx(G,{label:"Email (Asociado)",value:c||"No disponible",disabled:!0,className:"bg-gray-50 text-gray-500"}),i.jsx(G,{label:"Nombre Completo",value:d.name,onChange:y=>h({...d,name:y.target.value}),placeholder:"Ej: Juan Prez",required:!0}),i.jsx(G,{label:"Telfono",value:d.phone,onChange:y=>h({...d,phone:y.target.value}),placeholder:"+56 9 1234 5678"}),i.jsx(G,{label:"Direccin",value:d.address,onChange:y=>h({...d,address:y.target.value}),placeholder:"Calle Falsa 123"}),i.jsxs("div",{className:"pt-4 flex justify-end gap-3",children:[i.jsx(B,{type:"button",variant:"secondary",onClick:()=>t("/admin/clients"),children:"Cancelar"}),i.jsx(B,{type:"submit",disabled:s,children:s?"Guardando...":"Guardar Cambios"})]})]})]})]})}const iS=e=>e?typeof e=="string"?new Date(e).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):oS(e)?new Date(e._seconds*1e3).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):"":"";function oS(e){return e&&typeof e._seconds=="number"}function lS({conversation:e,selected:t,onClick:r}){return i.jsxs("button",{onClick:r,className:`
        group w-full text-left p-4 rounded-xl border flex items-center gap-4 transition-all duration-200 cursor-pointer shadow-sm

        ${t?"bg-primary/10 dark:bg-primary/20 border-primary/30 shadow-sm":"bg-slate-100 dark:bg-slate-800 border-transparent hover:bg-slate-50 dark:hover:bg-slate-700 hover:border-slate-200 dark:hover:border-slate-600"}
      `,children:[i.jsx("div",{className:`
          h-11 w-11 rounded-full flex items-center justify-center font-semibold text-sm ring-2 shadow-sm shrink-0 transition-colors

          ${t?"bg-primary/20 text-primary/foreground ring-primary/20":"bg-primary/20 dark:bg-primary/30 text-slate-700 dark:text-slate-200 ring-primary dark:ring-slate-700 group-hover:bg-primary/30 group-hover:text-primary"}
        `,children:(e.name||e.phone||"?").charAt(0).toUpperCase()}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsxs("div",{className:"flex justify-between items-center mb-1",children:[i.jsxs("div",{className:"flex items-center gap-2 overflow-hidden pr-2",children:[i.jsx("span",{className:`
                font-semibold text-sm truncate transition-colors
                ${t?"text-primary":"text-slate-900 dark:text-slate-100 group-hover:text-primary"}
              `,children:e.name||e.phone||"Usuario Desconocido"}),e.prospect&&i.jsx("span",{className:"text-[10px] uppercase font-bold text-amber-600 bg-amber-100 dark:bg-amber-900/30 dark:text-amber-400 px-1.5 py-0.5 rounded-full shrink-0",children:"Prospecto"})]}),e.lastMessageAt&&i.jsx("span",{className:`
                text-[10px] font-medium shrink-0 transition-colors
                ${t?"text-primary":"text-slate-400 dark:text-slate-500 group-hover:text-slate-600 dark:group-hover:text-slate-300"}
              `,children:iS(e.lastMessageAt)})]}),i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsxs("p",{className:`
              text-xs truncate max-w-[85%] font-medium transition-colors
              ${t?"text-slate-900 dark:text-slate-100":"text-slate-500 dark:text-slate-400 group-hover:text-slate-700 dark:group-hover:text-slate-200"}
            `,children:[e.lastMessageDir==="outbound"&&i.jsx("span",{className:"font-bold mr-1 opacity-70",children:"T:"}),e.lastMessageBody||"Sin mensajes"]}),!!e.unreadCount&&i.jsx("span",{className:`\r
              min-w-5 h-5 px-1 ml-2 flex items-center justify-center rounded-full\r
              bg-primary text-white text-[10px] font-bold shadow-sm border border-white dark:border-slate-800\r
            `,children:e.unreadCount})]})]})]})}const cS=e=>e?typeof e=="string"?new Date(e).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):e._seconds?new Date(e._seconds*1e3).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):"":"";function uS(){const[e,t]=v.useState([]),[r,n]=v.useState(!1),[s,a]=v.useState(null),[o,l]=v.useState([]),[c,u]=v.useState(!1),[d,h]=v.useState(""),[f,w]=v.useState(!1),[g,y]=v.useState(!0),[k,m]=v.useState(!1),[p,x]=v.useState(""),N=v.useRef(null),E=v.useRef(null);v.useRef(null);const b=async(P=!1)=>{var H;P||n(!0);try{const z=await Hr.listConversations(),J=Array.isArray(z.data)?z.data:((H=z.data)==null?void 0:H.data)||[];t(_=>JSON.stringify(_)!==JSON.stringify(J)?J:_)}catch(z){console.error(z)}finally{P||n(!1)}};v.useEffect(()=>{b();const P=setInterval(()=>{b(!0)},15e3);return()=>clearInterval(P)},[]);const j=P=>P?P.phone||P.id||P.clientId||P.uid:null,I=async(P=!1)=>{const H=j(s);if(!H){console.warn("No identifier found for conversation",s);return}let z=!0;P?z=!0:(u(!0),y(!0));try{const J=await Hr.getMessages(H,{limit:50,orderBy:"createdAt desc",sort:"desc"});if(!z)return;const _=J.data;let D=[];Array.isArray(_)?D=_:_&&Array.isArray(_.data)?D=_.data:console.warn("Estructura de mensajes inesperada:",_);const O=D;P||(O.length===0?console.log("No se encontraron mensajes para",H):O[0].id||console.warn("Mensajes recibidos sin ID, pueden fallar en renderizado:",O[0])),!P&&O.length<50&&y(!1),O.sort((M,V)=>{const ye=te=>te?typeof te=="string"?new Date(te).getTime():te._seconds?te._seconds*1e3:0:0;return ye(M.createdAt||M.timestamp)-ye(V.createdAt||V.timestamp)}),P?l(M=>{var fn,Rt;const V=O[O.length-1],ye=M[M.length-1],te=M.filter(Ne=>Ne.id&&Ne.id.startsWith("opt_")),Te=V?(Ne=>Ne?typeof Ne=="string"?new Date(Ne).getTime():Ne._seconds?Ne._seconds*1e3:0:0)(V.createdAt||V.timestamp):0,Se=te.filter(Ne=>!O.find(ct=>{const De=ct.body===Ne.body,zr=ct.direction===Ne.direction;return De&&zr})),ve=[...O,...Se];return ve.sort((Ne,sr)=>{const ct=De=>De?typeof De=="string"?new Date(De).getTime():De._seconds?De._seconds*1e3:0:0;return ct(Ne.createdAt||Ne.timestamp)-ct(sr.createdAt||sr.timestamp)}),ve.length!==M.length||((fn=ve[ve.length-1])==null?void 0:fn.id)!==((Rt=M[M.length-1])==null?void 0:Rt.id)?(ve.length>M.length&&setTimeout(A,50),ve):M}):(l(O),A())}catch(J){P||console.error("Error fetching messages:",J)}finally{z&&!P&&u(!1)}};v.useEffect(()=>{if(l([]),y(!0),!j(s))return;I(!1);const H=setInterval(()=>{b(!0)},15e3);return()=>clearInterval(H)},[s]);const A=()=>{setTimeout(()=>{E.current&&(E.current.scrollTop=E.current.scrollHeight)},100)},L=P=>{if(a(P),P.unreadCount&&P.unreadCount>0){t(z=>z.map(J=>J.id===P.id?{...J,unreadCount:0}:J));const H=P.id||P.phone;H&&Hr.markAsRead(H).catch(z=>{console.error("Error marking as read:",z)})}},K=async P=>{const{scrollTop:H,scrollHeight:z,clientHeight:J}=P.currentTarget;if(H===0&&!k&&g&&o.length>0){m(!0);const _=o[0],D=j(s);if(!D)return;try{const M=(await Hr.getMessages(D,{limit:50,startAfter:_.id,orderBy:"createdAt desc",sort:"desc"})).data,V=Array.isArray(M)?M:Array.isArray(M==null?void 0:M.data)?M.data:[];if(V.length<50&&y(!1),V.length===0){m(!1);return}V.sort((te,Be)=>{const Te=Se=>Se?typeof Se=="string"?new Date(Se).getTime():Se._seconds?Se._seconds*1e3:0:0;return Te(te.createdAt||te.timestamp)-Te(Be.createdAt||Be.timestamp)});const ye=z;l(te=>[...V,...te]),requestAnimationFrame(()=>{if(E.current){const te=E.current.scrollHeight;E.current.scrollTop=te-ye}})}catch(O){console.error("Error fetching more messages:",O)}finally{m(!1)}}},Q=P=>{K(P)},Y=async P=>{var z,J;P.preventDefault();const H=j(s);if(!(!d.trim()||!H)){w(!0);try{await Hr.send({clientId:H,body:d});const _=(s==null?void 0:s.id)||(s==null?void 0:s.phone);if(_){const D={id:"opt_"+Date.now(),body:d,from:"me",to:_,direction:"outbound",createdAt:new Date().toISOString()};l(O=>[...O,D]),t(O=>O.map(M=>(M.id||M.phone)===_?{...M,lastMessageBody:d,lastMessageDir:"outbound",lastMessageAt:new Date().toISOString()}:M))}h(""),A()}catch(_){console.error("Error details:",_),alert("Error enviando mensaje: "+(((J=(z=_.response)==null?void 0:z.data)==null?void 0:J.message)||_.message||"Desconocido"))}finally{w(!1)}}};return i.jsxs("div",{className:"h-[calc(100vh-140px)] flex flex-col gap-4 overflow-hidden",children:[i.jsx("div",{className:"flex justify-between items-center px-1 shrink-0",children:i.jsx("h2",{className:"text-2xl font-bold tracking-tight text-slate-900 dark:text-white",children:"Comunicacin"})}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 h-full min-h-0 overflow-hidden md:overflow-visible",children:[i.jsxs(Z,{className:`flex flex-col h-full overflow-hidden p-0 bg-white dark:bg-slate-800 ${s?"hidden md:flex":"flex"}`,children:[i.jsxs("div",{className:"p-4 border-b border-slate-100 dark:border-slate-700 space-y-3 bg-white dark:bg-slate-800",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsxs("h3",{className:"font-bold text-lg text-slate-900 dark:text-white flex items-center gap-2",children:[i.jsx(Vu,{className:"text-primary",size:20}),"Mensajes"]}),i.jsx("span",{className:"h-8 w-8 text-xs font-medium text-slate-500 dark:text-slate-400 bg-slate-100 dark:bg-slate-700 rounded-full flex items-center justify-center",children:e.length})]}),i.jsxs("div",{className:"relative",children:[i.jsx(qu,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400",size:16}),i.jsx("input",{type:"text",placeholder:"Buscar chat...",value:p,onChange:P=>x(P.target.value),className:"w-full pl-9 pr-4 py-2 bg-slate-50 dark:bg-slate-900 border-slate-200 dark:border-slate-600 border rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-primary/20 focus:border-primary transition-all placeholder:text-slate-400 dark:placeholder:text-slate-500 text-slate-900 dark:text-white"})]})]}),i.jsx("div",{className:"flex-1 overflow-y-auto min-h-0 p-2 bg-slate-50/50 dark:bg-slate-900/50",children:r?i.jsxs("div",{className:"flex flex-col items-center justify-center py-8 space-y-2 text-slate-400",children:[i.jsx(Nt,{className:"animate-spin",size:20}),i.jsx("span",{className:"text-xs",children:"Cargando..."})]}):e.length===0?i.jsx("div",{className:"text-sm text-slate-500 py-8 text-center px-4",children:"No hay conversaciones activas."}):i.jsx("div",{className:"space-y-1",children:e.filter(P=>{var z,J,_;if(!p)return!0;const H=p.toLowerCase();return((z=P.name)==null?void 0:z.toLowerCase().includes(H))||((J=P.phone)==null?void 0:J.includes(H))||((_=P.lastMessageBody)==null?void 0:_.toLowerCase().includes(H))}).map(P=>i.jsx(lS,{conversation:P,selected:(s==null?void 0:s.id)===P.id,onClick:()=>L(P)},P.id))})})]}),i.jsx(Z,{className:`md:col-span-2 h-full overflow-hidden relative flex flex-col bg-white dark:bg-slate-800 ${s?"flex":"hidden md:flex"}`,children:s?i.jsxs("div",{className:"flex flex-col h-full overflow-hidden",children:[i.jsx("div",{className:"p-4 border-b border-slate-100 dark:border-slate-700 bg-slate-50 dark:bg-slate-800 flex justify-between items-center shrink-0",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("button",{onClick:()=>a(null),className:"md:hidden p-2 -ml-2 text-slate-600 dark:text-slate-300 hover:bg-slate-200 dark:hover:bg-slate-700 rounded-full transition-colors",children:i.jsx(mj,{size:20})}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-semibold text-slate-900 dark:text-white",children:s.name||s.phone}),i.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:s.phone})]})]})}),i.jsxs("div",{ref:E,onScroll:Q,className:"flex-1 overflow-y-auto p-4 space-y-4 bg-slate-50/20 dark:bg-slate-900/20 min-h-0",children:[k&&i.jsx("div",{className:"flex justify-center py-2 text-xs text-slate-400",children:i.jsx("span",{className:"animate-pulse",children:"Cargando mensajes anteriores..."})}),c?i.jsx("div",{className:"flex justify-center py-8",children:i.jsx("span",{className:"animate-spin h-5 w-5 border-2 border-primary border-t-transparent rounded-full"})}):o.length===0?i.jsx("div",{className:"text-center text-slate-400 text-sm py-10",children:"No hay mensajes en esta conversacin"}):o.map((P,H)=>{let z=!1;return P.direction?z=P.direction==="outbound":(P.template||["sent","delivered","read","queued","failed"].includes(P.status||"")||P.from==="me"||P.to===s.phone)&&(z=!0),i.jsx("div",{className:`flex ${z?"justify-end":"justify-start"} animate-in fade-in slide-in-from-bottom-2 duration-300`,children:i.jsxs("div",{className:`
                                        max-w-[75%] rounded-2xl px-5 py-3 text-sm shadow-sm relative group
                                        ${z?"bg-primary text-white rounded-tr-sm":"bg-white dark:bg-slate-700 text-slate-900 dark:text-white border border-slate-200 dark:border-slate-600 rounded-tl-sm"}
                                    `,children:[P.template?i.jsx("div",{className:`text-xs mb-1.5 font-medium flex items-center gap-1 ${z?"opacity-90 text-primary-100":"text-primary"}`,children:i.jsx("span",{className:"uppercase tracking-wider text-[10px]",children:"Plantilla"})}):null,i.jsx("div",{className:"leading-relaxed whitespace-pre-wrap",children:P.body||(P.template?P.template.replace(/_/g," "):"")}),i.jsxs("div",{className:`text-[10px] mt-1.5 flex gap-1 items-center select-none
                                            ${z?"justify-end text-primary-100/90":"justify-start text-slate-400"}
                                        `,children:[i.jsx("span",{children:cS(P.createdAt||P.timestamp)}),z&&P.status&&i.jsx("span",{title:`Estado: ${P.status}`,className:["read","READ"].includes(P.status)?"text-blue-100 font-bold":"",children:["read","READ"].includes(P.status)||["delivered","DELIVERED"].includes(P.status)?"":["sent","SENT"].includes(P.status)?"":""})]})]})},H)}),i.jsx("div",{ref:N})]}),i.jsx("div",{className:"p-4 bg-slate-100 dark:bg-slate-800 border-t border-slate-100 dark:border-slate-700",children:i.jsxs("form",{onSubmit:Y,className:"flex gap-2 items-center w-full",children:[i.jsx("div",{className:"flex-1",children:i.jsx(G,{className:"min-h-11 border-slate-200 dark:border-slate-600 focus-visible:ring-primary/20 bg-white dark:bg-slate-900 dark:text-white",value:d,onChange:P=>h(P.target.value),placeholder:"Escribe un mensaje...",disabled:f,autoFocus:!0})}),i.jsx(B,{className:"h-11 w-11 md:w-auto px-0 md:px-4 rounded-lg bg-primary hover:bg-primary-700 shadow-md transition-all shrink-0 flex items-center justify-center",type:"submit",disabled:f||!d.trim(),children:f?i.jsx(Nt,{className:"animate-spin h-5 w-5"}):i.jsxs(i.Fragment,{children:[i.jsx(j2,{size:18,className:f||!d.trim()?"opacity-50":""}),i.jsx("span",{className:"hidden md:inline ml-2",children:"Enviar"})]})})]})})]}):i.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-slate-400 dark:text-slate-500 p-8 text-center",children:[i.jsx("svg",{className:"w-16 h-16 mb-4 text-slate-200 dark:text-slate-700",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})}),i.jsx("p",{children:"Selecciona una conversacin para comenzar a chatear"})]})})]})]})}const ch=e=>{try{const t=e.trim().split(" ");if(t.length<2)return e;const r=parseInt(t[0]),n=parseInt(t[1]);if(isNaN(r)||isNaN(n))return e;const s=n>=12?"PM":"AM",a=n%12||12,o=r.toString().padStart(2,"0");return`${a}:${o} ${s}`}catch{return e}};function dS(){const[e,t]=v.useState(!1),[r,n]=v.useState("0 9 * * *"),[s,a]=v.useState(!1),[o,l]=v.useState(!0),[c,u]=v.useState(!1),[d,h]=v.useState("");Tr.useEffect(()=>{(async()=>{var m;a(!0);try{const p=await gs.getConfig(),x=((m=p.data)==null?void 0:m.data)||p.data;x&&(t(!!x.enabled),n(x.cronExpression||"0 9 * * *"))}catch(p){console.error("Error loading config",p)}finally{a(!1)}})()},[]);const f=async()=>{const k=!e;try{await gs.updateConfig({enabled:k}),t(k),alert(k?"Automatizacin activada":"Automatizacin desactivada")}catch(m){console.error(m),alert(m.message||"Error updating config")}},w=async()=>{try{if(!e&&!confirm("La automatizacin est actualmente desactivada. Se actualizar la hora programada pero seguir inactiva. Continuar?"))return;await gs.updateConfig({cronExpression:r,timeZone:"America/Caracas",enabled:e}),alert("Configuracin guardada exitosamente")}catch(k){console.error(k),alert(k.message||"Error saving cron")}},g=async()=>{if(confirm("Ests seguro? Esto eliminar la configuracin personalizada y restablecer los valores predeterminados (Activo, 9:00 AM)."))try{await gs.deleteConfig(),alert("Configuracin restablecida. Se recargarn los valores por defecto."),n("0 9 * * *"),t(!0)}catch(k){alert(k.message||"Error reseting config")}},y=async()=>{var k,m;if(!(!o&&!confirm("ATENCIN: Ests a punto de ejecutar el proceso REAL. Se enviarn notificaciones a los clientes por WhatsApp/Correo. Ests seguro?"))){u(!0),h("Ejecutando proceso...");try{const p=await gs.runDaily({dryRun:o},{reason:"manual-check"});h(JSON.stringify(p.data,null,2))}catch(p){const x=((m=(k=p.response)==null?void 0:k.data)==null?void 0:m.message)||p.message;h(`Error: ${x}`)}finally{u(!1)}}};return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center bg-white dark:bg-slate-800 p-4 rounded-lg shadow-sm border border-slate-200 dark:border-slate-700 mb-6 gap-4",children:[i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(tg,{className:"w-5 h-5 text-yellow-500"}),i.jsx("h2",{className:"text-xl sm:text-2xl font-bold tracking-tight text-slate-900 dark:text-white",children:"Automatizacin"})]}),i.jsxs("p",{className:"text-sm text-slate-500 dark:text-slate-400 mt-1",children:["Zona Horaria: ",i.jsx("span",{className:"font-mono text-xs bg-slate-100 dark:bg-slate-700 dark:text-slate-300 px-1 py-0.5 rounded ml-1",children:"America/Caracas"})]}),i.jsxs("p",{className:"text-sm text-slate-500 dark:text-slate-400 mt-1",children:["Frecuencian Actual: ",i.jsxs("span",{className:"font-mono text-xs bg-slate-100 dark:bg-slate-700 dark:text-slate-300 px-1 py-0.5 rounded ml-1",children:["(",ch(r),")"]})]})]}),i.jsxs("div",{className:"flex flex-col sm:flex-row items-stretch sm:items-center gap-4 w-full sm:w-auto",children:[s&&i.jsx("span",{className:"text-sm text-slate-500 dark:text-slate-400 text-center",children:"Cargando..."}),i.jsx(B,{onClick:f,variant:e?"destructive":"primary",disabled:s,className:`w-full sm:w-auto flex items-center justify-center gap-2 ${e?"bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400 hover:bg-red-100 dark:hover:bg-red-900/40 border-red-200 dark:border-red-800":""}`,children:e?i.jsxs(i.Fragment,{children:[i.jsx(o2,{size:18})," Desactivar Tarea"]}):i.jsxs(i.Fragment,{children:[i.jsx(We,{size:18})," Activar Tarea (",ch(r),")"]})})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs(Z,{title:"Programacin de Facturas",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-4 text-slate-500 dark:text-slate-400",children:[i.jsx(kj,{size:16}),i.jsx("p",{className:"text-sm",children:"Configura cundo se envan las facturas automticas."})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[i.jsx("div",{className:"flex-1",children:i.jsx(G,{label:"Frecuencia",value:r,onChange:k=>n(k.target.value),helpText:"min hora dia mes *",className:"font-mono text-sm truncate"})}),i.jsx("div",{className:"flex items-center",children:i.jsxs(B,{onClick:w,size:"md",variant:"secondary",className:"w-full sm:w-auto flex items-center justify-center gap-2",children:[i.jsx(eg,{size:16})," Actualizar"]})})]}),i.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-4 justify-between pt-2 border-t border-slate-100 dark:border-slate-800 ml-0",children:[i.jsxs("div",{className:"flex items-center gap-2 bg-slate-50 dark:bg-slate-800/50 px-3 py-1.5 rounded-full",children:[i.jsx("span",{className:`h-2.5 w-2.5 rounded-full ${e?"bg-green-500 shadow-[0_0_8px_rgba(34,197,94,0.5)]":"bg-slate-300 dark:bg-slate-600"}`}),i.jsx("span",{className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:e?"Servicio Activo":"Servicio Inactivo"})]}),i.jsxs("button",{onClick:g,className:"text-xs flex items-center gap-1 text-slate-400 dark:text-slate-500 hover:text-red-500 dark:hover:text-red-400 underline decoration-dotted underline-offset-2 transition-colors",children:[i.jsx(w2,{size:12})," Restablecer valores"]})]})]})]}),i.jsxs(Z,{title:"Notificaciones Automticas",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-4 text-slate-500 dark:text-slate-400",children:[i.jsx(xj,{size:16}),i.jsx("p",{className:"text-sm",children:"Configuracin de alertas automticas."})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex items-center justify-between p-3 border border-slate-200 dark:border-slate-700 rounded-lg bg-white dark:bg-slate-800 hover:bg-slate-50 dark:hover:bg-slate-700/50 cursor-pointer transition-all active:scale-[0.98]",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"p-2 bg-primary/10 rounded-full text-primary",children:i.jsx(cn,{size:16})}),i.jsxs("div",{children:[i.jsx("div",{className:"font-medium text-sm text-slate-900 dark:text-white",children:"Recordatorio de Pago"}),i.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Enviar 3 das antes del vencimiento"})]})]}),i.jsx("div",{className:"relative inline-flex h-6 w-11 items-center rounded-full bg-primary/90 dark:bg-primary",children:i.jsx("span",{className:"translate-x-6 inline-block h-4 w-4 transform rounded-full bg-white transition shadow-sm"})})]}),i.jsxs("div",{className:"flex items-center justify-between p-3 border border-slate-200 dark:border-slate-700 rounded-lg bg-white dark:bg-slate-800 hover:bg-slate-50 dark:hover:bg-slate-700/50 cursor-pointer transition-all active:scale-[0.98]",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"p-2 bg-slate-100 dark:bg-slate-700 rounded-full text-slate-500 dark:text-slate-300",children:i.jsx(hj,{size:16})}),i.jsxs("div",{children:[i.jsx("div",{className:"font-medium text-sm text-slate-900 dark:text-white",children:"Bienvenida a Nuevo Cliente"}),i.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Enviar al registrarse"})]})]}),i.jsx("div",{className:"relative inline-flex h-6 w-11 items-center rounded-full bg-slate-200 dark:bg-slate-600",children:i.jsx("span",{className:"translate-x-1 inline-block h-4 w-4 transform rounded-full bg-white transition shadow-sm"})})]})]})]}),i.jsxs(Z,{title:"Ejecucin Manual",className:"md:col-span-2 lg:col-span-1",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-4 text-slate-500 dark:text-slate-400",children:[i.jsx(lh,{size:16}),i.jsx("p",{className:"text-sm",children:"Ejecucin inmediata de tareas."})]}),i.jsxs("div",{className:"flex pb-4 sm:items-center flex-col sm:flex-row gap-4 mb-4 border-b border-slate-100 dark:border-slate-700",children:[i.jsxs("label",{className:"flex items-center gap-3 cursor-pointer p-2 rounded-lg hover:bg-slate-50 dark:hover:bg-slate-800/50 transition-colors border border-transparent hover:border-slate-200 dark:hover:border-slate-700 w-full sm:w-auto",children:[i.jsx("div",{className:`w-5 h-5 rounded flex items-center justify-center border ${o?"bg-primary border-primary text-white":"bg-white border-slate-300 dark:bg-slate-800 dark:border-slate-600"}`,children:o&&i.jsx(We,{size:14})}),i.jsx("input",{type:"checkbox",checked:o,onChange:k=>l(k.target.checked),className:"hidden"}),i.jsx("span",{className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:"Modo Simulacin"})]}),i.jsxs("div",{className:"flex items-start gap-2 text-xs text-slate-500 dark:text-slate-400 px-2 sm:px-0",children:[i.jsx(D2,{size:14,className:"mt-0.5 shrink-0 text-amber-500"}),i.jsx("span",{children:o?"Solo contabiliza lo que se enviara (No enva correos/WhatsApp).":i.jsx("span",{className:"text-amber-600 dark:text-amber-400 font-medium",children:"ATENCIN: Se enviarn mensajes REALES a los clientes."})})]})]}),i.jsxs(B,{onClick:y,disabled:c,variant:o?"secondary":"primary",className:"w-full sm:w-auto flex items-center justify-center gap-2 py-6 text-base shadow-sm",children:[c?i.jsx(y2,{className:"animate-spin"}):i.jsx(lh,{size:18,fill:"currentColor"}),c?"Ejecutando proceso...":o?"Iniciar Simulacin":"EJECUTAR ENVO REAL"]}),d&&i.jsxs("div",{className:"mt-4 p-4 bg-slate-900 text-slate-300 rounded-lg border border-slate-700 text-xs font-mono overflow-auto max-h-60 shadow-inner",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-2 text-slate-400 border-b border-slate-800 pb-2",children:[i.jsx(m2,{size:12,className:"animate-pulse text-green-500"}),i.jsx("span",{className:"uppercase tracking-wider text-[10px]",children:"Console Output"})]}),i.jsx("pre",{className:"whitespace-pre-wrap breakdown-all",children:d})]})]})]})]})}function fS(){var u;const[e,t]=v.useState(null),[r,n]=v.useState(!0),[s,a]=v.useState(!1),[o,l]=v.useState({displayName:"",phone:"",address:""});v.useEffect(()=>{let d=!0;return(async()=>{var f,w;try{const g=await Dt.me(),y=((f=g.data)==null?void 0:f.user)||((w=g.data)==null?void 0:w.data);d&&y&&(t(y),l({displayName:y.name||y.displayName||"",phone:y.phone||"",address:y.address||""}))}catch(g){console.error(g)}finally{d&&n(!1)}})(),()=>{d=!1}},[]);const c=async d=>{d.preventDefault(),a(!0),setTimeout(()=>{alert("Perfil actualizado (Simulado)"),a(!1)},1e3)};return r?i.jsx("div",{className:"p-8 text-center text-gray-500",children:"Cargando perfil..."}):i.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("div",{className:"h-16 w-16 rounded-full bg-slate-100 dark:bg-slate-700 border-2 border-white dark:border-slate-600 flex items-center justify-center text-xl font-bold text-primary dark:text-white shadow-sm overflow-hidden",children:(u=e==null?void 0:e.email)==null?void 0:u.charAt(0).toUpperCase()}),i.jsxs("div",{children:[i.jsx("h2",{className:"text-2xl font-bold text-primary dark:text-white",children:(e==null?void 0:e.displayName)||(e==null?void 0:e.name)||"Usuario"}),i.jsx("p",{className:"text-gray-500",children:e==null?void 0:e.email})]})]}),i.jsx(Z,{title:"Informacin Personal",children:i.jsxs("form",{onSubmit:c,className:"space-y-4",children:[i.jsx(G,{label:"Nombre Completo",value:o.displayName,onChange:d=>l({...o,displayName:d.target.value})}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsx(G,{label:"Telfono",value:o.phone,onChange:d=>l({...o,phone:d.target.value}),placeholder:"+56 9 1234 5678"}),i.jsx(G,{label:"Direccin",value:o.address,onChange:d=>l({...o,address:d.target.value}),placeholder:"Av. Principal 123"})]}),i.jsx("div",{className:"pt-4 flex justify-end",children:i.jsxs(B,{type:"submit",disabled:s,className:"flex items-center gap-2",children:[i.jsx(M2,{size:18}),s?"Guardando...":"Guardar Cambios"]})})]})}),i.jsx(Z,{title:"Seguridad",children:i.jsx("div",{className:"space-y-4",children:i.jsxs("div",{className:"p-4 bg-yellow-50 rounded-lg border border-yellow-100 flex items-start gap-3",children:[i.jsx("div",{className:"text-yellow-600 mt-0.5",children:i.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),i.jsxs("div",{children:[i.jsx("h4",{className:"text-sm font-medium text-yellow-800",children:"Cambiar Contrasea"}),i.jsx("p",{className:"text-xs text-yellow-700 mt-1",children:"Para cambiar tu contrasea, por favor contacta al administrador del sistema o usa la opcin de recuperacin de contrasea en el login."})]})]})})})]})}function hS(){const[e,t]=v.useState([]),[r,n]=v.useState(!0),[s,a]=v.useState(null),[o,l]=v.useState({displayName:"",role:"staff",disabled:!1}),[c,u]=v.useState(!1),[d,h]=v.useState(!1),[f,w]=v.useState({email:"",password:"",displayName:"",role:"staff"}),[g,y]=v.useState(null);v.useEffect(()=>{k()},[]);const k=async()=>{var b,j,I;n(!0);try{const A=await Dt.listUsers({limit:50});(j=(b=A.data)==null?void 0:b.data)!=null&&j.users?t(A.data.data.users):Array.isArray(A.data)?t(A.data):(I=A.data)!=null&&I.data&&Array.isArray(A.data.data)&&t(A.data.data)}catch(A){console.error(A)}finally{n(!1)}},m=b=>{a(b.uid),l({displayName:b.displayName||b.name||"",role:b.role||"guest",disabled:b.disabled||!1})},p=()=>{a(null),l({displayName:"",role:"staff",disabled:!1})},x=async b=>{try{await Dt.updateUser(b,{displayName:o.displayName,role:o.role,disabled:o.disabled}),t(j=>j.map(I=>I.uid===b?{...I,...o}:I)),a(null)}catch(j){alert("Error actualizando usuario: "+(j.message||"Error desconocido"))}},N=async b=>{b.preventDefault(),h(!0);try{await Dt.create({email:f.email,password:f.password,displayName:f.displayName,role:f.role}),w({email:"",password:"",displayName:"",role:"staff"}),u(!1),k()}catch(j){alert("Error creando usuario: "+(j.message||"Error desconocido"))}finally{h(!1)}},E=async()=>{if(g)try{await Dt.deleteUser(g.uid),t(b=>b.filter(j=>j.uid!==g.uid)),y(null)}catch(b){alert("Error eliminando usuario: "+(b.message||"Error desconocido")),y(null)}};return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 bg-white dark:bg-slate-800 p-4 rounded-xl shadow-sm border border-slate-200 dark:border-slate-700",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"p-3 bg-indigo-50 dark:bg-indigo-900/20 rounded-lg text-indigo-600 dark:text-indigo-400",children:i.jsx(gl,{size:24})}),i.jsxs("div",{children:[i.jsx("h2",{className:"text-2xl font-bold text-slate-900 dark:text-white tracking-tight",children:"Gestin de Usuarios"}),i.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:"Administra el staff y accesos administrativos"})]})]}),i.jsxs(B,{onClick:()=>{u(!c)},className:"w-full sm:w-auto flex items-center justify-center gap-2",variant:c?"outline":"primary",children:[c?i.jsx(la,{size:18}):i.jsx(Yi,{size:18}),c?"Cancelar":"Nuevo Usuario"]})]}),c&&i.jsxs("div",{className:"bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl shadow-lg overflow-hidden transition-all duration-300 ease-in-out mb-6",children:[i.jsxs("div",{className:"p-6 bg-slate-50 dark:bg-slate-900/50 border-b border-slate-100 dark:border-slate-700 flex items-center gap-3",children:[i.jsx("div",{className:"h-8 w-8 rounded-full bg-primary/10 flex items-center justify-center text-primary",children:i.jsx(Yi,{size:16})}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-semibold text-slate-900 dark:text-white",children:"Registrar Nuevo Usuario"}),i.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:"Crea una cuenta para un administrador o miembro del staff."})]})]}),i.jsx("div",{className:"p-6",children:i.jsxs("form",{onSubmit:N,className:"space-y-6",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsx(G,{label:"Nombre Completo",value:f.displayName,onChange:b=>w(j=>({...j,displayName:b.target.value})),required:!0,placeholder:"Ej. Admin User",startContent:i.jsx(Yn,{size:16,className:"text-slate-400"})}),i.jsx(G,{label:"Email",type:"email",value:f.email,onChange:b=>w(j=>({...j,email:b.target.value})),required:!0,placeholder:"admin@empresa.com",startContent:i.jsx(Hu,{size:16,className:"text-slate-400"})}),i.jsx(G,{label:"Contrasea",type:"password",value:f.password,onChange:b=>w(j=>({...j,password:b.target.value})),required:!0,placeholder:"",startContent:i.jsx(Z0,{size:16,className:"text-slate-400"})}),i.jsxs("div",{children:[i.jsx("label",{className:"mb-1 text-sm font-medium text-slate-700 dark:text-slate-300 block",children:"Rol"}),i.jsxs("div",{className:"relative",children:[i.jsxs("select",{className:"flex h-11 w-full rounded-lg border border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-950 text-slate-900 dark:text-white px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent transition-shadow pl-10 appearance-none",value:f.role,onChange:b=>w(j=>({...j,role:b.target.value})),children:[i.jsx("option",{value:"staff",children:"Staff (Personal)"}),i.jsx("option",{value:"admin",children:"Administrador (Acceso Total)"}),i.jsx("option",{value:"client",children:"Cliente"})]}),i.jsx(gl,{size:16,className:"absolute left-3 top-3 text-slate-400 pointer-events-none"})]})]})]}),i.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t border-slate-100 dark:border-slate-700",children:[i.jsx(B,{type:"button",variant:"outline",onClick:()=>u(!1),disabled:d,children:"Cancelar"}),i.jsx(B,{type:"submit",disabled:d,className:"min-w-32",children:d?"Guardando...":"Crear Usuario"})]})]})})]}),i.jsx(Z,{title:`Usuarios del Sistema (${e.length})`,children:r?i.jsx("div",{className:"flex justify-center p-8",children:i.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):i.jsxs("div",{className:"overflow-x-auto -mx-4 sm:mx-0",children:[i.jsx("div",{className:"sm:hidden space-y-4 px-4 pb-4",children:e.map(b=>i.jsxs("div",{className:"bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-lg p-4 shadow-sm space-y-3",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"h-10 w-10 rounded-full bg-slate-200 dark:bg-slate-700 text-primary dark:text-white flex items-center justify-center font-bold text-sm ring-2 ring-white dark:ring-slate-600 shadow-sm shrink-0 uppercase",children:(b.displayName||b.name||b.email||"?").charAt(0)}),i.jsxs("div",{children:[s===b.uid?i.jsx(G,{value:o.displayName,onChange:j=>l({...o,displayName:j.target.value}),className:"h-8 text-xs mb-1",placeholder:"Nombre"}):i.jsx("div",{className:"text-sm font-semibold text-slate-400 dark:text-white",children:b.displayName||b.name||"Sin nombre"}),i.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400",children:b.email})]})]}),s!==b.uid&&i.jsxs("div",{className:"flex gap-1",children:[i.jsx("button",{onClick:()=>m(b),className:"text-slate-500 dark:text-slate-400 hover:bg-slate-100 dark:hover:bg-slate-700 p-2 rounded-full transition-colors",children:i.jsx(Ic,{size:18})}),i.jsx("button",{onClick:()=>y(b),className:"text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20 p-2 rounded-full transition-colors",children:i.jsx(xl,{size:18})})]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4 text-xs text-slate-600 dark:text-slate-400 pt-3 border-t border-slate-100 dark:border-slate-700/50",children:[i.jsxs("div",{children:[i.jsx("span",{className:"block text-slate-400 dark:text-slate-500 text-[10px] uppercase font-semibold mb-1",children:"Rol"}),s===b.uid?i.jsxs("select",{className:"block w-full py-1 text-xs border-slate-300 dark:border-slate-600 dark:bg-slate-800 focus:outline-none focus:ring-primary focus:border-primary sm:text-xs rounded-md",value:o.role,onChange:j=>l({...o,role:j.target.value}),children:[i.jsx("option",{value:"staff",children:"Staff"}),i.jsx("option",{value:"admin",children:"Admin"}),i.jsx("option",{value:"client",children:"Cliente"}),i.jsx("option",{value:"guest",children:"Guest"})]}):i.jsx("span",{className:`px-2.5 py-0.5 inline-flex text-xs leading-4 font-medium rounded-full border 
                                            ${b.role==="admin"?"bg-purple-50 dark:bg-purple-900/30 text-purple-700 dark:text-purple-300 border-purple-100 dark:border-purple-800":b.role==="staff"?"bg-blue-50 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300 border-blue-100 dark:border-blue-800":b.role==="client"?"bg-green-50 dark:bg-green-900/30 text-green-700 dark:text-green-300 border-green-100 dark:border-green-800":"bg-slate-100 dark:bg-slate-700 text-slate-700 dark:text-slate-300 border-slate-200 dark:border-slate-600"}`,children:b.role||"guest"})]}),i.jsxs("div",{children:[i.jsx("span",{className:"block text-slate-400 dark:text-slate-500 text-[10px] uppercase font-semibold mb-1",children:"Estado"}),s===b.uid?i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("input",{id:`disabled-mobile-${b.uid}`,type:"checkbox",checked:o.disabled,onChange:j=>l({...o,disabled:j.target.checked}),className:"h-4 w-4 text-red-600 focus:ring-red-500 border-slate-300 rounded"}),i.jsx("label",{htmlFor:`disabled-mobile-${b.uid}`,className:"text-xs text-slate-700 dark:text-slate-300",children:"Bloqueado"})]}):b.disabled?i.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-red-50 dark:bg-red-900/20 text-red-700 dark:text-red-400 border border-red-100 dark:border-red-800",children:"Bloqueado"}):i.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-green-50 dark:bg-green-900/20 text-green-700 dark:text-green-400 border border-green-100 dark:border-green-800",children:"Activo"})]})]}),s===b.uid&&i.jsxs("div",{className:"flex justify-end gap-2 pt-2 border-t border-slate-50 dark:border-slate-700",children:[i.jsx(B,{size:"sm",variant:"outline",onClick:p,className:"text-xs h-8",children:"Cancelar"}),i.jsx(B,{size:"sm",onClick:()=>x(b.uid),className:"text-xs h-8 bg-green-600 hover:bg-green-700 text-white",children:"Guardar Cambios"})]})]},b.uid))}),i.jsxs("table",{className:"min-w-full divide-y divide-slate-200 dark:divide-slate-700 hidden sm:table",children:[i.jsx("thead",{className:"bg-slate-50 dark:bg-slate-800",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Usuario"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Rol"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Estado"}),i.jsx("th",{className:"px-6 py-3 text-right text-xs font-semibold text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Acciones"})]})}),i.jsx("tbody",{className:"bg-white dark:bg-slate-900 divide-y divide-slate-200 dark:divide-slate-800",children:e.map(b=>{var j;return i.jsxs("tr",{className:"hover:bg-slate-50 dark:hover:bg-slate-800/50 transition-colors",children:[i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s===b.uid?i.jsx("div",{className:"space-y-1",children:i.jsx(G,{value:o.displayName,onChange:I=>l({...o,displayName:I.target.value}),className:"h-8 text-xs",placeholder:"Nombre"})}):i.jsxs("div",{className:"flex items-center",children:[i.jsx("div",{className:"h-9 w-9 rounded-full bg-primary/10 text-primary flex items-center justify-center font-bold text-xs ring-2 ring-white dark:ring-slate-700 shadow-sm uppercase shrink-0",children:((j=b.email)==null?void 0:j.charAt(0))||"?"}),i.jsxs("div",{className:"ml-3",children:[i.jsx("div",{className:"text-sm font-semibold text-slate-900 dark:text-white",children:b.displayName||b.name||"Sin nombre"}),i.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400 font-medium",children:b.email})]})]})}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s===b.uid?i.jsxs("select",{className:"block w-full py-1 text-xs border-slate-300 dark:border-slate-600 dark:bg-slate-800 focus:outline-none focus:ring-primary focus:border-primary sm:text-xs rounded-md",value:o.role,onChange:I=>l({...o,role:I.target.value}),children:[i.jsx("option",{value:"staff",children:"Staff"}),i.jsx("option",{value:"admin",children:"Admin"}),i.jsx("option",{value:"client",children:"Cliente"}),i.jsx("option",{value:"guest",children:"Guest"})]}):i.jsx("span",{className:`px-2.5 py-0.5 inline-flex text-xs leading-4 font-medium rounded-full border 
                                            ${b.role==="admin"?"bg-purple-50 dark:bg-purple-900/30 text-purple-700 dark:text-purple-300 border-purple-100 dark:border-purple-800":b.role==="staff"?"bg-blue-50 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300 border-blue-100 dark:border-blue-800":b.role==="client"?"bg-green-50 dark:bg-green-900/30 text-green-700 dark:text-green-300 border-green-100 dark:border-green-800":"bg-slate-100 dark:bg-slate-700 text-slate-700 dark:text-slate-300 border-slate-200 dark:border-slate-600"}`,children:b.role||"guest"})}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s===b.uid?i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("input",{id:`disabled-${b.uid}`,type:"checkbox",checked:o.disabled,onChange:I=>l({...o,disabled:I.target.checked}),className:"h-4 w-4 text-red-600 focus:ring-red-500 border-slate-300 rounded"}),i.jsx("label",{htmlFor:`disabled-${b.uid}`,className:"text-xs text-slate-700 dark:text-slate-300",children:"Deshabilitado"})]}):b.disabled?i.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-red-50 dark:bg-red-900/20 text-red-700 dark:text-red-400 border border-red-100 dark:border-red-800",children:"Bloqueado"}):i.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-green-50 dark:bg-green-900/20 text-green-700 dark:text-green-400 border border-green-100 dark:border-green-800",children:"Activo"})}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:s===b.uid?i.jsxs("div",{className:"flex justify-end gap-2",children:[i.jsx("button",{onClick:()=>x(b.uid),className:"text-green-600 hover:text-green-900 bg-green-50 p-1.5 rounded-md hover:bg-green-100 transition-colors",title:"Guardar",children:i.jsx(jj,{size:16})}),i.jsx("button",{onClick:p,className:"text-red-600 hover:text-red-900 bg-red-50 p-1.5 rounded-md hover:bg-red-100 transition-colors",title:"Cancelar",children:i.jsx(la,{size:16})})]}):i.jsxs("div",{className:"flex justify-end gap-2",children:[i.jsxs("button",{onClick:()=>m(b),className:"text-slate-500 hover:text-slate-700 dark:text-slate-400 dark:hover:text-slate-200 inline-flex items-center gap-1 hover:bg-slate-100 dark:hover:bg-slate-800 px-3 py-1.5 rounded-md transition-colors text-xs font-medium",children:[i.jsx(Ic,{size:14})," Editar"]}),i.jsx("button",{onClick:()=>y(b),className:"text-red-500 hover:text-red-700 dark:text-red-400 dark:hover:text-red-300 inline-flex items-center gap-1 hover:bg-red-50 dark:hover:bg-red-900/20 px-3 py-1.5 rounded-md transition-colors text-xs font-medium",children:i.jsx(xl,{size:14})})]})})]},b.uid)})})]})]})}),g&&i.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4 backdrop-blur-sm",children:i.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-xl shadow-2xl dark:shadow-black/50 border border-slate-200 dark:border-slate-800 max-w-md w-full p-6 animate-in fade-in zoom-in duration-200",children:[i.jsxs("div",{className:"flex items-center gap-3 text-red-600 dark:text-red-500 mb-4",children:[i.jsx("div",{className:"bg-red-100 dark:bg-red-900/30 p-3 rounded-full",children:i.jsx(xl,{size:24})}),i.jsx("h3",{className:"text-xl font-bold text-slate-900 dark:text-white",children:"Eliminar Usuario?"})]}),i.jsxs("p",{className:"text-slate-600 dark:text-slate-300 mb-6 font-medium",children:["Ests a punto de eliminar a ",i.jsx("strong",{children:g.displayName||g.email}),"."]}),i.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-100 dark:border-red-800 p-3 rounded-lg flex items-start gap-2 mb-6",children:[i.jsx(gl,{size:16,className:"text-red-600 dark:text-red-400 mt-0.5 shrink-0"}),i.jsxs("p",{className:"text-xs text-red-700 dark:text-red-300",children:["Esta accin es ",i.jsx("strong",{children:"irreversible"})," y ejecutar una limpieza en cascada (cuenta, perfil y suscripciones asociadas)."]})]}),i.jsxs("div",{className:"flex justify-end gap-3",children:[i.jsx(B,{variant:"outline",onClick:()=>y(null),children:"Cancelar"}),i.jsx(B,{onClick:E,className:"bg-red-600 hover:bg-red-700 text-white border-red-600 dark:border-red-600",children:"Confirmar Eliminacin"})]})]})})]})}const uh=[{value:"01",label:"Enero"},{value:"02",label:"Febrero"},{value:"03",label:"Marzo"},{value:"04",label:"Abril"},{value:"05",label:"Mayo"},{value:"06",label:"Junio"},{value:"07",label:"Julio"},{value:"08",label:"Agosto"},{value:"09",label:"Septiembre"},{value:"10",label:"Octubre"},{value:"11",label:"Noviembre"},{value:"12",label:"Diciembre"}],ag=new Date().getFullYear(),pS=Array.from({length:5},(e,t)=>ag-t);function ig({value:e,onChange:t,className:r=""}){var f;const[n,s]=v.useState(!1),a=v.useRef(null),o=e?e.split("-")[1]:"",l=e?e.split("-")[0]:"";v.useEffect(()=>{function w(g){a.current&&!a.current.contains(g.target)&&s(!1)}return document.addEventListener("mousedown",w),()=>document.removeEventListener("mousedown",w)},[]);const c=w=>{t(l?`${l}-${w}`:`${ag}-${w}`)},u=w=>{t(o?`${w}-${o}`:`${w}-01`)},d=w=>{w.stopPropagation(),t(""),s(!1)},h=e?`${(f=uh.find(w=>w.value===o))==null?void 0:f.label} ${l}`:"Mes";return i.jsxs("div",{ref:a,className:`relative ${r}`,children:[i.jsxs("button",{type:"button",onClick:()=>s(!n),className:`
          flex items-center gap-2 px-3 py-2 text-sm border rounded-lg transition-colors min-w-35 whitespace-nowrap
          ${e?"border-slate-300 dark:border-slate-400 bg-slate-400/5 dark:bg-slate-800 text-slate-900 dark:text-slate-400":"border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-800 text-slate-200 dark:text-slate-300 hover:border-slate-400"}
        `,children:[i.jsx(ia,{className:"w-4 h-4 shrink-0"}),i.jsx("span",{className:"flex-1 text-left truncate",children:h}),e?i.jsx(la,{className:"w-4 h-4 shrink-0 hover:text-red-500 transition-colors",onClick:d}):i.jsx(Zr,{className:`w-4 h-4 shrink-0 transition-transform ${n?"rotate-180":""}`})]}),n&&i.jsx("div",{className:"absolute z-100 bottom-0 top-0 right-0 left-0 min-w-55 bg-white dark:bg-slate-800 rounded-md",children:i.jsxs("div",{className:"flex gap-2",children:[i.jsxs("div",{className:"relative flex-1",children:[i.jsxs("select",{value:o,onChange:w=>c(w.target.value),className:"w-full appearance-none pl-3 pr-8 py-2 text-sm border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-white cursor-pointer hover:border-primary focus:border-primary focus:outline-none focus:ring-1 focus:ring-primary",children:[i.jsx("option",{value:"",children:"Mes"}),uh.map(w=>i.jsx("option",{value:w.value,children:w.label},w.value))]}),i.jsx(Zr,{className:"w-4 h-4 absolute right-2 top-1/2 -translate-y-1/2 text-slate-400 pointer-events-none"})]}),i.jsxs("div",{className:"relative w-24",children:[i.jsxs("select",{value:l,onChange:w=>u(w.target.value),className:"w-full appearance-none pl-3 pr-8 py-2 text-sm border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-white cursor-pointer hover:border-primary focus:border-primary focus:outline-none focus:ring-1 focus:ring-primary",children:[i.jsx("option",{value:"",children:"Ao"}),pS.map(w=>i.jsx("option",{value:w,children:w},w))]}),i.jsx(Zr,{className:"w-4 h-4 absolute right-2 top-1/2 -translate-y-1/2 text-slate-400 pointer-events-none"})]})]})})]})}function mS(){const[e,t]=v.useState(!0),[r,n]=v.useState([]),[s,a]=v.useState(null),[o,l]=v.useState(null),[c,u]=v.useState(!1),[d,h]=v.useState(null),[f,w]=v.useState(""),[g,y]=v.useState(""),[k,m]=v.useState(""),[p,x]=v.useState(""),[N,E]=v.useState(new Date().toISOString().slice(0,7)),[b,j]=v.useState(null),[I,A]=v.useState(!1),[L,K]=v.useState(!1),[Q,Y]=v.useState(""),[P,H]=v.useState(!1),[z,J]=v.useState([]),[_,D]=v.useState([]),[O,M]=v.useState(new Map),[V,ye]=v.useState(""),[te,Be]=v.useState(""),[Te,Se]=v.useState("USD"),[ve,fn]=v.useState("binance"),[Rt,Ne]=v.useState(""),[sr,ct]=v.useState(""),[De,zr]=v.useState(""),[$t,Ca]=v.useState(""),[Ia,R]=v.useState(""),[we,yt]=v.useState(""),[ut,oe]=v.useState(null);v.useEffect(()=>{Tt(),Bt()},[f,g,p,N]);const Tt=async()=>{var C,ee,se,ne;try{t(!0);const ge={limit:100};f&&(ge.status=f),g&&(ge.method=g);const[rt,Ku,Gu]=await Promise.all([gr.list(ge),$.get("/subscriptions"),$.get("/clients")]);console.log("Payments response:",rt.data),console.log("Payments data field:",(C=rt.data)==null?void 0:C.data);const Ju=((ee=Ku.data)==null?void 0:ee.data)||Ku.data||[],dg=((se=Gu.data)==null?void 0:se.data)||Gu.data||[];J(Ju),D(dg);const Qu=new Map;if(Ju.forEach(mn=>{mn.id&&Qu.set(mn.id,mn)}),M(Qu),(ne=rt.data)!=null&&ne.ok){const mn=rt.data.data||[];console.log("Parsed payments:",mn),n(mn)}}catch(ge){console.error("Error fetching payments:",ge),l("Error al cargar los pagos")}finally{t(!1)}},Bt=async()=>{var C,ee;try{const se=await gr.getStats();(C=se.data)!=null&&C.ok&&((ee=se.data)!=null&&ee.data)&&a(se.data.data)}catch(se){console.error("Error fetching stats:",se)}},_o=async()=>{var C,ee;try{const[se,ne]=await Promise.all([$.get("/subscriptions"),$.get("/clients")]),ge=((C=se.data)==null?void 0:C.data)||se.data||[],rt=((ee=ne.data)==null?void 0:ee.data)||ne.data||[];J(ge),D(rt)}catch(se){console.error("Error fetching subscriptions:",se)}},ar=C=>{const ee=O.get(C);if(!ee)return{clientId:C,clientName:"Unknown",plan:"-",amount:"-",status:"-"};const se=_.find(ne=>ne.id===ee.clientId||ne.uid===ee.clientId);return{clientId:ee.clientId,clientName:(se==null?void 0:se.name)||"Unknown",plan:ee.plan,amount:ee.amount,status:ee.status||"-"}},hn=C=>{fn(C),C==="binance"?Se("USDT"):C==="zinli"?Se("USD"):C==="pago_movil"?Se("VES"):C==="free"&&Se("USD")},Co=async C=>{var ee,se;if(C.preventDefault(),!V){l("Por favor selecciona una suscripcin");return}try{u(!0),l(null);const ne={subscriptionId:V,amount:parseFloat(te),currency:Te,method:ve,date:new Date().toISOString()};ve==="binance"||ve==="zinli"?(ne.reference=Rt,ne.payerEmail=sr,we&&(ne.receiptUrl=we)):ve==="pago_movil"?(ne.payerPhone=De,ne.payerIdNumber=$t,ne.bank=Ia,Rt&&(ne.reference=Rt)):ve==="free"&&(ne.free=!0,ne.amount=0),await gr.create(ne),oe("Pago registrado exitosamente. Est pendiente de verificacin."),H(!1),ye(""),Be(""),Ne(""),ct(""),zr(""),Ca(""),R(""),yt(""),Tt(),Bt()}catch(ne){console.error("Error creating payment:",ne),l(((se=(ee=ne.response)==null?void 0:ee.data)==null?void 0:se.message)||"Error al registrar el pago")}finally{u(!1)}},Io=async()=>{var C,ee,se,ne;if(b)try{u(!0),l(null),await gr.verify(b.id,Q||void 0),h("Pago aprobado exitosamente"),A(!1),j(null),Y(""),Tt(),Bt()}catch(ge){console.error("Error verifying payment:",ge);const rt=((ee=(C=ge.response)==null?void 0:C.data)==null?void 0:ee.message)||((ne=(se=ge.response)==null?void 0:se.data)==null?void 0:ne.error)||"Error al aprobar el pago";l(rt)}finally{u(!1)}},og=async()=>{var C,ee,se,ne;if(b)try{u(!0),l(null),await gr.reject(b.id,Q||void 0),h("Pago rechazado"),K(!1),j(null),Y(""),Tt(),Bt()}catch(ge){console.error("Error rejecting payment:",ge);const rt=((ee=(C=ge.response)==null?void 0:C.data)==null?void 0:ee.message)||((ne=(se=ge.response)==null?void 0:se.data)==null?void 0:ne.error)||"Error al rechazar el pago";l(rt)}finally{u(!1)}},lg=C=>{switch(C){case"verified":return"Aprobado";case"pending":return"Pendiente";case"rejected":return"Rechazado";default:return C}},cg=C=>{switch(C){case"binance":return"Binance";case"zinli":return"Zinli";case"pago_movil":return"Pago Mvil";case"free":return"Promocional";default:return C}},ug=C=>C?new Date(C).toLocaleDateString("es-ES",{day:"2-digit",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"}):"-",Ro=(C,ee)=>ee==="USDT"||ee==="BTC"||ee==="ETH"?`${ee} ${C.toFixed(2)}`:ee==="VES"?new Intl.NumberFormat("es-VE",{style:"currency",currency:"VES"}).format(C):new Intl.NumberFormat("es-ES",{style:"currency",currency:"USD"}).format(C),pn=r.filter(C=>{var ee,se,ne;if(p&&C.subscriptionId!==p||N&&new Date(C.date).toISOString().slice(0,7)!==N)return!1;if(k){const ge=k.toLowerCase(),rt=ar(C.subscriptionId);return((ee=C.reference)==null?void 0:ee.toLowerCase().includes(ge))||((se=C.payerEmail)==null?void 0:se.toLowerCase().includes(ge))||C.subscriptionId.toLowerCase().includes(ge)||((ne=C.bank)==null?void 0:ne.toLowerCase().includes(ge))||rt.clientName.toLowerCase().includes(ge)}return!0});return e&&r.length===0?i.jsx("div",{className:"flex items-center justify-center h-64",children:i.jsx(Nt,{className:"w-8 h-8 animate-spin text-primary"})}):i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"text-2xl font-bold text-slate-900 dark:text-slate-100 tracking-tight",children:"Gestin de Pagos"}),i.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-300",children:"Administra y verifica los pagos de los clientes"})]}),i.jsxs(B,{onClick:()=>{_o(),H(!P)},children:[i.jsx(Wu,{className:"w-4 h-4 mr-2"}),"Nuevo Pago"]})]}),ut&&i.jsxs("div",{className:"flex items-center gap-2 p-3 bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-lg text-green-600 dark:text-green-400 text-sm",children:[i.jsx(We,{className:"w-4 h-4 shrink-0"}),i.jsx("span",{children:ut})]}),d&&!ut&&i.jsxs("div",{className:"flex items-center gap-2 p-3 bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-lg text-green-600 dark:text-green-400 text-sm",children:[i.jsx(We,{className:"w-4 h-4 shrink-0"}),i.jsx("span",{children:d})]}),o&&i.jsxs("div",{className:"flex items-center gap-2 p-3 bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 rounded-lg text-yellow-600 dark:text-yellow-400 text-sm",children:[i.jsx(Qn,{className:"w-4 h-4 shrink-0"}),i.jsx("span",{children:o})]}),P&&i.jsxs(Z,{children:[i.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Registrar Nuevo Pago"}),i.jsxs("form",{onSubmit:Co,className:"space-y-4",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Suscripcin *"}),i.jsxs("select",{value:V,onChange:C=>ye(C.target.value),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-800 text-slate-900 dark:text-white",required:!0,children:[i.jsx("option",{value:"",children:"Selecciona una suscripcin"}),z.map(C=>i.jsxs("option",{value:C.id??"",children:[C.plan," - ",C.amount," (",C.status,") -"," ",ar(C.id??"").clientName||"Unknown"]},C.id??""))]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Mtodo de Pago *"}),i.jsxs("select",{value:ve,onChange:C=>hn(C.target.value),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-800 text-slate-900 dark:text-white",required:!0,children:[i.jsx("option",{value:"binance",children:"Binance"}),i.jsx("option",{value:"zinli",children:"Zinli"}),i.jsx("option",{value:"pago_movil",children:"Pago Mvil"}),i.jsx("option",{value:"free",children:"Promocional (Gratis)"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Monto *"}),i.jsx(G,{type:"number",step:"0.01",value:te,onChange:C=>Be(C.target.value),placeholder:"50.00",required:ve!=="free",disabled:ve==="free"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Moneda"}),i.jsx("div",{className:"px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-slate-100 dark:bg-slate-900 text-slate-900 dark:text-white font-medium",children:Te==="USDT"?"USDT (CRIPTOMONEDA)":Te==="USD"?"USD (DLAR ESTADOUNIDENSE)":"VES (BOLVAR)"})]})]}),(ve==="binance"||ve==="zinli")&&i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Referencia *"}),i.jsx(G,{type:"text",value:Rt,onChange:C=>Ne(C.target.value),placeholder:ve==="binance"?"BIN_ABC123XYZ":"ZN_123456789",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Email *"}),i.jsx(G,{type:"email",value:sr,onChange:C=>ct(C.target.value),placeholder:"usuario@email.com",required:!0})]}),i.jsxs("div",{className:"md:col-span-2",children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"URL del Comprobante"}),i.jsx(G,{type:"url",value:we,onChange:C=>yt(C.target.value),placeholder:"https://binance.com/transaction/..."})]})]}),ve==="pago_movil"&&i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Telfono *"}),i.jsx(G,{type:"tel",value:De,onChange:C=>zr(C.target.value),placeholder:"+584121234567",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Cdula *"}),i.jsx(G,{type:"text",value:$t,onChange:C=>Ca(C.target.value),placeholder:"12345678",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Banco *"}),i.jsx(G,{type:"text",value:Ia,onChange:C=>R(C.target.value),placeholder:"Banco de Venezuela",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Referencia"}),i.jsx(G,{type:"text",value:Rt,onChange:C=>Ne(C.target.value),placeholder:"REF123456"})]})]}),i.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[i.jsx(B,{type:"button",variant:"secondary",onClick:()=>H(!1),children:"Cancelar"}),i.jsx(B,{type:"submit",disabled:c,children:c?i.jsxs(i.Fragment,{children:[i.jsx(Nt,{className:"w-4 h-4 mr-2 animate-spin"}),"Registrando..."]}):"Registrar Pago"})]})]})]}),s&&i.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-5 gap-2 sm:gap-3",children:[i.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/30 border border-blue-200 dark:border-blue-800 rounded-xl p-3 sm:p-4 hover:scale-[1.02] transition-transform cursor-pointer",children:[i.jsxs("div",{className:"flex items-center gap-1.5 text-blue-600 dark:text-blue-400",children:[i.jsx(oa,{className:"w-4 h-4"}),i.jsx("span",{className:"text-xs sm:text-sm font-medium",children:"Total"})]}),i.jsx("div",{className:"text-xl sm:text-2xl font-bold text-blue-700 dark:text-blue-300 mt-1",children:s.total})]}),i.jsxs("div",{className:"bg-yellow-50 dark:bg-yellow-900/30 border border-yellow-200 dark:border-yellow-800 rounded-xl p-3 sm:p-4 hover:scale-[1.02] transition-transform cursor-pointer",children:[i.jsxs("div",{className:"flex items-center gap-1.5 text-yellow-600 dark:text-yellow-400",children:[i.jsx(cn,{className:"w-4 h-4"}),i.jsx("span",{className:"text-xs sm:text-sm font-medium",children:"Pendientes"})]}),i.jsx("div",{className:"text-xl sm:text-2xl font-bold text-yellow-700 dark:text-yellow-300 mt-1",children:s.pending})]}),i.jsxs("div",{className:"bg-green-50 dark:bg-green-900/30 border border-green-200 dark:border-green-800 rounded-xl p-3 sm:p-4 hover:scale-[1.02] transition-transform cursor-pointer",children:[i.jsxs("div",{className:"flex items-center gap-1.5 text-green-600 dark:text-green-400",children:[i.jsx(We,{className:"w-4 h-4"}),i.jsx("span",{className:"text-xs sm:text-sm font-medium",children:"Aprobados"})]}),i.jsx("div",{className:"text-xl sm:text-2xl font-bold text-green-700 dark:text-green-300 mt-1",children:s.verified})]}),i.jsxs("div",{className:"bg-red-50 dark:bg-red-900/30 border border-red-200 dark:border-red-800 rounded-xl p-3 sm:p-4 hover:scale-[1.02] transition-transform cursor-pointer",children:[i.jsxs("div",{className:"flex items-center gap-1.5 text-red-600 dark:text-red-400",children:[i.jsx(Cc,{className:"w-4 h-4"}),i.jsx("span",{className:"text-xs sm:text-sm font-medium",children:"Rechazados"})]}),i.jsx("div",{className:"text-xl sm:text-2xl font-bold text-red-700 dark:text-red-300 mt-1",children:s.rejected})]}),i.jsxs("div",{className:"bg-purple-50 dark:bg-purple-900/30 border border-purple-200 dark:border-purple-800 rounded-xl p-3 sm:p-4 hover:scale-[1.02] transition-transform cursor-pointer col-span-2 sm:col-span-3 lg:col-span-1",children:[i.jsxs("div",{className:"flex items-center gap-1.5 text-purple-600 dark:text-purple-400",children:[i.jsx(Y0,{className:"w-4 h-4"}),i.jsx("span",{className:"text-xs sm:text-sm font-medium",children:"Monto Total"})]}),i.jsxs("div",{className:"text-xl sm:text-2xl font-bold text-purple-700 dark:text-purple-300 mt-1",children:["$",s.totalAmount.toFixed(2)]})]})]}),i.jsxs(Z,{className:"p-3 sm:p-4",children:[i.jsxs("div",{className:"relative mb-3",children:[i.jsx(qu,{className:"w-4 h-4 absolute left-3 top-1/2 -translate-y-1/2 z-10 text-slate-900 dark:text-slate-200"}),i.jsx(G,{type:"text",placeholder:"Buscar pagos...",value:k,onChange:C=>m(C.target.value),className:"pl-10 w-full"})]}),i.jsxs("div",{className:"flex flex-wrap gap-2 items-center justify-between",children:[i.jsxs("div",{className:"relative shrink-0",children:[i.jsxs("select",{value:f,onChange:C=>w(C.target.value),className:"appearance-none pl-3 pr-8 py-2 text-sm border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-800 text-slate-900 dark:text-white cursor-pointer hover:border-primary transition-colors min-w-32.5 focus:outline-none focus:ring-2 focus:ring-primary/20",children:[i.jsx("option",{value:"",children:"Estado"}),i.jsx("option",{value:"pending",children:"Pendiente"}),i.jsx("option",{value:"verified",children:"Aprobado"}),i.jsx("option",{value:"rejected",children:"Rechazado"})]}),i.jsx(X0,{className:"w-4 h-4 absolute right-7 top-1/2 -translate-y-1/2 text-slate-400 pointer-events-none"}),i.jsx(Zr,{className:"w-4 h-4 absolute right-2 top-1/2 -translate-y-1/2 text-slate-400 pointer-events-none"})]}),i.jsxs("div",{className:"relative shrink-0",children:[i.jsxs("select",{value:g,onChange:C=>y(C.target.value),className:"appearance-none pl-3 pr-8 py-2 text-sm border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-800 text-slate-900 dark:text-white cursor-pointer hover:border-primary transition-colors min-w-32.5 focus:outline-none focus:ring-2 focus:ring-primary/20",children:[i.jsx("option",{value:"",children:"Mtodo"}),i.jsx("option",{value:"binance",children:"Binance"}),i.jsx("option",{value:"zinli",children:"Zinli"}),i.jsx("option",{value:"pago_movil",children:"Pago Mvil"}),i.jsx("option",{value:"free",children:"Gratis"})]}),i.jsx(Et,{className:"w-4 h-4 absolute right-7 top-1/2 -translate-y-1/2 text-slate-400 pointer-events-none"}),i.jsx(Zr,{className:"w-4 h-4 absolute right-2 top-1/2 -translate-y-1/2 text-slate-400 pointer-events-none"})]}),i.jsx("div",{className:"shrink-0",children:i.jsx(ig,{value:N,onChange:E})}),(f||g||p||N||k)&&i.jsxs("button",{onClick:()=>{w(""),y(""),x(""),E(new Date().toISOString().slice(0,7)),m("")},className:"shrink-0 flex items-center gap-1.5 text-center text-sm text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-md transition-colors px-3 py-2",children:[i.jsx(la,{className:"w-4 h-4"}),i.jsx("span",{children:"Limpiar"})]})]}),pn.length>0&&i.jsxs("div",{className:"mt-3 text-xs text-slate-500 dark:text-slate-400",children:[pn.length," pago",pn.length!==1?"s":""," encontrado",pn.length!==1?"s":""]})]}),pn.length===0?i.jsx(Z,{children:i.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[i.jsx(oa,{className:"w-16 h-16 text-slate-300 dark:text-slate-600 mb-4"}),i.jsx("h3",{className:"text-lg font-medium text-slate-900 dark:text-white",children:"No hay pagos"}),i.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 mt-1",children:"No se encontraron pagos con los filtros aplicados"})]})}):i.jsx("div",{className:"space-y-3",children:pn.map(C=>i.jsxs(Z,{className:"hover:shadow-md transition-shadow p-3 sm:p-4",children:[i.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-start justify-between gap-3",children:[i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx("div",{className:`shrink-0 p-2 rounded-full w-10 h-10 flex items-center justify-center ${C.status==="verified"?"bg-green-100 dark:bg-green-900/30":C.status==="pending"?"bg-yellow-100 dark:bg-yellow-900/30":"bg-red-100 dark:bg-red-900/30"}`,children:C.status==="verified"?"":C.status==="pending"?"":""}),i.jsxs("div",{className:"min-w-0 flex-1",children:[i.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[i.jsx("span",{className:"font-semibold text-slate-900 dark:text-white text-sm sm:text-base",children:ar(C.subscriptionId).clientName}),i.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-medium ${C.status==="verified"?"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400":C.status==="pending"?"bg-yellow-100 text-yellow-700 dark:bg-yellow-900/30 dark:text-yellow-400":"bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-400"}`,children:lg(C.status)})]}),i.jsxs("div",{className:"text-xs sm:text-sm text-slate-500 dark:text-slate-400 mt-1",children:[i.jsxs("span",{className:"mr-2",children:[" ",cg(C.method)]}),i.jsxs("span",{className:"mr-2",children:[""," ",ar(C.subscriptionId).plan]}),i.jsxs("span",{children:[" ",ug(C.date)]})]})]})]}),i.jsxs("div",{className:"flex sm:flex-col items-center sm:items-end justify-between sm:justify-start gap-2 sm:gap-2 ml-13 sm:ml-0",children:[i.jsx("div",{className:"text-right",children:i.jsx("div",{className:"font-bold text-lg sm:text-xl text-slate-900 dark:text-secondary",children:Ro(C.amount,C.currency)})}),C.status==="pending"&&i.jsxs("div",{className:"flex gap-1",children:[i.jsx("button",{onClick:()=>{j(C),A(!0)},className:"p-2 text-green-600 hover:bg-green-50 dark:hover:bg-green-900/20 rounded-lg transition-colors",title:"Aprobar",children:""}),i.jsx("button",{onClick:()=>{j(C),K(!0)},className:"p-2 text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition-colors",title:"Rechazar",children:""})]})]})]}),(C.reference||C.payerEmail||C.bank)&&i.jsx("div",{className:"mt-3 pt-3 border-t border-slate-100 dark:border-slate-700",children:i.jsxs("div",{className:"flex flex-wrap gap-2 text-xs text-slate-500 dark:text-slate-400",children:[C.reference&&i.jsxs("span",{className:"bg-slate-100 dark:bg-slate-800 px-2 py-1 rounded",children:[" ",C.reference]}),C.payerEmail&&i.jsxs("span",{className:"bg-slate-100 dark:bg-slate-800 px-2 py-1 rounded",children:[" ",C.payerEmail]}),C.bank&&i.jsxs("span",{className:"bg-slate-100 dark:bg-slate-800 px-2 py-1 rounded",children:[" ",C.bank]})]})}),C.notes&&i.jsx("div",{className:"mt-2 pt-2 border-t border-slate-100 dark:border-slate-700",children:i.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:[i.jsx("span",{className:"font-medium",children:" Nota:"})," ",C.notes]})})]},C.id))}),I&&b&&i.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:i.jsxs(Z,{className:"w-full max-w-md",children:[i.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Aprobar Pago"}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"p-3 bg-slate-50 dark:bg-slate-800 rounded-lg",children:[i.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Monto"}),i.jsx("p",{className:"font-semibold",children:Ro(b.amount,b.currency)})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Notas (opcional)"}),i.jsx("textarea",{value:Q,onChange:C=>Y(C.target.value),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-800 text-slate-900 dark:text-white",rows:3,placeholder:"Agregar una nota..."})]}),i.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[i.jsx(B,{variant:"secondary",onClick:()=>{A(!1),j(null),Y("")},children:"Cancelar"}),i.jsx(B,{onClick:Io,disabled:c,children:c?i.jsxs(i.Fragment,{children:[i.jsx(Nt,{className:"w-4 h-4 mr-2 animate-spin"}),"Aprobando..."]}):i.jsxs(i.Fragment,{children:[i.jsx(We,{className:"w-4 h-4 mr-2"}),"Aprobar Pago"]})})]})]})]})}),L&&b&&i.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:i.jsxs(Z,{className:"w-full max-w-md",children:[i.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Rechazar Pago"}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"p-3 bg-slate-50 dark:bg-slate-800 rounded-lg",children:[i.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Monto"}),i.jsx("p",{className:"font-semibold",children:Ro(b.amount,b.currency)})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Razn del rechazo *"}),i.jsx("textarea",{value:Q,onChange:C=>Y(C.target.value),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-800 text-slate-900 dark:text-white",rows:3,placeholder:"Indica la razn del rechazo...",required:!0})]}),i.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[i.jsx(B,{variant:"secondary",onClick:()=>{K(!1),j(null),Y("")},children:"Cancelar"}),i.jsx(B,{variant:"danger",onClick:og,disabled:c||!Q,children:c?i.jsxs(i.Fragment,{children:[i.jsx(Nt,{className:"w-4 h-4 mr-2 animate-spin"}),"Rechazando..."]}):i.jsxs(i.Fragment,{children:[i.jsx(Cc,{className:"w-4 h-4 mr-2"}),"Rechazar Pago"]})})]})]})]})})]})}function gS(){return i.jsx(i.Fragment,{children:i.jsxs(Ee,{path:"/admin",element:i.jsx(rg,{roles:["admin"],children:i.jsx(sg,{})}),children:[i.jsx(Ee,{index:!0,element:i.jsx(Z2,{})}),i.jsx(Ee,{path:"clients",element:i.jsx(eS,{})}),i.jsx(Ee,{path:"client/:uid",element:i.jsx(aS,{})}),i.jsx(Ee,{path:"subscriptions",element:i.jsx(sS,{})}),i.jsx(Ee,{path:"communication",element:i.jsx(uS,{})}),i.jsx(Ee,{path:"automation",element:i.jsx(dS,{})}),i.jsx(Ee,{path:"users",element:i.jsx(hS,{})}),i.jsx(Ee,{path:"payments",element:i.jsx(mS,{})}),i.jsx(Ee,{path:"me",element:i.jsx(fS,{})})]})})}const yl=e=>{if(!e)return"-";const t=new Date,[r,n,s]=e.split("-").map(Number),o=new Date(r,n-1,s).getTime()-t.setHours(0,0,0,0);return isNaN(o)?"-":Math.ceil(o/(1e3*60*60*24))};function xS(){const{user:e}=Ur(),t=pa(),[r,n]=v.useState(!0),[s,a]=v.useState(null),[o,l]=v.useState(null),[c,u]=v.useState(null);v.useEffect(()=>{let f=!0;return(async()=>{var g,y,k;if(!(e!=null&&e.id)){f&&(u("No se encontr el usuario"),n(!1));return}try{n(!0);const m=await $.get("/auth/me"),p=((g=m.data)==null?void 0:g.data)||m.data,x=e.id;try{const I=await $.get(`/clients/${x}`),A=((y=I.data)==null?void 0:y.data)||I.data;f&&l(A)}catch{console.log("Cliente no encontrado en Firestore")}if(!f)return;const N=await $.get("/subscriptions"),j=(((k=N.data)==null?void 0:k.data)||N.data||[]).filter(I=>I.clientId===x).find(I=>I.status==="active");a(j?{...j,clientName:(p==null?void 0:p.displayName)||"",clientEmail:(p==null?void 0:p.email)||""}:null)}catch(m){console.error("Error fetching data:",m),f&&u("No se pudieron cargar los datos")}finally{f&&n(!1)}})(),()=>{f=!1}},[e]);const d=f=>{if(!f)return"-";const[w,g,y]=f.split("-"),m=["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"][parseInt(g,10)-1]||"";return`${parseInt(y,10)} de ${m} de ${w}`},h=f=>{switch(f){case"active":return"text-green-600 bg-green-50 dark:bg-green-900/20";case"inactive":return"text-gray-600 bg-gray-50 dark:bg-gray-900/20";case"past_due":return"text-yellow-600 bg-yellow-50 dark:bg-yellow-900/20";case"cancelled":return"text-red-600 bg-red-50 dark:bg-red-900/20";default:return"text-gray-600 bg-gray-50 dark:bg-gray-900/20"}};return r?i.jsx("div",{className:"flex items-center justify-center h-64",children:i.jsx(Nt,{className:"w-8 h-8 animate-spin text-primary"})}):i.jsxs("div",{className:"space-y-6",children:[i.jsx("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:i.jsxs("div",{children:[i.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-secondary tracking-tight",children:"Dashboard Cliente"}),i.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-300",children:["Bienvenido",e!=null&&e.displayName?`, ${e.displayName}`:""]})]})}),c&&i.jsxs("div",{className:"flex items-center gap-2 p-3 bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 rounded-lg text-yellow-600 dark:text-yellow-400 text-sm",children:[i.jsx(Qn,{className:"w-4 h-4 shrink-0"}),i.jsx("span",{children:c})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs(Z,{className:"border-l-4 border-l-primary/70",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsx("h3",{className:"font-semibold text-gray-900 dark:text-secondary",children:"Tu Plan Actual"}),(s==null?void 0:s.status)&&i.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium ${h(s.status)}`,children:[s.status==="active"?i.jsx(We,{className:"w-3 h-3"}):i.jsx(cn,{className:"w-3 h-3"}),s.status==="active"?"Activo":s.status]})]}),s?i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"flex items-center justify-between py-2",children:[i.jsxs("div",{children:[i.jsx("div",{className:"font-bold text-lg text-gray-900 dark:text-gray-200",children:s.plan}),i.jsxs("div",{className:"text-2xl font-bold text-primary mt-1 dark:text-secondary",children:[s.amount,i.jsx("span",{className:"text-sm font-normal text-gray-500 dark:text-gray-300",children:"/mes"})]})]}),i.jsx(Et,{className:"w-10 h-10 text-gray-300 dark:text-gray-600"})]}),i.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-100 dark:border-gray-700 flex items-center justify-between text-sm",children:[i.jsxs("span",{className:"text-gray-500 dark:text-gray-400 flex items-center gap-1.5",children:[i.jsx(ia,{className:"w-4 h-4"}),"Prximo corte:"]}),i.jsx("span",{className:"font-medium text-gray-900 dark:text-gray-200",children:d(s.cutDate)})]}),i.jsx("div",{className:"mt-2 flex items-center gap-2 text-sm text-primary dark:text-secondary font-semibold",children:typeof yl(s.cutDate)=="number"&&yl(s.cutDate)>=0?i.jsxs(i.Fragment,{children:[i.jsx(cn,{className:"w-4 h-4"}),"Faltan ",yl(s.cutDate)," das para el cobro"]}):i.jsx("span",{children:"No se pudo calcular los das restantes"})}),i.jsx("div",{className:"mt-3",children:i.jsx(B,{variant:"primary",className:"w-full font-bold shadow-md shadow-primary/20",onClick:()=>t("/client/subscription"),children:"Ver detalles"})})]}):i.jsxs("div",{className:"flex flex-col items-center justify-center py-8 text-center",children:[i.jsx(Et,{className:"w-12 h-12 text-gray-300 dark:text-gray-600 mb-3"}),i.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"No tienes suscripcin activa"}),i.jsx(B,{variant:"secondary",size:"sm",className:"mt-3",children:"Contactar soporte"})]})]}),i.jsxs(Z,{children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsx("h3",{className:"font-semibold text-gray-900 dark:text-secondary",children:"Tu Informacin"}),i.jsxs(B,{variant:"ghost",size:"sm",onClick:()=>t("/client/profile"),className:"text-primary hover:text-primary/80",children:["Editar ",i.jsx(Yn,{className:"w-4 h-4 ml-1"})]})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gray-50 dark:bg-slate-900/50 rounded-lg",children:[i.jsx(ml,{className:"w-8 h-8 text-gray-400"}),i.jsxs("div",{children:[i.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Nombre"}),i.jsx("div",{className:"font-medium text-gray-900 dark:text-gray-200",children:(e==null?void 0:e.displayName)||(o==null?void 0:o.name)||"No definido"})]})]}),i.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gray-50 dark:bg-slate-900/50 rounded-lg",children:[i.jsx(ml,{className:"w-8 h-8 text-gray-400"}),i.jsxs("div",{children:[i.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Email"}),i.jsx("div",{className:"font-medium text-gray-900 dark:text-gray-200",children:(e==null?void 0:e.email)||"No definido"})]})]}),(o==null?void 0:o.phone)&&i.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gray-50 dark:bg-slate-900/50 rounded-lg",children:[i.jsx(ml,{className:"w-8 h-8 text-gray-400"}),i.jsxs("div",{children:[i.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Telfono"}),i.jsx("div",{className:"font-medium text-gray-900 dark:text-gray-200",children:o.phone})]})]})]})]})]}),i.jsxs(Z,{children:[i.jsx("h3",{className:"font-semibold text-gray-900 dark:text-secondary mb-4",children:"Accesos rpidos"}),i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3",children:[i.jsxs(B,{variant:"outline",className:"h-auto py-4 flex-col gap-2 bg-blue-50 dark:bg-blue-900/20 border-blue-200 dark:border-blue-800 text-blue-700 dark:text-blue-300",onClick:()=>t("/client/subscription"),children:[i.jsx(Et,{className:"w-6 h-6"}),i.jsx("span",{children:"Mi Suscripcin"})]}),i.jsxs(B,{variant:"outline",className:"h-auto py-4 flex-col gap-2 bg-blue-50 dark:bg-blue-900/20 border-blue-200 dark:border-blue-800 text-blue-700 dark:text-blue-300",onClick:()=>t("/client/payments"),children:[i.jsx(oa,{className:"w-6 h-6"}),i.jsx("span",{children:"Mis Pagos"})]}),i.jsxs(B,{variant:"outline",className:"h-auto py-4 flex-col gap-2 bg-blue-50 dark:bg-blue-900/20 border-blue-200 dark:border-blue-800 text-blue-700 dark:text-blue-300",onClick:()=>t("/client/profile"),children:[i.jsx(Yn,{className:"w-6 h-6"}),i.jsx("span",{children:"Mi Perfil"})]})]})]})]})}function yS(){const{user:e}=Ur(),[t,r]=v.useState(!0),[n,s]=v.useState(null),[a,o]=v.useState([]),[l,c]=v.useState(null),[u,d]=v.useState(!1);v.useEffect(()=>{let y=!0;return(async()=>{var m;if(!(e!=null&&e.id)){y&&(c("No se encontr el usuario"),r(!1));return}try{r(!0);const p=await $.get("/subscriptions"),x=((m=p.data)==null?void 0:m.data)||p.data||[],N=e.id,E=x.filter(j=>j.clientId===N).map(j=>({...j,clientName:e.displayName||"",clientEmail:e.email||""}));if(!y)return;o(E);const b=E.find(j=>j.status==="active");s(b||null)}catch(p){console.error("Error fetching subscription:",p),y&&c("No se pudo cargar la informacin de tu suscripcin")}finally{y&&r(!1)}})(),()=>{y=!1}},[e]);const h=async()=>{var y,k;if(n!=null&&n.id)try{d(!0),await $.post(`/subscriptions/${n.id}/renew`),window.location.reload()}catch(m){alert(((k=(y=m.response)==null?void 0:y.data)==null?void 0:k.message)||"Error al renovar suscripcin")}finally{d(!1)}},f=y=>{switch(y){case"active":return"text-green-600 bg-green-50 dark:bg-green-900/20";case"inactive":return"text-gray-600 bg-gray-50 dark:bg-gray-900/20";case"past_due":return"text-yellow-600 bg-yellow-50 dark:bg-yellow-900/20";case"cancelled":return"text-red-600 bg-red-50 dark:bg-red-900/20";default:return"text-gray-600 bg-gray-50 dark:bg-gray-900/20"}},w=y=>{switch(y){case"active":return"Activo";case"inactive":return"Inactivo";case"past_due":return"Pendiente de pago";case"cancelled":return"Cancelado";default:return y}},g=y=>y?new Date(y).toLocaleDateString("es-ES",{day:"2-digit",month:"long",year:"numeric"}):"-";return t?i.jsx("div",{className:"flex items-center justify-center h-64",children:i.jsx(Nt,{className:"w-8 h-8 animate-spin text-primary"})}):i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-secondary tracking-tight",children:"Mi Suscripcin"}),i.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-300",children:"Gestiona tu plan de suscripcin"})]}),l&&i.jsxs("div",{className:"flex items-center gap-2 p-3 bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 rounded-lg text-yellow-600 dark:text-yellow-400 text-sm",children:[i.jsx(Qn,{className:"w-4 h-4 shrink-0"}),i.jsx("span",{children:l})]}),!n&&!l&&i.jsx(Z,{children:i.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[i.jsx(Et,{className:"w-16 h-16 text-gray-300 dark:text-gray-600 mb-4"}),i.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:"No tienes suscripcin activa"}),i.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1 mb-4",children:"Contacta con nosotros para contratar un plan"}),i.jsx(B,{children:"Contactar soporte"})]})}),n&&i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:`inline-flex items-center gap-2 px-3 py-1.5 rounded-full ${f(n.status||"")}`,children:[n.status==="active"?i.jsx(We,{className:"w-4 h-4"}):n.status==="past_due"?i.jsx(Qn,{className:"w-4 h-4"}):i.jsx(cn,{className:"w-4 h-4"}),i.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-gray-200",children:w(n.status||"")})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs(Z,{className:"border-l-4 border-l-primary/70",children:[i.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white mb-4",children:"Plan"}),i.jsxs("div",{className:"flex items-center justify-between py-2",children:[i.jsxs("div",{children:[i.jsx("div",{className:"font-bold text-xl text-gray-900 dark:text-gray-200",children:n.plan}),i.jsxs("div",{className:"text-3xl font-bold text-primary dark:text-secondary mt-2",children:[n.amount,i.jsx("span",{className:"text-sm font-normal text-gray-500 dark:text-gray-300",children:"/mes"})]}),n.country&&i.jsxs("div",{className:"mt-2 text-sm text-blue-600 dark:text-blue-300 font-semibold",children:["Pas: ",n.country]})]}),i.jsx(Et,{className:"w-12 h-12 text-gray-300 dark:text-gray-600"})]}),n.passwordSub&&i.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-100 dark:border-gray-700",children:[i.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500 dark:text-gray-400 mb-2",children:[i.jsx(qj,{className:"w-4 h-4"}),"Contrasea del servicio"]}),i.jsx("div",{className:"font-mono text-sm bg-gray-100 dark:bg-slate-800 px-3 py-2 rounded-lg text-gray-900 dark:text-gray-200",children:n.passwordSub})]})]}),i.jsxs(Z,{children:[i.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white mb-4",children:"Informacin de Facturacin"}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-slate-900/50 rounded-lg",children:[i.jsxs("div",{className:"flex items-center gap-2 text-gray-500 dark:text-gray-400",children:[i.jsx(ia,{className:"w-4 h-4"}),i.jsx("span",{className:"text-sm",children:"Fecha de inicio"})]}),i.jsx("span",{className:"font-medium text-gray-900 dark:text-gray-200",children:g(n.startDate)})]}),i.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-slate-900/50 rounded-lg",children:[i.jsxs("div",{className:"flex items-center gap-2 text-gray-500 dark:text-gray-400",children:[i.jsx(ia,{className:"w-4 h-4"}),i.jsx("span",{className:"text-sm",children:"Prximo corte"})]}),i.jsx("span",{className:"font-medium text-gray-900 dark:text-gray-200",children:g(n.cutDate)})]})]})]})]}),i.jsxs(Z,{children:[i.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white mb-4",children:"Opciones"}),i.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[i.jsx(B,{variant:"primary",onClick:h,disabled:u,children:u?i.jsxs(i.Fragment,{children:[i.jsx(Nt,{className:"w-4 h-4 mr-2 animate-spin"}),"Renovando..."]}):"Renovar suscripcin"}),i.jsx(B,{variant:"secondary",children:"Solicitar cambio de plan"}),i.jsx(B,{variant:"outline",children:"Ver historial"})]})]})]}),a.length>1&&i.jsxs(Z,{children:[i.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white mb-4",children:"Historial de Planes"}),i.jsx("div",{className:"space-y-3",children:a.map(y=>i.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-slate-900/50 rounded-lg",children:[i.jsxs("div",{children:[i.jsx("div",{className:"font-medium text-gray-900 dark:text-gray-200",children:y.plan}),i.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:[g(y.startDate)," - ",y.status==="active"?"Actual":g(y.cutDate)]})]}),i.jsx("span",{className:`text-sm font-medium ${f(y.status||"")}`,children:w(y.status||"")})]},y.id))})]})]})}function vS(){const{user:e}=Ur(),[t,r]=v.useState(!0),[n,s]=v.useState([]),[a,o]=v.useState([]),[l,c]=v.useState(null),[u,d]=v.useState("all"),[h,f]=v.useState(""),[w,g]=v.useState(!1),[y,k]=v.useState(!1),[m,p]=v.useState(null),[x,N]=v.useState(null),[E,b]=v.useState(""),[j,I]=v.useState(""),[A,L]=v.useState("USD"),[K,Q]=v.useState("binance"),[Y,P]=v.useState(""),[H,z]=v.useState(""),[J,_]=v.useState(""),[D,O]=v.useState(""),[M,V]=v.useState(""),[ye,te]=v.useState(""),Be=R=>{Q(R),R==="binance"?L("USDT"):R==="zinli"?L("USD"):R==="pago_movil"?L("VES"):R==="free"&&L("USD")};v.useEffect(()=>{let R=!0;return(async()=>{var yt,ut;if(!(e!=null&&e.id)){R&&(c("No se encontr el usuario"),r(!1));return}try{r(!0);const oe=await $.get("/subscriptions"),Bt=(((yt=oe.data)==null?void 0:yt.data)||oe.data||[]).filter(hn=>hn.clientId===e.id);R&&o(Bt);const _o=new Set(Bt.map(hn=>hn.id)),ar=await gr.list({limit:100});if(console.log("Client payments response:",ar.data),(ut=ar.data)!=null&&ut.ok){const Co=(ar.data.data||[]).filter(Io=>_o.has(Io.subscriptionId));R&&s(Co)}}catch(oe){console.error("Error fetching data:",oe),R&&c("No se pudieron cargar los datos")}finally{R&&r(!1)}})(),()=>{R=!1}},[e]);const Te=async R=>{var we,yt,ut;if(R.preventDefault(),!E){c("Por favor selecciona una suscripcin");return}try{k(!0),c(null);const oe={subscriptionId:E,amount:parseFloat(j),currency:A,method:K,date:new Date().toISOString()};K==="binance"||K==="zinli"?(oe.reference=Y,oe.payerEmail=H,ye&&(oe.receiptUrl=ye)):K==="pago_movil"?(oe.payerPhone=J,oe.payerIdNumber=D,oe.bank=M,Y&&(oe.reference=Y)):K==="free"&&(oe.free=!0,oe.amount=0),await gr.create(oe),p("Pago registrado exitosamente. Ser verificado por un administrador."),g(!1),b(""),I(""),Q("binance"),P(""),z(""),_(""),O(""),V(""),te("");const Tt=await gr.list({limit:100});if(console.log("Refresh payments response:",Tt.data),(we=Tt.data)!=null&&we.ok){const Bt=Tt.data.data||[];s(Bt)}}catch(oe){console.error("Error submitting payment:",oe),c(((ut=(yt=oe.response)==null?void 0:yt.data)==null?void 0:ut.message)||"Error al registrar el pago")}finally{k(!1)}},Se=R=>{switch(R){case"verified":return"text-green-600 bg-green-50 dark:bg-green-900/20";case"pending":return"text-yellow-600 bg-yellow-50 dark:bg-yellow-900/20";case"rejected":return"text-red-600 bg-red-50 dark:bg-red-900/20";default:return"text-gray-600 bg-gray-50 dark:bg-gray-900/20"}},ve=R=>{switch(R){case"verified":return i.jsx(We,{className:"w-4 h-4"});case"pending":return i.jsx(cn,{className:"w-4 h-4"});case"rejected":return i.jsx(Cc,{className:"w-4 h-4"});default:return i.jsx(cn,{className:"w-4 h-4"})}},fn=R=>{switch(R){case"verified":return"Aprobado";case"pending":return"Pendiente";case"rejected":return"Rechazado";default:return R}},Rt=R=>{switch(R){case"binance":return"Binance";case"zinli":return"Zinli";case"pago_movil":return"Pago Mvil";case"free":return"Promocional (Gratis)";default:return R}},Ne=R=>{switch(R){case"binance":return i.jsx(Et,{className:"w-4 h-4"});case"zinli":return i.jsx(H2,{className:"w-4 h-4"});case"pago_movil":return i.jsx(_2,{className:"w-4 h-4"});case"free":return i.jsx(Vj,{className:"w-4 h-4"});default:return i.jsx(Et,{className:"w-4 h-4"})}},sr=R=>R?new Date(R).toLocaleDateString("es-ES",{day:"2-digit",month:"short",year:"numeric"}):"-",ct=(R,we)=>we==="USDT"||we==="BTC"||we==="ETH"?`${we} ${R.toFixed(2)}`:we==="VES"?new Intl.NumberFormat("es-VE",{style:"currency",currency:"VES"}).format(R):new Intl.NumberFormat("es-ES",{style:"currency",currency:"USD"}).format(R),[De,zr]=v.useState(new Date().toISOString().slice(0,7)),$t=n.filter(R=>{var we,yt,ut;if(u!=="all"&&R.status!==u||De&&new Date(R.date).toISOString().slice(0,7)!==De)return!1;if(h){const oe=h.toLowerCase();return((we=R.reference)==null?void 0:we.toLowerCase().includes(oe))||((yt=R.payerEmail)==null?void 0:yt.toLowerCase().includes(oe))||R.subscriptionId.toLowerCase().includes(oe)||((ut=R.bank)==null?void 0:ut.toLowerCase().includes(oe))}return!0}),Ca=n.filter(R=>R.status==="verified").reduce((R,we)=>R+we.amount,0),Ia=n.filter(R=>R.status==="pending").reduce((R,we)=>R+we.amount,0);return t?i.jsx("div",{className:"flex items-center justify-center h-64",children:i.jsx(Nt,{className:"w-8 h-8 animate-spin text-primary"})}):i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-secondary tracking-tight",children:"Mis Pagos"}),i.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-300",children:"Consulta tus pagos y registra nuevos"})]}),i.jsxs(B,{onClick:()=>g(!w),children:[i.jsx(Wu,{className:"w-4 h-4 mr-2"}),"Registrar Pago"]})]}),m&&i.jsxs("div",{className:"flex items-center gap-2 p-3 bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-lg text-green-600 dark:text-green-400 text-sm",children:[i.jsx(We,{className:"w-4 h-4 shrink-0"}),i.jsx("span",{children:m})]}),x&&!m&&i.jsxs("div",{className:"flex items-center gap-2 p-3 bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-lg text-green-600 dark:text-green-400 text-sm",children:[i.jsx(We,{className:"w-4 h-4 shrink-0"}),i.jsx("span",{children:x})]}),l&&i.jsxs("div",{className:"flex items-center gap-2 p-3 bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 rounded-lg text-yellow-600 dark:text-yellow-400 text-sm",children:[i.jsx(Qn,{className:"w-4 h-4 shrink-0"}),i.jsx("span",{children:l})]}),w&&i.jsxs(Z,{children:[i.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Registrar Nuevo Pago"}),i.jsxs("form",{onSubmit:Te,className:"space-y-4",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Suscripcin *"}),i.jsxs("select",{value:E,onChange:R=>b(R.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-slate-800 text-gray-900 dark:text-white",required:!0,children:[i.jsx("option",{value:"",children:"Selecciona una suscripcin"}),a.map(R=>i.jsxs("option",{value:R.id,children:[R.plan," - ",R.amount," (",R.status,")"]},R.id))]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Mtodo de Pago *"}),i.jsxs("select",{value:K,onChange:R=>Be(R.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-slate-800 text-gray-900 dark:text-white",required:!0,children:[i.jsx("option",{value:"binance",children:"Binance"}),i.jsx("option",{value:"zinli",children:"Zinli"}),i.jsx("option",{value:"pago_movil",children:"Pago Mvil"}),i.jsx("option",{value:"free",children:"Promocional (Gratis)"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Monto *"}),i.jsx(G,{type:"number",step:"0.01",value:j,onChange:R=>I(R.target.value),placeholder:"50.00",required:K!=="free",disabled:K==="free"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Moneda"}),i.jsx("div",{className:"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-gray-100 dark:bg-slate-900 text-gray-900 dark:text-white font-medium",children:A==="USDT"?"USDT (CRIPTOMONEDA)":A==="USD"?"USD (DLAR ESTADOUNIDENSE)":"VES (BOLVAR)"})]})]}),(K==="binance"||K==="zinli")&&i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Referencia *"}),i.jsx(G,{type:"text",value:Y,onChange:R=>P(R.target.value),placeholder:K==="binance"?"BIN_ABC123XYZ":"ZN_123456789",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Email *"}),i.jsx(G,{type:"email",value:H,onChange:R=>z(R.target.value),placeholder:"usuario@email.com",required:!0})]}),i.jsxs("div",{className:"md:col-span-2",children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"URL del Comprobante"}),i.jsx(G,{type:"url",value:ye,onChange:R=>te(R.target.value),placeholder:"https://binance.com/transaction/..."})]})]}),K==="pago_movil"&&i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Telfono *"}),i.jsx(G,{type:"tel",value:J,onChange:R=>_(R.target.value),placeholder:"+584121234567",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Cdula *"}),i.jsx(G,{type:"text",value:D,onChange:R=>O(R.target.value),placeholder:"12345678",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Banco *"}),i.jsx(G,{type:"text",value:M,onChange:R=>V(R.target.value),placeholder:"Banco de Venezuela",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Referencia"}),i.jsx(G,{type:"text",value:Y,onChange:R=>P(R.target.value),placeholder:"REF123456"})]})]}),i.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[i.jsx(B,{type:"button",variant:"secondary",onClick:()=>g(!1),children:"Cancelar"}),i.jsx(B,{type:"submit",disabled:y,children:y?i.jsxs(i.Fragment,{children:[i.jsx(Nt,{className:"w-4 h-4 mr-2 animate-spin"}),"Registrando..."]}):"Registrar Pago"})]})]})]}),i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[i.jsxs(Z,{className:"bg-green-50 dark:bg-green-900/20 border-green-200 dark:border-green-800",children:[i.jsx("div",{className:"text-sm text-green-600 dark:text-green-400",children:"Total Aprobado"}),i.jsx("div",{className:"text-2xl font-bold text-green-700 dark:text-green-300",children:ct(Ca,A)})]}),i.jsxs(Z,{className:"bg-yellow-50 dark:bg-yellow-900/20 border-yellow-200 dark:border-yellow-800",children:[i.jsx("div",{className:"text-sm text-yellow-600 dark:text-yellow-400",children:"Pendiente"}),i.jsx("div",{className:"text-2xl font-bold text-yellow-700 dark:text-yellow-300",children:ct(Ia,A)})]})]}),i.jsxs(Z,{className:"p-3 sm:p-4",children:[i.jsxs("div",{className:"relative mb-3",children:[i.jsx(qu,{className:"w-4 h-4 absolute left-3 top-1/2 -translate-y-1/2 z-10 text-gray-900 dark:text-gray-200"}),i.jsx(G,{type:"text",placeholder:"Buscar pagos...",value:h,onChange:R=>f(R.target.value),className:"pl-10 w-full"})]}),i.jsxs("div",{className:"flex flex-wrap gap-2 items-center justify-between",children:[i.jsxs("div",{className:"relative shrink-0",children:[i.jsxs("select",{value:u,onChange:R=>d(R.target.value),className:"appearance-none pl-3 pr-8 py-2 text-sm border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-slate-800 text-gray-900 dark:text-white cursor-pointer hover:border-primary transition-colors min-w-32.5 focus:outline-none focus:ring-2 focus:ring-primary/20",children:[i.jsx("option",{value:"all",children:"Todos"}),i.jsx("option",{value:"pending",children:"Pendiente"}),i.jsx("option",{value:"verified",children:"Aprobado"}),i.jsx("option",{value:"rejected",children:"Rechazado"})]}),i.jsx(X0,{className:"w-4 h-4 absolute right-7 top-1/2 -translate-y-1/2 text-gray-400 pointer-events-none"}),i.jsx(Zr,{className:"w-4 h-4 absolute right-2 top-1/2 -translate-y-1/2 text-gray-400 pointer-events-none"})]}),i.jsx("div",{className:"shrink-0",children:i.jsx(ig,{value:De,onChange:zr})}),(u!=="all"||De!==new Date().toISOString().slice(0,7)||h)&&i.jsxs("button",{onClick:()=>{d("all"),zr(new Date().toISOString().slice(0,7)),f("")},className:"shrink-0 flex items-center gap-1.5 text-center text-sm text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-md transition-colors px-3 py-2",children:[i.jsx(la,{className:"w-4 h-4"}),i.jsx("span",{children:"Limpiar"})]})]}),$t.length>0&&i.jsxs("div",{className:"mt-3 text-xs text-gray-500 dark:text-gray-400",children:[$t.length," pago",$t.length!==1?"s":""," encontrado",$t.length!==1?"s":""]})]}),$t.length===0?i.jsx(Z,{children:i.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[i.jsx(oa,{className:"w-16 h-16 text-gray-300 dark:text-gray-600 mb-4"}),i.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:"No hay registros"}),i.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:u!=="all"||De!==new Date().toISOString().slice(0,7)?"No se encontraron resultados con los filtros aplicados":"No tienes pagos registrados an"})]})}):i.jsx("div",{className:"space-y-3",children:$t.map(R=>i.jsxs(Z,{className:"hover:shadow-md transition-shadow",children:[i.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[i.jsxs("div",{className:"flex items-start gap-4",children:[i.jsx("div",{className:"p-2.5 bg-gray-100 dark:bg-slate-800 rounded-lg",children:Ne(R.method)}),i.jsxs("div",{children:[i.jsx("div",{className:"font-medium text-gray-900 dark:text-gray-200",children:Rt(R.method)}),i.jsxs("div",{className:"flex items-center gap-3 mt-1.5 text-xs text-gray-500 dark:text-gray-400",children:[i.jsxs("span",{className:"flex items-center gap-1",children:[i.jsx(ia,{className:"w-3 h-3"}),sr(R.date)]}),R.reference&&i.jsxs("span",{children:["Ref: ",R.reference]})]})]})]}),i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsxs("div",{className:"text-right",children:[i.jsx("div",{className:"font-bold text-lg text-gray-900 dark:text-secondary",children:ct(R.amount,R.currency)}),i.jsxs("div",{className:`inline-flex items-center gap-1 px-2 py-0.5 rounded-full text-xs font-medium ${Se(R.status)}`,children:[ve(R.status),fn(R.status)]})]}),R.status==="verified"&&i.jsx(B,{variant:"ghost",size:"sm",children:i.jsx(Mj,{className:"w-4 h-4"})})]})]}),R.notes&&i.jsx("div",{className:"mt-3 pt-3 border-t border-gray-200 dark:border-gray-700",children:i.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:[i.jsx("span",{className:"font-medium",children:"Nota:"})," ",R.notes]})})]},R.id))})]})}function wS(){const{user:e}=Ur(),[t,r]=v.useState(!0),[n,s]=v.useState(!1),[a,o]=v.useState(null),[l,c]=v.useState(null),[u,d]=v.useState(null),[h,f]=v.useState({}),[w,g]=v.useState(!1);v.useEffect(()=>{let m=!0;return(async()=>{var x;if(!(e!=null&&e.id)){m&&(o("No se encontr el usuario"),r(!1));return}try{r(!0);const N=e.id,E=await $.get(`/clients/${N}`),b=((x=E.data)==null?void 0:x.data)||E.data;if(!m)return;d(b),f(b)}catch(N){console.error("Error fetching profile:",N),m&&o("No se pudo cargar el perfil del cliente")}finally{m&&r(!1)}})(),()=>{m=!1}},[e]);const y=m=>{const{name:p,value:x}=m.target;f(N=>({...N,[p]:x}))},k=async m=>{var p,x;m.preventDefault(),s(!0),o(null),c(null);try{if(!(u!=null&&u.id))throw new Error("No hay cliente cargado");const N={};if(typeof h.phone=="string"&&h.phone.trim()!==""&&(N.phone=h.phone),typeof h.address=="string"&&h.address.trim()!==""&&(N.address=h.address),Object.keys(N).length===0)throw new Error("No hay datos para actualizar");await $.patch(`/clients/${u.id}`,N),d(E=>({...E,...N})),c("Perfil actualizado correctamente"),setTimeout(()=>c(null),3e3)}catch(N){console.error("Error updating profile:",N),o(((x=(p=N.response)==null?void 0:p.data)==null?void 0:x.message)||"Error al actualizar el perfil")}finally{s(!1)}};return i.jsx(Tr.Fragment,{children:i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-secondary tracking-tight",children:"Mi Perfil"}),i.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-300",children:"Gestiona tu informacin personal"})]}),i.jsxs("div",{className:"flex flex-col md:flex-row gap-6",children:[i.jsxs(Z,{className:"flex-1 p-6 shadow-md border border-gray-200 dark:border-slate-800",children:[i.jsxs("h2",{className:"text-xl font-bold text-primary dark:text-secondary mb-4 flex items-center gap-2",children:[i.jsx(Yn,{className:"w-6 h-6"})," Mi Perfil"]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(Hu,{className:"w-5 h-5 text-gray-500 dark:text-gray-400"}),i.jsx("span",{className:"font-medium text-gray-900 dark:text-gray-200",children:(e==null?void 0:e.email)||"-"})]}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(Yn,{className:"w-5 h-5 text-gray-500 dark:text-gray-400"}),i.jsx("span",{className:"font-medium text-gray-900 dark:text-gray-200",children:(u==null?void 0:u.name)||"-"})]}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(d2,{className:"w-5 h-5 text-gray-500 dark:text-gray-400"}),i.jsx("span",{className:"font-medium text-gray-900 dark:text-gray-200",children:(u==null?void 0:u.phone)||"-"})]}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(r2,{className:"w-5 h-5 text-gray-500 dark:text-gray-400"}),i.jsx("span",{className:"font-medium text-gray-900 dark:text-gray-200",children:(u==null?void 0:u.address)||"-"})]})]})]}),i.jsxs(Z,{className:"flex-1 p-6 shadow-md border border-gray-200 dark:border-slate-800",children:[i.jsxs("h3",{className:"font-semibold text-primary dark:text-secondary mb-4 flex items-center gap-2",children:[i.jsx(Ic,{className:"w-5 h-5"})," Editar informacin personal"]}),i.jsxs("form",{onSubmit:k,className:"space-y-4",children:[a&&i.jsxs("div",{className:"flex items-center gap-2 p-3 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg text-red-600 dark:text-red-400 text-sm",children:[i.jsx(Qn,{className:"w-4 h-4 shrink-0"}),i.jsx("span",{children:a})]}),l&&i.jsxs("div",{className:"flex items-center gap-2 p-3 bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-lg text-green-600 dark:text-green-400 text-sm",children:[i.jsx(We,{className:"w-4 h-4 shrink-0"}),i.jsx("span",{children:l})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsx(G,{label:"Telfono",name:"phone",value:h.phone||"",onChange:y,placeholder:"+52 123 456 7890"}),i.jsx(G,{label:"Direccin",name:"address",value:h.address||"",onChange:y,placeholder:"Tu direccin completa"})]}),i.jsx("div",{className:"flex justify-end pt-2",children:i.jsxs(B,{type:"submit",disabled:n||!(h.phone!==(u==null?void 0:u.phone)||h.address!==(u==null?void 0:u.address)),className:h.phone!==(u==null?void 0:u.phone)||h.address!==(u==null?void 0:u.address)?"dark:text-secondary":"opacity-60 cursor-not-allowed",children:[i.jsx(eg,{className:"w-4 h-4 mr-2"}),n?"Guardando...":"Actualizar informacin"]})})]})]})]})]})})}function kS(){return i.jsx(i.Fragment,{children:i.jsxs(Ee,{path:"/client/*",element:i.jsx(rg,{roles:["client"],children:i.jsx(sg,{})}),children:[i.jsx(Ee,{index:!0,element:i.jsx(xS,{})}),i.jsx(Ee,{path:"subscription",element:i.jsx(yS,{})}),i.jsx(Ee,{path:"payments",element:i.jsx(vS,{})}),i.jsx(Ee,{path:"profile",element:i.jsx(wS,{})})]})})}function bS({user:e}){return e?i.jsx(Zs,{to:e.role==="admin"?"/admin":"/client",replace:!0}):i.jsx(Zs,{to:"/login",replace:!0})}function NS({message:e="Cargando..."}){return i.jsxs("div",{className:"loading-spinner-container",children:[i.jsx("div",{className:"loading-spinner"}),i.jsx("div",{className:"loading-message",children:e})]})}Ib();function jS(){const{user:e,loading:t}=Ur();return t?i.jsx(NS,{message:"Cargando autenticacin..."}):i.jsxs(Ov,{children:[K2(),i.jsx(Ee,{path:"/",element:i.jsx(bS,{user:e})}),gS(),kS(),i.jsx(Ee,{path:"*",element:i.jsx(Zs,{to:"/",replace:!0})})]})}Nm(document.getElementById("root")).render(i.jsx(Tr.StrictMode,{children:i.jsx(Bv,{basename:"/suscriptions",children:i.jsx(ij,{children:i.jsx(G2,{children:i.jsx(jS,{})})})})}));

function N0(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in e)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(e,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function _0(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Pf={exports:{}},Ea={},Af={exports:{}},W={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ls=Symbol.for("react.element"),E0=Symbol.for("react.portal"),S0=Symbol.for("react.fragment"),j0=Symbol.for("react.strict_mode"),C0=Symbol.for("react.profiler"),I0=Symbol.for("react.provider"),T0=Symbol.for("react.context"),R0=Symbol.for("react.forward_ref"),P0=Symbol.for("react.suspense"),A0=Symbol.for("react.memo"),O0=Symbol.for("react.lazy"),mu=Symbol.iterator;function D0(e){return e===null||typeof e!="object"?null:(e=mu&&e[mu]||e["@@iterator"],typeof e=="function"?e:null)}var Of={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Df=Object.assign,Lf={};function jr(e,t,n){this.props=e,this.context=t,this.refs=Lf,this.updater=n||Of}jr.prototype.isReactComponent={};jr.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};jr.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Mf(){}Mf.prototype=jr.prototype;function Xl(e,t,n){this.props=e,this.context=t,this.refs=Lf,this.updater=n||Of}var Zl=Xl.prototype=new Mf;Zl.constructor=Xl;Df(Zl,jr.prototype);Zl.isPureReactComponent=!0;var gu=Array.isArray,Uf=Object.prototype.hasOwnProperty,ec={current:null},zf={key:!0,ref:!0,__self:!0,__source:!0};function Ff(e,t,n){var r,s={},i=null,a=null;if(t!=null)for(r in t.ref!==void 0&&(a=t.ref),t.key!==void 0&&(i=""+t.key),t)Uf.call(t,r)&&!zf.hasOwnProperty(r)&&(s[r]=t[r]);var l=arguments.length-2;if(l===1)s.children=n;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(r in l=e.defaultProps,l)s[r]===void 0&&(s[r]=l[r]);return{$$typeof:Ls,type:e,key:i,ref:a,props:s,_owner:ec.current}}function L0(e,t){return{$$typeof:Ls,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function tc(e){return typeof e=="object"&&e!==null&&e.$$typeof===Ls}function M0(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var yu=/\/+/g;function eo(e,t){return typeof e=="object"&&e!==null&&e.key!=null?M0(""+e.key):t.toString(36)}function ki(e,t,n,r,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(i){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case Ls:case E0:a=!0}}if(a)return a=e,s=s(a),e=r===""?"."+eo(a,0):r,gu(s)?(n="",e!=null&&(n=e.replace(yu,"$&/")+"/"),ki(s,t,n,"",function(u){return u})):s!=null&&(tc(s)&&(s=L0(s,n+(!s.key||a&&a.key===s.key?"":(""+s.key).replace(yu,"$&/")+"/")+e)),t.push(s)),1;if(a=0,r=r===""?".":r+":",gu(e))for(var l=0;l<e.length;l++){i=e[l];var c=r+eo(i,l);a+=ki(i,t,n,c,s)}else if(c=D0(e),typeof c=="function")for(e=c.call(e),l=0;!(i=e.next()).done;)i=i.value,c=r+eo(i,l++),a+=ki(i,t,n,c,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return a}function ti(e,t,n){if(e==null)return e;var r=[],s=0;return ki(e,r,"","",function(i){return t.call(n,i,s++)}),r}function U0(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Te={current:null},bi={transition:null},z0={ReactCurrentDispatcher:Te,ReactCurrentBatchConfig:bi,ReactCurrentOwner:ec};function $f(){throw Error("act(...) is not supported in production builds of React.")}W.Children={map:ti,forEach:function(e,t,n){ti(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return ti(e,function(){t++}),t},toArray:function(e){return ti(e,function(t){return t})||[]},only:function(e){if(!tc(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};W.Component=jr;W.Fragment=S0;W.Profiler=C0;W.PureComponent=Xl;W.StrictMode=j0;W.Suspense=P0;W.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=z0;W.act=$f;W.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=Df({},e.props),s=e.key,i=e.ref,a=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,a=ec.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)Uf.call(t,c)&&!zf.hasOwnProperty(c)&&(r[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:Ls,type:e.type,key:s,ref:i,props:r,_owner:a}};W.createContext=function(e){return e={$$typeof:T0,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:I0,_context:e},e.Consumer=e};W.createElement=Ff;W.createFactory=function(e){var t=Ff.bind(null,e);return t.type=e,t};W.createRef=function(){return{current:null}};W.forwardRef=function(e){return{$$typeof:R0,render:e}};W.isValidElement=tc;W.lazy=function(e){return{$$typeof:O0,_payload:{_status:-1,_result:e},_init:U0}};W.memo=function(e,t){return{$$typeof:A0,type:e,compare:t===void 0?null:t}};W.startTransition=function(e){var t=bi.transition;bi.transition={};try{e()}finally{bi.transition=t}};W.unstable_act=$f;W.useCallback=function(e,t){return Te.current.useCallback(e,t)};W.useContext=function(e){return Te.current.useContext(e)};W.useDebugValue=function(){};W.useDeferredValue=function(e){return Te.current.useDeferredValue(e)};W.useEffect=function(e,t){return Te.current.useEffect(e,t)};W.useId=function(){return Te.current.useId()};W.useImperativeHandle=function(e,t,n){return Te.current.useImperativeHandle(e,t,n)};W.useInsertionEffect=function(e,t){return Te.current.useInsertionEffect(e,t)};W.useLayoutEffect=function(e,t){return Te.current.useLayoutEffect(e,t)};W.useMemo=function(e,t){return Te.current.useMemo(e,t)};W.useReducer=function(e,t,n){return Te.current.useReducer(e,t,n)};W.useRef=function(e){return Te.current.useRef(e)};W.useState=function(e){return Te.current.useState(e)};W.useSyncExternalStore=function(e,t,n){return Te.current.useSyncExternalStore(e,t,n)};W.useTransition=function(){return Te.current.useTransition()};W.version="18.3.1";Af.exports=W;var w=Af.exports;const un=_0(w),F0=N0({__proto__:null,default:un},[w]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $0=w,B0=Symbol.for("react.element"),H0=Symbol.for("react.fragment"),V0=Object.prototype.hasOwnProperty,W0=$0.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,q0={key:!0,ref:!0,__self:!0,__source:!0};function Bf(e,t,n){var r,s={},i=null,a=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(a=t.ref);for(r in t)V0.call(t,r)&&!q0.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)s[r]===void 0&&(s[r]=t[r]);return{$$typeof:B0,type:e,key:i,ref:a,props:s,_owner:W0.current}}Ea.Fragment=H0;Ea.jsx=Bf;Ea.jsxs=Bf;Pf.exports=Ea;var o=Pf.exports,Hf={exports:{}},qe={},Vf={exports:{}},Wf={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(C,A){var P=C.length;C.push(A);e:for(;0<P;){var L=P-1>>>1,B=C[L];if(0<s(B,A))C[L]=A,C[P]=B,P=L;else break e}}function n(C){return C.length===0?null:C[0]}function r(C){if(C.length===0)return null;var A=C[0],P=C.pop();if(P!==A){C[0]=P;e:for(var L=0,B=C.length,Pe=B>>>1;L<Pe;){var X=2*(L+1)-1,ft=C[X],nt=X+1,Ge=C[nt];if(0>s(ft,P))nt<B&&0>s(Ge,ft)?(C[L]=Ge,C[nt]=P,L=nt):(C[L]=ft,C[X]=P,L=X);else if(nt<B&&0>s(Ge,P))C[L]=Ge,C[nt]=P,L=nt;else break e}}return A}function s(C,A){var P=C.sortIndex-A.sortIndex;return P!==0?P:C.id-A.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var a=Date,l=a.now();e.unstable_now=function(){return a.now()-l}}var c=[],u=[],d=1,p=null,h=3,k=!1,x=!1,g=!1,v=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,f=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(C){for(var A=n(u);A!==null;){if(A.callback===null)r(u);else if(A.startTime<=C)r(u),A.sortIndex=A.expirationTime,t(c,A);else break;A=n(u)}}function b(C){if(g=!1,y(C),!x)if(n(c)!==null)x=!0,M(S);else{var A=n(u);A!==null&&q(b,A.startTime-C)}}function S(C,A){x=!1,g&&(g=!1,m(j),j=-1),k=!0;var P=h;try{for(y(A),p=n(c);p!==null&&(!(p.expirationTime>A)||C&&!J());){var L=p.callback;if(typeof L=="function"){p.callback=null,h=p.priorityLevel;var B=L(p.expirationTime<=A);A=e.unstable_now(),typeof B=="function"?p.callback=B:p===n(c)&&r(c),y(A)}else r(c);p=n(c)}if(p!==null)var Pe=!0;else{var X=n(u);X!==null&&q(b,X.startTime-A),Pe=!1}return Pe}finally{p=null,h=P,k=!1}}var N=!1,_=null,j=-1,R=5,D=-1;function J(){return!(e.unstable_now()-D<R)}function K(){if(_!==null){var C=e.unstable_now();D=C;var A=!0;try{A=_(!0,C)}finally{A?ne():(N=!1,_=null)}}else N=!1}var ne;if(typeof f=="function")ne=function(){f(K)};else if(typeof MessageChannel<"u"){var T=new MessageChannel,$=T.port2;T.port1.onmessage=K,ne=function(){$.postMessage(null)}}else ne=function(){v(K,0)};function M(C){_=C,N||(N=!0,ne())}function q(C,A){j=v(function(){C(e.unstable_now())},A)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(C){C.callback=null},e.unstable_continueExecution=function(){x||k||(x=!0,M(S))},e.unstable_forceFrameRate=function(C){0>C||125<C?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<C?Math.floor(1e3/C):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(C){switch(h){case 1:case 2:case 3:var A=3;break;default:A=h}var P=h;h=A;try{return C()}finally{h=P}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(C,A){switch(C){case 1:case 2:case 3:case 4:case 5:break;default:C=3}var P=h;h=C;try{return A()}finally{h=P}},e.unstable_scheduleCallback=function(C,A,P){var L=e.unstable_now();switch(typeof P=="object"&&P!==null?(P=P.delay,P=typeof P=="number"&&0<P?L+P:L):P=L,C){case 1:var B=-1;break;case 2:B=250;break;case 5:B=1073741823;break;case 4:B=1e4;break;default:B=5e3}return B=P+B,C={id:d++,callback:A,priorityLevel:C,startTime:P,expirationTime:B,sortIndex:-1},P>L?(C.sortIndex=P,t(u,C),n(c)===null&&C===n(u)&&(g?(m(j),j=-1):g=!0,q(b,P-L))):(C.sortIndex=B,t(c,C),x||k||(x=!0,M(S))),C},e.unstable_shouldYield=J,e.unstable_wrapCallback=function(C){var A=h;return function(){var P=h;h=A;try{return C.apply(this,arguments)}finally{h=P}}}})(Wf);Vf.exports=Wf;var K0=Vf.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var G0=w,We=K0;function I(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var qf=new Set,us={};function Fn(e,t){hr(e,t),hr(e+"Capture",t)}function hr(e,t){for(us[e]=t,e=0;e<t.length;e++)qf.add(t[e])}var Tt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ho=Object.prototype.hasOwnProperty,J0=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,xu={},vu={};function Q0(e){return Ho.call(vu,e)?!0:Ho.call(xu,e)?!1:J0.test(e)?vu[e]=!0:(xu[e]=!0,!1)}function Y0(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function X0(e,t,n,r){if(t===null||typeof t>"u"||Y0(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Re(e,t,n,r,s,i,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=a}var ke={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){ke[e]=new Re(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];ke[t]=new Re(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){ke[e]=new Re(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){ke[e]=new Re(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){ke[e]=new Re(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){ke[e]=new Re(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){ke[e]=new Re(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){ke[e]=new Re(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){ke[e]=new Re(e,5,!1,e.toLowerCase(),null,!1,!1)});var nc=/[\-:]([a-z])/g;function rc(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(nc,rc);ke[t]=new Re(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(nc,rc);ke[t]=new Re(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(nc,rc);ke[t]=new Re(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){ke[e]=new Re(e,1,!1,e.toLowerCase(),null,!1,!1)});ke.xlinkHref=new Re("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){ke[e]=new Re(e,1,!1,e.toLowerCase(),null,!0,!0)});function sc(e,t,n,r){var s=ke.hasOwnProperty(t)?ke[t]:null;(s!==null?s.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(X0(t,n,s,r)&&(n=null),r||s===null?Q0(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,r=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Dt=G0.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ni=Symbol.for("react.element"),Wn=Symbol.for("react.portal"),qn=Symbol.for("react.fragment"),ic=Symbol.for("react.strict_mode"),Vo=Symbol.for("react.profiler"),Kf=Symbol.for("react.provider"),Gf=Symbol.for("react.context"),ac=Symbol.for("react.forward_ref"),Wo=Symbol.for("react.suspense"),qo=Symbol.for("react.suspense_list"),oc=Symbol.for("react.memo"),Ft=Symbol.for("react.lazy"),Jf=Symbol.for("react.offscreen"),wu=Symbol.iterator;function Lr(e){return e===null||typeof e!="object"?null:(e=wu&&e[wu]||e["@@iterator"],typeof e=="function"?e:null)}var ce=Object.assign,to;function qr(e){if(to===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);to=t&&t[1]||""}return`
`+to+e}var no=!1;function ro(e,t){if(!e||no)return"";no=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=r.stack.split(`
`),a=s.length-1,l=i.length-1;1<=a&&0<=l&&s[a]!==i[l];)l--;for(;1<=a&&0<=l;a--,l--)if(s[a]!==i[l]){if(a!==1||l!==1)do if(a--,l--,0>l||s[a]!==i[l]){var c=`
`+s[a].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=a&&0<=l);break}}}finally{no=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?qr(e):""}function Z0(e){switch(e.tag){case 5:return qr(e.type);case 16:return qr("Lazy");case 13:return qr("Suspense");case 19:return qr("SuspenseList");case 0:case 2:case 15:return e=ro(e.type,!1),e;case 11:return e=ro(e.type.render,!1),e;case 1:return e=ro(e.type,!0),e;default:return""}}function Ko(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case qn:return"Fragment";case Wn:return"Portal";case Vo:return"Profiler";case ic:return"StrictMode";case Wo:return"Suspense";case qo:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Gf:return(e.displayName||"Context")+".Consumer";case Kf:return(e._context.displayName||"Context")+".Provider";case ac:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case oc:return t=e.displayName||null,t!==null?t:Ko(e.type)||"Memo";case Ft:t=e._payload,e=e._init;try{return Ko(e(t))}catch{}}return null}function eg(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ko(t);case 8:return t===ic?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function dn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Qf(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function tg(e){var t=Qf(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(a){r=""+a,i.call(this,a)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function ri(e){e._valueTracker||(e._valueTracker=tg(e))}function Yf(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Qf(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function $i(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Go(e,t){var n=t.checked;return ce({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function ku(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=dn(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Xf(e,t){t=t.checked,t!=null&&sc(e,"checked",t,!1)}function Jo(e,t){Xf(e,t);var n=dn(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Qo(e,t.type,n):t.hasOwnProperty("defaultValue")&&Qo(e,t.type,dn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function bu(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Qo(e,t,n){(t!=="number"||$i(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Kr=Array.isArray;function sr(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+dn(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,r&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function Yo(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(I(91));return ce({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Nu(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(I(92));if(Kr(n)){if(1<n.length)throw Error(I(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:dn(n)}}function Zf(e,t){var n=dn(t.value),r=dn(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function _u(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function eh(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Xo(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?eh(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var si,th=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(si=si||document.createElement("div"),si.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=si.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function ds(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Zr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ng=["Webkit","ms","Moz","O"];Object.keys(Zr).forEach(function(e){ng.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Zr[t]=Zr[e]})});function nh(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Zr.hasOwnProperty(e)&&Zr[e]?(""+t).trim():t+"px"}function rh(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=nh(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}var rg=ce({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Zo(e,t){if(t){if(rg[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(I(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(I(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(I(61))}if(t.style!=null&&typeof t.style!="object")throw Error(I(62))}}function el(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var tl=null;function lc(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var nl=null,ir=null,ar=null;function Eu(e){if(e=zs(e)){if(typeof nl!="function")throw Error(I(280));var t=e.stateNode;t&&(t=Ta(t),nl(e.stateNode,e.type,t))}}function sh(e){ir?ar?ar.push(e):ar=[e]:ir=e}function ih(){if(ir){var e=ir,t=ar;if(ar=ir=null,Eu(e),t)for(e=0;e<t.length;e++)Eu(t[e])}}function ah(e,t){return e(t)}function oh(){}var so=!1;function lh(e,t,n){if(so)return e(t,n);so=!0;try{return ah(e,t,n)}finally{so=!1,(ir!==null||ar!==null)&&(oh(),ih())}}function fs(e,t){var n=e.stateNode;if(n===null)return null;var r=Ta(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(I(231,t,typeof n));return n}var rl=!1;if(Tt)try{var Mr={};Object.defineProperty(Mr,"passive",{get:function(){rl=!0}}),window.addEventListener("test",Mr,Mr),window.removeEventListener("test",Mr,Mr)}catch{rl=!1}function sg(e,t,n,r,s,i,a,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(d){this.onError(d)}}var es=!1,Bi=null,Hi=!1,sl=null,ig={onError:function(e){es=!0,Bi=e}};function ag(e,t,n,r,s,i,a,l,c){es=!1,Bi=null,sg.apply(ig,arguments)}function og(e,t,n,r,s,i,a,l,c){if(ag.apply(this,arguments),es){if(es){var u=Bi;es=!1,Bi=null}else throw Error(I(198));Hi||(Hi=!0,sl=u)}}function $n(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function ch(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Su(e){if($n(e)!==e)throw Error(I(188))}function lg(e){var t=e.alternate;if(!t){if(t=$n(e),t===null)throw Error(I(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return Su(s),e;if(i===r)return Su(s),t;i=i.sibling}throw Error(I(188))}if(n.return!==r.return)n=s,r=i;else{for(var a=!1,l=s.child;l;){if(l===n){a=!0,n=s,r=i;break}if(l===r){a=!0,r=s,n=i;break}l=l.sibling}if(!a){for(l=i.child;l;){if(l===n){a=!0,n=i,r=s;break}if(l===r){a=!0,r=i,n=s;break}l=l.sibling}if(!a)throw Error(I(189))}}if(n.alternate!==r)throw Error(I(190))}if(n.tag!==3)throw Error(I(188));return n.stateNode.current===n?e:t}function uh(e){return e=lg(e),e!==null?dh(e):null}function dh(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=dh(e);if(t!==null)return t;e=e.sibling}return null}var fh=We.unstable_scheduleCallback,ju=We.unstable_cancelCallback,cg=We.unstable_shouldYield,ug=We.unstable_requestPaint,de=We.unstable_now,dg=We.unstable_getCurrentPriorityLevel,cc=We.unstable_ImmediatePriority,hh=We.unstable_UserBlockingPriority,Vi=We.unstable_NormalPriority,fg=We.unstable_LowPriority,ph=We.unstable_IdlePriority,Sa=null,yt=null;function hg(e){if(yt&&typeof yt.onCommitFiberRoot=="function")try{yt.onCommitFiberRoot(Sa,e,void 0,(e.current.flags&128)===128)}catch{}}var ot=Math.clz32?Math.clz32:gg,pg=Math.log,mg=Math.LN2;function gg(e){return e>>>=0,e===0?32:31-(pg(e)/mg|0)|0}var ii=64,ai=4194304;function Gr(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Wi(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,s=e.suspendedLanes,i=e.pingedLanes,a=n&268435455;if(a!==0){var l=a&~s;l!==0?r=Gr(l):(i&=a,i!==0&&(r=Gr(i)))}else a=n&~s,a!==0?r=Gr(a):i!==0&&(r=Gr(i));if(r===0)return 0;if(t!==0&&t!==r&&!(t&s)&&(s=r&-r,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-ot(t),s=1<<n,r|=e[n],t&=~s;return r}function yg(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function xg(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var a=31-ot(i),l=1<<a,c=s[a];c===-1?(!(l&n)||l&r)&&(s[a]=yg(l,t)):c<=t&&(e.expiredLanes|=l),i&=~l}}function il(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function mh(){var e=ii;return ii<<=1,!(ii&4194240)&&(ii=64),e}function io(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Ms(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-ot(t),e[t]=n}function vg(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-ot(n),i=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~i}}function uc(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ot(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var Y=0;function gh(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var yh,dc,xh,vh,wh,al=!1,oi=[],Yt=null,Xt=null,Zt=null,hs=new Map,ps=new Map,Bt=[],wg="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Cu(e,t){switch(e){case"focusin":case"focusout":Yt=null;break;case"dragenter":case"dragleave":Xt=null;break;case"mouseover":case"mouseout":Zt=null;break;case"pointerover":case"pointerout":hs.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ps.delete(t.pointerId)}}function Ur(e,t,n,r,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},t!==null&&(t=zs(t),t!==null&&dc(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function kg(e,t,n,r,s){switch(t){case"focusin":return Yt=Ur(Yt,e,t,n,r,s),!0;case"dragenter":return Xt=Ur(Xt,e,t,n,r,s),!0;case"mouseover":return Zt=Ur(Zt,e,t,n,r,s),!0;case"pointerover":var i=s.pointerId;return hs.set(i,Ur(hs.get(i)||null,e,t,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,ps.set(i,Ur(ps.get(i)||null,e,t,n,r,s)),!0}return!1}function kh(e){var t=Nn(e.target);if(t!==null){var n=$n(t);if(n!==null){if(t=n.tag,t===13){if(t=ch(n),t!==null){e.blockedOn=t,wh(e.priority,function(){xh(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ni(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=ol(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);tl=r,n.target.dispatchEvent(r),tl=null}else return t=zs(n),t!==null&&dc(t),e.blockedOn=n,!1;t.shift()}return!0}function Iu(e,t,n){Ni(e)&&n.delete(t)}function bg(){al=!1,Yt!==null&&Ni(Yt)&&(Yt=null),Xt!==null&&Ni(Xt)&&(Xt=null),Zt!==null&&Ni(Zt)&&(Zt=null),hs.forEach(Iu),ps.forEach(Iu)}function zr(e,t){e.blockedOn===t&&(e.blockedOn=null,al||(al=!0,We.unstable_scheduleCallback(We.unstable_NormalPriority,bg)))}function ms(e){function t(s){return zr(s,e)}if(0<oi.length){zr(oi[0],e);for(var n=1;n<oi.length;n++){var r=oi[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Yt!==null&&zr(Yt,e),Xt!==null&&zr(Xt,e),Zt!==null&&zr(Zt,e),hs.forEach(t),ps.forEach(t),n=0;n<Bt.length;n++)r=Bt[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Bt.length&&(n=Bt[0],n.blockedOn===null);)kh(n),n.blockedOn===null&&Bt.shift()}var or=Dt.ReactCurrentBatchConfig,qi=!0;function Ng(e,t,n,r){var s=Y,i=or.transition;or.transition=null;try{Y=1,fc(e,t,n,r)}finally{Y=s,or.transition=i}}function _g(e,t,n,r){var s=Y,i=or.transition;or.transition=null;try{Y=4,fc(e,t,n,r)}finally{Y=s,or.transition=i}}function fc(e,t,n,r){if(qi){var s=ol(e,t,n,r);if(s===null)go(e,t,r,Ki,n),Cu(e,r);else if(kg(s,e,t,n,r))r.stopPropagation();else if(Cu(e,r),t&4&&-1<wg.indexOf(e)){for(;s!==null;){var i=zs(s);if(i!==null&&yh(i),i=ol(e,t,n,r),i===null&&go(e,t,r,Ki,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else go(e,t,r,null,n)}}var Ki=null;function ol(e,t,n,r){if(Ki=null,e=lc(r),e=Nn(e),e!==null)if(t=$n(e),t===null)e=null;else if(n=t.tag,n===13){if(e=ch(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Ki=e,null}function bh(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(dg()){case cc:return 1;case hh:return 4;case Vi:case fg:return 16;case ph:return 536870912;default:return 16}default:return 16}}var Gt=null,hc=null,_i=null;function Nh(){if(_i)return _i;var e,t=hc,n=t.length,r,s="value"in Gt?Gt.value:Gt.textContent,i=s.length;for(e=0;e<n&&t[e]===s[e];e++);var a=n-e;for(r=1;r<=a&&t[n-r]===s[i-r];r++);return _i=s.slice(e,1<r?1-r:void 0)}function Ei(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function li(){return!0}function Tu(){return!1}function Ke(e){function t(n,r,s,i,a){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=a,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?li:Tu,this.isPropagationStopped=Tu,this}return ce(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=li)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=li)},persist:function(){},isPersistent:li}),t}var Cr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},pc=Ke(Cr),Us=ce({},Cr,{view:0,detail:0}),Eg=Ke(Us),ao,oo,Fr,ja=ce({},Us,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:mc,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Fr&&(Fr&&e.type==="mousemove"?(ao=e.screenX-Fr.screenX,oo=e.screenY-Fr.screenY):oo=ao=0,Fr=e),ao)},movementY:function(e){return"movementY"in e?e.movementY:oo}}),Ru=Ke(ja),Sg=ce({},ja,{dataTransfer:0}),jg=Ke(Sg),Cg=ce({},Us,{relatedTarget:0}),lo=Ke(Cg),Ig=ce({},Cr,{animationName:0,elapsedTime:0,pseudoElement:0}),Tg=Ke(Ig),Rg=ce({},Cr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Pg=Ke(Rg),Ag=ce({},Cr,{data:0}),Pu=Ke(Ag),Og={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Dg={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Lg={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Mg(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Lg[e])?!!t[e]:!1}function mc(){return Mg}var Ug=ce({},Us,{key:function(e){if(e.key){var t=Og[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Ei(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Dg[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:mc,charCode:function(e){return e.type==="keypress"?Ei(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ei(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),zg=Ke(Ug),Fg=ce({},ja,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Au=Ke(Fg),$g=ce({},Us,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:mc}),Bg=Ke($g),Hg=ce({},Cr,{propertyName:0,elapsedTime:0,pseudoElement:0}),Vg=Ke(Hg),Wg=ce({},ja,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),qg=Ke(Wg),Kg=[9,13,27,32],gc=Tt&&"CompositionEvent"in window,ts=null;Tt&&"documentMode"in document&&(ts=document.documentMode);var Gg=Tt&&"TextEvent"in window&&!ts,_h=Tt&&(!gc||ts&&8<ts&&11>=ts),Ou=" ",Du=!1;function Eh(e,t){switch(e){case"keyup":return Kg.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Sh(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Kn=!1;function Jg(e,t){switch(e){case"compositionend":return Sh(t);case"keypress":return t.which!==32?null:(Du=!0,Ou);case"textInput":return e=t.data,e===Ou&&Du?null:e;default:return null}}function Qg(e,t){if(Kn)return e==="compositionend"||!gc&&Eh(e,t)?(e=Nh(),_i=hc=Gt=null,Kn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return _h&&t.locale!=="ko"?null:t.data;default:return null}}var Yg={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Lu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Yg[e.type]:t==="textarea"}function jh(e,t,n,r){sh(r),t=Gi(t,"onChange"),0<t.length&&(n=new pc("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var ns=null,gs=null;function Xg(e){Uh(e,0)}function Ca(e){var t=Qn(e);if(Yf(t))return e}function Zg(e,t){if(e==="change")return t}var Ch=!1;if(Tt){var co;if(Tt){var uo="oninput"in document;if(!uo){var Mu=document.createElement("div");Mu.setAttribute("oninput","return;"),uo=typeof Mu.oninput=="function"}co=uo}else co=!1;Ch=co&&(!document.documentMode||9<document.documentMode)}function Uu(){ns&&(ns.detachEvent("onpropertychange",Ih),gs=ns=null)}function Ih(e){if(e.propertyName==="value"&&Ca(gs)){var t=[];jh(t,gs,e,lc(e)),lh(Xg,t)}}function ey(e,t,n){e==="focusin"?(Uu(),ns=t,gs=n,ns.attachEvent("onpropertychange",Ih)):e==="focusout"&&Uu()}function ty(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ca(gs)}function ny(e,t){if(e==="click")return Ca(t)}function ry(e,t){if(e==="input"||e==="change")return Ca(t)}function sy(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var ct=typeof Object.is=="function"?Object.is:sy;function ys(e,t){if(ct(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Ho.call(t,s)||!ct(e[s],t[s]))return!1}return!0}function zu(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Fu(e,t){var n=zu(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=zu(n)}}function Th(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Th(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Rh(){for(var e=window,t=$i();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=$i(e.document)}return t}function yc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function iy(e){var t=Rh(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Th(n.ownerDocument.documentElement,n)){if(r!==null&&yc(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!e.extend&&i>r&&(s=r,r=i,i=s),s=Fu(n,i);var a=Fu(n,r);s&&a&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var ay=Tt&&"documentMode"in document&&11>=document.documentMode,Gn=null,ll=null,rs=null,cl=!1;function $u(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;cl||Gn==null||Gn!==$i(r)||(r=Gn,"selectionStart"in r&&yc(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),rs&&ys(rs,r)||(rs=r,r=Gi(ll,"onSelect"),0<r.length&&(t=new pc("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Gn)))}function ci(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Jn={animationend:ci("Animation","AnimationEnd"),animationiteration:ci("Animation","AnimationIteration"),animationstart:ci("Animation","AnimationStart"),transitionend:ci("Transition","TransitionEnd")},fo={},Ph={};Tt&&(Ph=document.createElement("div").style,"AnimationEvent"in window||(delete Jn.animationend.animation,delete Jn.animationiteration.animation,delete Jn.animationstart.animation),"TransitionEvent"in window||delete Jn.transitionend.transition);function Ia(e){if(fo[e])return fo[e];if(!Jn[e])return e;var t=Jn[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Ph)return fo[e]=t[n];return e}var Ah=Ia("animationend"),Oh=Ia("animationiteration"),Dh=Ia("animationstart"),Lh=Ia("transitionend"),Mh=new Map,Bu="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function hn(e,t){Mh.set(e,t),Fn(t,[e])}for(var ho=0;ho<Bu.length;ho++){var po=Bu[ho],oy=po.toLowerCase(),ly=po[0].toUpperCase()+po.slice(1);hn(oy,"on"+ly)}hn(Ah,"onAnimationEnd");hn(Oh,"onAnimationIteration");hn(Dh,"onAnimationStart");hn("dblclick","onDoubleClick");hn("focusin","onFocus");hn("focusout","onBlur");hn(Lh,"onTransitionEnd");hr("onMouseEnter",["mouseout","mouseover"]);hr("onMouseLeave",["mouseout","mouseover"]);hr("onPointerEnter",["pointerout","pointerover"]);hr("onPointerLeave",["pointerout","pointerover"]);Fn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Fn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Fn("onBeforeInput",["compositionend","keypress","textInput","paste"]);Fn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Fn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Fn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Jr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),cy=new Set("cancel close invalid load scroll toggle".split(" ").concat(Jr));function Hu(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,og(r,t,void 0,e),e.currentTarget=null}function Uh(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var a=r.length-1;0<=a;a--){var l=r[a],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==i&&s.isPropagationStopped())break e;Hu(s,l,u),i=c}else for(a=0;a<r.length;a++){if(l=r[a],c=l.instance,u=l.currentTarget,l=l.listener,c!==i&&s.isPropagationStopped())break e;Hu(s,l,u),i=c}}}if(Hi)throw e=sl,Hi=!1,sl=null,e}function re(e,t){var n=t[pl];n===void 0&&(n=t[pl]=new Set);var r=e+"__bubble";n.has(r)||(zh(t,e,2,!1),n.add(r))}function mo(e,t,n){var r=0;t&&(r|=4),zh(n,e,r,t)}var ui="_reactListening"+Math.random().toString(36).slice(2);function xs(e){if(!e[ui]){e[ui]=!0,qf.forEach(function(n){n!=="selectionchange"&&(cy.has(n)||mo(n,!1,e),mo(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[ui]||(t[ui]=!0,mo("selectionchange",!1,t))}}function zh(e,t,n,r){switch(bh(t)){case 1:var s=Ng;break;case 4:s=_g;break;default:s=fc}n=s.bind(null,t,n,e),s=void 0,!rl||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),r?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function go(e,t,n,r,s){var i=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var l=r.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(a===4)for(a=r.return;a!==null;){var c=a.tag;if((c===3||c===4)&&(c=a.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;a=a.return}for(;l!==null;){if(a=Nn(l),a===null)return;if(c=a.tag,c===5||c===6){r=i=a;continue e}l=l.parentNode}}r=r.return}lh(function(){var u=i,d=lc(n),p=[];e:{var h=Mh.get(e);if(h!==void 0){var k=pc,x=e;switch(e){case"keypress":if(Ei(n)===0)break e;case"keydown":case"keyup":k=zg;break;case"focusin":x="focus",k=lo;break;case"focusout":x="blur",k=lo;break;case"beforeblur":case"afterblur":k=lo;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":k=Ru;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":k=jg;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":k=Bg;break;case Ah:case Oh:case Dh:k=Tg;break;case Lh:k=Vg;break;case"scroll":k=Eg;break;case"wheel":k=qg;break;case"copy":case"cut":case"paste":k=Pg;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":k=Au}var g=(t&4)!==0,v=!g&&e==="scroll",m=g?h!==null?h+"Capture":null:h;g=[];for(var f=u,y;f!==null;){y=f;var b=y.stateNode;if(y.tag===5&&b!==null&&(y=b,m!==null&&(b=fs(f,m),b!=null&&g.push(vs(f,b,y)))),v)break;f=f.return}0<g.length&&(h=new k(h,x,null,n,d),p.push({event:h,listeners:g}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",k=e==="mouseout"||e==="pointerout",h&&n!==tl&&(x=n.relatedTarget||n.fromElement)&&(Nn(x)||x[Rt]))break e;if((k||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,k?(x=n.relatedTarget||n.toElement,k=u,x=x?Nn(x):null,x!==null&&(v=$n(x),x!==v||x.tag!==5&&x.tag!==6)&&(x=null)):(k=null,x=u),k!==x)){if(g=Ru,b="onMouseLeave",m="onMouseEnter",f="mouse",(e==="pointerout"||e==="pointerover")&&(g=Au,b="onPointerLeave",m="onPointerEnter",f="pointer"),v=k==null?h:Qn(k),y=x==null?h:Qn(x),h=new g(b,f+"leave",k,n,d),h.target=v,h.relatedTarget=y,b=null,Nn(d)===u&&(g=new g(m,f+"enter",x,n,d),g.target=y,g.relatedTarget=v,b=g),v=b,k&&x)t:{for(g=k,m=x,f=0,y=g;y;y=Vn(y))f++;for(y=0,b=m;b;b=Vn(b))y++;for(;0<f-y;)g=Vn(g),f--;for(;0<y-f;)m=Vn(m),y--;for(;f--;){if(g===m||m!==null&&g===m.alternate)break t;g=Vn(g),m=Vn(m)}g=null}else g=null;k!==null&&Vu(p,h,k,g,!1),x!==null&&v!==null&&Vu(p,v,x,g,!0)}}e:{if(h=u?Qn(u):window,k=h.nodeName&&h.nodeName.toLowerCase(),k==="select"||k==="input"&&h.type==="file")var S=Zg;else if(Lu(h))if(Ch)S=ry;else{S=ty;var N=ey}else(k=h.nodeName)&&k.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(S=ny);if(S&&(S=S(e,u))){jh(p,S,n,d);break e}N&&N(e,h,u),e==="focusout"&&(N=h._wrapperState)&&N.controlled&&h.type==="number"&&Qo(h,"number",h.value)}switch(N=u?Qn(u):window,e){case"focusin":(Lu(N)||N.contentEditable==="true")&&(Gn=N,ll=u,rs=null);break;case"focusout":rs=ll=Gn=null;break;case"mousedown":cl=!0;break;case"contextmenu":case"mouseup":case"dragend":cl=!1,$u(p,n,d);break;case"selectionchange":if(ay)break;case"keydown":case"keyup":$u(p,n,d)}var _;if(gc)e:{switch(e){case"compositionstart":var j="onCompositionStart";break e;case"compositionend":j="onCompositionEnd";break e;case"compositionupdate":j="onCompositionUpdate";break e}j=void 0}else Kn?Eh(e,n)&&(j="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(j="onCompositionStart");j&&(_h&&n.locale!=="ko"&&(Kn||j!=="onCompositionStart"?j==="onCompositionEnd"&&Kn&&(_=Nh()):(Gt=d,hc="value"in Gt?Gt.value:Gt.textContent,Kn=!0)),N=Gi(u,j),0<N.length&&(j=new Pu(j,e,null,n,d),p.push({event:j,listeners:N}),_?j.data=_:(_=Sh(n),_!==null&&(j.data=_)))),(_=Gg?Jg(e,n):Qg(e,n))&&(u=Gi(u,"onBeforeInput"),0<u.length&&(d=new Pu("onBeforeInput","beforeinput",null,n,d),p.push({event:d,listeners:u}),d.data=_))}Uh(p,t)})}function vs(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Gi(e,t){for(var n=t+"Capture",r=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=fs(e,n),i!=null&&r.unshift(vs(e,i,s)),i=fs(e,t),i!=null&&r.push(vs(e,i,s))),e=e.return}return r}function Vn(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Vu(e,t,n,r,s){for(var i=t._reactName,a=[];n!==null&&n!==r;){var l=n,c=l.alternate,u=l.stateNode;if(c!==null&&c===r)break;l.tag===5&&u!==null&&(l=u,s?(c=fs(n,i),c!=null&&a.unshift(vs(n,c,l))):s||(c=fs(n,i),c!=null&&a.push(vs(n,c,l)))),n=n.return}a.length!==0&&e.push({event:t,listeners:a})}var uy=/\r\n?/g,dy=/\u0000|\uFFFD/g;function Wu(e){return(typeof e=="string"?e:""+e).replace(uy,`
`).replace(dy,"")}function di(e,t,n){if(t=Wu(t),Wu(e)!==t&&n)throw Error(I(425))}function Ji(){}var ul=null,dl=null;function fl(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var hl=typeof setTimeout=="function"?setTimeout:void 0,fy=typeof clearTimeout=="function"?clearTimeout:void 0,qu=typeof Promise=="function"?Promise:void 0,hy=typeof queueMicrotask=="function"?queueMicrotask:typeof qu<"u"?function(e){return qu.resolve(null).then(e).catch(py)}:hl;function py(e){setTimeout(function(){throw e})}function yo(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){e.removeChild(s),ms(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);ms(t)}function en(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Ku(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Ir=Math.random().toString(36).slice(2),mt="__reactFiber$"+Ir,ws="__reactProps$"+Ir,Rt="__reactContainer$"+Ir,pl="__reactEvents$"+Ir,my="__reactListeners$"+Ir,gy="__reactHandles$"+Ir;function Nn(e){var t=e[mt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Rt]||n[mt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Ku(e);e!==null;){if(n=e[mt])return n;e=Ku(e)}return t}e=n,n=e.parentNode}return null}function zs(e){return e=e[mt]||e[Rt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Qn(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(I(33))}function Ta(e){return e[ws]||null}var ml=[],Yn=-1;function pn(e){return{current:e}}function se(e){0>Yn||(e.current=ml[Yn],ml[Yn]=null,Yn--)}function te(e,t){Yn++,ml[Yn]=e.current,e.current=t}var fn={},Se=pn(fn),Me=pn(!1),Pn=fn;function pr(e,t){var n=e.type.contextTypes;if(!n)return fn;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=t[i];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Ue(e){return e=e.childContextTypes,e!=null}function Qi(){se(Me),se(Se)}function Gu(e,t,n){if(Se.current!==fn)throw Error(I(168));te(Se,t),te(Me,n)}function Fh(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in t))throw Error(I(108,eg(e)||"Unknown",s));return ce({},n,r)}function Yi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||fn,Pn=Se.current,te(Se,e),te(Me,Me.current),!0}function Ju(e,t,n){var r=e.stateNode;if(!r)throw Error(I(169));n?(e=Fh(e,t,Pn),r.__reactInternalMemoizedMergedChildContext=e,se(Me),se(Se),te(Se,e)):se(Me),te(Me,n)}var _t=null,Ra=!1,xo=!1;function $h(e){_t===null?_t=[e]:_t.push(e)}function yy(e){Ra=!0,$h(e)}function mn(){if(!xo&&_t!==null){xo=!0;var e=0,t=Y;try{var n=_t;for(Y=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}_t=null,Ra=!1}catch(s){throw _t!==null&&(_t=_t.slice(e+1)),fh(cc,mn),s}finally{Y=t,xo=!1}}return null}var Xn=[],Zn=0,Xi=null,Zi=0,Qe=[],Ye=0,An=null,Et=1,St="";function vn(e,t){Xn[Zn++]=Zi,Xn[Zn++]=Xi,Xi=e,Zi=t}function Bh(e,t,n){Qe[Ye++]=Et,Qe[Ye++]=St,Qe[Ye++]=An,An=e;var r=Et;e=St;var s=32-ot(r)-1;r&=~(1<<s),n+=1;var i=32-ot(t)+s;if(30<i){var a=s-s%5;i=(r&(1<<a)-1).toString(32),r>>=a,s-=a,Et=1<<32-ot(t)+s|n<<s|r,St=i+e}else Et=1<<i|n<<s|r,St=e}function xc(e){e.return!==null&&(vn(e,1),Bh(e,1,0))}function vc(e){for(;e===Xi;)Xi=Xn[--Zn],Xn[Zn]=null,Zi=Xn[--Zn],Xn[Zn]=null;for(;e===An;)An=Qe[--Ye],Qe[Ye]=null,St=Qe[--Ye],Qe[Ye]=null,Et=Qe[--Ye],Qe[Ye]=null}var Ve=null,He=null,ie=!1,at=null;function Hh(e,t){var n=Xe(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Qu(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Ve=e,He=en(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Ve=e,He=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=An!==null?{id:Et,overflow:St}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Xe(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Ve=e,He=null,!0):!1;default:return!1}}function gl(e){return(e.mode&1)!==0&&(e.flags&128)===0}function yl(e){if(ie){var t=He;if(t){var n=t;if(!Qu(e,t)){if(gl(e))throw Error(I(418));t=en(n.nextSibling);var r=Ve;t&&Qu(e,t)?Hh(r,n):(e.flags=e.flags&-4097|2,ie=!1,Ve=e)}}else{if(gl(e))throw Error(I(418));e.flags=e.flags&-4097|2,ie=!1,Ve=e}}}function Yu(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Ve=e}function fi(e){if(e!==Ve)return!1;if(!ie)return Yu(e),ie=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!fl(e.type,e.memoizedProps)),t&&(t=He)){if(gl(e))throw Vh(),Error(I(418));for(;t;)Hh(e,t),t=en(t.nextSibling)}if(Yu(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(I(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){He=en(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}He=null}}else He=Ve?en(e.stateNode.nextSibling):null;return!0}function Vh(){for(var e=He;e;)e=en(e.nextSibling)}function mr(){He=Ve=null,ie=!1}function wc(e){at===null?at=[e]:at.push(e)}var xy=Dt.ReactCurrentBatchConfig;function $r(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(I(309));var r=n.stateNode}if(!r)throw Error(I(147,e));var s=r,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(a){var l=s.refs;a===null?delete l[i]:l[i]=a},t._stringRef=i,t)}if(typeof e!="string")throw Error(I(284));if(!n._owner)throw Error(I(290,e))}return e}function hi(e,t){throw e=Object.prototype.toString.call(t),Error(I(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Xu(e){var t=e._init;return t(e._payload)}function Wh(e){function t(m,f){if(e){var y=m.deletions;y===null?(m.deletions=[f],m.flags|=16):y.push(f)}}function n(m,f){if(!e)return null;for(;f!==null;)t(m,f),f=f.sibling;return null}function r(m,f){for(m=new Map;f!==null;)f.key!==null?m.set(f.key,f):m.set(f.index,f),f=f.sibling;return m}function s(m,f){return m=sn(m,f),m.index=0,m.sibling=null,m}function i(m,f,y){return m.index=y,e?(y=m.alternate,y!==null?(y=y.index,y<f?(m.flags|=2,f):y):(m.flags|=2,f)):(m.flags|=1048576,f)}function a(m){return e&&m.alternate===null&&(m.flags|=2),m}function l(m,f,y,b){return f===null||f.tag!==6?(f=Eo(y,m.mode,b),f.return=m,f):(f=s(f,y),f.return=m,f)}function c(m,f,y,b){var S=y.type;return S===qn?d(m,f,y.props.children,b,y.key):f!==null&&(f.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Ft&&Xu(S)===f.type)?(b=s(f,y.props),b.ref=$r(m,f,y),b.return=m,b):(b=Pi(y.type,y.key,y.props,null,m.mode,b),b.ref=$r(m,f,y),b.return=m,b)}function u(m,f,y,b){return f===null||f.tag!==4||f.stateNode.containerInfo!==y.containerInfo||f.stateNode.implementation!==y.implementation?(f=So(y,m.mode,b),f.return=m,f):(f=s(f,y.children||[]),f.return=m,f)}function d(m,f,y,b,S){return f===null||f.tag!==7?(f=Cn(y,m.mode,b,S),f.return=m,f):(f=s(f,y),f.return=m,f)}function p(m,f,y){if(typeof f=="string"&&f!==""||typeof f=="number")return f=Eo(""+f,m.mode,y),f.return=m,f;if(typeof f=="object"&&f!==null){switch(f.$$typeof){case ni:return y=Pi(f.type,f.key,f.props,null,m.mode,y),y.ref=$r(m,null,f),y.return=m,y;case Wn:return f=So(f,m.mode,y),f.return=m,f;case Ft:var b=f._init;return p(m,b(f._payload),y)}if(Kr(f)||Lr(f))return f=Cn(f,m.mode,y,null),f.return=m,f;hi(m,f)}return null}function h(m,f,y,b){var S=f!==null?f.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return S!==null?null:l(m,f,""+y,b);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case ni:return y.key===S?c(m,f,y,b):null;case Wn:return y.key===S?u(m,f,y,b):null;case Ft:return S=y._init,h(m,f,S(y._payload),b)}if(Kr(y)||Lr(y))return S!==null?null:d(m,f,y,b,null);hi(m,y)}return null}function k(m,f,y,b,S){if(typeof b=="string"&&b!==""||typeof b=="number")return m=m.get(y)||null,l(f,m,""+b,S);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case ni:return m=m.get(b.key===null?y:b.key)||null,c(f,m,b,S);case Wn:return m=m.get(b.key===null?y:b.key)||null,u(f,m,b,S);case Ft:var N=b._init;return k(m,f,y,N(b._payload),S)}if(Kr(b)||Lr(b))return m=m.get(y)||null,d(f,m,b,S,null);hi(f,b)}return null}function x(m,f,y,b){for(var S=null,N=null,_=f,j=f=0,R=null;_!==null&&j<y.length;j++){_.index>j?(R=_,_=null):R=_.sibling;var D=h(m,_,y[j],b);if(D===null){_===null&&(_=R);break}e&&_&&D.alternate===null&&t(m,_),f=i(D,f,j),N===null?S=D:N.sibling=D,N=D,_=R}if(j===y.length)return n(m,_),ie&&vn(m,j),S;if(_===null){for(;j<y.length;j++)_=p(m,y[j],b),_!==null&&(f=i(_,f,j),N===null?S=_:N.sibling=_,N=_);return ie&&vn(m,j),S}for(_=r(m,_);j<y.length;j++)R=k(_,m,j,y[j],b),R!==null&&(e&&R.alternate!==null&&_.delete(R.key===null?j:R.key),f=i(R,f,j),N===null?S=R:N.sibling=R,N=R);return e&&_.forEach(function(J){return t(m,J)}),ie&&vn(m,j),S}function g(m,f,y,b){var S=Lr(y);if(typeof S!="function")throw Error(I(150));if(y=S.call(y),y==null)throw Error(I(151));for(var N=S=null,_=f,j=f=0,R=null,D=y.next();_!==null&&!D.done;j++,D=y.next()){_.index>j?(R=_,_=null):R=_.sibling;var J=h(m,_,D.value,b);if(J===null){_===null&&(_=R);break}e&&_&&J.alternate===null&&t(m,_),f=i(J,f,j),N===null?S=J:N.sibling=J,N=J,_=R}if(D.done)return n(m,_),ie&&vn(m,j),S;if(_===null){for(;!D.done;j++,D=y.next())D=p(m,D.value,b),D!==null&&(f=i(D,f,j),N===null?S=D:N.sibling=D,N=D);return ie&&vn(m,j),S}for(_=r(m,_);!D.done;j++,D=y.next())D=k(_,m,j,D.value,b),D!==null&&(e&&D.alternate!==null&&_.delete(D.key===null?j:D.key),f=i(D,f,j),N===null?S=D:N.sibling=D,N=D);return e&&_.forEach(function(K){return t(m,K)}),ie&&vn(m,j),S}function v(m,f,y,b){if(typeof y=="object"&&y!==null&&y.type===qn&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case ni:e:{for(var S=y.key,N=f;N!==null;){if(N.key===S){if(S=y.type,S===qn){if(N.tag===7){n(m,N.sibling),f=s(N,y.props.children),f.return=m,m=f;break e}}else if(N.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Ft&&Xu(S)===N.type){n(m,N.sibling),f=s(N,y.props),f.ref=$r(m,N,y),f.return=m,m=f;break e}n(m,N);break}else t(m,N);N=N.sibling}y.type===qn?(f=Cn(y.props.children,m.mode,b,y.key),f.return=m,m=f):(b=Pi(y.type,y.key,y.props,null,m.mode,b),b.ref=$r(m,f,y),b.return=m,m=b)}return a(m);case Wn:e:{for(N=y.key;f!==null;){if(f.key===N)if(f.tag===4&&f.stateNode.containerInfo===y.containerInfo&&f.stateNode.implementation===y.implementation){n(m,f.sibling),f=s(f,y.children||[]),f.return=m,m=f;break e}else{n(m,f);break}else t(m,f);f=f.sibling}f=So(y,m.mode,b),f.return=m,m=f}return a(m);case Ft:return N=y._init,v(m,f,N(y._payload),b)}if(Kr(y))return x(m,f,y,b);if(Lr(y))return g(m,f,y,b);hi(m,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,f!==null&&f.tag===6?(n(m,f.sibling),f=s(f,y),f.return=m,m=f):(n(m,f),f=Eo(y,m.mode,b),f.return=m,m=f),a(m)):n(m,f)}return v}var gr=Wh(!0),qh=Wh(!1),ea=pn(null),ta=null,er=null,kc=null;function bc(){kc=er=ta=null}function Nc(e){var t=ea.current;se(ea),e._currentValue=t}function xl(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function lr(e,t){ta=e,kc=er=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Le=!0),e.firstContext=null)}function et(e){var t=e._currentValue;if(kc!==e)if(e={context:e,memoizedValue:t,next:null},er===null){if(ta===null)throw Error(I(308));er=e,ta.dependencies={lanes:0,firstContext:e}}else er=er.next=e;return t}var _n=null;function _c(e){_n===null?_n=[e]:_n.push(e)}function Kh(e,t,n,r){var s=t.interleaved;return s===null?(n.next=n,_c(t)):(n.next=s.next,s.next=n),t.interleaved=n,Pt(e,r)}function Pt(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var $t=!1;function Ec(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Gh(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function It(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function tn(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,G&2){var s=r.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),r.pending=t,Pt(e,n)}return s=r.interleaved,s===null?(t.next=t,_c(r)):(t.next=s.next,s.next=t),r.interleaved=t,Pt(e,n)}function Si(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,uc(e,n)}}function Zu(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=a:i=i.next=a,n=n.next}while(n!==null);i===null?s=i=t:i=i.next=t}else s=i=t;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function na(e,t,n,r){var s=e.updateQueue;$t=!1;var i=s.firstBaseUpdate,a=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,u=c.next;c.next=null,a===null?i=u:a.next=u,a=c;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==a&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(i!==null){var p=s.baseState;a=0,d=u=c=null,l=i;do{var h=l.lane,k=l.eventTime;if((r&h)===h){d!==null&&(d=d.next={eventTime:k,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var x=e,g=l;switch(h=t,k=n,g.tag){case 1:if(x=g.payload,typeof x=="function"){p=x.call(k,p,h);break e}p=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=g.payload,h=typeof x=="function"?x.call(k,p,h):x,h==null)break e;p=ce({},p,h);break e;case 2:$t=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,h=s.effects,h===null?s.effects=[l]:h.push(l))}else k={eventTime:k,lane:h,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=k,c=p):d=d.next=k,a|=h;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;h=l,l=h.next,h.next=null,s.lastBaseUpdate=h,s.shared.pending=null}}while(!0);if(d===null&&(c=p),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=d,t=s.shared.interleaved,t!==null){s=t;do a|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);Dn|=a,e.lanes=a,e.memoizedState=p}}function ed(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(I(191,s));s.call(r)}}}var Fs={},xt=pn(Fs),ks=pn(Fs),bs=pn(Fs);function En(e){if(e===Fs)throw Error(I(174));return e}function Sc(e,t){switch(te(bs,t),te(ks,e),te(xt,Fs),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Xo(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Xo(t,e)}se(xt),te(xt,t)}function yr(){se(xt),se(ks),se(bs)}function Jh(e){En(bs.current);var t=En(xt.current),n=Xo(t,e.type);t!==n&&(te(ks,e),te(xt,n))}function jc(e){ks.current===e&&(se(xt),se(ks))}var ae=pn(0);function ra(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var vo=[];function Cc(){for(var e=0;e<vo.length;e++)vo[e]._workInProgressVersionPrimary=null;vo.length=0}var ji=Dt.ReactCurrentDispatcher,wo=Dt.ReactCurrentBatchConfig,On=0,oe=null,pe=null,ye=null,sa=!1,ss=!1,Ns=0,vy=0;function be(){throw Error(I(321))}function Ic(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ct(e[n],t[n]))return!1;return!0}function Tc(e,t,n,r,s,i){if(On=i,oe=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ji.current=e===null||e.memoizedState===null?Ny:_y,e=n(r,s),ss){i=0;do{if(ss=!1,Ns=0,25<=i)throw Error(I(301));i+=1,ye=pe=null,t.updateQueue=null,ji.current=Ey,e=n(r,s)}while(ss)}if(ji.current=ia,t=pe!==null&&pe.next!==null,On=0,ye=pe=oe=null,sa=!1,t)throw Error(I(300));return e}function Rc(){var e=Ns!==0;return Ns=0,e}function pt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ye===null?oe.memoizedState=ye=e:ye=ye.next=e,ye}function tt(){if(pe===null){var e=oe.alternate;e=e!==null?e.memoizedState:null}else e=pe.next;var t=ye===null?oe.memoizedState:ye.next;if(t!==null)ye=t,pe=e;else{if(e===null)throw Error(I(310));pe=e,e={memoizedState:pe.memoizedState,baseState:pe.baseState,baseQueue:pe.baseQueue,queue:pe.queue,next:null},ye===null?oe.memoizedState=ye=e:ye=ye.next=e}return ye}function _s(e,t){return typeof t=="function"?t(e):t}function ko(e){var t=tt(),n=t.queue;if(n===null)throw Error(I(311));n.lastRenderedReducer=e;var r=pe,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var a=s.next;s.next=i.next,i.next=a}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var l=a=null,c=null,u=i;do{var d=u.lane;if((On&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var p={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=p,a=r):c=c.next=p,oe.lanes|=d,Dn|=d}u=u.next}while(u!==null&&u!==i);c===null?a=r:c.next=l,ct(r,t.memoizedState)||(Le=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=c,n.lastRenderedState=r}if(e=n.interleaved,e!==null){s=e;do i=s.lane,oe.lanes|=i,Dn|=i,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function bo(e){var t=tt(),n=t.queue;if(n===null)throw Error(I(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,i=t.memoizedState;if(s!==null){n.pending=null;var a=s=s.next;do i=e(i,a.action),a=a.next;while(a!==s);ct(i,t.memoizedState)||(Le=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function Qh(){}function Yh(e,t){var n=oe,r=tt(),s=t(),i=!ct(r.memoizedState,s);if(i&&(r.memoizedState=s,Le=!0),r=r.queue,Pc(ep.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||ye!==null&&ye.memoizedState.tag&1){if(n.flags|=2048,Es(9,Zh.bind(null,n,r,s,t),void 0,null),xe===null)throw Error(I(349));On&30||Xh(n,t,s)}return s}function Xh(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=oe.updateQueue,t===null?(t={lastEffect:null,stores:null},oe.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Zh(e,t,n,r){t.value=n,t.getSnapshot=r,tp(t)&&np(e)}function ep(e,t,n){return n(function(){tp(t)&&np(e)})}function tp(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ct(e,n)}catch{return!0}}function np(e){var t=Pt(e,1);t!==null&&lt(t,e,1,-1)}function td(e){var t=pt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:_s,lastRenderedState:e},t.queue=e,e=e.dispatch=by.bind(null,oe,e),[t.memoizedState,e]}function Es(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=oe.updateQueue,t===null?(t={lastEffect:null,stores:null},oe.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function rp(){return tt().memoizedState}function Ci(e,t,n,r){var s=pt();oe.flags|=e,s.memoizedState=Es(1|t,n,void 0,r===void 0?null:r)}function Pa(e,t,n,r){var s=tt();r=r===void 0?null:r;var i=void 0;if(pe!==null){var a=pe.memoizedState;if(i=a.destroy,r!==null&&Ic(r,a.deps)){s.memoizedState=Es(t,n,i,r);return}}oe.flags|=e,s.memoizedState=Es(1|t,n,i,r)}function nd(e,t){return Ci(8390656,8,e,t)}function Pc(e,t){return Pa(2048,8,e,t)}function sp(e,t){return Pa(4,2,e,t)}function ip(e,t){return Pa(4,4,e,t)}function ap(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function op(e,t,n){return n=n!=null?n.concat([e]):null,Pa(4,4,ap.bind(null,t,e),n)}function Ac(){}function lp(e,t){var n=tt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Ic(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function cp(e,t){var n=tt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Ic(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function up(e,t,n){return On&21?(ct(n,t)||(n=mh(),oe.lanes|=n,Dn|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Le=!0),e.memoizedState=n)}function wy(e,t){var n=Y;Y=n!==0&&4>n?n:4,e(!0);var r=wo.transition;wo.transition={};try{e(!1),t()}finally{Y=n,wo.transition=r}}function dp(){return tt().memoizedState}function ky(e,t,n){var r=rn(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},fp(e))hp(t,n);else if(n=Kh(e,t,n,r),n!==null){var s=Ie();lt(n,e,r,s),pp(n,t,r)}}function by(e,t,n){var r=rn(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(fp(e))hp(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var a=t.lastRenderedState,l=i(a,n);if(s.hasEagerState=!0,s.eagerState=l,ct(l,a)){var c=t.interleaved;c===null?(s.next=s,_c(t)):(s.next=c.next,c.next=s),t.interleaved=s;return}}catch{}finally{}n=Kh(e,t,s,r),n!==null&&(s=Ie(),lt(n,e,r,s),pp(n,t,r))}}function fp(e){var t=e.alternate;return e===oe||t!==null&&t===oe}function hp(e,t){ss=sa=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function pp(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,uc(e,n)}}var ia={readContext:et,useCallback:be,useContext:be,useEffect:be,useImperativeHandle:be,useInsertionEffect:be,useLayoutEffect:be,useMemo:be,useReducer:be,useRef:be,useState:be,useDebugValue:be,useDeferredValue:be,useTransition:be,useMutableSource:be,useSyncExternalStore:be,useId:be,unstable_isNewReconciler:!1},Ny={readContext:et,useCallback:function(e,t){return pt().memoizedState=[e,t===void 0?null:t],e},useContext:et,useEffect:nd,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Ci(4194308,4,ap.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ci(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ci(4,2,e,t)},useMemo:function(e,t){var n=pt();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=pt();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=ky.bind(null,oe,e),[r.memoizedState,e]},useRef:function(e){var t=pt();return e={current:e},t.memoizedState=e},useState:td,useDebugValue:Ac,useDeferredValue:function(e){return pt().memoizedState=e},useTransition:function(){var e=td(!1),t=e[0];return e=wy.bind(null,e[1]),pt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=oe,s=pt();if(ie){if(n===void 0)throw Error(I(407));n=n()}else{if(n=t(),xe===null)throw Error(I(349));On&30||Xh(r,t,n)}s.memoizedState=n;var i={value:n,getSnapshot:t};return s.queue=i,nd(ep.bind(null,r,i,e),[e]),r.flags|=2048,Es(9,Zh.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=pt(),t=xe.identifierPrefix;if(ie){var n=St,r=Et;n=(r&~(1<<32-ot(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Ns++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=vy++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},_y={readContext:et,useCallback:lp,useContext:et,useEffect:Pc,useImperativeHandle:op,useInsertionEffect:sp,useLayoutEffect:ip,useMemo:cp,useReducer:ko,useRef:rp,useState:function(){return ko(_s)},useDebugValue:Ac,useDeferredValue:function(e){var t=tt();return up(t,pe.memoizedState,e)},useTransition:function(){var e=ko(_s)[0],t=tt().memoizedState;return[e,t]},useMutableSource:Qh,useSyncExternalStore:Yh,useId:dp,unstable_isNewReconciler:!1},Ey={readContext:et,useCallback:lp,useContext:et,useEffect:Pc,useImperativeHandle:op,useInsertionEffect:sp,useLayoutEffect:ip,useMemo:cp,useReducer:bo,useRef:rp,useState:function(){return bo(_s)},useDebugValue:Ac,useDeferredValue:function(e){var t=tt();return pe===null?t.memoizedState=e:up(t,pe.memoizedState,e)},useTransition:function(){var e=bo(_s)[0],t=tt().memoizedState;return[e,t]},useMutableSource:Qh,useSyncExternalStore:Yh,useId:dp,unstable_isNewReconciler:!1};function st(e,t){if(e&&e.defaultProps){t=ce({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function vl(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:ce({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Aa={isMounted:function(e){return(e=e._reactInternals)?$n(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Ie(),s=rn(e),i=It(r,s);i.payload=t,n!=null&&(i.callback=n),t=tn(e,i,s),t!==null&&(lt(t,e,s,r),Si(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Ie(),s=rn(e),i=It(r,s);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=tn(e,i,s),t!==null&&(lt(t,e,s,r),Si(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Ie(),r=rn(e),s=It(n,r);s.tag=2,t!=null&&(s.callback=t),t=tn(e,s,r),t!==null&&(lt(t,e,r,n),Si(t,e,r))}};function rd(e,t,n,r,s,i,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,i,a):t.prototype&&t.prototype.isPureReactComponent?!ys(n,r)||!ys(s,i):!0}function mp(e,t,n){var r=!1,s=fn,i=t.contextType;return typeof i=="object"&&i!==null?i=et(i):(s=Ue(t)?Pn:Se.current,r=t.contextTypes,i=(r=r!=null)?pr(e,s):fn),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Aa,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function sd(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Aa.enqueueReplaceState(t,t.state,null)}function wl(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},Ec(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=et(i):(i=Ue(t)?Pn:Se.current,s.context=pr(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(vl(e,t,i,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&Aa.enqueueReplaceState(s,s.state,null),na(e,n,s,r),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function xr(e,t){try{var n="",r=t;do n+=Z0(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function No(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function kl(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var Sy=typeof WeakMap=="function"?WeakMap:Map;function gp(e,t,n){n=It(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){oa||(oa=!0,Rl=r),kl(e,t)},n}function yp(e,t,n){n=It(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){kl(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){kl(e,t),typeof r!="function"&&(nn===null?nn=new Set([this]):nn.add(this));var a=t.stack;this.componentDidCatch(t.value,{componentStack:a!==null?a:""})}),n}function id(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new Sy;var s=new Set;r.set(t,s)}else s=r.get(t),s===void 0&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=Fy.bind(null,e,t,n),t.then(e,e))}function ad(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function od(e,t,n,r,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=It(-1,1),t.tag=2,tn(n,t,1))),n.lanes|=1),e)}var jy=Dt.ReactCurrentOwner,Le=!1;function Ce(e,t,n,r){t.child=e===null?qh(t,null,n,r):gr(t,e.child,n,r)}function ld(e,t,n,r,s){n=n.render;var i=t.ref;return lr(t,s),r=Tc(e,t,n,r,i,s),n=Rc(),e!==null&&!Le?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,At(e,t,s)):(ie&&n&&xc(t),t.flags|=1,Ce(e,t,r,s),t.child)}function cd(e,t,n,r,s){if(e===null){var i=n.type;return typeof i=="function"&&!$c(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,xp(e,t,i,r,s)):(e=Pi(n.type,null,r,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var a=i.memoizedProps;if(n=n.compare,n=n!==null?n:ys,n(a,r)&&e.ref===t.ref)return At(e,t,s)}return t.flags|=1,e=sn(i,r),e.ref=t.ref,e.return=t,t.child=e}function xp(e,t,n,r,s){if(e!==null){var i=e.memoizedProps;if(ys(i,r)&&e.ref===t.ref)if(Le=!1,t.pendingProps=r=i,(e.lanes&s)!==0)e.flags&131072&&(Le=!0);else return t.lanes=e.lanes,At(e,t,s)}return bl(e,t,n,r,s)}function vp(e,t,n){var r=t.pendingProps,s=r.children,i=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},te(nr,Be),Be|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,te(nr,Be),Be|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,te(nr,Be),Be|=r}else i!==null?(r=i.baseLanes|n,t.memoizedState=null):r=n,te(nr,Be),Be|=r;return Ce(e,t,s,n),t.child}function wp(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function bl(e,t,n,r,s){var i=Ue(n)?Pn:Se.current;return i=pr(t,i),lr(t,s),n=Tc(e,t,n,r,i,s),r=Rc(),e!==null&&!Le?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,At(e,t,s)):(ie&&r&&xc(t),t.flags|=1,Ce(e,t,n,s),t.child)}function ud(e,t,n,r,s){if(Ue(n)){var i=!0;Yi(t)}else i=!1;if(lr(t,s),t.stateNode===null)Ii(e,t),mp(t,n,r),wl(t,n,r,s),r=!0;else if(e===null){var a=t.stateNode,l=t.memoizedProps;a.props=l;var c=a.context,u=n.contextType;typeof u=="object"&&u!==null?u=et(u):(u=Ue(n)?Pn:Se.current,u=pr(t,u));var d=n.getDerivedStateFromProps,p=typeof d=="function"||typeof a.getSnapshotBeforeUpdate=="function";p||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==r||c!==u)&&sd(t,a,r,u),$t=!1;var h=t.memoizedState;a.state=h,na(t,r,a,s),c=t.memoizedState,l!==r||h!==c||Me.current||$t?(typeof d=="function"&&(vl(t,n,d,r),c=t.memoizedState),(l=$t||rd(t,n,l,r,h,c,u))?(p||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),a.props=r,a.state=c,a.context=u,r=l):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,Gh(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:st(t.type,l),a.props=u,p=t.pendingProps,h=a.context,c=n.contextType,typeof c=="object"&&c!==null?c=et(c):(c=Ue(n)?Pn:Se.current,c=pr(t,c));var k=n.getDerivedStateFromProps;(d=typeof k=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==p||h!==c)&&sd(t,a,r,c),$t=!1,h=t.memoizedState,a.state=h,na(t,r,a,s);var x=t.memoizedState;l!==p||h!==x||Me.current||$t?(typeof k=="function"&&(vl(t,n,k,r),x=t.memoizedState),(u=$t||rd(t,n,u,r,h,x,c)||!1)?(d||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,x,c),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,x,c)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=x),a.props=r,a.state=x,a.context=c,r=u):(typeof a.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Nl(e,t,n,r,i,s)}function Nl(e,t,n,r,s,i){wp(e,t);var a=(t.flags&128)!==0;if(!r&&!a)return s&&Ju(t,n,!1),At(e,t,i);r=t.stateNode,jy.current=t;var l=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&a?(t.child=gr(t,e.child,null,i),t.child=gr(t,null,l,i)):Ce(e,t,l,i),t.memoizedState=r.state,s&&Ju(t,n,!0),t.child}function kp(e){var t=e.stateNode;t.pendingContext?Gu(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Gu(e,t.context,!1),Sc(e,t.containerInfo)}function dd(e,t,n,r,s){return mr(),wc(s),t.flags|=256,Ce(e,t,n,r),t.child}var _l={dehydrated:null,treeContext:null,retryLane:0};function El(e){return{baseLanes:e,cachePool:null,transitions:null}}function bp(e,t,n){var r=t.pendingProps,s=ae.current,i=!1,a=(t.flags&128)!==0,l;if((l=a)||(l=e!==null&&e.memoizedState===null?!1:(s&2)!==0),l?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),te(ae,s&1),e===null)return yl(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(a=r.children,e=r.fallback,i?(r=t.mode,i=t.child,a={mode:"hidden",children:a},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=a):i=La(a,r,0,null),e=Cn(e,r,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=El(n),t.memoizedState=_l,e):Oc(t,a));if(s=e.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return Cy(e,t,a,r,l,s,n);if(i){i=r.fallback,a=t.mode,s=e.child,l=s.sibling;var c={mode:"hidden",children:r.children};return!(a&1)&&t.child!==s?(r=t.child,r.childLanes=0,r.pendingProps=c,t.deletions=null):(r=sn(s,c),r.subtreeFlags=s.subtreeFlags&14680064),l!==null?i=sn(l,i):(i=Cn(i,a,n,null),i.flags|=2),i.return=t,r.return=t,r.sibling=i,t.child=r,r=i,i=t.child,a=e.child.memoizedState,a=a===null?El(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},i.memoizedState=a,i.childLanes=e.childLanes&~n,t.memoizedState=_l,r}return i=e.child,e=i.sibling,r=sn(i,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Oc(e,t){return t=La({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function pi(e,t,n,r){return r!==null&&wc(r),gr(t,e.child,null,n),e=Oc(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Cy(e,t,n,r,s,i,a){if(n)return t.flags&256?(t.flags&=-257,r=No(Error(I(422))),pi(e,t,a,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=r.fallback,s=t.mode,r=La({mode:"visible",children:r.children},s,0,null),i=Cn(i,s,a,null),i.flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,t.mode&1&&gr(t,e.child,null,a),t.child.memoizedState=El(a),t.memoizedState=_l,i);if(!(t.mode&1))return pi(e,t,a,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var l=r.dgst;return r=l,i=Error(I(419)),r=No(i,r,void 0),pi(e,t,a,r)}if(l=(a&e.childLanes)!==0,Le||l){if(r=xe,r!==null){switch(a&-a){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|a)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Pt(e,s),lt(r,e,s,-1))}return Fc(),r=No(Error(I(421))),pi(e,t,a,r)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=$y.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,He=en(s.nextSibling),Ve=t,ie=!0,at=null,e!==null&&(Qe[Ye++]=Et,Qe[Ye++]=St,Qe[Ye++]=An,Et=e.id,St=e.overflow,An=t),t=Oc(t,r.children),t.flags|=4096,t)}function fd(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),xl(e.return,t,n)}function _o(e,t,n,r,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function Np(e,t,n){var r=t.pendingProps,s=r.revealOrder,i=r.tail;if(Ce(e,t,r.children,n),r=ae.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&fd(e,n,t);else if(e.tag===19)fd(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(te(ae,r),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&ra(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),_o(t,!1,s,n,i);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&ra(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}_o(t,!0,n,null,i);break;case"together":_o(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ii(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function At(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Dn|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(I(153));if(t.child!==null){for(e=t.child,n=sn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=sn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Iy(e,t,n){switch(t.tag){case 3:kp(t),mr();break;case 5:Jh(t);break;case 1:Ue(t.type)&&Yi(t);break;case 4:Sc(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;te(ea,r._currentValue),r._currentValue=s;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(te(ae,ae.current&1),t.flags|=128,null):n&t.child.childLanes?bp(e,t,n):(te(ae,ae.current&1),e=At(e,t,n),e!==null?e.sibling:null);te(ae,ae.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return Np(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),te(ae,ae.current),r)break;return null;case 22:case 23:return t.lanes=0,vp(e,t,n)}return At(e,t,n)}var _p,Sl,Ep,Sp;_p=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Sl=function(){};Ep=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,En(xt.current);var i=null;switch(n){case"input":s=Go(e,s),r=Go(e,r),i=[];break;case"select":s=ce({},s,{value:void 0}),r=ce({},r,{value:void 0}),i=[];break;case"textarea":s=Yo(e,s),r=Yo(e,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Ji)}Zo(n,r);var a;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var l=s[u];for(a in l)l.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(us.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var c=r[u];if(l=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(a in l)!l.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&l[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(i||(i=[]),i.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(us.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&re("scroll",e),i||l===c||(i=[])):(i=i||[]).push(u,c))}n&&(i=i||[]).push("style",n);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};Sp=function(e,t,n,r){n!==r&&(t.flags|=4)};function Br(e,t){if(!ie)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ne(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Ty(e,t,n){var r=t.pendingProps;switch(vc(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ne(t),null;case 1:return Ue(t.type)&&Qi(),Ne(t),null;case 3:return r=t.stateNode,yr(),se(Me),se(Se),Cc(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(fi(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,at!==null&&(Ol(at),at=null))),Sl(e,t),Ne(t),null;case 5:jc(t);var s=En(bs.current);if(n=t.type,e!==null&&t.stateNode!=null)Ep(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(I(166));return Ne(t),null}if(e=En(xt.current),fi(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[mt]=t,r[ws]=i,e=(t.mode&1)!==0,n){case"dialog":re("cancel",r),re("close",r);break;case"iframe":case"object":case"embed":re("load",r);break;case"video":case"audio":for(s=0;s<Jr.length;s++)re(Jr[s],r);break;case"source":re("error",r);break;case"img":case"image":case"link":re("error",r),re("load",r);break;case"details":re("toggle",r);break;case"input":ku(r,i),re("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},re("invalid",r);break;case"textarea":Nu(r,i),re("invalid",r)}Zo(n,i),s=null;for(var a in i)if(i.hasOwnProperty(a)){var l=i[a];a==="children"?typeof l=="string"?r.textContent!==l&&(i.suppressHydrationWarning!==!0&&di(r.textContent,l,e),s=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&di(r.textContent,l,e),s=["children",""+l]):us.hasOwnProperty(a)&&l!=null&&a==="onScroll"&&re("scroll",r)}switch(n){case"input":ri(r),bu(r,i,!0);break;case"textarea":ri(r),_u(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Ji)}r=s,t.updateQueue=r,r!==null&&(t.flags|=4)}else{a=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=eh(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=a.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=a.createElement(n,{is:r.is}):(e=a.createElement(n),n==="select"&&(a=e,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):e=a.createElementNS(e,n),e[mt]=t,e[ws]=r,_p(e,t,!1,!1),t.stateNode=e;e:{switch(a=el(n,r),n){case"dialog":re("cancel",e),re("close",e),s=r;break;case"iframe":case"object":case"embed":re("load",e),s=r;break;case"video":case"audio":for(s=0;s<Jr.length;s++)re(Jr[s],e);s=r;break;case"source":re("error",e),s=r;break;case"img":case"image":case"link":re("error",e),re("load",e),s=r;break;case"details":re("toggle",e),s=r;break;case"input":ku(e,r),s=Go(e,r),re("invalid",e);break;case"option":s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=ce({},r,{value:void 0}),re("invalid",e);break;case"textarea":Nu(e,r),s=Yo(e,r),re("invalid",e);break;default:s=r}Zo(n,s),l=s;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?rh(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&th(e,c)):i==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&ds(e,c):typeof c=="number"&&ds(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(us.hasOwnProperty(i)?c!=null&&i==="onScroll"&&re("scroll",e):c!=null&&sc(e,i,c,a))}switch(n){case"input":ri(e),bu(e,r,!1);break;case"textarea":ri(e),_u(e);break;case"option":r.value!=null&&e.setAttribute("value",""+dn(r.value));break;case"select":e.multiple=!!r.multiple,i=r.value,i!=null?sr(e,!!r.multiple,i,!1):r.defaultValue!=null&&sr(e,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=Ji)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Ne(t),null;case 6:if(e&&t.stateNode!=null)Sp(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(I(166));if(n=En(bs.current),En(xt.current),fi(t)){if(r=t.stateNode,n=t.memoizedProps,r[mt]=t,(i=r.nodeValue!==n)&&(e=Ve,e!==null))switch(e.tag){case 3:di(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&di(r.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[mt]=t,t.stateNode=r}return Ne(t),null;case 13:if(se(ae),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ie&&He!==null&&t.mode&1&&!(t.flags&128))Vh(),mr(),t.flags|=98560,i=!1;else if(i=fi(t),r!==null&&r.dehydrated!==null){if(e===null){if(!i)throw Error(I(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(I(317));i[mt]=t}else mr(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ne(t),i=!1}else at!==null&&(Ol(at),at=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||ae.current&1?me===0&&(me=3):Fc())),t.updateQueue!==null&&(t.flags|=4),Ne(t),null);case 4:return yr(),Sl(e,t),e===null&&xs(t.stateNode.containerInfo),Ne(t),null;case 10:return Nc(t.type._context),Ne(t),null;case 17:return Ue(t.type)&&Qi(),Ne(t),null;case 19:if(se(ae),i=t.memoizedState,i===null)return Ne(t),null;if(r=(t.flags&128)!==0,a=i.rendering,a===null)if(r)Br(i,!1);else{if(me!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(a=ra(e),a!==null){for(t.flags|=128,Br(i,!1),r=a.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)i=n,e=r,i.flags&=14680066,a=i.alternate,a===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=a.childLanes,i.lanes=a.lanes,i.child=a.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=a.memoizedProps,i.memoizedState=a.memoizedState,i.updateQueue=a.updateQueue,i.type=a.type,e=a.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return te(ae,ae.current&1|2),t.child}e=e.sibling}i.tail!==null&&de()>vr&&(t.flags|=128,r=!0,Br(i,!1),t.lanes=4194304)}else{if(!r)if(e=ra(a),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Br(i,!0),i.tail===null&&i.tailMode==="hidden"&&!a.alternate&&!ie)return Ne(t),null}else 2*de()-i.renderingStartTime>vr&&n!==1073741824&&(t.flags|=128,r=!0,Br(i,!1),t.lanes=4194304);i.isBackwards?(a.sibling=t.child,t.child=a):(n=i.last,n!==null?n.sibling=a:t.child=a,i.last=a)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=de(),t.sibling=null,n=ae.current,te(ae,r?n&1|2:n&1),t):(Ne(t),null);case 22:case 23:return zc(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Be&1073741824&&(Ne(t),t.subtreeFlags&6&&(t.flags|=8192)):Ne(t),null;case 24:return null;case 25:return null}throw Error(I(156,t.tag))}function Ry(e,t){switch(vc(t),t.tag){case 1:return Ue(t.type)&&Qi(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return yr(),se(Me),se(Se),Cc(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return jc(t),null;case 13:if(se(ae),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(I(340));mr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return se(ae),null;case 4:return yr(),null;case 10:return Nc(t.type._context),null;case 22:case 23:return zc(),null;case 24:return null;default:return null}}var mi=!1,_e=!1,Py=typeof WeakSet=="function"?WeakSet:Set,O=null;function tr(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ue(e,t,r)}else n.current=null}function jl(e,t,n){try{n()}catch(r){ue(e,t,r)}}var hd=!1;function Ay(e,t){if(ul=qi,e=Rh(),yc(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var a=0,l=-1,c=-1,u=0,d=0,p=e,h=null;t:for(;;){for(var k;p!==n||s!==0&&p.nodeType!==3||(l=a+s),p!==i||r!==0&&p.nodeType!==3||(c=a+r),p.nodeType===3&&(a+=p.nodeValue.length),(k=p.firstChild)!==null;)h=p,p=k;for(;;){if(p===e)break t;if(h===n&&++u===s&&(l=a),h===i&&++d===r&&(c=a),(k=p.nextSibling)!==null)break;p=h,h=p.parentNode}p=k}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(dl={focusedElem:e,selectionRange:n},qi=!1,O=t;O!==null;)if(t=O,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,O=e;else for(;O!==null;){t=O;try{var x=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(x!==null){var g=x.memoizedProps,v=x.memoizedState,m=t.stateNode,f=m.getSnapshotBeforeUpdate(t.elementType===t.type?g:st(t.type,g),v);m.__reactInternalSnapshotBeforeUpdate=f}break;case 3:var y=t.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(I(163))}}catch(b){ue(t,t.return,b)}if(e=t.sibling,e!==null){e.return=t.return,O=e;break}O=t.return}return x=hd,hd=!1,x}function is(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&jl(t,n,i)}s=s.next}while(s!==r)}}function Oa(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Cl(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function jp(e){var t=e.alternate;t!==null&&(e.alternate=null,jp(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[mt],delete t[ws],delete t[pl],delete t[my],delete t[gy])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Cp(e){return e.tag===5||e.tag===3||e.tag===4}function pd(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Cp(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Il(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Ji));else if(r!==4&&(e=e.child,e!==null))for(Il(e,t,n),e=e.sibling;e!==null;)Il(e,t,n),e=e.sibling}function Tl(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Tl(e,t,n),e=e.sibling;e!==null;)Tl(e,t,n),e=e.sibling}var ve=null,it=!1;function Ut(e,t,n){for(n=n.child;n!==null;)Ip(e,t,n),n=n.sibling}function Ip(e,t,n){if(yt&&typeof yt.onCommitFiberUnmount=="function")try{yt.onCommitFiberUnmount(Sa,n)}catch{}switch(n.tag){case 5:_e||tr(n,t);case 6:var r=ve,s=it;ve=null,Ut(e,t,n),ve=r,it=s,ve!==null&&(it?(e=ve,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):ve.removeChild(n.stateNode));break;case 18:ve!==null&&(it?(e=ve,n=n.stateNode,e.nodeType===8?yo(e.parentNode,n):e.nodeType===1&&yo(e,n),ms(e)):yo(ve,n.stateNode));break;case 4:r=ve,s=it,ve=n.stateNode.containerInfo,it=!0,Ut(e,t,n),ve=r,it=s;break;case 0:case 11:case 14:case 15:if(!_e&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,a=i.destroy;i=i.tag,a!==void 0&&(i&2||i&4)&&jl(n,t,a),s=s.next}while(s!==r)}Ut(e,t,n);break;case 1:if(!_e&&(tr(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){ue(n,t,l)}Ut(e,t,n);break;case 21:Ut(e,t,n);break;case 22:n.mode&1?(_e=(r=_e)||n.memoizedState!==null,Ut(e,t,n),_e=r):Ut(e,t,n);break;default:Ut(e,t,n)}}function md(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Py),t.forEach(function(r){var s=By.bind(null,e,r);n.has(r)||(n.add(r),r.then(s,s))})}}function rt(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=e,a=t,l=a;e:for(;l!==null;){switch(l.tag){case 5:ve=l.stateNode,it=!1;break e;case 3:ve=l.stateNode.containerInfo,it=!0;break e;case 4:ve=l.stateNode.containerInfo,it=!0;break e}l=l.return}if(ve===null)throw Error(I(160));Ip(i,a,s),ve=null,it=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){ue(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Tp(t,e),t=t.sibling}function Tp(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(rt(t,e),ht(e),r&4){try{is(3,e,e.return),Oa(3,e)}catch(g){ue(e,e.return,g)}try{is(5,e,e.return)}catch(g){ue(e,e.return,g)}}break;case 1:rt(t,e),ht(e),r&512&&n!==null&&tr(n,n.return);break;case 5:if(rt(t,e),ht(e),r&512&&n!==null&&tr(n,n.return),e.flags&32){var s=e.stateNode;try{ds(s,"")}catch(g){ue(e,e.return,g)}}if(r&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,a=n!==null?n.memoizedProps:i,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&Xf(s,i),el(l,a);var u=el(l,i);for(a=0;a<c.length;a+=2){var d=c[a],p=c[a+1];d==="style"?rh(s,p):d==="dangerouslySetInnerHTML"?th(s,p):d==="children"?ds(s,p):sc(s,d,p,u)}switch(l){case"input":Jo(s,i);break;case"textarea":Zf(s,i);break;case"select":var h=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var k=i.value;k!=null?sr(s,!!i.multiple,k,!1):h!==!!i.multiple&&(i.defaultValue!=null?sr(s,!!i.multiple,i.defaultValue,!0):sr(s,!!i.multiple,i.multiple?[]:"",!1))}s[ws]=i}catch(g){ue(e,e.return,g)}}break;case 6:if(rt(t,e),ht(e),r&4){if(e.stateNode===null)throw Error(I(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(g){ue(e,e.return,g)}}break;case 3:if(rt(t,e),ht(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{ms(t.containerInfo)}catch(g){ue(e,e.return,g)}break;case 4:rt(t,e),ht(e);break;case 13:rt(t,e),ht(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Mc=de())),r&4&&md(e);break;case 22:if(d=n!==null&&n.memoizedState!==null,e.mode&1?(_e=(u=_e)||d,rt(t,e),_e=u):rt(t,e),ht(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(O=e,d=e.child;d!==null;){for(p=O=d;O!==null;){switch(h=O,k=h.child,h.tag){case 0:case 11:case 14:case 15:is(4,h,h.return);break;case 1:tr(h,h.return);var x=h.stateNode;if(typeof x.componentWillUnmount=="function"){r=h,n=h.return;try{t=r,x.props=t.memoizedProps,x.state=t.memoizedState,x.componentWillUnmount()}catch(g){ue(r,n,g)}}break;case 5:tr(h,h.return);break;case 22:if(h.memoizedState!==null){yd(p);continue}}k!==null?(k.return=h,O=k):yd(p)}d=d.sibling}e:for(d=null,p=e;;){if(p.tag===5){if(d===null){d=p;try{s=p.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=p.stateNode,c=p.memoizedProps.style,a=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=nh("display",a))}catch(g){ue(e,e.return,g)}}}else if(p.tag===6){if(d===null)try{p.stateNode.nodeValue=u?"":p.memoizedProps}catch(g){ue(e,e.return,g)}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===e)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===e)break e;for(;p.sibling===null;){if(p.return===null||p.return===e)break e;d===p&&(d=null),p=p.return}d===p&&(d=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:rt(t,e),ht(e),r&4&&md(e);break;case 21:break;default:rt(t,e),ht(e)}}function ht(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Cp(n)){var r=n;break e}n=n.return}throw Error(I(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(ds(s,""),r.flags&=-33);var i=pd(e);Tl(e,i,s);break;case 3:case 4:var a=r.stateNode.containerInfo,l=pd(e);Il(e,l,a);break;default:throw Error(I(161))}}catch(c){ue(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Oy(e,t,n){O=e,Rp(e)}function Rp(e,t,n){for(var r=(e.mode&1)!==0;O!==null;){var s=O,i=s.child;if(s.tag===22&&r){var a=s.memoizedState!==null||mi;if(!a){var l=s.alternate,c=l!==null&&l.memoizedState!==null||_e;l=mi;var u=_e;if(mi=a,(_e=c)&&!u)for(O=s;O!==null;)a=O,c=a.child,a.tag===22&&a.memoizedState!==null?xd(s):c!==null?(c.return=a,O=c):xd(s);for(;i!==null;)O=i,Rp(i),i=i.sibling;O=s,mi=l,_e=u}gd(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,O=i):gd(e)}}function gd(e){for(;O!==null;){var t=O;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:_e||Oa(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!_e)if(n===null)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:st(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&ed(t,i,r);break;case 3:var a=t.updateQueue;if(a!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}ed(t,a,n)}break;case 5:var l=t.stateNode;if(n===null&&t.flags&4){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var p=d.dehydrated;p!==null&&ms(p)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(I(163))}_e||t.flags&512&&Cl(t)}catch(h){ue(t,t.return,h)}}if(t===e){O=null;break}if(n=t.sibling,n!==null){n.return=t.return,O=n;break}O=t.return}}function yd(e){for(;O!==null;){var t=O;if(t===e){O=null;break}var n=t.sibling;if(n!==null){n.return=t.return,O=n;break}O=t.return}}function xd(e){for(;O!==null;){var t=O;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Oa(4,t)}catch(c){ue(t,n,c)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var s=t.return;try{r.componentDidMount()}catch(c){ue(t,s,c)}}var i=t.return;try{Cl(t)}catch(c){ue(t,i,c)}break;case 5:var a=t.return;try{Cl(t)}catch(c){ue(t,a,c)}}}catch(c){ue(t,t.return,c)}if(t===e){O=null;break}var l=t.sibling;if(l!==null){l.return=t.return,O=l;break}O=t.return}}var Dy=Math.ceil,aa=Dt.ReactCurrentDispatcher,Dc=Dt.ReactCurrentOwner,Ze=Dt.ReactCurrentBatchConfig,G=0,xe=null,he=null,we=0,Be=0,nr=pn(0),me=0,Ss=null,Dn=0,Da=0,Lc=0,as=null,De=null,Mc=0,vr=1/0,Nt=null,oa=!1,Rl=null,nn=null,gi=!1,Jt=null,la=0,os=0,Pl=null,Ti=-1,Ri=0;function Ie(){return G&6?de():Ti!==-1?Ti:Ti=de()}function rn(e){return e.mode&1?G&2&&we!==0?we&-we:xy.transition!==null?(Ri===0&&(Ri=mh()),Ri):(e=Y,e!==0||(e=window.event,e=e===void 0?16:bh(e.type)),e):1}function lt(e,t,n,r){if(50<os)throw os=0,Pl=null,Error(I(185));Ms(e,n,r),(!(G&2)||e!==xe)&&(e===xe&&(!(G&2)&&(Da|=n),me===4&&Ht(e,we)),ze(e,r),n===1&&G===0&&!(t.mode&1)&&(vr=de()+500,Ra&&mn()))}function ze(e,t){var n=e.callbackNode;xg(e,t);var r=Wi(e,e===xe?we:0);if(r===0)n!==null&&ju(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&ju(n),t===1)e.tag===0?yy(vd.bind(null,e)):$h(vd.bind(null,e)),hy(function(){!(G&6)&&mn()}),n=null;else{switch(gh(r)){case 1:n=cc;break;case 4:n=hh;break;case 16:n=Vi;break;case 536870912:n=ph;break;default:n=Vi}n=zp(n,Pp.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Pp(e,t){if(Ti=-1,Ri=0,G&6)throw Error(I(327));var n=e.callbackNode;if(cr()&&e.callbackNode!==n)return null;var r=Wi(e,e===xe?we:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=ca(e,r);else{t=r;var s=G;G|=2;var i=Op();(xe!==e||we!==t)&&(Nt=null,vr=de()+500,jn(e,t));do try{Uy();break}catch(l){Ap(e,l)}while(!0);bc(),aa.current=i,G=s,he!==null?t=0:(xe=null,we=0,t=me)}if(t!==0){if(t===2&&(s=il(e),s!==0&&(r=s,t=Al(e,s))),t===1)throw n=Ss,jn(e,0),Ht(e,r),ze(e,de()),n;if(t===6)Ht(e,r);else{if(s=e.current.alternate,!(r&30)&&!Ly(s)&&(t=ca(e,r),t===2&&(i=il(e),i!==0&&(r=i,t=Al(e,i))),t===1))throw n=Ss,jn(e,0),Ht(e,r),ze(e,de()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(I(345));case 2:wn(e,De,Nt);break;case 3:if(Ht(e,r),(r&130023424)===r&&(t=Mc+500-de(),10<t)){if(Wi(e,0)!==0)break;if(s=e.suspendedLanes,(s&r)!==r){Ie(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=hl(wn.bind(null,e,De,Nt),t);break}wn(e,De,Nt);break;case 4:if(Ht(e,r),(r&4194240)===r)break;for(t=e.eventTimes,s=-1;0<r;){var a=31-ot(r);i=1<<a,a=t[a],a>s&&(s=a),r&=~i}if(r=s,r=de()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Dy(r/1960))-r,10<r){e.timeoutHandle=hl(wn.bind(null,e,De,Nt),r);break}wn(e,De,Nt);break;case 5:wn(e,De,Nt);break;default:throw Error(I(329))}}}return ze(e,de()),e.callbackNode===n?Pp.bind(null,e):null}function Al(e,t){var n=as;return e.current.memoizedState.isDehydrated&&(jn(e,t).flags|=256),e=ca(e,t),e!==2&&(t=De,De=n,t!==null&&Ol(t)),e}function Ol(e){De===null?De=e:De.push.apply(De,e)}function Ly(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!ct(i(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ht(e,t){for(t&=~Lc,t&=~Da,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ot(t),r=1<<n;e[n]=-1,t&=~r}}function vd(e){if(G&6)throw Error(I(327));cr();var t=Wi(e,0);if(!(t&1))return ze(e,de()),null;var n=ca(e,t);if(e.tag!==0&&n===2){var r=il(e);r!==0&&(t=r,n=Al(e,r))}if(n===1)throw n=Ss,jn(e,0),Ht(e,t),ze(e,de()),n;if(n===6)throw Error(I(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,wn(e,De,Nt),ze(e,de()),null}function Uc(e,t){var n=G;G|=1;try{return e(t)}finally{G=n,G===0&&(vr=de()+500,Ra&&mn())}}function Ln(e){Jt!==null&&Jt.tag===0&&!(G&6)&&cr();var t=G;G|=1;var n=Ze.transition,r=Y;try{if(Ze.transition=null,Y=1,e)return e()}finally{Y=r,Ze.transition=n,G=t,!(G&6)&&mn()}}function zc(){Be=nr.current,se(nr)}function jn(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,fy(n)),he!==null)for(n=he.return;n!==null;){var r=n;switch(vc(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Qi();break;case 3:yr(),se(Me),se(Se),Cc();break;case 5:jc(r);break;case 4:yr();break;case 13:se(ae);break;case 19:se(ae);break;case 10:Nc(r.type._context);break;case 22:case 23:zc()}n=n.return}if(xe=e,he=e=sn(e.current,null),we=Be=t,me=0,Ss=null,Lc=Da=Dn=0,De=as=null,_n!==null){for(t=0;t<_n.length;t++)if(n=_n[t],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var a=i.next;i.next=s,r.next=a}n.pending=r}_n=null}return e}function Ap(e,t){do{var n=he;try{if(bc(),ji.current=ia,sa){for(var r=oe.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}sa=!1}if(On=0,ye=pe=oe=null,ss=!1,Ns=0,Dc.current=null,n===null||n.return===null){me=1,Ss=t,he=null;break}e:{var i=e,a=n.return,l=n,c=t;if(t=we,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,p=d.tag;if(!(d.mode&1)&&(p===0||p===11||p===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var k=ad(a);if(k!==null){k.flags&=-257,od(k,a,l,i,t),k.mode&1&&id(i,u,t),t=k,c=u;var x=t.updateQueue;if(x===null){var g=new Set;g.add(c),t.updateQueue=g}else x.add(c);break e}else{if(!(t&1)){id(i,u,t),Fc();break e}c=Error(I(426))}}else if(ie&&l.mode&1){var v=ad(a);if(v!==null){!(v.flags&65536)&&(v.flags|=256),od(v,a,l,i,t),wc(xr(c,l));break e}}i=c=xr(c,l),me!==4&&(me=2),as===null?as=[i]:as.push(i),i=a;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var m=gp(i,c,t);Zu(i,m);break e;case 1:l=c;var f=i.type,y=i.stateNode;if(!(i.flags&128)&&(typeof f.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(nn===null||!nn.has(y)))){i.flags|=65536,t&=-t,i.lanes|=t;var b=yp(i,l,t);Zu(i,b);break e}}i=i.return}while(i!==null)}Lp(n)}catch(S){t=S,he===n&&n!==null&&(he=n=n.return);continue}break}while(!0)}function Op(){var e=aa.current;return aa.current=ia,e===null?ia:e}function Fc(){(me===0||me===3||me===2)&&(me=4),xe===null||!(Dn&268435455)&&!(Da&268435455)||Ht(xe,we)}function ca(e,t){var n=G;G|=2;var r=Op();(xe!==e||we!==t)&&(Nt=null,jn(e,t));do try{My();break}catch(s){Ap(e,s)}while(!0);if(bc(),G=n,aa.current=r,he!==null)throw Error(I(261));return xe=null,we=0,me}function My(){for(;he!==null;)Dp(he)}function Uy(){for(;he!==null&&!cg();)Dp(he)}function Dp(e){var t=Up(e.alternate,e,Be);e.memoizedProps=e.pendingProps,t===null?Lp(e):he=t,Dc.current=null}function Lp(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=Ry(n,t),n!==null){n.flags&=32767,he=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{me=6,he=null;return}}else if(n=Ty(n,t,Be),n!==null){he=n;return}if(t=t.sibling,t!==null){he=t;return}he=t=e}while(t!==null);me===0&&(me=5)}function wn(e,t,n){var r=Y,s=Ze.transition;try{Ze.transition=null,Y=1,zy(e,t,n,r)}finally{Ze.transition=s,Y=r}return null}function zy(e,t,n,r){do cr();while(Jt!==null);if(G&6)throw Error(I(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(I(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(vg(e,i),e===xe&&(he=xe=null,we=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||gi||(gi=!0,zp(Vi,function(){return cr(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Ze.transition,Ze.transition=null;var a=Y;Y=1;var l=G;G|=4,Dc.current=null,Ay(e,n),Tp(n,e),iy(dl),qi=!!ul,dl=ul=null,e.current=n,Oy(n),ug(),G=l,Y=a,Ze.transition=i}else e.current=n;if(gi&&(gi=!1,Jt=e,la=s),i=e.pendingLanes,i===0&&(nn=null),hg(n.stateNode),ze(e,de()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(oa)throw oa=!1,e=Rl,Rl=null,e;return la&1&&e.tag!==0&&cr(),i=e.pendingLanes,i&1?e===Pl?os++:(os=0,Pl=e):os=0,mn(),null}function cr(){if(Jt!==null){var e=gh(la),t=Ze.transition,n=Y;try{if(Ze.transition=null,Y=16>e?16:e,Jt===null)var r=!1;else{if(e=Jt,Jt=null,la=0,G&6)throw Error(I(331));var s=G;for(G|=4,O=e.current;O!==null;){var i=O,a=i.child;if(O.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(O=u;O!==null;){var d=O;switch(d.tag){case 0:case 11:case 15:is(8,d,i)}var p=d.child;if(p!==null)p.return=d,O=p;else for(;O!==null;){d=O;var h=d.sibling,k=d.return;if(jp(d),d===u){O=null;break}if(h!==null){h.return=k,O=h;break}O=k}}}var x=i.alternate;if(x!==null){var g=x.child;if(g!==null){x.child=null;do{var v=g.sibling;g.sibling=null,g=v}while(g!==null)}}O=i}}if(i.subtreeFlags&2064&&a!==null)a.return=i,O=a;else e:for(;O!==null;){if(i=O,i.flags&2048)switch(i.tag){case 0:case 11:case 15:is(9,i,i.return)}var m=i.sibling;if(m!==null){m.return=i.return,O=m;break e}O=i.return}}var f=e.current;for(O=f;O!==null;){a=O;var y=a.child;if(a.subtreeFlags&2064&&y!==null)y.return=a,O=y;else e:for(a=f;O!==null;){if(l=O,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Oa(9,l)}}catch(S){ue(l,l.return,S)}if(l===a){O=null;break e}var b=l.sibling;if(b!==null){b.return=l.return,O=b;break e}O=l.return}}if(G=s,mn(),yt&&typeof yt.onPostCommitFiberRoot=="function")try{yt.onPostCommitFiberRoot(Sa,e)}catch{}r=!0}return r}finally{Y=n,Ze.transition=t}}return!1}function wd(e,t,n){t=xr(n,t),t=gp(e,t,1),e=tn(e,t,1),t=Ie(),e!==null&&(Ms(e,1,t),ze(e,t))}function ue(e,t,n){if(e.tag===3)wd(e,e,n);else for(;t!==null;){if(t.tag===3){wd(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(nn===null||!nn.has(r))){e=xr(n,e),e=yp(t,e,1),t=tn(t,e,1),e=Ie(),t!==null&&(Ms(t,1,e),ze(t,e));break}}t=t.return}}function Fy(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Ie(),e.pingedLanes|=e.suspendedLanes&n,xe===e&&(we&n)===n&&(me===4||me===3&&(we&130023424)===we&&500>de()-Mc?jn(e,0):Lc|=n),ze(e,t)}function Mp(e,t){t===0&&(e.mode&1?(t=ai,ai<<=1,!(ai&130023424)&&(ai=4194304)):t=1);var n=Ie();e=Pt(e,t),e!==null&&(Ms(e,t,n),ze(e,n))}function $y(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Mp(e,n)}function By(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(I(314))}r!==null&&r.delete(t),Mp(e,n)}var Up;Up=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Me.current)Le=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Le=!1,Iy(e,t,n);Le=!!(e.flags&131072)}else Le=!1,ie&&t.flags&1048576&&Bh(t,Zi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Ii(e,t),e=t.pendingProps;var s=pr(t,Se.current);lr(t,n),s=Tc(null,t,r,e,s,n);var i=Rc();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ue(r)?(i=!0,Yi(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Ec(t),s.updater=Aa,t.stateNode=s,s._reactInternals=t,wl(t,r,e,n),t=Nl(null,t,r,!0,i,n)):(t.tag=0,ie&&i&&xc(t),Ce(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Ii(e,t),e=t.pendingProps,s=r._init,r=s(r._payload),t.type=r,s=t.tag=Vy(r),e=st(r,e),s){case 0:t=bl(null,t,r,e,n);break e;case 1:t=ud(null,t,r,e,n);break e;case 11:t=ld(null,t,r,e,n);break e;case 14:t=cd(null,t,r,st(r.type,e),n);break e}throw Error(I(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:st(r,s),bl(e,t,r,s,n);case 1:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:st(r,s),ud(e,t,r,s,n);case 3:e:{if(kp(t),e===null)throw Error(I(387));r=t.pendingProps,i=t.memoizedState,s=i.element,Gh(e,t),na(t,r,null,n);var a=t.memoizedState;if(r=a.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=xr(Error(I(423)),t),t=dd(e,t,r,n,s);break e}else if(r!==s){s=xr(Error(I(424)),t),t=dd(e,t,r,n,s);break e}else for(He=en(t.stateNode.containerInfo.firstChild),Ve=t,ie=!0,at=null,n=qh(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(mr(),r===s){t=At(e,t,n);break e}Ce(e,t,r,n)}t=t.child}return t;case 5:return Jh(t),e===null&&yl(t),r=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,a=s.children,fl(r,s)?a=null:i!==null&&fl(r,i)&&(t.flags|=32),wp(e,t),Ce(e,t,a,n),t.child;case 6:return e===null&&yl(t),null;case 13:return bp(e,t,n);case 4:return Sc(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=gr(t,null,r,n):Ce(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:st(r,s),ld(e,t,r,s,n);case 7:return Ce(e,t,t.pendingProps,n),t.child;case 8:return Ce(e,t,t.pendingProps.children,n),t.child;case 12:return Ce(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,i=t.memoizedProps,a=s.value,te(ea,r._currentValue),r._currentValue=a,i!==null)if(ct(i.value,a)){if(i.children===s.children&&!Me.current){t=At(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var l=i.dependencies;if(l!==null){a=i.child;for(var c=l.firstContext;c!==null;){if(c.context===r){if(i.tag===1){c=It(-1,n&-n),c.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}i.lanes|=n,c=i.alternate,c!==null&&(c.lanes|=n),xl(i.return,n,t),l.lanes|=n;break}c=c.next}}else if(i.tag===10)a=i.type===t.type?null:i.child;else if(i.tag===18){if(a=i.return,a===null)throw Error(I(341));a.lanes|=n,l=a.alternate,l!==null&&(l.lanes|=n),xl(a,n,t),a=i.sibling}else a=i.child;if(a!==null)a.return=i;else for(a=i;a!==null;){if(a===t){a=null;break}if(i=a.sibling,i!==null){i.return=a.return,a=i;break}a=a.return}i=a}Ce(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,lr(t,n),s=et(s),r=r(s),t.flags|=1,Ce(e,t,r,n),t.child;case 14:return r=t.type,s=st(r,t.pendingProps),s=st(r.type,s),cd(e,t,r,s,n);case 15:return xp(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:st(r,s),Ii(e,t),t.tag=1,Ue(r)?(e=!0,Yi(t)):e=!1,lr(t,n),mp(t,r,s),wl(t,r,s,n),Nl(null,t,r,!0,e,n);case 19:return Np(e,t,n);case 22:return vp(e,t,n)}throw Error(I(156,t.tag))};function zp(e,t){return fh(e,t)}function Hy(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Xe(e,t,n,r){return new Hy(e,t,n,r)}function $c(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Vy(e){if(typeof e=="function")return $c(e)?1:0;if(e!=null){if(e=e.$$typeof,e===ac)return 11;if(e===oc)return 14}return 2}function sn(e,t){var n=e.alternate;return n===null?(n=Xe(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Pi(e,t,n,r,s,i){var a=2;if(r=e,typeof e=="function")$c(e)&&(a=1);else if(typeof e=="string")a=5;else e:switch(e){case qn:return Cn(n.children,s,i,t);case ic:a=8,s|=8;break;case Vo:return e=Xe(12,n,t,s|2),e.elementType=Vo,e.lanes=i,e;case Wo:return e=Xe(13,n,t,s),e.elementType=Wo,e.lanes=i,e;case qo:return e=Xe(19,n,t,s),e.elementType=qo,e.lanes=i,e;case Jf:return La(n,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Kf:a=10;break e;case Gf:a=9;break e;case ac:a=11;break e;case oc:a=14;break e;case Ft:a=16,r=null;break e}throw Error(I(130,e==null?e:typeof e,""))}return t=Xe(a,n,t,s),t.elementType=e,t.type=r,t.lanes=i,t}function Cn(e,t,n,r){return e=Xe(7,e,r,t),e.lanes=n,e}function La(e,t,n,r){return e=Xe(22,e,r,t),e.elementType=Jf,e.lanes=n,e.stateNode={isHidden:!1},e}function Eo(e,t,n){return e=Xe(6,e,null,t),e.lanes=n,e}function So(e,t,n){return t=Xe(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Wy(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=io(0),this.expirationTimes=io(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=io(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Bc(e,t,n,r,s,i,a,l,c){return e=new Wy(e,t,n,l,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=Xe(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ec(i),e}function qy(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Wn,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function Fp(e){if(!e)return fn;e=e._reactInternals;e:{if($n(e)!==e||e.tag!==1)throw Error(I(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ue(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(I(171))}if(e.tag===1){var n=e.type;if(Ue(n))return Fh(e,n,t)}return t}function $p(e,t,n,r,s,i,a,l,c){return e=Bc(n,r,!0,e,s,i,a,l,c),e.context=Fp(null),n=e.current,r=Ie(),s=rn(n),i=It(r,s),i.callback=t??null,tn(n,i,s),e.current.lanes=s,Ms(e,s,r),ze(e,r),e}function Ma(e,t,n,r){var s=t.current,i=Ie(),a=rn(s);return n=Fp(n),t.context===null?t.context=n:t.pendingContext=n,t=It(i,a),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=tn(s,t,a),e!==null&&(lt(e,s,a,i),Si(e,s,a)),a}function ua(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function kd(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Hc(e,t){kd(e,t),(e=e.alternate)&&kd(e,t)}function Ky(){return null}var Bp=typeof reportError=="function"?reportError:function(e){console.error(e)};function Vc(e){this._internalRoot=e}Ua.prototype.render=Vc.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(I(409));Ma(e,t,null,null)};Ua.prototype.unmount=Vc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Ln(function(){Ma(null,e,null,null)}),t[Rt]=null}};function Ua(e){this._internalRoot=e}Ua.prototype.unstable_scheduleHydration=function(e){if(e){var t=vh();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Bt.length&&t!==0&&t<Bt[n].priority;n++);Bt.splice(n,0,e),n===0&&kh(e)}};function Wc(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function za(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function bd(){}function Gy(e,t,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var u=ua(a);i.call(u)}}var a=$p(t,r,e,0,null,!1,!1,"",bd);return e._reactRootContainer=a,e[Rt]=a.current,xs(e.nodeType===8?e.parentNode:e),Ln(),a}for(;s=e.lastChild;)e.removeChild(s);if(typeof r=="function"){var l=r;r=function(){var u=ua(c);l.call(u)}}var c=Bc(e,0,!1,null,null,!1,!1,"",bd);return e._reactRootContainer=c,e[Rt]=c.current,xs(e.nodeType===8?e.parentNode:e),Ln(function(){Ma(t,c,n,r)}),c}function Fa(e,t,n,r,s){var i=n._reactRootContainer;if(i){var a=i;if(typeof s=="function"){var l=s;s=function(){var c=ua(a);l.call(c)}}Ma(t,a,e,s)}else a=Gy(n,t,e,s,r);return ua(a)}yh=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Gr(t.pendingLanes);n!==0&&(uc(t,n|1),ze(t,de()),!(G&6)&&(vr=de()+500,mn()))}break;case 13:Ln(function(){var r=Pt(e,1);if(r!==null){var s=Ie();lt(r,e,1,s)}}),Hc(e,1)}};dc=function(e){if(e.tag===13){var t=Pt(e,134217728);if(t!==null){var n=Ie();lt(t,e,134217728,n)}Hc(e,134217728)}};xh=function(e){if(e.tag===13){var t=rn(e),n=Pt(e,t);if(n!==null){var r=Ie();lt(n,e,t,r)}Hc(e,t)}};vh=function(){return Y};wh=function(e,t){var n=Y;try{return Y=e,t()}finally{Y=n}};nl=function(e,t,n){switch(t){case"input":if(Jo(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=Ta(r);if(!s)throw Error(I(90));Yf(r),Jo(r,s)}}}break;case"textarea":Zf(e,n);break;case"select":t=n.value,t!=null&&sr(e,!!n.multiple,t,!1)}};ah=Uc;oh=Ln;var Jy={usingClientEntryPoint:!1,Events:[zs,Qn,Ta,sh,ih,Uc]},Hr={findFiberByHostInstance:Nn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Qy={bundleType:Hr.bundleType,version:Hr.version,rendererPackageName:Hr.rendererPackageName,rendererConfig:Hr.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Dt.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=uh(e),e===null?null:e.stateNode},findFiberByHostInstance:Hr.findFiberByHostInstance||Ky,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var yi=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!yi.isDisabled&&yi.supportsFiber)try{Sa=yi.inject(Qy),yt=yi}catch{}}qe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Jy;qe.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Wc(t))throw Error(I(200));return qy(e,t,null,n)};qe.createRoot=function(e,t){if(!Wc(e))throw Error(I(299));var n=!1,r="",s=Bp;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=Bc(e,1,!1,null,null,n,!1,r,s),e[Rt]=t.current,xs(e.nodeType===8?e.parentNode:e),new Vc(t)};qe.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(I(188)):(e=Object.keys(e).join(","),Error(I(268,e)));return e=uh(t),e=e===null?null:e.stateNode,e};qe.flushSync=function(e){return Ln(e)};qe.hydrate=function(e,t,n){if(!za(t))throw Error(I(200));return Fa(null,e,t,!0,n)};qe.hydrateRoot=function(e,t,n){if(!Wc(e))throw Error(I(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",a=Bp;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),t=$p(t,null,e,1,n??null,s,!1,i,a),e[Rt]=t.current,xs(e),r)for(e=0;e<r.length;e++)n=r[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new Ua(t)};qe.render=function(e,t,n){if(!za(t))throw Error(I(200));return Fa(null,e,t,!1,n)};qe.unmountComponentAtNode=function(e){if(!za(e))throw Error(I(40));return e._reactRootContainer?(Ln(function(){Fa(null,null,e,!1,function(){e._reactRootContainer=null,e[Rt]=null})}),!0):!1};qe.unstable_batchedUpdates=Uc;qe.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!za(n))throw Error(I(200));if(e==null||e._reactInternals===void 0)throw Error(I(38));return Fa(e,t,n,!1,r)};qe.version="18.3.1-next-f1338f8080-20240426";function Hp(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Hp)}catch(e){console.error(e)}}Hp(),Hf.exports=qe;var Yy=Hf.exports,Vp,Nd=Yy;Vp=Nd.createRoot,Nd.hydrateRoot;/**
 * @remix-run/router v1.23.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function js(){return js=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},js.apply(this,arguments)}var Qt;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Qt||(Qt={}));const _d="popstate";function Xy(e){e===void 0&&(e={});function t(r,s){let{pathname:i,search:a,hash:l}=r.location;return Dl("",{pathname:i,search:a,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:da(s)}return ex(t,n,null,e)}function le(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function qc(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Zy(){return Math.random().toString(36).substr(2,8)}function Ed(e,t){return{usr:e.state,key:e.key,idx:t}}function Dl(e,t,n,r){return n===void 0&&(n=null),js({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Tr(t):t,{state:n,key:t&&t.key||r||Zy()})}function da(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function Tr(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function ex(e,t,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,a=s.history,l=Qt.Pop,c=null,u=d();u==null&&(u=0,a.replaceState(js({},a.state,{idx:u}),""));function d(){return(a.state||{idx:null}).idx}function p(){l=Qt.Pop;let v=d(),m=v==null?null:v-u;u=v,c&&c({action:l,location:g.location,delta:m})}function h(v,m){l=Qt.Push;let f=Dl(g.location,v,m);u=d()+1;let y=Ed(f,u),b=g.createHref(f);try{a.pushState(y,"",b)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;s.location.assign(b)}i&&c&&c({action:l,location:g.location,delta:1})}function k(v,m){l=Qt.Replace;let f=Dl(g.location,v,m);u=d();let y=Ed(f,u),b=g.createHref(f);a.replaceState(y,"",b),i&&c&&c({action:l,location:g.location,delta:0})}function x(v){let m=s.location.origin!=="null"?s.location.origin:s.location.href,f=typeof v=="string"?v:da(v);return f=f.replace(/ $/,"%20"),le(m,"No window.location.(origin|href) available to create URL for href: "+f),new URL(f,m)}let g={get action(){return l},get location(){return e(s,a)},listen(v){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(_d,p),c=v,()=>{s.removeEventListener(_d,p),c=null}},createHref(v){return t(s,v)},createURL:x,encodeLocation(v){let m=x(v);return{pathname:m.pathname,search:m.search,hash:m.hash}},push:h,replace:k,go(v){return a.go(v)}};return g}var Sd;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Sd||(Sd={}));function tx(e,t,n){return n===void 0&&(n="/"),nx(e,t,n)}function nx(e,t,n,r){let s=typeof t=="string"?Tr(t):t,i=wr(s.pathname||"/",n);if(i==null)return null;let a=Wp(e);rx(a);let l=null;for(let c=0;l==null&&c<a.length;++c){let u=px(i);l=fx(a[c],u)}return l}function Wp(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,a,l)=>{let c={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:a,route:i};c.relativePath.startsWith("/")&&(le(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let u=an([r,c.relativePath]),d=n.concat(c);i.children&&i.children.length>0&&(le(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),Wp(i.children,t,d,u)),!(i.path==null&&!i.index)&&t.push({path:u,score:ux(u,i.index),routesMeta:d})};return e.forEach((i,a)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))s(i,a);else for(let c of qp(i.path))s(i,a,c)}),t}function qp(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let a=qp(r.join("/")),l=[];return l.push(...a.map(c=>c===""?i:[i,c].join("/"))),s&&l.push(...a),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function rx(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:dx(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const sx=/^:[\w-]+$/,ix=3,ax=2,ox=1,lx=10,cx=-2,jd=e=>e==="*";function ux(e,t){let n=e.split("/"),r=n.length;return n.some(jd)&&(r+=cx),t&&(r+=ax),n.filter(s=>!jd(s)).reduce((s,i)=>s+(sx.test(i)?ix:i===""?ox:lx),r)}function dx(e,t){return e.length===t.length&&e.slice(0,-1).every((r,s)=>r===t[s])?e[e.length-1]-t[t.length-1]:0}function fx(e,t,n){let{routesMeta:r}=e,s={},i="/",a=[];for(let l=0;l<r.length;++l){let c=r[l],u=l===r.length-1,d=i==="/"?t:t.slice(i.length)||"/",p=Ll({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),h=c.route;if(!p)return null;Object.assign(s,p.params),a.push({params:s,pathname:an([i,p.pathname]),pathnameBase:vx(an([i,p.pathnameBase])),route:h}),p.pathnameBase!=="/"&&(i=an([i,p.pathnameBase]))}return a}function Ll(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=hx(e.path,e.caseSensitive,e.end),s=t.match(n);if(!s)return null;let i=s[0],a=i.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:r.reduce((u,d,p)=>{let{paramName:h,isOptional:k}=d;if(h==="*"){let g=l[p]||"";a=i.slice(0,i.length-g.length).replace(/(.)\/+$/,"$1")}const x=l[p];return k&&!x?u[h]=void 0:u[h]=(x||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:a,pattern:e}}function hx(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),qc(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,l,c)=>(r.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),r]}function px(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return qc(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function wr(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}const mx=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,gx=e=>mx.test(e);function yx(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:s=""}=typeof e=="string"?Tr(e):e,i;if(n)if(gx(n))i=n;else{if(n.includes("//")){let a=n;n=n.replace(/\/\/+/g,"/"),qc(!1,"Pathnames cannot have embedded double slashes - normalizing "+(a+" -> "+n))}n.startsWith("/")?i=Cd(n.substring(1),"/"):i=Cd(n,t)}else i=t;return{pathname:i,search:wx(r),hash:kx(s)}}function Cd(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function jo(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function xx(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function Kc(e,t){let n=xx(e);return t?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Gc(e,t,n,r){r===void 0&&(r=!1);let s;typeof e=="string"?s=Tr(e):(s=js({},e),le(!s.pathname||!s.pathname.includes("?"),jo("?","pathname","search",s)),le(!s.pathname||!s.pathname.includes("#"),jo("#","pathname","hash",s)),le(!s.search||!s.search.includes("#"),jo("#","search","hash",s)));let i=e===""||s.pathname==="",a=i?"/":s.pathname,l;if(a==null)l=n;else{let p=t.length-1;if(!r&&a.startsWith("..")){let h=a.split("/");for(;h[0]==="..";)h.shift(),p-=1;s.pathname=h.join("/")}l=p>=0?t[p]:"/"}let c=yx(s,l),u=a&&a!=="/"&&a.endsWith("/"),d=(i||a===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const an=e=>e.join("/").replace(/\/\/+/g,"/"),vx=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),wx=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,kx=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function bx(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const Kp=["post","put","patch","delete"];new Set(Kp);const Nx=["get",...Kp];new Set(Nx);/**
 * React Router v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Cs(){return Cs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Cs.apply(this,arguments)}const $a=w.createContext(null),Gp=w.createContext(null),Lt=w.createContext(null),Ba=w.createContext(null),bt=w.createContext({outlet:null,matches:[],isDataRoute:!1}),Jp=w.createContext(null);function _x(e,t){let{relative:n}=t===void 0?{}:t;Rr()||le(!1);let{basename:r,navigator:s}=w.useContext(Lt),{hash:i,pathname:a,search:l}=Ha(e,{relative:n}),c=a;return r!=="/"&&(c=a==="/"?r:an([r,a])),s.createHref({pathname:c,search:l,hash:i})}function Rr(){return w.useContext(Ba)!=null}function Bn(){return Rr()||le(!1),w.useContext(Ba).location}function Qp(e){w.useContext(Lt).static||w.useLayoutEffect(e)}function $s(){let{isDataRoute:e}=w.useContext(bt);return e?Fx():Ex()}function Ex(){Rr()||le(!1);let e=w.useContext($a),{basename:t,future:n,navigator:r}=w.useContext(Lt),{matches:s}=w.useContext(bt),{pathname:i}=Bn(),a=JSON.stringify(Kc(s,n.v7_relativeSplatPath)),l=w.useRef(!1);return Qp(()=>{l.current=!0}),w.useCallback(function(u,d){if(d===void 0&&(d={}),!l.current)return;if(typeof u=="number"){r.go(u);return}let p=Gc(u,JSON.parse(a),i,d.relative==="path");e==null&&t!=="/"&&(p.pathname=p.pathname==="/"?t:an([t,p.pathname])),(d.replace?r.replace:r.push)(p,d.state,d)},[t,r,a,i,e])}const Sx=w.createContext(null);function jx(e){let t=w.useContext(bt).outlet;return t&&w.createElement(Sx.Provider,{value:e},t)}function Cx(){let{matches:e}=w.useContext(bt),t=e[e.length-1];return t?t.params:{}}function Ha(e,t){let{relative:n}=t===void 0?{}:t,{future:r}=w.useContext(Lt),{matches:s}=w.useContext(bt),{pathname:i}=Bn(),a=JSON.stringify(Kc(s,r.v7_relativeSplatPath));return w.useMemo(()=>Gc(e,JSON.parse(a),i,n==="path"),[e,a,i,n])}function Ix(e,t){return Tx(e,t)}function Tx(e,t,n,r){Rr()||le(!1);let{navigator:s}=w.useContext(Lt),{matches:i}=w.useContext(bt),a=i[i.length-1],l=a?a.params:{};a&&a.pathname;let c=a?a.pathnameBase:"/";a&&a.route;let u=Bn(),d;if(t){var p;let v=typeof t=="string"?Tr(t):t;c==="/"||(p=v.pathname)!=null&&p.startsWith(c)||le(!1),d=v}else d=u;let h=d.pathname||"/",k=h;if(c!=="/"){let v=c.replace(/^\//,"").split("/");k="/"+h.replace(/^\//,"").split("/").slice(v.length).join("/")}let x=tx(e,{pathname:k}),g=Dx(x&&x.map(v=>Object.assign({},v,{params:Object.assign({},l,v.params),pathname:an([c,s.encodeLocation?s.encodeLocation(v.pathname).pathname:v.pathname]),pathnameBase:v.pathnameBase==="/"?c:an([c,s.encodeLocation?s.encodeLocation(v.pathnameBase).pathname:v.pathnameBase])})),i,n,r);return t&&g?w.createElement(Ba.Provider,{value:{location:Cs({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Qt.Pop}},g):g}function Rx(){let e=zx(),t=bx(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return w.createElement(w.Fragment,null,w.createElement("h2",null,"Unexpected Application Error!"),w.createElement("h3",{style:{fontStyle:"italic"}},t),n?w.createElement("pre",{style:s},n):null,null)}const Px=w.createElement(Rx,null);class Ax extends w.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?w.createElement(bt.Provider,{value:this.props.routeContext},w.createElement(Jp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Ox(e){let{routeContext:t,match:n,children:r}=e,s=w.useContext($a);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),w.createElement(bt.Provider,{value:t},r)}function Dx(e,t,n,r){var s;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var i;if(!n)return null;if(n.errors)e=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let a=e,l=(s=n)==null?void 0:s.errors;if(l!=null){let d=a.findIndex(p=>p.route.id&&(l==null?void 0:l[p.route.id])!==void 0);d>=0||le(!1),a=a.slice(0,Math.min(a.length,d+1))}let c=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<a.length;d++){let p=a[d];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(u=d),p.route.id){let{loaderData:h,errors:k}=n,x=p.route.loader&&h[p.route.id]===void 0&&(!k||k[p.route.id]===void 0);if(p.route.lazy||x){c=!0,u>=0?a=a.slice(0,u+1):a=[a[0]];break}}}return a.reduceRight((d,p,h)=>{let k,x=!1,g=null,v=null;n&&(k=l&&p.route.id?l[p.route.id]:void 0,g=p.route.errorElement||Px,c&&(u<0&&h===0?($x("route-fallback"),x=!0,v=null):u===h&&(x=!0,v=p.route.hydrateFallbackElement||null)));let m=t.concat(a.slice(0,h+1)),f=()=>{let y;return k?y=g:x?y=v:p.route.Component?y=w.createElement(p.route.Component,null):p.route.element?y=p.route.element:y=d,w.createElement(Ox,{match:p,routeContext:{outlet:d,matches:m,isDataRoute:n!=null},children:y})};return n&&(p.route.ErrorBoundary||p.route.errorElement||h===0)?w.createElement(Ax,{location:n.location,revalidation:n.revalidation,component:g,error:k,children:f(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):f()},null)}var Yp=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Yp||{}),Xp=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Xp||{});function Lx(e){let t=w.useContext($a);return t||le(!1),t}function Mx(e){let t=w.useContext(Gp);return t||le(!1),t}function Ux(e){let t=w.useContext(bt);return t||le(!1),t}function Zp(e){let t=Ux(),n=t.matches[t.matches.length-1];return n.route.id||le(!1),n.route.id}function zx(){var e;let t=w.useContext(Jp),n=Mx(),r=Zp();return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function Fx(){let{router:e}=Lx(Yp.UseNavigateStable),t=Zp(Xp.UseNavigateStable),n=w.useRef(!1);return Qp(()=>{n.current=!0}),w.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,Cs({fromRouteId:t},i)))},[e,t])}const Id={};function $x(e,t,n){Id[e]||(Id[e]=!0)}function Bx(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function ls(e){let{to:t,replace:n,state:r,relative:s}=e;Rr()||le(!1);let{future:i,static:a}=w.useContext(Lt),{matches:l}=w.useContext(bt),{pathname:c}=Bn(),u=$s(),d=Gc(t,Kc(l,i.v7_relativeSplatPath),c,s==="path"),p=JSON.stringify(d);return w.useEffect(()=>u(JSON.parse(p),{replace:n,state:r,relative:s}),[u,p,s,n,r]),null}function Hx(e){return jx(e.context)}function ge(e){le(!1)}function Vx(e){let{basename:t="/",children:n=null,location:r,navigationType:s=Qt.Pop,navigator:i,static:a=!1,future:l}=e;Rr()&&le(!1);let c=t.replace(/^\/*/,"/"),u=w.useMemo(()=>({basename:c,navigator:i,static:a,future:Cs({v7_relativeSplatPath:!1},l)}),[c,l,i,a]);typeof r=="string"&&(r=Tr(r));let{pathname:d="/",search:p="",hash:h="",state:k=null,key:x="default"}=r,g=w.useMemo(()=>{let v=wr(d,c);return v==null?null:{location:{pathname:v,search:p,hash:h,state:k,key:x},navigationType:s}},[c,d,p,h,k,x,s]);return g==null?null:w.createElement(Lt.Provider,{value:u},w.createElement(Ba.Provider,{children:n,value:g}))}function Wx(e){let{children:t,location:n}=e;return Ix(Ml(t),n)}new Promise(()=>{});function Ml(e,t){t===void 0&&(t=[]);let n=[];return w.Children.forEach(e,(r,s)=>{if(!w.isValidElement(r))return;let i=[...t,s];if(r.type===w.Fragment){n.push.apply(n,Ml(r.props.children,i));return}r.type!==ge&&le(!1),!r.props.index||!r.props.children||le(!1);let a={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=Ml(r.props.children,i)),n.push(a)}),n}/**
 * React Router DOM v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function fa(){return fa=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},fa.apply(this,arguments)}function em(e,t){if(e==null)return{};var n={},r=Object.keys(e),s,i;for(i=0;i<r.length;i++)s=r[i],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}function qx(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function Kx(e,t){return e.button===0&&(!t||t==="_self")&&!qx(e)}const Gx=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Jx=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],Qx="6";try{window.__reactRouterVersion=Qx}catch{}const Yx=w.createContext({isTransitioning:!1}),Xx="startTransition",Td=F0[Xx];function Zx(e){let{basename:t,children:n,future:r,window:s}=e,i=w.useRef();i.current==null&&(i.current=Xy({window:s,v5Compat:!0}));let a=i.current,[l,c]=w.useState({action:a.action,location:a.location}),{v7_startTransition:u}=r||{},d=w.useCallback(p=>{u&&Td?Td(()=>c(p)):c(p)},[c,u]);return w.useLayoutEffect(()=>a.listen(d),[a,d]),w.useEffect(()=>Bx(r),[r]),w.createElement(Vx,{basename:t,children:n,location:l.location,navigationType:l.action,navigator:a,future:r})}const ev=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",tv=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Is=w.forwardRef(function(t,n){let{onClick:r,relative:s,reloadDocument:i,replace:a,state:l,target:c,to:u,preventScrollReset:d,viewTransition:p}=t,h=em(t,Gx),{basename:k}=w.useContext(Lt),x,g=!1;if(typeof u=="string"&&tv.test(u)&&(x=u,ev))try{let y=new URL(window.location.href),b=u.startsWith("//")?new URL(y.protocol+u):new URL(u),S=wr(b.pathname,k);b.origin===y.origin&&S!=null?u=S+b.search+b.hash:g=!0}catch{}let v=_x(u,{relative:s}),m=rv(u,{replace:a,state:l,target:c,preventScrollReset:d,relative:s,viewTransition:p});function f(y){r&&r(y),y.defaultPrevented||m(y)}return w.createElement("a",fa({},h,{href:x||v,onClick:g||i?r:f,ref:n,target:c}))}),xi=w.forwardRef(function(t,n){let{"aria-current":r="page",caseSensitive:s=!1,className:i="",end:a=!1,style:l,to:c,viewTransition:u,children:d}=t,p=em(t,Jx),h=Ha(c,{relative:p.relative}),k=Bn(),x=w.useContext(Gp),{navigator:g,basename:v}=w.useContext(Lt),m=x!=null&&sv(h)&&u===!0,f=g.encodeLocation?g.encodeLocation(h).pathname:h.pathname,y=k.pathname,b=x&&x.navigation&&x.navigation.location?x.navigation.location.pathname:null;s||(y=y.toLowerCase(),b=b?b.toLowerCase():null,f=f.toLowerCase()),b&&v&&(b=wr(b,v)||b);const S=f!=="/"&&f.endsWith("/")?f.length-1:f.length;let N=y===f||!a&&y.startsWith(f)&&y.charAt(S)==="/",_=b!=null&&(b===f||!a&&b.startsWith(f)&&b.charAt(f.length)==="/"),j={isActive:N,isPending:_,isTransitioning:m},R=N?r:void 0,D;typeof i=="function"?D=i(j):D=[i,N?"active":null,_?"pending":null,m?"transitioning":null].filter(Boolean).join(" ");let J=typeof l=="function"?l(j):l;return w.createElement(Is,fa({},p,{"aria-current":R,className:D,ref:n,style:J,to:c,viewTransition:u}),typeof d=="function"?d(j):d)});var Ul;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Ul||(Ul={}));var Rd;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Rd||(Rd={}));function nv(e){let t=w.useContext($a);return t||le(!1),t}function rv(e,t){let{target:n,replace:r,state:s,preventScrollReset:i,relative:a,viewTransition:l}=t===void 0?{}:t,c=$s(),u=Bn(),d=Ha(e,{relative:a});return w.useCallback(p=>{if(Kx(p,n)){p.preventDefault();let h=r!==void 0?r:da(u)===da(d);c(e,{replace:h,state:s,preventScrollReset:i,relative:a,viewTransition:l})}},[u,c,d,r,s,n,e,i,a,l])}function sv(e,t){t===void 0&&(t={});let n=w.useContext(Yx);n==null&&le(!1);let{basename:r}=nv(Ul.useViewTransitionState),s=Ha(e,{relative:t.relative});if(!n.isTransitioning)return!1;let i=wr(n.currentLocation.pathname,r)||n.currentLocation.pathname,a=wr(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Ll(s.pathname,a)!=null||Ll(s.pathname,i)!=null}var Pd={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tm=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let s=e.charCodeAt(r);s<128?t[n++]=s:s<2048?(t[n++]=s>>6|192,t[n++]=s&63|128):(s&64512)===55296&&r+1<e.length&&(e.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(e.charCodeAt(++r)&1023),t[n++]=s>>18|240,t[n++]=s>>12&63|128,t[n++]=s>>6&63|128,t[n++]=s&63|128):(t[n++]=s>>12|224,t[n++]=s>>6&63|128,t[n++]=s&63|128)}return t},iv=function(e){const t=[];let n=0,r=0;for(;n<e.length;){const s=e[n++];if(s<128)t[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=e[n++];t[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=e[n++],a=e[n++],l=e[n++],c=((s&7)<<18|(i&63)<<12|(a&63)<<6|l&63)-65536;t[r++]=String.fromCharCode(55296+(c>>10)),t[r++]=String.fromCharCode(56320+(c&1023))}else{const i=e[n++],a=e[n++];t[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|a&63)}}return t.join("")},nm={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<e.length;s+=3){const i=e[s],a=s+1<e.length,l=a?e[s+1]:0,c=s+2<e.length,u=c?e[s+2]:0,d=i>>2,p=(i&3)<<4|l>>4;let h=(l&15)<<2|u>>6,k=u&63;c||(k=64,a||(h=64)),r.push(n[d],n[p],n[h],n[k])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(tm(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):iv(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<e.length;){const i=n[e.charAt(s++)],l=s<e.length?n[e.charAt(s)]:0;++s;const u=s<e.length?n[e.charAt(s)]:64;++s;const p=s<e.length?n[e.charAt(s)]:64;if(++s,i==null||l==null||u==null||p==null)throw new av;const h=i<<2|l>>4;if(r.push(h),u!==64){const k=l<<4&240|u>>2;if(r.push(k),p!==64){const x=u<<6&192|p;r.push(x)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class av extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const ov=function(e){const t=tm(e);return nm.encodeByteArray(t,!0)},rm=function(e){return ov(e).replace(/\./g,"")},sm=function(e){try{return nm.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lv(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cv=()=>lv().__FIREBASE_DEFAULTS__,uv=()=>{if(typeof process>"u"||typeof Pd>"u")return;const e=Pd.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},dv=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&sm(e[1]);return t&&JSON.parse(t)},Jc=()=>{try{return cv()||uv()||dv()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},fv=e=>{var t,n;return(n=(t=Jc())===null||t===void 0?void 0:t.emulatorHosts)===null||n===void 0?void 0:n[e]},im=()=>{var e;return(e=Jc())===null||e===void 0?void 0:e.config},am=e=>{var t;return(t=Jc())===null||t===void 0?void 0:t[`_${e}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hv{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,r))}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function je(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function pv(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(je())}function mv(){const e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function gv(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function yv(){const e=je();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function xv(){try{return typeof indexedDB=="object"}catch{return!1}}function vv(){return new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;t(((i=s.error)===null||i===void 0?void 0:i.message)||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wv="FirebaseError";class gn extends Error{constructor(t,n,r){super(n),this.code=t,this.customData=r,this.name=wv,Object.setPrototypeOf(this,gn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Bs.prototype.create)}}class Bs{constructor(t,n,r){this.service=t,this.serviceName=n,this.errors=r}create(t,...n){const r=n[0]||{},s=`${this.service}/${t}`,i=this.errors[t],a=i?kv(i,r):"Error",l=`${this.serviceName}: ${a} (${s}).`;return new gn(s,l,r)}}function kv(e,t){return e.replace(bv,(n,r)=>{const s=t[r];return s!=null?String(s):`<${r}?>`})}const bv=/\{\$([^}]+)}/g;function Nv(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function ha(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const s of n){if(!r.includes(s))return!1;const i=e[s],a=t[s];if(Ad(i)&&Ad(a)){if(!ha(i,a))return!1}else if(i!==a)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function Ad(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hs(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(s=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function Qr(e){const t={};return e.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,i]=r.split("=");t[decodeURIComponent(s)]=decodeURIComponent(i)}}),t}function Yr(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function _v(e,t){const n=new Ev(e,t);return n.subscribe.bind(n)}class Ev{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(r=>{this.error(r)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,r){let s;if(t===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");Sv(t,["next","error","complete"])?s=t:s={next:t,error:n,complete:r},s.next===void 0&&(s.next=Co),s.error===void 0&&(s.error=Co),s.complete===void 0&&(s.complete=Co);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Sv(e,t){if(typeof e!="object"||e===null)return!1;for(const n of t)if(n in e&&typeof e[n]=="function")return!0;return!1}function Co(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mt(e){return e&&e._delegate?e._delegate:e}class kr{constructor(t,n,r){this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kn="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jv{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const r=new hv;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;const r=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),s=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(s)return null;throw i}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(Iv(t))try{this.getOrInitializeService({instanceIdentifier:kn})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(t=kn){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=kn){return this.instances.has(t)}getOptions(t=kn){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);r===l&&a.resolve(s)}return s}onInit(t,n){var r;const s=this.normalizeInstanceIdentifier(n),i=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;i.add(t),this.onInitCallbacks.set(s,i);const a=this.instances.get(s);return a&&t(a,s),()=>{i.delete(t)}}invokeOnInitCallbacks(t,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Cv(t),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=kn){return this.component?this.component.multipleInstances?t:kn:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Cv(e){return e===kn?void 0:e}function Iv(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tv{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new jv(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Z;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(Z||(Z={}));const Rv={debug:Z.DEBUG,verbose:Z.VERBOSE,info:Z.INFO,warn:Z.WARN,error:Z.ERROR,silent:Z.SILENT},Pv=Z.INFO,Av={[Z.DEBUG]:"log",[Z.VERBOSE]:"log",[Z.INFO]:"info",[Z.WARN]:"warn",[Z.ERROR]:"error"},Ov=(e,t,...n)=>{if(t<e.logLevel)return;const r=new Date().toISOString(),s=Av[t];if(s)console[s](`[${r}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class om{constructor(t){this.name=t,this._logLevel=Pv,this._logHandler=Ov,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Z))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?Rv[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Z.DEBUG,...t),this._logHandler(this,Z.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Z.VERBOSE,...t),this._logHandler(this,Z.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Z.INFO,...t),this._logHandler(this,Z.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Z.WARN,...t),this._logHandler(this,Z.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Z.ERROR,...t),this._logHandler(this,Z.ERROR,...t)}}const Dv=(e,t)=>t.some(n=>e instanceof n);let Od,Dd;function Lv(){return Od||(Od=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Mv(){return Dd||(Dd=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const lm=new WeakMap,zl=new WeakMap,cm=new WeakMap,Io=new WeakMap,Qc=new WeakMap;function Uv(e){const t=new Promise((n,r)=>{const s=()=>{e.removeEventListener("success",i),e.removeEventListener("error",a)},i=()=>{n(on(e.result)),s()},a=()=>{r(e.error),s()};e.addEventListener("success",i),e.addEventListener("error",a)});return t.then(n=>{n instanceof IDBCursor&&lm.set(n,e)}).catch(()=>{}),Qc.set(t,e),t}function zv(e){if(zl.has(e))return;const t=new Promise((n,r)=>{const s=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",a),e.removeEventListener("abort",a)},i=()=>{n(),s()},a=()=>{r(e.error||new DOMException("AbortError","AbortError")),s()};e.addEventListener("complete",i),e.addEventListener("error",a),e.addEventListener("abort",a)});zl.set(e,t)}let Fl={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return zl.get(e);if(t==="objectStoreNames")return e.objectStoreNames||cm.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return on(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function Fv(e){Fl=e(Fl)}function $v(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const r=e.call(To(this),t,...n);return cm.set(r,t.sort?t.sort():[t]),on(r)}:Mv().includes(e)?function(...t){return e.apply(To(this),t),on(lm.get(this))}:function(...t){return on(e.apply(To(this),t))}}function Bv(e){return typeof e=="function"?$v(e):(e instanceof IDBTransaction&&zv(e),Dv(e,Lv())?new Proxy(e,Fl):e)}function on(e){if(e instanceof IDBRequest)return Uv(e);if(Io.has(e))return Io.get(e);const t=Bv(e);return t!==e&&(Io.set(e,t),Qc.set(t,e)),t}const To=e=>Qc.get(e);function Hv(e,t,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const a=indexedDB.open(e,t),l=on(a);return r&&a.addEventListener("upgradeneeded",c=>{r(on(a.result),c.oldVersion,c.newVersion,on(a.transaction),c)}),n&&a.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),l.then(c=>{i&&c.addEventListener("close",()=>i()),s&&c.addEventListener("versionchange",u=>s(u.oldVersion,u.newVersion,u))}).catch(()=>{}),l}const Vv=["get","getKey","getAll","getAllKeys","count"],Wv=["put","add","delete","clear"],Ro=new Map;function Ld(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(Ro.get(t))return Ro.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,s=Wv.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||Vv.includes(n)))return;const i=async function(a,...l){const c=this.transaction(a,s?"readwrite":"readonly");let u=c.store;return r&&(u=u.index(l.shift())),(await Promise.all([u[n](...l),s&&c.done]))[0]};return Ro.set(t,i),i}Fv(e=>({...e,get:(t,n,r)=>Ld(t,n)||e.get(t,n,r),has:(t,n)=>!!Ld(t,n)||e.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qv{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Kv(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function Kv(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const $l="@firebase/app",Md="0.9.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mn=new om("@firebase/app"),Gv="@firebase/app-compat",Jv="@firebase/analytics-compat",Qv="@firebase/analytics",Yv="@firebase/app-check-compat",Xv="@firebase/app-check",Zv="@firebase/auth",ew="@firebase/auth-compat",tw="@firebase/database",nw="@firebase/database-compat",rw="@firebase/functions",sw="@firebase/functions-compat",iw="@firebase/installations",aw="@firebase/installations-compat",ow="@firebase/messaging",lw="@firebase/messaging-compat",cw="@firebase/performance",uw="@firebase/performance-compat",dw="@firebase/remote-config",fw="@firebase/remote-config-compat",hw="@firebase/storage",pw="@firebase/storage-compat",mw="@firebase/firestore",gw="@firebase/firestore-compat",yw="firebase",xw="9.23.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bl="[DEFAULT]",vw={[$l]:"fire-core",[Gv]:"fire-core-compat",[Qv]:"fire-analytics",[Jv]:"fire-analytics-compat",[Xv]:"fire-app-check",[Yv]:"fire-app-check-compat",[Zv]:"fire-auth",[ew]:"fire-auth-compat",[tw]:"fire-rtdb",[nw]:"fire-rtdb-compat",[rw]:"fire-fn",[sw]:"fire-fn-compat",[iw]:"fire-iid",[aw]:"fire-iid-compat",[ow]:"fire-fcm",[lw]:"fire-fcm-compat",[cw]:"fire-perf",[uw]:"fire-perf-compat",[dw]:"fire-rc",[fw]:"fire-rc-compat",[hw]:"fire-gcs",[pw]:"fire-gcs-compat",[mw]:"fire-fst",[gw]:"fire-fst-compat","fire-js":"fire-js",[yw]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pa=new Map,Hl=new Map;function ww(e,t){try{e.container.addComponent(t)}catch(n){Mn.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function Ts(e){const t=e.name;if(Hl.has(t))return Mn.debug(`There were multiple attempts to register component ${t}.`),!1;Hl.set(t,e);for(const n of pa.values())ww(n,e);return!0}function um(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kw={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},ln=new Bs("app","Firebase",kw);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bw{constructor(t,n,r){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new kr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw ln.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vs=xw;function dm(e,t={}){let n=e;typeof t!="object"&&(t={name:t});const r=Object.assign({name:Bl,automaticDataCollectionEnabled:!1},t),s=r.name;if(typeof s!="string"||!s)throw ln.create("bad-app-name",{appName:String(s)});if(n||(n=im()),!n)throw ln.create("no-options");const i=pa.get(s);if(i){if(ha(n,i.options)&&ha(r,i.config))return i;throw ln.create("duplicate-app",{appName:s})}const a=new Tv(s);for(const c of Hl.values())a.addComponent(c);const l=new bw(n,r,a);return pa.set(s,l),l}function Nw(e=Bl){const t=pa.get(e);if(!t&&e===Bl&&im())return dm();if(!t)throw ln.create("no-app",{appName:e});return t}function ur(e,t,n){var r;let s=(r=vw[e])!==null&&r!==void 0?r:e;n&&(s+=`-${n}`);const i=s.match(/\s|\//),a=t.match(/\s|\//);if(i||a){const l=[`Unable to register library "${s}" with version "${t}":`];i&&l.push(`library name "${s}" contains illegal characters (whitespace or "/")`),i&&a&&l.push("and"),a&&l.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Mn.warn(l.join(" "));return}Ts(new kr(`${s}-version`,()=>({library:s,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _w="firebase-heartbeat-database",Ew=1,Rs="firebase-heartbeat-store";let Po=null;function fm(){return Po||(Po=Hv(_w,Ew,{upgrade:(e,t)=>{switch(t){case 0:e.createObjectStore(Rs)}}}).catch(e=>{throw ln.create("idb-open",{originalErrorMessage:e.message})})),Po}async function Sw(e){try{return await(await fm()).transaction(Rs).objectStore(Rs).get(hm(e))}catch(t){if(t instanceof gn)Mn.warn(t.message);else{const n=ln.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});Mn.warn(n.message)}}}async function Ud(e,t){try{const r=(await fm()).transaction(Rs,"readwrite");await r.objectStore(Rs).put(t,hm(e)),await r.done}catch(n){if(n instanceof gn)Mn.warn(n.message);else{const r=ln.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Mn.warn(r.message)}}}function hm(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jw=1024,Cw=30*24*60*60*1e3;class Iw{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Rw(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=zd();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(s=>s.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{const i=new Date(s.date).valueOf();return Date.now()-i<=Cw}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const t=zd(),{heartbeatsToSend:n,unsentEntries:r}=Tw(this._heartbeatsCache.heartbeats),s=rm(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}}function zd(){return new Date().toISOString().substring(0,10)}function Tw(e,t=jw){const n=[];let r=e.slice();for(const s of e){const i=n.find(a=>a.agent===s.agent);if(i){if(i.dates.push(s.date),Fd(n)>t){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),Fd(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class Rw{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return xv()?vv().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await Sw(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(t){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return Ud(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return Ud(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...t.heartbeats]})}else return}}function Fd(e){return rm(JSON.stringify({version:2,heartbeats:e})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pw(e){Ts(new kr("platform-logger",t=>new qv(t),"PRIVATE")),Ts(new kr("heartbeat",t=>new Iw(t),"PRIVATE")),ur($l,Md,e),ur($l,Md,"esm2017"),ur("fire-js","")}Pw("");var Aw="firebase",Ow="9.23.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ur(Aw,Ow,"app");function Yc(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n}function pm(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Dw=pm,mm=new Bs("auth","Firebase",pm());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ma=new om("@firebase/auth");function Lw(e,...t){ma.logLevel<=Z.WARN&&ma.warn(`Auth (${Vs}): ${e}`,...t)}function Ai(e,...t){ma.logLevel<=Z.ERROR&&ma.error(`Auth (${Vs}): ${e}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ut(e,...t){throw Xc(e,...t)}function vt(e,...t){return Xc(e,...t)}function Mw(e,t,n){const r=Object.assign(Object.assign({},Dw()),{[t]:n});return new Bs("auth","Firebase",r).create(t,{appName:e.name})}function Xc(e,...t){if(typeof e!="string"){const n=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(n,...r)}return mm.create(e,...t)}function F(e,t,...n){if(!e)throw Xc(t,...n)}function jt(e){const t="INTERNAL ASSERTION FAILED: "+e;throw Ai(t),new Error(t)}function Ot(e,t){e||jt(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vl(){var e;return typeof self<"u"&&((e=self.location)===null||e===void 0?void 0:e.href)||""}function Uw(){return $d()==="http:"||$d()==="https:"}function $d(){var e;return typeof self<"u"&&((e=self.location)===null||e===void 0?void 0:e.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zw(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Uw()||mv()||"connection"in navigator)?navigator.onLine:!0}function Fw(){if(typeof navigator>"u")return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ws{constructor(t,n){this.shortDelay=t,this.longDelay=n,Ot(n>t,"Short delay should be less than long delay!"),this.isMobile=pv()||gv()}get(){return zw()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zc(e,t){Ot(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gm{static initialize(t,n,r){this.fetchImpl=t,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;jt("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;jt("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;jt("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $w={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bw=new Ws(3e4,6e4);function qs(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function Pr(e,t,n,r,s={}){return ym(e,s,async()=>{let i={},a={};r&&(t==="GET"?a=r:i={body:JSON.stringify(r)});const l=Hs(Object.assign({key:e.config.apiKey},a)).slice(1),c=await e._getAdditionalHeaders();return c["Content-Type"]="application/json",e.languageCode&&(c["X-Firebase-Locale"]=e.languageCode),gm.fetch()(xm(e,e.config.apiHost,n,l),Object.assign({method:t,headers:c,referrerPolicy:"no-referrer"},i))})}async function ym(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},$w),t);try{const s=new Hw(e),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const a=await i.json();if("needConfirmation"in a)throw vi(e,"account-exists-with-different-credential",a);if(i.ok&&!("errorMessage"in a))return a;{const l=i.ok?a.errorMessage:a.error.message,[c,u]=l.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw vi(e,"credential-already-in-use",a);if(c==="EMAIL_EXISTS")throw vi(e,"email-already-in-use",a);if(c==="USER_DISABLED")throw vi(e,"user-disabled",a);const d=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw Mw(e,d,u);ut(e,d)}}catch(s){if(s instanceof gn)throw s;ut(e,"network-request-failed",{message:String(s)})}}async function Va(e,t,n,r,s={}){const i=await Pr(e,t,n,r,s);return"mfaPendingCredential"in i&&ut(e,"multi-factor-auth-required",{_serverResponse:i}),i}function xm(e,t,n,r){const s=`${t}${n}?${r}`;return e.config.emulator?Zc(e.config,s):`${e.config.apiScheme}://${s}`}class Hw{constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(vt(this.auth,"network-request-failed")),Bw.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function vi(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=vt(e,t,r);return s.customData._tokenResponse=n,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vw(e,t){return Pr(e,"POST","/v1/accounts:delete",t)}async function Ww(e,t){return Pr(e,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cs(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function qw(e,t=!1){const n=Mt(e),r=await n.getIdToken(t),s=eu(r);F(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,a=i==null?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:cs(Ao(s.auth_time)),issuedAtTime:cs(Ao(s.iat)),expirationTime:cs(Ao(s.exp)),signInProvider:a||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function Ao(e){return Number(e)*1e3}function eu(e){const[t,n,r]=e.split(".");if(t===void 0||n===void 0||r===void 0)return Ai("JWT malformed, contained fewer than 3 sections"),null;try{const s=sm(n);return s?JSON.parse(s):(Ai("Failed to decode base64 JWT payload"),null)}catch(s){return Ai("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function Kw(e){const t=eu(e);return F(t,"internal-error"),F(typeof t.exp<"u","internal-error"),F(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ps(e,t,n=!1){if(n)return t;try{return await t}catch(r){throw r instanceof gn&&Gw(r)&&e.auth.currentUser===e&&await e.auth.signOut(),r}}function Gw({code:e}){return e==="auth/user-disabled"||e==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jw{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var n;if(t){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const s=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vm{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=cs(this.lastLoginAt),this.creationTime=cs(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ga(e){var t;const n=e.auth,r=await e.getIdToken(),s=await Ps(e,Ww(n,{idToken:r}));F(s==null?void 0:s.users.length,n,"internal-error");const i=s.users[0];e._notifyReloadListener(i);const a=!((t=i.providerUserInfo)===null||t===void 0)&&t.length?Xw(i.providerUserInfo):[],l=Yw(e.providerData,a),c=e.isAnonymous,u=!(e.email&&i.passwordHash)&&!(l!=null&&l.length),d=c?u:!1,p={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:l,metadata:new vm(i.createdAt,i.lastLoginAt),isAnonymous:d};Object.assign(e,p)}async function Qw(e){const t=Mt(e);await ga(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function Yw(e,t){return[...e.filter(r=>!t.some(s=>s.providerId===r.providerId)),...t]}function Xw(e){return e.map(t=>{var{providerId:n}=t,r=Yc(t,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zw(e,t){const n=await ym(e,{},async()=>{const r=Hs({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:s,apiKey:i}=e.config,a=xm(e,s,"/v1/token",`key=${i}`),l=await e._getAdditionalHeaders();return l["Content-Type"]="application/x-www-form-urlencoded",gm.fetch()(a,{method:"POST",headers:l,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class As{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){F(t.idToken,"internal-error"),F(typeof t.idToken<"u","internal-error"),F(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):Kw(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}async getToken(t,n=!1){return F(!this.accessToken||this.refreshToken,t,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await Zw(t,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(t,n,r){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(t,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,a=new As;return r&&(F(typeof r=="string","internal-error",{appName:t}),a.refreshToken=r),s&&(F(typeof s=="string","internal-error",{appName:t}),a.accessToken=s),i&&(F(typeof i=="number","internal-error",{appName:t}),a.expirationTime=i),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new As,this.toJSON())}_performRefresh(){return jt("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zt(e,t){F(typeof e=="string"||typeof e>"u","internal-error",{appName:t})}class In{constructor(t){var{uid:n,auth:r,stsTokenManager:s}=t,i=Yc(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Jw(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new vm(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(t){const n=await Ps(this,this.stsTokenManager.getToken(this.auth,t));return F(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return qw(this,t)}reload(){return Qw(this)}_assign(t){this!==t&&(F(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>Object.assign({},n)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new In(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(t){F(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let r=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),n&&await ga(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){const t=await this.getIdToken();return await Ps(this,Vw(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){var r,s,i,a,l,c,u,d;const p=(r=n.displayName)!==null&&r!==void 0?r:void 0,h=(s=n.email)!==null&&s!==void 0?s:void 0,k=(i=n.phoneNumber)!==null&&i!==void 0?i:void 0,x=(a=n.photoURL)!==null&&a!==void 0?a:void 0,g=(l=n.tenantId)!==null&&l!==void 0?l:void 0,v=(c=n._redirectEventId)!==null&&c!==void 0?c:void 0,m=(u=n.createdAt)!==null&&u!==void 0?u:void 0,f=(d=n.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:y,emailVerified:b,isAnonymous:S,providerData:N,stsTokenManager:_}=n;F(y&&_,t,"internal-error");const j=As.fromJSON(this.name,_);F(typeof y=="string",t,"internal-error"),zt(p,t.name),zt(h,t.name),F(typeof b=="boolean",t,"internal-error"),F(typeof S=="boolean",t,"internal-error"),zt(k,t.name),zt(x,t.name),zt(g,t.name),zt(v,t.name),zt(m,t.name),zt(f,t.name);const R=new In({uid:y,auth:t,email:h,emailVerified:b,displayName:p,isAnonymous:S,photoURL:x,phoneNumber:k,tenantId:g,stsTokenManager:j,createdAt:m,lastLoginAt:f});return N&&Array.isArray(N)&&(R.providerData=N.map(D=>Object.assign({},D))),v&&(R._redirectEventId=v),R}static async _fromIdTokenResponse(t,n,r=!1){const s=new As;s.updateFromServerResponse(n);const i=new In({uid:n.localId,auth:t,stsTokenManager:s,isAnonymous:r});return await ga(i),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bd=new Map;function Ct(e){Ot(e instanceof Function,"Expected a class definition");let t=Bd.get(e);return t?(Ot(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,Bd.set(e,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wm{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}wm.type="NONE";const Hd=wm;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oi(e,t,n){return`firebase:${e}:${t}:${n}`}class dr{constructor(t,n,r){this.persistence=t,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=Oi(this.userKey,s.apiKey,i),this.fullPersistenceKey=Oi("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);return t?In._fromJSON(this.auth,t):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,r="authUser"){if(!n.length)return new dr(Ct(Hd),t,r);const s=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let i=s[0]||Ct(Hd);const a=Oi(r,t.config.apiKey,t.name);let l=null;for(const u of n)try{const d=await u._get(a);if(d){const p=In._fromJSON(t,d);u!==i&&(l=p),i=u;break}}catch{}const c=s.filter(u=>u._shouldAllowMigration);return!i._shouldAllowMigration||!c.length?new dr(i,t,r):(i=c[0],l&&await i._set(a,l.toJSON()),await Promise.all(n.map(async u=>{if(u!==i)try{await u._remove(a)}catch{}})),new dr(i,t,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vd(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Nm(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(km(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Em(t))return"Blackberry";if(Sm(t))return"Webos";if(tu(t))return"Safari";if((t.includes("chrome/")||bm(t))&&!t.includes("edge/"))return"Chrome";if(_m(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=e.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function km(e=je()){return/firefox\//i.test(e)}function tu(e=je()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function bm(e=je()){return/crios\//i.test(e)}function Nm(e=je()){return/iemobile/i.test(e)}function _m(e=je()){return/android/i.test(e)}function Em(e=je()){return/blackberry/i.test(e)}function Sm(e=je()){return/webos/i.test(e)}function Wa(e=je()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function e1(e=je()){var t;return Wa(e)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function t1(){return yv()&&document.documentMode===10}function jm(e=je()){return Wa(e)||_m(e)||Sm(e)||Em(e)||/windows phone/i.test(e)||Nm(e)}function n1(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cm(e,t=[]){let n;switch(e){case"Browser":n=Vd(je());break;case"Worker":n=`${Vd(je())}-${e}`;break;default:n=e}const r=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${Vs}/${r}`}async function Im(e,t){return Pr(e,"GET","/v2/recaptchaConfig",qs(e,t))}function Wd(e){return e!==void 0&&e.enterprise!==void 0}class Tm{constructor(t){if(this.siteKey="",this.emailPasswordEnabled=!1,t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.emailPasswordEnabled=t.recaptchaEnforcementState.some(n=>n.provider==="EMAIL_PASSWORD_PROVIDER"&&n.enforcementState!=="OFF")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r1(){var e,t;return(t=(e=document.getElementsByTagName("head"))===null||e===void 0?void 0:e[0])!==null&&t!==void 0?t:document}function Rm(e){return new Promise((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=s=>{const i=vt("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",r1().appendChild(r)})}function s1(e){return`__${e}${Math.floor(Math.random()*1e6)}`}const i1="https://www.google.com/recaptcha/enterprise.js?render=",a1="recaptcha-enterprise",o1="NO_RECAPTCHA";class Pm{constructor(t){this.type=a1,this.auth=Ks(t)}async verify(t="verify",n=!1){async function r(i){if(!n){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(a,l)=>{Im(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)l(new Error("recaptcha Enterprise site key undefined"));else{const u=new Tm(c);return i.tenantId==null?i._agentRecaptchaConfig=u:i._tenantRecaptchaConfigs[i.tenantId]=u,a(u.siteKey)}}).catch(c=>{l(c)})})}function s(i,a,l){const c=window.grecaptcha;Wd(c)?c.enterprise.ready(()=>{c.enterprise.execute(i,{action:t}).then(u=>{a(u)}).catch(()=>{a(o1)})}):l(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((i,a)=>{r(this.auth).then(l=>{if(!n&&Wd(window.grecaptcha))s(l,i,a);else{if(typeof window>"u"){a(new Error("RecaptchaVerifier is only supported in browser"));return}Rm(i1+l).then(()=>{s(l,i,a)}).catch(c=>{a(c)})}}).catch(l=>{a(l)})})}}async function qd(e,t,n,r=!1){const s=new Pm(e);let i;try{i=await s.verify(n)}catch{i=await s.verify(n,!0)}const a=Object.assign({},t);return r?Object.assign(a,{captchaResp:i}):Object.assign(a,{captchaResponse:i}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l1{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const r=i=>new Promise((a,l)=>{try{const c=t(i);a(c)}catch(c){l(c)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const r of this.queue)await r(t),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c1{constructor(t,n,r,s){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Kd(this),this.idTokenSubscription=new Kd(this),this.beforeStateQueue=new l1(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=mm,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=s.sdkClientVersion}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=Ct(n)),this._initializationPromise=this.queue(async()=>{var r,s;if(!this._deleted&&(this.persistenceManager=await dr.create(this,t),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUser(t){var n;const r=await this.assertedPersistence.getCurrentUser();let s=r,i=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,l=s==null?void 0:s._redirectEventId,c=await this.tryRedirectSignIn(t);(!a||a===l)&&(c!=null&&c.user)&&(s=c.user,i=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(s)}catch(a){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return F(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await ga(t)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=Fw()}async _delete(){this._deleted=!0}async updateCurrentUser(t){const n=t?Mt(t):null;return n&&F(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&F(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(t){return this.queue(async()=>{await this.assertedPersistence.setPersistence(Ct(t))})}async initializeRecaptchaConfig(){const t=await Im(this,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),n=new Tm(t);this.tenantId==null?this._agentRecaptchaConfig=n:this._tenantRecaptchaConfigs[this.tenantId]=n,n.emailPasswordEnabled&&new Pm(this).verify()}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(t){this._errorFactory=new Bs("auth","Firebase",t())}onAuthStateChanged(t,n,r){return this.registerStateListener(this.authStateSubscription,t,n,r)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,r){return this.registerStateListener(this.idTokenSubscription,t,n,r)}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}async _setRedirectUser(t,n){const r=await this.getOrInitRedirectPersistenceManager(n);return t===null?r.removeCurrentUser():r.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&Ct(t)||this._popupRedirectResolver;F(n,this,"argument-error"),this.redirectPersistenceManager=await dr.create(this,[Ct(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===t?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n),a=this._isInitialized?Promise.resolve():this._initializationPromise;return F(a,this,"internal-error"),a.then(()=>i(this.currentUser)),typeof n=="function"?t.addObserver(n,r,s):t.addObserver(n)}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return F(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=Cm(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(n["X-Firebase-AppCheck"]=s),n}async _getAppCheckToken(){var t;const n=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken());return n!=null&&n.error&&Lw(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Ks(e){return Mt(e)}class Kd{constructor(t){this.auth=t,this.observer=null,this.addObserver=_v(n=>this.observer=n)}get next(){return F(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u1(e,t){const n=um(e,"auth");if(n.isInitialized()){const s=n.getImmediate(),i=n.getOptions();if(ha(i,t??{}))return s;ut(s,"already-initialized")}return n.initialize({options:t})}function d1(e,t){const n=(t==null?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Ct);t!=null&&t.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,t==null?void 0:t.popupRedirectResolver)}function f1(e,t,n){const r=Ks(e);F(r._canInitEmulator,r,"emulator-config-failed"),F(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const s=!1,i=Am(t),{host:a,port:l}=h1(t),c=l===null?"":`:${l}`;r.config.emulator={url:`${i}//${a}${c}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:a,port:l,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})}),p1()}function Am(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function h1(e){const t=Am(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:Gd(r.substr(i.length+1))}}else{const[i,a]=r.split(":");return{host:i,port:Gd(a)}}}function Gd(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}function p1(){function e(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",e):e())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nu{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return jt("not implemented")}_getIdTokenResponse(t){return jt("not implemented")}_linkToIdToken(t,n){return jt("not implemented")}_getReauthenticationResolver(t){return jt("not implemented")}}async function m1(e,t){return Pr(e,"POST","/v1/accounts:update",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Oo(e,t){return Va(e,"POST","/v1/accounts:signInWithPassword",qs(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function g1(e,t){return Va(e,"POST","/v1/accounts:signInWithEmailLink",qs(e,t))}async function y1(e,t){return Va(e,"POST","/v1/accounts:signInWithEmailLink",qs(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Os extends nu{constructor(t,n,r,s=null){super("password",r),this._email=t,this._password=n,this._tenantId=s}static _fromEmailAndPassword(t,n){return new Os(t,n,"password")}static _fromEmailAndCode(t,n,r=null){return new Os(t,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(t){var n;switch(this.signInMethod){case"password":const r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};if(!((n=t._getRecaptchaConfig())===null||n===void 0)&&n.emailPasswordEnabled){const s=await qd(t,r,"signInWithPassword");return Oo(t,s)}else return Oo(t,r).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const i=await qd(t,r,"signInWithPassword");return Oo(t,i)}else return Promise.reject(s)});case"emailLink":return g1(t,{email:this._email,oobCode:this._password});default:ut(t,"internal-error")}}async _linkToIdToken(t,n){switch(this.signInMethod){case"password":return m1(t,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return y1(t,{idToken:n,email:this._email,oobCode:this._password});default:ut(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fr(e,t){return Va(e,"POST","/v1/accounts:signInWithIdp",qs(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x1="http://localhost";class Un extends nu{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new Un(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):ut("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:r,signInMethod:s}=n,i=Yc(n,["providerId","signInMethod"]);if(!r||!s)return null;const a=new Un(r,s);return a.idToken=i.idToken||void 0,a.accessToken=i.accessToken||void 0,a.secret=i.secret,a.nonce=i.nonce,a.pendingToken=i.pendingToken||null,a}_getIdTokenResponse(t){const n=this.buildRequest();return fr(t,n)}_linkToIdToken(t,n){const r=this.buildRequest();return r.idToken=n,fr(t,r)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,fr(t,n)}buildRequest(){const t={requestUri:x1,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=Hs(n)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v1(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function w1(e){const t=Qr(Yr(e)).link,n=t?Qr(Yr(t)).deep_link_id:null,r=Qr(Yr(e)).deep_link_id;return(r?Qr(Yr(r)).link:null)||r||n||t||e}class ru{constructor(t){var n,r,s,i,a,l;const c=Qr(Yr(t)),u=(n=c.apiKey)!==null&&n!==void 0?n:null,d=(r=c.oobCode)!==null&&r!==void 0?r:null,p=v1((s=c.mode)!==null&&s!==void 0?s:null);F(u&&d&&p,"argument-error"),this.apiKey=u,this.operation=p,this.code=d,this.continueUrl=(i=c.continueUrl)!==null&&i!==void 0?i:null,this.languageCode=(a=c.languageCode)!==null&&a!==void 0?a:null,this.tenantId=(l=c.tenantId)!==null&&l!==void 0?l:null}static parseLink(t){const n=w1(t);try{return new ru(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ar{constructor(){this.providerId=Ar.PROVIDER_ID}static credential(t,n){return Os._fromEmailAndPassword(t,n)}static credentialWithLink(t,n){const r=ru.parseLink(n);return F(r,"argument-error"),Os._fromEmailAndCode(t,r.code,r.tenantId)}}Ar.PROVIDER_ID="password";Ar.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Ar.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Om{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gs extends Om{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vt extends Gs{constructor(){super("facebook.com")}static credential(t){return Un._fromParams({providerId:Vt.PROVIDER_ID,signInMethod:Vt.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Vt.credentialFromTaggedObject(t)}static credentialFromError(t){return Vt.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Vt.credential(t.oauthAccessToken)}catch{return null}}}Vt.FACEBOOK_SIGN_IN_METHOD="facebook.com";Vt.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wt extends Gs{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return Un._fromParams({providerId:Wt.PROVIDER_ID,signInMethod:Wt.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return Wt.credentialFromTaggedObject(t)}static credentialFromError(t){return Wt.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return Wt.credential(n,r)}catch{return null}}}Wt.GOOGLE_SIGN_IN_METHOD="google.com";Wt.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qt extends Gs{constructor(){super("github.com")}static credential(t){return Un._fromParams({providerId:qt.PROVIDER_ID,signInMethod:qt.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return qt.credentialFromTaggedObject(t)}static credentialFromError(t){return qt.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return qt.credential(t.oauthAccessToken)}catch{return null}}}qt.GITHUB_SIGN_IN_METHOD="github.com";qt.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kt extends Gs{constructor(){super("twitter.com")}static credential(t,n){return Un._fromParams({providerId:Kt.PROVIDER_ID,signInMethod:Kt.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return Kt.credentialFromTaggedObject(t)}static credentialFromError(t){return Kt.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return Kt.credential(n,r)}catch{return null}}}Kt.TWITTER_SIGN_IN_METHOD="twitter.com";Kt.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class br{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,r,s=!1){const i=await In._fromIdTokenResponse(t,r,s),a=Jd(r);return new br({user:i,providerId:a,_tokenResponse:r,operationType:n})}static async _forOperation(t,n,r){await t._updateTokensIfNecessary(r,!0);const s=Jd(r);return new br({user:t,providerId:s,_tokenResponse:r,operationType:n})}}function Jd(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ya extends gn{constructor(t,n,r,s){var i;super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,ya.prototype),this.customData={appName:t.name,tenantId:(i=t.tenantId)!==null&&i!==void 0?i:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(t,n,r,s){return new ya(t,n,r,s)}}function Dm(e,t,n,r){return(t==="reauthenticate"?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?ya._fromErrorAndOperation(e,i,t,r):i})}async function k1(e,t,n=!1){const r=await Ps(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return br._forOperation(e,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function b1(e,t,n=!1){const{auth:r}=e,s="reauthenticate";try{const i=await Ps(e,Dm(r,s,t,e),n);F(i.idToken,r,"internal-error");const a=eu(i.idToken);F(a,r,"internal-error");const{sub:l}=a;return F(e.uid===l,r,"user-mismatch"),br._forOperation(e,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&ut(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lm(e,t,n=!1){const r="signIn",s=await Dm(e,r,t),i=await br._fromIdTokenResponse(e,r,s);return n||await e._updateCurrentUser(i.user),i}async function N1(e,t){return Lm(Ks(e),t)}function _1(e,t,n){return N1(Mt(e),Ar.credential(t,n))}function E1(e,t,n,r){return Mt(e).onIdTokenChanged(t,n,r)}function S1(e,t,n){return Mt(e).beforeAuthStateChanged(t,n)}function j1(e,t,n,r){return Mt(e).onAuthStateChanged(t,n,r)}function C1(e){return Mt(e).signOut()}const xa="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mm{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(xa,"1"),this.storage.removeItem(xa),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I1(){const e=je();return tu(e)||Wa(e)}const T1=1e3,R1=10;class Um extends Mm{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=I1()&&n1(),this.fallbackToPolling=jm(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&t(n,s,r)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((a,l,c)=>{this.notifyListeners(a,c)});return}const r=t.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const a=this.storage.getItem(r);if(t.newValue!==a)t.newValue!==null?this.storage.setItem(r,t.newValue):this.storage.removeItem(r);else if(this.localCache[r]===t.newValue&&!n)return}const s=()=>{const a=this.storage.getItem(r);!n&&this.localCache[r]===a||this.notifyListeners(r,a)},i=this.storage.getItem(r);t1()&&i!==t.newValue&&t.newValue!==t.oldValue?setTimeout(s,R1):s()}notifyListeners(t,n){this.localCache[t]=n;const r=this.listeners[t];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)})},T1)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}Um.type="LOCAL";const P1=Um;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zm extends Mm{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}zm.type="SESSION";const Fm=zm;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A1(e){return Promise.all(e.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qa{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(s=>s.isListeningto(t));if(n)return n;const r=new qa(t);return this.receivers.push(r),r}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:r,eventType:s,data:i}=n.data,a=this.handlersMap[s];if(!(a!=null&&a.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const l=Array.from(a).map(async u=>u(n.origin,i)),c=await A1(l);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:c})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}qa.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function su(e="",t=10){let n="";for(let r=0;r<t;r++)n+=Math.floor(Math.random()*10);return e+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O1{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,a;return new Promise((l,c)=>{const u=su("",20);s.port1.start();const d=setTimeout(()=>{c(new Error("unsupported_event"))},r);a={messageChannel:s,onMessage(p){const h=p;if(h.data.eventId===u)switch(h.data.status){case"ack":clearTimeout(d),i=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),l(h.data.response);break;default:clearTimeout(d),clearTimeout(i),c(new Error("invalid_response"));break}}},this.handlers.add(a),s.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:t,eventId:u,data:n},[s.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wt(){return window}function D1(e){wt().location.href=e}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $m(){return typeof wt().WorkerGlobalScope<"u"&&typeof wt().importScripts=="function"}async function L1(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function M1(){var e;return((e=navigator==null?void 0:navigator.serviceWorker)===null||e===void 0?void 0:e.controller)||null}function U1(){return $m()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bm="firebaseLocalStorageDb",z1=1,va="firebaseLocalStorage",Hm="fbase_key";class Js{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Ka(e,t){return e.transaction([va],t?"readwrite":"readonly").objectStore(va)}function F1(){const e=indexedDB.deleteDatabase(Bm);return new Js(e).toPromise()}function Wl(){const e=indexedDB.open(Bm,z1);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const r=e.result;try{r.createObjectStore(va,{keyPath:Hm})}catch(s){n(s)}}),e.addEventListener("success",async()=>{const r=e.result;r.objectStoreNames.contains(va)?t(r):(r.close(),await F1(),t(await Wl()))})})}async function Qd(e,t,n){const r=Ka(e,!0).put({[Hm]:t,value:n});return new Js(r).toPromise()}async function $1(e,t){const n=Ka(e,!1).get(t),r=await new Js(n).toPromise();return r===void 0?null:r.value}function Yd(e,t){const n=Ka(e,!0).delete(t);return new Js(n).toPromise()}const B1=800,H1=3;class Vm{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Wl(),this.db)}async _withRetries(t){let n=0;for(;;)try{const r=await this._openDb();return await t(r)}catch(r){if(n++>H1)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return $m()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=qa._getInstance(U1()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){var t,n;if(this.activeServiceWorker=await L1(),!this.activeServiceWorker)return;this.sender=new O1(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((t=r[0])===null||t===void 0)&&t.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||M1()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Wl();return await Qd(t,xa,"1"),await Yd(t,xa),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>Qd(r,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(r=>$1(r,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>Yd(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(s=>{const i=Ka(s,!1).getAll();return new Js(i).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;for(const{fbase_key:s,value:i}of t)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(t,n){this.localCache[t]=n;const r=this.listeners[t];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),B1)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Vm.type="LOCAL";const V1=Vm;new Ws(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W1(e,t){return t?Ct(t):(F(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iu extends nu{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return fr(t,this._buildIdpRequest())}_linkToIdToken(t,n){return fr(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return fr(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function q1(e){return Lm(e.auth,new iu(e),e.bypassAuthState)}function K1(e){const{auth:t,user:n}=e;return F(n,t,"internal-error"),b1(n,new iu(e),e.bypassAuthState)}async function G1(e){const{auth:t,user:n}=e;return F(n,t,"internal-error"),k1(n,new iu(e),e.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wm{constructor(t,n,r,s,i=!1){this.auth=t,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:a,type:l}=t;if(a){this.reject(a);return}const c={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(c))}catch(u){this.reject(u)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return q1;case"linkViaPopup":case"linkViaRedirect":return G1;case"reauthViaPopup":case"reauthViaRedirect":return K1;default:ut(this.auth,"internal-error")}}resolve(t){Ot(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Ot(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J1=new Ws(2e3,1e4);class rr extends Wm{constructor(t,n,r,s,i){super(t,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,rr.currentPopupAction&&rr.currentPopupAction.cancel(),rr.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return F(t,this.auth,"internal-error"),t}async onExecution(){Ot(this.filter.length===1,"Popup operations only handle one event");const t=su();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(vt(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(vt(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,rr.currentPopupAction=null}pollUserCancellation(){const t=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(vt(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,J1.get())};t()}}rr.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q1="pendingRedirect",Di=new Map;class Y1 extends Wm{constructor(t,n,r=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let t=Di.get(this.auth._key());if(!t){try{const r=await X1(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(r)}catch(n){t=()=>Promise.reject(n)}Di.set(this.auth._key(),t)}return this.bypassAuthState||Di.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function X1(e,t){const n=tk(t),r=ek(e);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function Z1(e,t){Di.set(e._key(),t)}function ek(e){return Ct(e._redirectPersistence)}function tk(e){return Oi(Q1,e.config.apiKey,e.name)}async function nk(e,t,n=!1){const r=Ks(e),s=W1(r,t),a=await new Y1(r,s,n).execute();return a&&!n&&(delete a.user._redirectEventId,await r._persistUserIfCurrent(a.user),await r._setRedirectUser(null,t)),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rk=10*60*1e3;class sk{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(t,r)&&(n=!0,this.sendToConsumer(t,r),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!ik(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){var r;if(t.error&&!qm(t)){const s=((r=t.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(vt(this.auth,s))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const r=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&r}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=rk&&this.cachedEventUids.clear(),this.cachedEventUids.has(Xd(t))}saveEventToCache(t){this.cachedEventUids.add(Xd(t)),this.lastProcessedEventTime=Date.now()}}function Xd(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(t=>t).join("-")}function qm({type:e,error:t}){return e==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function ik(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return qm(e);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ak(e,t={}){return Pr(e,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ok=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,lk=/^https?/;async function ck(e){if(e.config.emulator)return;const{authorizedDomains:t}=await ak(e);for(const n of t)try{if(uk(n))return}catch{}ut(e,"unauthorized-domain")}function uk(e){const t=Vl(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const a=new URL(e);return a.hostname===""&&r===""?n==="chrome-extension:"&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&a.hostname===r}if(!lk.test(n))return!1;if(ok.test(e))return r===e;const s=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dk=new Ws(3e4,6e4);function Zd(){const e=wt().___jsl;if(e!=null&&e.H){for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}}function fk(e){return new Promise((t,n)=>{var r,s,i;function a(){Zd(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Zd(),n(vt(e,"network-request-failed"))},timeout:dk.get()})}if(!((s=(r=wt().gapi)===null||r===void 0?void 0:r.iframes)===null||s===void 0)&&s.Iframe)t(gapi.iframes.getContext());else if(!((i=wt().gapi)===null||i===void 0)&&i.load)a();else{const l=s1("iframefcb");return wt()[l]=()=>{gapi.load?a():n(vt(e,"network-request-failed"))},Rm(`https://apis.google.com/js/api.js?onload=${l}`).catch(c=>n(c))}}).catch(t=>{throw Li=null,t})}let Li=null;function hk(e){return Li=Li||fk(e),Li}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pk=new Ws(5e3,15e3),mk="__/auth/iframe",gk="emulator/auth/iframe",yk={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},xk=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function vk(e){const t=e.config;F(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?Zc(t,gk):`https://${e.config.authDomain}/${mk}`,r={apiKey:t.apiKey,appName:e.name,v:Vs},s=xk.get(e.config.apiHost);s&&(r.eid=s);const i=e._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${Hs(r).slice(1)}`}async function wk(e){const t=await hk(e),n=wt().gapi;return F(n,e,"internal-error"),t.open({where:document.body,url:vk(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:yk,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const a=vt(e,"network-request-failed"),l=wt().setTimeout(()=>{i(a)},pk.get());function c(){wt().clearTimeout(l),s(r)}r.ping(c).then(c,()=>{i(a)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kk={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},bk=500,Nk=600,_k="_blank",Ek="http://localhost";class ef{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Sk(e,t,n,r=bk,s=Nk){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let l="";const c=Object.assign(Object.assign({},kk),{width:r.toString(),height:s.toString(),top:i,left:a}),u=je().toLowerCase();n&&(l=bm(u)?_k:n),km(u)&&(t=t||Ek,c.scrollbars="yes");const d=Object.entries(c).reduce((h,[k,x])=>`${h}${k}=${x},`,"");if(e1(u)&&l!=="_self")return jk(t||"",l),new ef(null);const p=window.open(t||"",l,d);F(p,e,"popup-blocked");try{p.focus()}catch{}return new ef(p)}function jk(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ck="__/auth/handler",Ik="emulator/auth/handler",Tk=encodeURIComponent("fac");async function tf(e,t,n,r,s,i){F(e.config.authDomain,e,"auth-domain-config-required"),F(e.config.apiKey,e,"invalid-api-key");const a={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:Vs,eventId:s};if(t instanceof Om){t.setDefaultLanguage(e.languageCode),a.providerId=t.providerId||"",Nv(t.getCustomParameters())||(a.customParameters=JSON.stringify(t.getCustomParameters()));for(const[d,p]of Object.entries({}))a[d]=p}if(t instanceof Gs){const d=t.getScopes().filter(p=>p!=="");d.length>0&&(a.scopes=d.join(","))}e.tenantId&&(a.tid=e.tenantId);const l=a;for(const d of Object.keys(l))l[d]===void 0&&delete l[d];const c=await e._getAppCheckToken(),u=c?`#${Tk}=${encodeURIComponent(c)}`:"";return`${Rk(e)}?${Hs(l).slice(1)}${u}`}function Rk({config:e}){return e.emulator?Zc(e,Ik):`https://${e.authDomain}/${Ck}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Do="webStorageSupport";class Pk{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Fm,this._completeRedirectFn=nk,this._overrideRedirectResult=Z1}async _openPopup(t,n,r,s){var i;Ot((i=this.eventManagers[t._key()])===null||i===void 0?void 0:i.manager,"_initialize() not called before _openPopup()");const a=await tf(t,n,r,Vl(),s);return Sk(t,a,su())}async _openRedirect(t,n,r,s){await this._originValidation(t);const i=await tf(t,n,r,Vl(),s);return D1(i),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):(Ot(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(t);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(t){const n=await wk(t),r=new sk(t);return n.register("authEvent",s=>(F(s==null?void 0:s.authEvent,t,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,r}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(Do,{type:Do},s=>{var i;const a=(i=s==null?void 0:s[0])===null||i===void 0?void 0:i[Do];a!==void 0&&n(!!a),ut(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=ck(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return jm()||tu()||Wa()}}const Ak=Pk;var nf="@firebase/auth",rf="0.23.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ok{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(r=>{t((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){F(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dk(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function Lk(e){Ts(new kr("auth",(t,{options:n})=>{const r=t.getProvider("app").getImmediate(),s=t.getProvider("heartbeat"),i=t.getProvider("app-check-internal"),{apiKey:a,authDomain:l}=r.options;F(a&&!a.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:a,authDomain:l,clientPlatform:e,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Cm(e)},u=new c1(r,s,i,c);return d1(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,r)=>{t.getProvider("auth-internal").initialize()})),Ts(new kr("auth-internal",t=>{const n=Ks(t.getProvider("auth").getImmediate());return(r=>new Ok(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ur(nf,rf,Dk(e)),ur(nf,rf,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mk=5*60,Uk=am("authIdTokenMaxAge")||Mk;let sf=null;const zk=e=>async t=>{const n=t&&await t.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>Uk)return;const s=n==null?void 0:n.token;sf!==s&&(sf=s,await fetch(e,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function ql(e=Nw()){const t=um(e,"auth");if(t.isInitialized())return t.getImmediate();const n=u1(e,{popupRedirectResolver:Ak,persistence:[V1,P1,Fm]}),r=am("authTokenSyncURL");if(r){const i=zk(r);S1(n,i,()=>i(n.currentUser)),E1(n,a=>i(a))}const s=fv("auth");return s&&f1(n,`http://${s}`),n}Lk("Browser");let af=null,wa=null;function Fk(){const t={apiKey:"AIzaSyBQOcdmwbBh4tI9-3j5_OudffV8Df5p4XI",authDomain:"starlink-suscription.firebaseapp.com",projectId:"starlink-suscription",appId:"1:1051339110973:web:0fe624ae8a2c90744bc854"};try{af=dm(t),wa=ql(af)}catch{try{wa=ql()}catch{}}}function Mi(){try{return wa||ql()}catch{return null}}function Km(e,t){return function(){return e.apply(t,arguments)}}const{toString:$k}=Object.prototype,{getPrototypeOf:au}=Object,{iterator:Ga,toStringTag:Gm}=Symbol,Ja=(e=>t=>{const n=$k.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),dt=e=>(e=e.toLowerCase(),t=>Ja(t)===e),Qa=e=>t=>typeof t===e,{isArray:Or}=Array,Nr=Qa("undefined");function Qs(e){return e!==null&&!Nr(e)&&e.constructor!==null&&!Nr(e.constructor)&&Fe(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const Jm=dt("ArrayBuffer");function Bk(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&Jm(e.buffer),t}const Hk=Qa("string"),Fe=Qa("function"),Qm=Qa("number"),Ys=e=>e!==null&&typeof e=="object",Vk=e=>e===!0||e===!1,Ui=e=>{if(Ja(e)!=="object")return!1;const t=au(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Gm in e)&&!(Ga in e)},Wk=e=>{if(!Ys(e)||Qs(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},qk=dt("Date"),Kk=dt("File"),Gk=dt("Blob"),Jk=dt("FileList"),Qk=e=>Ys(e)&&Fe(e.pipe),Yk=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||Fe(e.append)&&((t=Ja(e))==="formdata"||t==="object"&&Fe(e.toString)&&e.toString()==="[object FormData]"))},Xk=dt("URLSearchParams"),[Zk,eb,tb,nb]=["ReadableStream","Request","Response","Headers"].map(dt),rb=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Xs(e,t,{allOwnKeys:n=!1}={}){if(e===null||typeof e>"u")return;let r,s;if(typeof e!="object"&&(e=[e]),Or(e))for(r=0,s=e.length;r<s;r++)t.call(null,e[r],r,e);else{if(Qs(e))return;const i=n?Object.getOwnPropertyNames(e):Object.keys(e),a=i.length;let l;for(r=0;r<a;r++)l=i[r],t.call(null,e[l],l,e)}}function Ym(e,t){if(Qs(e))return null;t=t.toLowerCase();const n=Object.keys(e);let r=n.length,s;for(;r-- >0;)if(s=n[r],t===s.toLowerCase())return s;return null}const Sn=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Xm=e=>!Nr(e)&&e!==Sn;function Kl(){const{caseless:e,skipUndefined:t}=Xm(this)&&this||{},n={},r=(s,i)=>{if(i==="__proto__"||i==="constructor"||i==="prototype")return;const a=e&&Ym(n,i)||i;Ui(n[a])&&Ui(s)?n[a]=Kl(n[a],s):Ui(s)?n[a]=Kl({},s):Or(s)?n[a]=s.slice():(!t||!Nr(s))&&(n[a]=s)};for(let s=0,i=arguments.length;s<i;s++)arguments[s]&&Xs(arguments[s],r);return n}const sb=(e,t,n,{allOwnKeys:r}={})=>(Xs(t,(s,i)=>{n&&Fe(s)?Object.defineProperty(e,i,{value:Km(s,n),writable:!0,enumerable:!0,configurable:!0}):Object.defineProperty(e,i,{value:s,writable:!0,enumerable:!0,configurable:!0})},{allOwnKeys:r}),e),ib=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),ab=(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),Object.defineProperty(e.prototype,"constructor",{value:e,writable:!0,enumerable:!1,configurable:!0}),Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},ob=(e,t,n,r)=>{let s,i,a;const l={};if(t=t||{},e==null)return t;do{for(s=Object.getOwnPropertyNames(e),i=s.length;i-- >0;)a=s[i],(!r||r(a,e,t))&&!l[a]&&(t[a]=e[a],l[a]=!0);e=n!==!1&&au(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},lb=(e,t,n)=>{e=String(e),(n===void 0||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return r!==-1&&r===n},cb=e=>{if(!e)return null;if(Or(e))return e;let t=e.length;if(!Qm(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},ub=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&au(Uint8Array)),db=(e,t)=>{const r=(e&&e[Ga]).call(e);let s;for(;(s=r.next())&&!s.done;){const i=s.value;t.call(e,i[0],i[1])}},fb=(e,t)=>{let n;const r=[];for(;(n=e.exec(t))!==null;)r.push(n);return r},hb=dt("HTMLFormElement"),pb=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,s){return r.toUpperCase()+s}),of=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),mb=dt("RegExp"),Zm=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};Xs(n,(s,i)=>{let a;(a=t(s,i,e))!==!1&&(r[i]=a||s)}),Object.defineProperties(e,r)},gb=e=>{Zm(e,(t,n)=>{if(Fe(e)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=e[n];if(Fe(r)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},yb=(e,t)=>{const n={},r=s=>{s.forEach(i=>{n[i]=!0})};return Or(e)?r(e):r(String(e).split(t)),n},xb=()=>{},vb=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function wb(e){return!!(e&&Fe(e.append)&&e[Gm]==="FormData"&&e[Ga])}const kb=e=>{const t=new Array(10),n=(r,s)=>{if(Ys(r)){if(t.indexOf(r)>=0)return;if(Qs(r))return r;if(!("toJSON"in r)){t[s]=r;const i=Or(r)?[]:{};return Xs(r,(a,l)=>{const c=n(a,s+1);!Nr(c)&&(i[l]=c)}),t[s]=void 0,i}}return r};return n(e,0)},bb=dt("AsyncFunction"),Nb=e=>e&&(Ys(e)||Fe(e))&&Fe(e.then)&&Fe(e.catch),e0=((e,t)=>e?setImmediate:t?((n,r)=>(Sn.addEventListener("message",({source:s,data:i})=>{s===Sn&&i===n&&r.length&&r.shift()()},!1),s=>{r.push(s),Sn.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",Fe(Sn.postMessage)),_b=typeof queueMicrotask<"u"?queueMicrotask.bind(Sn):typeof process<"u"&&process.nextTick||e0,Eb=e=>e!=null&&Fe(e[Ga]),E={isArray:Or,isArrayBuffer:Jm,isBuffer:Qs,isFormData:Yk,isArrayBufferView:Bk,isString:Hk,isNumber:Qm,isBoolean:Vk,isObject:Ys,isPlainObject:Ui,isEmptyObject:Wk,isReadableStream:Zk,isRequest:eb,isResponse:tb,isHeaders:nb,isUndefined:Nr,isDate:qk,isFile:Kk,isBlob:Gk,isRegExp:mb,isFunction:Fe,isStream:Qk,isURLSearchParams:Xk,isTypedArray:ub,isFileList:Jk,forEach:Xs,merge:Kl,extend:sb,trim:rb,stripBOM:ib,inherits:ab,toFlatObject:ob,kindOf:Ja,kindOfTest:dt,endsWith:lb,toArray:cb,forEachEntry:db,matchAll:fb,isHTMLForm:hb,hasOwnProperty:of,hasOwnProp:of,reduceDescriptors:Zm,freezeMethods:gb,toObjectSet:yb,toCamelCase:pb,noop:xb,toFiniteNumber:vb,findKey:Ym,global:Sn,isContextDefined:Xm,isSpecCompliantForm:wb,toJSONObject:kb,isAsyncFn:bb,isThenable:Nb,setImmediate:e0,asap:_b,isIterable:Eb};let z=class t0 extends Error{static from(t,n,r,s,i,a){const l=new t0(t.message,n||t.code,r,s,i);return l.cause=t,l.name=t.name,a&&Object.assign(l,a),l}constructor(t,n,r,s,i){super(t),this.name="AxiosError",this.isAxiosError=!0,n&&(this.code=n),r&&(this.config=r),s&&(this.request=s),i&&(this.response=i,this.status=i.status)}toJSON(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:E.toJSONObject(this.config),code:this.code,status:this.status}}};z.ERR_BAD_OPTION_VALUE="ERR_BAD_OPTION_VALUE";z.ERR_BAD_OPTION="ERR_BAD_OPTION";z.ECONNABORTED="ECONNABORTED";z.ETIMEDOUT="ETIMEDOUT";z.ERR_NETWORK="ERR_NETWORK";z.ERR_FR_TOO_MANY_REDIRECTS="ERR_FR_TOO_MANY_REDIRECTS";z.ERR_DEPRECATED="ERR_DEPRECATED";z.ERR_BAD_RESPONSE="ERR_BAD_RESPONSE";z.ERR_BAD_REQUEST="ERR_BAD_REQUEST";z.ERR_CANCELED="ERR_CANCELED";z.ERR_NOT_SUPPORT="ERR_NOT_SUPPORT";z.ERR_INVALID_URL="ERR_INVALID_URL";const Sb=null;function Gl(e){return E.isPlainObject(e)||E.isArray(e)}function n0(e){return E.endsWith(e,"[]")?e.slice(0,-2):e}function lf(e,t,n){return e?e.concat(t).map(function(s,i){return s=n0(s),!n&&i?"["+s+"]":s}).join(n?".":""):t}function jb(e){return E.isArray(e)&&!e.some(Gl)}const Cb=E.toFlatObject(E,{},null,function(t){return/^is[A-Z]/.test(t)});function Ya(e,t,n){if(!E.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,n=E.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(g,v){return!E.isUndefined(v[g])});const r=n.metaTokens,s=n.visitor||d,i=n.dots,a=n.indexes,c=(n.Blob||typeof Blob<"u"&&Blob)&&E.isSpecCompliantForm(t);if(!E.isFunction(s))throw new TypeError("visitor must be a function");function u(x){if(x===null)return"";if(E.isDate(x))return x.toISOString();if(E.isBoolean(x))return x.toString();if(!c&&E.isBlob(x))throw new z("Blob is not supported. Use a Buffer instead.");return E.isArrayBuffer(x)||E.isTypedArray(x)?c&&typeof Blob=="function"?new Blob([x]):Buffer.from(x):x}function d(x,g,v){let m=x;if(x&&!v&&typeof x=="object"){if(E.endsWith(g,"{}"))g=r?g:g.slice(0,-2),x=JSON.stringify(x);else if(E.isArray(x)&&jb(x)||(E.isFileList(x)||E.endsWith(g,"[]"))&&(m=E.toArray(x)))return g=n0(g),m.forEach(function(y,b){!(E.isUndefined(y)||y===null)&&t.append(a===!0?lf([g],b,i):a===null?g:g+"[]",u(y))}),!1}return Gl(x)?!0:(t.append(lf(v,g,i),u(x)),!1)}const p=[],h=Object.assign(Cb,{defaultVisitor:d,convertValue:u,isVisitable:Gl});function k(x,g){if(!E.isUndefined(x)){if(p.indexOf(x)!==-1)throw Error("Circular reference detected in "+g.join("."));p.push(x),E.forEach(x,function(m,f){(!(E.isUndefined(m)||m===null)&&s.call(t,m,E.isString(f)?f.trim():f,g,h))===!0&&k(m,g?g.concat(f):[f])}),p.pop()}}if(!E.isObject(e))throw new TypeError("data must be an object");return k(e),t}function cf(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(r){return t[r]})}function ou(e,t){this._pairs=[],e&&Ya(e,this,t)}const r0=ou.prototype;r0.append=function(t,n){this._pairs.push([t,n])};r0.toString=function(t){const n=t?function(r){return t.call(this,r,cf)}:cf;return this._pairs.map(function(s){return n(s[0])+"="+n(s[1])},"").join("&")};function Ib(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function s0(e,t,n){if(!t)return e;const r=n&&n.encode||Ib,s=E.isFunction(n)?{serialize:n}:n,i=s&&s.serialize;let a;if(i?a=i(t,s):a=E.isURLSearchParams(t)?t.toString():new ou(t,s).toString(r),a){const l=e.indexOf("#");l!==-1&&(e=e.slice(0,l)),e+=(e.indexOf("?")===-1?"?":"&")+a}return e}class uf{constructor(){this.handlers=[]}use(t,n,r){return this.handlers.push({fulfilled:t,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){E.forEach(this.handlers,function(r){r!==null&&t(r)})}}const lu={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1,legacyInterceptorReqResOrdering:!0},Tb=typeof URLSearchParams<"u"?URLSearchParams:ou,Rb=typeof FormData<"u"?FormData:null,Pb=typeof Blob<"u"?Blob:null,Ab={isBrowser:!0,classes:{URLSearchParams:Tb,FormData:Rb,Blob:Pb},protocols:["http","https","file","blob","url","data"]},cu=typeof window<"u"&&typeof document<"u",Jl=typeof navigator=="object"&&navigator||void 0,Ob=cu&&(!Jl||["ReactNative","NativeScript","NS"].indexOf(Jl.product)<0),Db=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Lb=cu&&window.location.href||"http://localhost",Mb=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:cu,hasStandardBrowserEnv:Ob,hasStandardBrowserWebWorkerEnv:Db,navigator:Jl,origin:Lb},Symbol.toStringTag,{value:"Module"})),Ee={...Mb,...Ab};function Ub(e,t){return Ya(e,new Ee.classes.URLSearchParams,{visitor:function(n,r,s,i){return Ee.isNode&&E.isBuffer(n)?(this.append(r,n.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)},...t})}function zb(e){return E.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function Fb(e){const t={},n=Object.keys(e);let r;const s=n.length;let i;for(r=0;r<s;r++)i=n[r],t[i]=e[i];return t}function i0(e){function t(n,r,s,i){let a=n[i++];if(a==="__proto__")return!0;const l=Number.isFinite(+a),c=i>=n.length;return a=!a&&E.isArray(s)?s.length:a,c?(E.hasOwnProp(s,a)?s[a]=[s[a],r]:s[a]=r,!l):((!s[a]||!E.isObject(s[a]))&&(s[a]=[]),t(n,r,s[a],i)&&E.isArray(s[a])&&(s[a]=Fb(s[a])),!l)}if(E.isFormData(e)&&E.isFunction(e.entries)){const n={};return E.forEachEntry(e,(r,s)=>{t(zb(r),s,n,0)}),n}return null}function $b(e,t,n){if(E.isString(e))try{return(t||JSON.parse)(e),E.trim(e)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(e)}const Zs={transitional:lu,adapter:["xhr","http","fetch"],transformRequest:[function(t,n){const r=n.getContentType()||"",s=r.indexOf("application/json")>-1,i=E.isObject(t);if(i&&E.isHTMLForm(t)&&(t=new FormData(t)),E.isFormData(t))return s?JSON.stringify(i0(t)):t;if(E.isArrayBuffer(t)||E.isBuffer(t)||E.isStream(t)||E.isFile(t)||E.isBlob(t)||E.isReadableStream(t))return t;if(E.isArrayBufferView(t))return t.buffer;if(E.isURLSearchParams(t))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let l;if(i){if(r.indexOf("application/x-www-form-urlencoded")>-1)return Ub(t,this.formSerializer).toString();if((l=E.isFileList(t))||r.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return Ya(l?{"files[]":t}:t,c&&new c,this.formSerializer)}}return i||s?(n.setContentType("application/json",!1),$b(t)):t}],transformResponse:[function(t){const n=this.transitional||Zs.transitional,r=n&&n.forcedJSONParsing,s=this.responseType==="json";if(E.isResponse(t)||E.isReadableStream(t))return t;if(t&&E.isString(t)&&(r&&!this.responseType||s)){const a=!(n&&n.silentJSONParsing)&&s;try{return JSON.parse(t,this.parseReviver)}catch(l){if(a)throw l.name==="SyntaxError"?z.from(l,z.ERR_BAD_RESPONSE,this,null,this.response):l}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Ee.classes.FormData,Blob:Ee.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};E.forEach(["delete","get","head","post","put","patch"],e=>{Zs.headers[e]={}});const Bb=E.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Hb=e=>{const t={};let n,r,s;return e&&e.split(`
`).forEach(function(a){s=a.indexOf(":"),n=a.substring(0,s).trim().toLowerCase(),r=a.substring(s+1).trim(),!(!n||t[n]&&Bb[n])&&(n==="set-cookie"?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)}),t},df=Symbol("internals");function Vr(e){return e&&String(e).trim().toLowerCase()}function zi(e){return e===!1||e==null?e:E.isArray(e)?e.map(zi):String(e)}function Vb(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}const Wb=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function Lo(e,t,n,r,s){if(E.isFunction(r))return r.call(this,t,n);if(s&&(t=n),!!E.isString(t)){if(E.isString(r))return t.indexOf(r)!==-1;if(E.isRegExp(r))return r.test(t)}}function qb(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,n,r)=>n.toUpperCase()+r)}function Kb(e,t){const n=E.toCamelCase(" "+t);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+n,{value:function(s,i,a){return this[r].call(this,t,s,i,a)},configurable:!0})})}let $e=class{constructor(t){t&&this.set(t)}set(t,n,r){const s=this;function i(l,c,u){const d=Vr(c);if(!d)throw new Error("header name must be a non-empty string");const p=E.findKey(s,d);(!p||s[p]===void 0||u===!0||u===void 0&&s[p]!==!1)&&(s[p||c]=zi(l))}const a=(l,c)=>E.forEach(l,(u,d)=>i(u,d,c));if(E.isPlainObject(t)||t instanceof this.constructor)a(t,n);else if(E.isString(t)&&(t=t.trim())&&!Wb(t))a(Hb(t),n);else if(E.isObject(t)&&E.isIterable(t)){let l={},c,u;for(const d of t){if(!E.isArray(d))throw TypeError("Object iterator must return a key-value pair");l[u=d[0]]=(c=l[u])?E.isArray(c)?[...c,d[1]]:[c,d[1]]:d[1]}a(l,n)}else t!=null&&i(n,t,r);return this}get(t,n){if(t=Vr(t),t){const r=E.findKey(this,t);if(r){const s=this[r];if(!n)return s;if(n===!0)return Vb(s);if(E.isFunction(n))return n.call(this,s,r);if(E.isRegExp(n))return n.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,n){if(t=Vr(t),t){const r=E.findKey(this,t);return!!(r&&this[r]!==void 0&&(!n||Lo(this,this[r],r,n)))}return!1}delete(t,n){const r=this;let s=!1;function i(a){if(a=Vr(a),a){const l=E.findKey(r,a);l&&(!n||Lo(r,r[l],l,n))&&(delete r[l],s=!0)}}return E.isArray(t)?t.forEach(i):i(t),s}clear(t){const n=Object.keys(this);let r=n.length,s=!1;for(;r--;){const i=n[r];(!t||Lo(this,this[i],i,t,!0))&&(delete this[i],s=!0)}return s}normalize(t){const n=this,r={};return E.forEach(this,(s,i)=>{const a=E.findKey(r,i);if(a){n[a]=zi(s),delete n[i];return}const l=t?qb(i):String(i).trim();l!==i&&delete n[i],n[l]=zi(s),r[l]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const n=Object.create(null);return E.forEach(this,(r,s)=>{r!=null&&r!==!1&&(n[s]=t&&E.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,n])=>t+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...n){const r=new this(t);return n.forEach(s=>r.set(s)),r}static accessor(t){const r=(this[df]=this[df]={accessors:{}}).accessors,s=this.prototype;function i(a){const l=Vr(a);r[l]||(Kb(s,a),r[l]=!0)}return E.isArray(t)?t.forEach(i):i(t),this}};$e.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);E.reduceDescriptors($e.prototype,({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(r){this[n]=r}}});E.freezeMethods($e);function Mo(e,t){const n=this||Zs,r=t||n,s=$e.from(r.headers);let i=r.data;return E.forEach(e,function(l){i=l.call(n,i,s.normalize(),t?t.status:void 0)}),s.normalize(),i}function a0(e){return!!(e&&e.__CANCEL__)}let ei=class extends z{constructor(t,n,r){super(t??"canceled",z.ERR_CANCELED,n,r),this.name="CanceledError",this.__CANCEL__=!0}};function o0(e,t,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?e(n):t(new z("Request failed with status code "+n.status,[z.ERR_BAD_REQUEST,z.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function Gb(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function Jb(e,t){e=e||10;const n=new Array(e),r=new Array(e);let s=0,i=0,a;return t=t!==void 0?t:1e3,function(c){const u=Date.now(),d=r[i];a||(a=u),n[s]=c,r[s]=u;let p=i,h=0;for(;p!==s;)h+=n[p++],p=p%e;if(s=(s+1)%e,s===i&&(i=(i+1)%e),u-a<t)return;const k=d&&u-d;return k?Math.round(h*1e3/k):void 0}}function Qb(e,t){let n=0,r=1e3/t,s,i;const a=(u,d=Date.now())=>{n=d,s=null,i&&(clearTimeout(i),i=null),e(...u)};return[(...u)=>{const d=Date.now(),p=d-n;p>=r?a(u,d):(s=u,i||(i=setTimeout(()=>{i=null,a(s)},r-p)))},()=>s&&a(s)]}const ka=(e,t,n=3)=>{let r=0;const s=Jb(50,250);return Qb(i=>{const a=i.loaded,l=i.lengthComputable?i.total:void 0,c=a-r,u=s(c),d=a<=l;r=a;const p={loaded:a,total:l,progress:l?a/l:void 0,bytes:c,rate:u||void 0,estimated:u&&l&&d?(l-a)/u:void 0,event:i,lengthComputable:l!=null,[t?"download":"upload"]:!0};e(p)},n)},ff=(e,t)=>{const n=e!=null;return[r=>t[0]({lengthComputable:n,total:e,loaded:r}),t[1]]},hf=e=>(...t)=>E.asap(()=>e(...t)),Yb=Ee.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,Ee.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(Ee.origin),Ee.navigator&&/(msie|trident)/i.test(Ee.navigator.userAgent)):()=>!0,Xb=Ee.hasStandardBrowserEnv?{write(e,t,n,r,s,i,a){if(typeof document>"u")return;const l=[`${e}=${encodeURIComponent(t)}`];E.isNumber(n)&&l.push(`expires=${new Date(n).toUTCString()}`),E.isString(r)&&l.push(`path=${r}`),E.isString(s)&&l.push(`domain=${s}`),i===!0&&l.push("secure"),E.isString(a)&&l.push(`SameSite=${a}`),document.cookie=l.join("; ")},read(e){if(typeof document>"u")return null;const t=document.cookie.match(new RegExp("(?:^|; )"+e+"=([^;]*)"));return t?decodeURIComponent(t[1]):null},remove(e){this.write(e,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function Zb(e){return typeof e!="string"?!1:/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function eN(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function l0(e,t,n){let r=!Zb(t);return e&&(r||n==!1)?eN(e,t):t}const pf=e=>e instanceof $e?{...e}:e;function zn(e,t){t=t||{};const n={};function r(u,d,p,h){return E.isPlainObject(u)&&E.isPlainObject(d)?E.merge.call({caseless:h},u,d):E.isPlainObject(d)?E.merge({},d):E.isArray(d)?d.slice():d}function s(u,d,p,h){if(E.isUndefined(d)){if(!E.isUndefined(u))return r(void 0,u,p,h)}else return r(u,d,p,h)}function i(u,d){if(!E.isUndefined(d))return r(void 0,d)}function a(u,d){if(E.isUndefined(d)){if(!E.isUndefined(u))return r(void 0,u)}else return r(void 0,d)}function l(u,d,p){if(p in t)return r(u,d);if(p in e)return r(void 0,u)}const c={url:i,method:i,data:i,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,withXSRFToken:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:l,headers:(u,d,p)=>s(pf(u),pf(d),p,!0)};return E.forEach(Object.keys({...e,...t}),function(d){if(d==="__proto__"||d==="constructor"||d==="prototype")return;const p=E.hasOwnProp(c,d)?c[d]:s,h=p(e[d],t[d],d);E.isUndefined(h)&&p!==l||(n[d]=h)}),n}const c0=e=>{const t=zn({},e);let{data:n,withXSRFToken:r,xsrfHeaderName:s,xsrfCookieName:i,headers:a,auth:l}=t;if(t.headers=a=$e.from(a),t.url=s0(l0(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),l&&a.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):""))),E.isFormData(n)){if(Ee.hasStandardBrowserEnv||Ee.hasStandardBrowserWebWorkerEnv)a.setContentType(void 0);else if(E.isFunction(n.getHeaders)){const c=n.getHeaders(),u=["content-type","content-length"];Object.entries(c).forEach(([d,p])=>{u.includes(d.toLowerCase())&&a.set(d,p)})}}if(Ee.hasStandardBrowserEnv&&(r&&E.isFunction(r)&&(r=r(t)),r||r!==!1&&Yb(t.url))){const c=s&&i&&Xb.read(i);c&&a.set(s,c)}return t},tN=typeof XMLHttpRequest<"u",nN=tN&&function(e){return new Promise(function(n,r){const s=c0(e);let i=s.data;const a=$e.from(s.headers).normalize();let{responseType:l,onUploadProgress:c,onDownloadProgress:u}=s,d,p,h,k,x;function g(){k&&k(),x&&x(),s.cancelToken&&s.cancelToken.unsubscribe(d),s.signal&&s.signal.removeEventListener("abort",d)}let v=new XMLHttpRequest;v.open(s.method.toUpperCase(),s.url,!0),v.timeout=s.timeout;function m(){if(!v)return;const y=$e.from("getAllResponseHeaders"in v&&v.getAllResponseHeaders()),S={data:!l||l==="text"||l==="json"?v.responseText:v.response,status:v.status,statusText:v.statusText,headers:y,config:e,request:v};o0(function(_){n(_),g()},function(_){r(_),g()},S),v=null}"onloadend"in v?v.onloadend=m:v.onreadystatechange=function(){!v||v.readyState!==4||v.status===0&&!(v.responseURL&&v.responseURL.indexOf("file:")===0)||setTimeout(m)},v.onabort=function(){v&&(r(new z("Request aborted",z.ECONNABORTED,e,v)),v=null)},v.onerror=function(b){const S=b&&b.message?b.message:"Network Error",N=new z(S,z.ERR_NETWORK,e,v);N.event=b||null,r(N),v=null},v.ontimeout=function(){let b=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const S=s.transitional||lu;s.timeoutErrorMessage&&(b=s.timeoutErrorMessage),r(new z(b,S.clarifyTimeoutError?z.ETIMEDOUT:z.ECONNABORTED,e,v)),v=null},i===void 0&&a.setContentType(null),"setRequestHeader"in v&&E.forEach(a.toJSON(),function(b,S){v.setRequestHeader(S,b)}),E.isUndefined(s.withCredentials)||(v.withCredentials=!!s.withCredentials),l&&l!=="json"&&(v.responseType=s.responseType),u&&([h,x]=ka(u,!0),v.addEventListener("progress",h)),c&&v.upload&&([p,k]=ka(c),v.upload.addEventListener("progress",p),v.upload.addEventListener("loadend",k)),(s.cancelToken||s.signal)&&(d=y=>{v&&(r(!y||y.type?new ei(null,e,v):y),v.abort(),v=null)},s.cancelToken&&s.cancelToken.subscribe(d),s.signal&&(s.signal.aborted?d():s.signal.addEventListener("abort",d)));const f=Gb(s.url);if(f&&Ee.protocols.indexOf(f)===-1){r(new z("Unsupported protocol "+f+":",z.ERR_BAD_REQUEST,e));return}v.send(i||null)})},rN=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let r=new AbortController,s;const i=function(u){if(!s){s=!0,l();const d=u instanceof Error?u:this.reason;r.abort(d instanceof z?d:new ei(d instanceof Error?d.message:d))}};let a=t&&setTimeout(()=>{a=null,i(new z(`timeout of ${t}ms exceeded`,z.ETIMEDOUT))},t);const l=()=>{e&&(a&&clearTimeout(a),a=null,e.forEach(u=>{u.unsubscribe?u.unsubscribe(i):u.removeEventListener("abort",i)}),e=null)};e.forEach(u=>u.addEventListener("abort",i));const{signal:c}=r;return c.unsubscribe=()=>E.asap(l),c}},sN=function*(e,t){let n=e.byteLength;if(n<t){yield e;return}let r=0,s;for(;r<n;)s=r+t,yield e.slice(r,s),r=s},iN=async function*(e,t){for await(const n of aN(e))yield*sN(n,t)},aN=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:n,value:r}=await t.read();if(n)break;yield r}}finally{await t.cancel()}},mf=(e,t,n,r)=>{const s=iN(e,t);let i=0,a,l=c=>{a||(a=!0,r&&r(c))};return new ReadableStream({async pull(c){try{const{done:u,value:d}=await s.next();if(u){l(),c.close();return}let p=d.byteLength;if(n){let h=i+=p;n(h)}c.enqueue(new Uint8Array(d))}catch(u){throw l(u),u}},cancel(c){return l(c),s.return()}},{highWaterMark:2})},gf=64*1024,{isFunction:wi}=E,oN=(({Request:e,Response:t})=>({Request:e,Response:t}))(E.global),{ReadableStream:yf,TextEncoder:xf}=E.global,vf=(e,...t)=>{try{return!!e(...t)}catch{return!1}},lN=e=>{e=E.merge.call({skipUndefined:!0},oN,e);const{fetch:t,Request:n,Response:r}=e,s=t?wi(t):typeof fetch=="function",i=wi(n),a=wi(r);if(!s)return!1;const l=s&&wi(yf),c=s&&(typeof xf=="function"?(x=>g=>x.encode(g))(new xf):async x=>new Uint8Array(await new n(x).arrayBuffer())),u=i&&l&&vf(()=>{let x=!1;const g=new n(Ee.origin,{body:new yf,method:"POST",get duplex(){return x=!0,"half"}}).headers.has("Content-Type");return x&&!g}),d=a&&l&&vf(()=>E.isReadableStream(new r("").body)),p={stream:d&&(x=>x.body)};s&&["text","arrayBuffer","blob","formData","stream"].forEach(x=>{!p[x]&&(p[x]=(g,v)=>{let m=g&&g[x];if(m)return m.call(g);throw new z(`Response type '${x}' is not supported`,z.ERR_NOT_SUPPORT,v)})});const h=async x=>{if(x==null)return 0;if(E.isBlob(x))return x.size;if(E.isSpecCompliantForm(x))return(await new n(Ee.origin,{method:"POST",body:x}).arrayBuffer()).byteLength;if(E.isArrayBufferView(x)||E.isArrayBuffer(x))return x.byteLength;if(E.isURLSearchParams(x)&&(x=x+""),E.isString(x))return(await c(x)).byteLength},k=async(x,g)=>{const v=E.toFiniteNumber(x.getContentLength());return v??h(g)};return async x=>{let{url:g,method:v,data:m,signal:f,cancelToken:y,timeout:b,onDownloadProgress:S,onUploadProgress:N,responseType:_,headers:j,withCredentials:R="same-origin",fetchOptions:D}=c0(x),J=t||fetch;_=_?(_+"").toLowerCase():"text";let K=rN([f,y&&y.toAbortSignal()],b),ne=null;const T=K&&K.unsubscribe&&(()=>{K.unsubscribe()});let $;try{if(N&&u&&v!=="get"&&v!=="head"&&($=await k(j,m))!==0){let L=new n(g,{method:"POST",body:m,duplex:"half"}),B;if(E.isFormData(m)&&(B=L.headers.get("content-type"))&&j.setContentType(B),L.body){const[Pe,X]=ff($,ka(hf(N)));m=mf(L.body,gf,Pe,X)}}E.isString(R)||(R=R?"include":"omit");const M=i&&"credentials"in n.prototype,q={...D,signal:K,method:v.toUpperCase(),headers:j.normalize().toJSON(),body:m,duplex:"half",credentials:M?R:void 0};ne=i&&new n(g,q);let C=await(i?J(ne,D):J(g,q));const A=d&&(_==="stream"||_==="response");if(d&&(S||A&&T)){const L={};["status","statusText","headers"].forEach(ft=>{L[ft]=C[ft]});const B=E.toFiniteNumber(C.headers.get("content-length")),[Pe,X]=S&&ff(B,ka(hf(S),!0))||[];C=new r(mf(C.body,gf,Pe,()=>{X&&X(),T&&T()}),L)}_=_||"text";let P=await p[E.findKey(p,_)||"text"](C,x);return!A&&T&&T(),await new Promise((L,B)=>{o0(L,B,{data:P,headers:$e.from(C.headers),status:C.status,statusText:C.statusText,config:x,request:ne})})}catch(M){throw T&&T(),M&&M.name==="TypeError"&&/Load failed|fetch/i.test(M.message)?Object.assign(new z("Network Error",z.ERR_NETWORK,x,ne,M&&M.response),{cause:M.cause||M}):z.from(M,M&&M.code,x,ne,M&&M.response)}}},cN=new Map,u0=e=>{let t=e&&e.env||{};const{fetch:n,Request:r,Response:s}=t,i=[r,s,n];let a=i.length,l=a,c,u,d=cN;for(;l--;)c=i[l],u=d.get(c),u===void 0&&d.set(c,u=l?new Map:lN(t)),d=u;return u};u0();const uu={http:Sb,xhr:nN,fetch:{get:u0}};E.forEach(uu,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const wf=e=>`- ${e}`,uN=e=>E.isFunction(e)||e===null||e===!1;function dN(e,t){e=E.isArray(e)?e:[e];const{length:n}=e;let r,s;const i={};for(let a=0;a<n;a++){r=e[a];let l;if(s=r,!uN(r)&&(s=uu[(l=String(r)).toLowerCase()],s===void 0))throw new z(`Unknown adapter '${l}'`);if(s&&(E.isFunction(s)||(s=s.get(t))))break;i[l||"#"+a]=s}if(!s){const a=Object.entries(i).map(([c,u])=>`adapter ${c} `+(u===!1?"is not supported by the environment":"is not available in the build"));let l=n?a.length>1?`since :
`+a.map(wf).join(`
`):" "+wf(a[0]):"as no adapter specified";throw new z("There is no suitable adapter to dispatch the request "+l,"ERR_NOT_SUPPORT")}return s}const d0={getAdapter:dN,adapters:uu};function Uo(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new ei(null,e)}function kf(e){return Uo(e),e.headers=$e.from(e.headers),e.data=Mo.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),d0.getAdapter(e.adapter||Zs.adapter,e)(e).then(function(r){return Uo(e),r.data=Mo.call(e,e.transformResponse,r),r.headers=$e.from(r.headers),r},function(r){return a0(r)||(Uo(e),r&&r.response&&(r.response.data=Mo.call(e,e.transformResponse,r.response),r.response.headers=$e.from(r.response.headers))),Promise.reject(r)})}const f0="1.13.5",Xa={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{Xa[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}});const bf={};Xa.transitional=function(t,n,r){function s(i,a){return"[Axios v"+f0+"] Transitional option '"+i+"'"+a+(r?". "+r:"")}return(i,a,l)=>{if(t===!1)throw new z(s(a," has been removed"+(n?" in "+n:"")),z.ERR_DEPRECATED);return n&&!bf[a]&&(bf[a]=!0,console.warn(s(a," has been deprecated since v"+n+" and will be removed in the near future"))),t?t(i,a,l):!0}};Xa.spelling=function(t){return(n,r)=>(console.warn(`${r} is likely a misspelling of ${t}`),!0)};function fN(e,t,n){if(typeof e!="object")throw new z("options must be an object",z.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let s=r.length;for(;s-- >0;){const i=r[s],a=t[i];if(a){const l=e[i],c=l===void 0||a(l,i,e);if(c!==!0)throw new z("option "+i+" must be "+c,z.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new z("Unknown option "+i,z.ERR_BAD_OPTION)}}const Fi={assertOptions:fN,validators:Xa},Je=Fi.validators;let Tn=class{constructor(t){this.defaults=t||{},this.interceptors={request:new uf,response:new uf}}async request(t,n){try{return await this._request(t,n)}catch(r){if(r instanceof Error){let s={};Error.captureStackTrace?Error.captureStackTrace(s):s=new Error;const i=s.stack?s.stack.replace(/^.+\n/,""):"";try{r.stack?i&&!String(r.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+i):r.stack=i}catch{}}throw r}}_request(t,n){typeof t=="string"?(n=n||{},n.url=t):n=t||{},n=zn(this.defaults,n);const{transitional:r,paramsSerializer:s,headers:i}=n;r!==void 0&&Fi.assertOptions(r,{silentJSONParsing:Je.transitional(Je.boolean),forcedJSONParsing:Je.transitional(Je.boolean),clarifyTimeoutError:Je.transitional(Je.boolean),legacyInterceptorReqResOrdering:Je.transitional(Je.boolean)},!1),s!=null&&(E.isFunction(s)?n.paramsSerializer={serialize:s}:Fi.assertOptions(s,{encode:Je.function,serialize:Je.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),Fi.assertOptions(n,{baseUrl:Je.spelling("baseURL"),withXsrfToken:Je.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let a=i&&E.merge(i.common,i[n.method]);i&&E.forEach(["delete","get","head","post","put","patch","common"],x=>{delete i[x]}),n.headers=$e.concat(a,i);const l=[];let c=!0;this.interceptors.request.forEach(function(g){if(typeof g.runWhen=="function"&&g.runWhen(n)===!1)return;c=c&&g.synchronous;const v=n.transitional||lu;v&&v.legacyInterceptorReqResOrdering?l.unshift(g.fulfilled,g.rejected):l.push(g.fulfilled,g.rejected)});const u=[];this.interceptors.response.forEach(function(g){u.push(g.fulfilled,g.rejected)});let d,p=0,h;if(!c){const x=[kf.bind(this),void 0];for(x.unshift(...l),x.push(...u),h=x.length,d=Promise.resolve(n);p<h;)d=d.then(x[p++],x[p++]);return d}h=l.length;let k=n;for(;p<h;){const x=l[p++],g=l[p++];try{k=x(k)}catch(v){g.call(this,v);break}}try{d=kf.call(this,k)}catch(x){return Promise.reject(x)}for(p=0,h=u.length;p<h;)d=d.then(u[p++],u[p++]);return d}getUri(t){t=zn(this.defaults,t);const n=l0(t.baseURL,t.url,t.allowAbsoluteUrls);return s0(n,t.params,t.paramsSerializer)}};E.forEach(["delete","get","head","options"],function(t){Tn.prototype[t]=function(n,r){return this.request(zn(r||{},{method:t,url:n,data:(r||{}).data}))}});E.forEach(["post","put","patch"],function(t){function n(r){return function(i,a,l){return this.request(zn(l||{},{method:t,headers:r?{"Content-Type":"multipart/form-data"}:{},url:i,data:a}))}}Tn.prototype[t]=n(),Tn.prototype[t+"Form"]=n(!0)});let hN=class h0{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(i){n=i});const r=this;this.promise.then(s=>{if(!r._listeners)return;let i=r._listeners.length;for(;i-- >0;)r._listeners[i](s);r._listeners=null}),this.promise.then=s=>{let i;const a=new Promise(l=>{r.subscribe(l),i=l}).then(s);return a.cancel=function(){r.unsubscribe(i)},a},t(function(i,a,l){r.reason||(r.reason=new ei(i,a,l),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const n=this._listeners.indexOf(t);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const t=new AbortController,n=r=>{t.abort(r)};return this.subscribe(n),t.signal.unsubscribe=()=>this.unsubscribe(n),t.signal}static source(){let t;return{token:new h0(function(s){t=s}),cancel:t}}};function pN(e){return function(n){return e.apply(null,n)}}function mN(e){return E.isObject(e)&&e.isAxiosError===!0}const Ql={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(Ql).forEach(([e,t])=>{Ql[t]=e});function p0(e){const t=new Tn(e),n=Km(Tn.prototype.request,t);return E.extend(n,Tn.prototype,t,{allOwnKeys:!0}),E.extend(n,t,null,{allOwnKeys:!0}),n.create=function(s){return p0(zn(e,s))},n}const fe=p0(Zs);fe.Axios=Tn;fe.CanceledError=ei;fe.CancelToken=hN;fe.isCancel=a0;fe.VERSION=f0;fe.toFormData=Ya;fe.AxiosError=z;fe.Cancel=fe.CanceledError;fe.all=function(t){return Promise.all(t)};fe.spread=pN;fe.isAxiosError=mN;fe.mergeConfig=zn;fe.AxiosHeaders=$e;fe.formToJSON=e=>i0(E.isHTMLForm(e)?new FormData(e):e);fe.getAdapter=d0.getAdapter;fe.HttpStatusCode=Ql;fe.default=fe;const{Axios:E_,AxiosError:S_,CanceledError:j_,isCancel:C_,CancelToken:I_,VERSION:T_,all:R_,Cancel:P_,isAxiosError:A_,spread:O_,toFormData:D_,AxiosHeaders:L_,HttpStatusCode:M_,formToJSON:U_,getAdapter:z_,mergeConfig:F_}=fe,gN="https://api-suscriptions-production.up.railway.app",V=fe.create({baseURL:gN});V.interceptors.request.use(async e=>{try{const t=Mi(),n=t==null?void 0:t.currentUser;if(n){const r=await n.getIdToken();e.headers.Authorization=`Bearer ${r}`}}catch{}return e});const gt={create:async e=>V.post("/auth/create",e),me:async()=>V.get("/auth/me"),getUser:async e=>V.get(`/auth/user/${e}`),listUsers:async e=>V.get("/auth/users",{params:e}),updateUser:async(e,t)=>V.patch(`/auth/user/${e}`,t),deleteUser:async e=>V.delete(`/auth/user/${e}`)},Rn={create:async e=>V.post("/clients",e),list:async e=>V.get("/clients",{params:e}),get:async e=>V.get(`/clients/${e}`),delete:async e=>V.delete(`/clients/${e}`),update:async(e,t)=>V.patch(`/clients/${e}`,t)},Xr={create:async e=>V.post("/subscriptions",e),list:async e=>V.get("/subscriptions",{params:e}),get:async e=>V.get(`/subscriptions/${e}`),renew:async e=>V.post(`/subscriptions/${e}/renew`),delete:async e=>V.delete(`/subscriptions/${e}`),update:async(e,t)=>V.patch(`/subscriptions/${e}`,t)},bn={sendTemplate:async e=>V.post("/communications/send-template",e),send:async e=>V.post("/communications/send",e),listConversations:async()=>V.get("/communications/conversations"),getMessages:async(e,t)=>V.get(`/communications/messages/${encodeURIComponent(e)}`,{params:t}),getUnreadCount:async()=>V.get("/communications/unread-count"),markAsRead:async e=>V.post(`/communications/conversations/${encodeURIComponent(e)}/read`)},Wr={runDaily:async(e,t)=>V.post("/automation/run-daily",t,{params:e}),updateConfig:async e=>V.put("/automation/config",e),getConfig:async()=>V.get("/automation/config"),deleteConfig:async()=>V.delete("/automation/config")},m0=w.createContext(void 0);function yN({children:e}){const[t,n]=w.useState(null),[r,s]=w.useState(null),[i,a]=w.useState(!0),l=$s();w.useEffect(()=>{const d=Mi();if(!d){a(!1);return}const p=j1(d,async h=>{var k;if(!h){n(null),s(null),a(!1);return}try{const x=await h.getIdToken();s(x);try{const v=(k=(await h.getIdTokenResult()).claims)==null?void 0:k.role;if(v){n({id:h.uid,email:h.email??void 0,role:v,displayName:h.displayName??void 0,photoURL:h.photoURL??void 0}),a(!1);return}}catch{}try{const v=(await V.get("/auth/me")).data||{};n({id:v.id??h.uid,email:v.email??h.email??void 0,role:v.role,displayName:v.displayName??h.displayName??void 0,photoURL:h.photoURL??void 0})}catch{n({id:h.uid,email:h.email??void 0,displayName:h.displayName??void 0,photoURL:h.photoURL??void 0})}}catch{n({id:h.uid,email:h.email??void 0,displayName:h.displayName??void 0,photoURL:h.photoURL??void 0})}finally{a(!1)}});return()=>p()},[]);async function c(d,p){var v;const h=Mi();if(!h)throw new Error("Firebase auth not initialized");const x=(await _1(h,d,p)).user,g=await x.getIdToken();s(g);try{const f=(v=(await x.getIdTokenResult()).claims)==null?void 0:v.role;if(f){n({id:x.uid,email:x.email??void 0,role:f,photoURL:x.photoURL??void 0,displayName:x.displayName??void 0}),l(f==="admin"?"/admin":f==="client"?"/client":"/");return}}catch{}try{const f=(await V.get("/auth/me")).data||{},y=f.role??void 0;n({id:f.id??x.uid,email:f.email??x.email??void 0,role:y,photoURL:x.photoURL??void 0,displayName:f.displayName??x.displayName??void 0}),l(y==="admin"?"/admin":y==="client"?"/client":"/");return}catch{n({id:x.uid,email:x.email??void 0,photoURL:x.photoURL??void 0,displayName:x.displayName??void 0}),l("/")}}function u(){const d=Mi();try{d&&C1(d)}catch{}s(null),n(null),l("/login")}return o.jsx(m0.Provider,{value:{user:t,token:r,login:c,logout:u,loading:i},children:e})}function yn(){const e=w.useContext(m0);if(!e)throw new Error("useAuth must be used within AuthProvider");return e}function Oe(...e){return e.filter(Boolean).join(" ")}const H=un.forwardRef(({variant:e="primary",size:t="md",className:n,children:r,...s},i)=>{const a="inline-flex items-center justify-center rounded-lg font-medium transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:opacity-50 disabled:pointer-events-none cursor-pointer",l={primary:"bg-primary hover:bg-primary-600 text-white shadow-sm focus:ring-primary",secondary:"bg-white dark:bg-slate-800 text-gray-900 dark:text-gray-100 border border-gray-200 dark:border-slate-700 hover:bg-gray-50 dark:hover:bg-slate-700 focus:ring-gray-200 shadow-sm",ghost:"bg-transparent text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-slate-800 hover:text-gray-900 dark:hover:text-white focus:ring-gray-200",outline:"bg-transparent border border-primary text-primary hover:bg-primary/5 dark:hover:bg-primary/20 focus:ring-primary",danger:"bg-red-600 text-white hover:bg-red-700 focus:ring-red-600 shadow-sm",destructive:"bg-red-600 text-white hover:bg-red-700 focus:ring-red-600 shadow-sm"},c={sm:"h-8 px-3 text-xs",md:"h-10 px-4 py-2 text-sm",lg:"h-12 px-6 text-base",icon:"h-10 w-10 p-2"};return o.jsx("button",{ref:i,className:Oe(a,l[e],c[t],n),...s,children:r})});H.displayName="Button";/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g0=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim();/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xN=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vN=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,r)=>r?r.toUpperCase():n.toLowerCase());/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nf=e=>{const t=vN(e);return t.charAt(0).toUpperCase()+t.slice(1)};/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var wN={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kN=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0;return!1};/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bN=w.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:i,iconNode:a,...l},c)=>w.createElement("svg",{ref:c,...wN,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:g0("lucide",s),...!i&&!kN(l)&&{"aria-hidden":"true"},...l},[...a.map(([u,d])=>w.createElement(u,d)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U=(e,t)=>{const n=w.forwardRef(({className:r,...s},i)=>w.createElement(bN,{ref:i,iconNode:t,className:g0(`lucide-${xN(Nf(e))}`,`lucide-${e}`,r),...s}));return n.displayName=Nf(e),n};/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NN=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],_N=U("activity",NN);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EN=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],SN=U("arrow-left",EN);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jN=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M22 8c0-2.3-.8-4.3-2-6",key:"5bb3ad"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}],["path",{d:"M4 2C2.8 3.7 2 5.7 2 8",key:"tap9e0"}]],CN=U("bell-ring",jN);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IN=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],TN=U("briefcase",IN);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RN=[["path",{d:"M16 14v2.2l1.6 1",key:"fo4ql5"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M21 7.5V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h3.5",key:"1osxxc"}],["path",{d:"M3 10h5",key:"r794hk"}],["path",{d:"M8 2v4",key:"1cmpym"}],["circle",{cx:"16",cy:"16",r:"6",key:"qoo3c4"}]],PN=U("calendar-clock",RN);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AN=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],ba=U("calendar",AN);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ON=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],DN=U("check",ON);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LN=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],MN=U("chevron-down",LN);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UN=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],_f=U("chevron-right",UN);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zN=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],y0=U("chevron-up",zN);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FN=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Ds=U("circle-alert",FN);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $N=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],kt=U("circle-check-big",$N);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BN=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]],zo=U("circle-user",BN);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HN=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],VN=U("circle-x",HN);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WN=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],_r=U("clock",WN);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qN=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],Ef=U("copy",qN);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KN=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],cn=U("credit-card",KN);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GN=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],JN=U("download",GN);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QN=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],YN=U("eye-off",QN);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XN=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],ZN=U("eye",XN);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e2=[["path",{d:"M2.586 17.414A2 2 0 0 0 2 18.828V21a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h1a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h.172a2 2 0 0 0 1.414-.586l.814-.814a6.5 6.5 0 1 0-4-4z",key:"1s6t7t"}],["circle",{cx:"16.5",cy:"7.5",r:".5",fill:"currentColor",key:"w0ekpg"}]],t2=U("key-round",e2);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n2=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],Sf=U("layout-dashboard",n2);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r2=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Er=U("loader-circle",r2);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s2=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],x0=U("lock",s2);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i2=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],a2=U("log-in",i2);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o2=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],l2=U("log-out",o2);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c2=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],du=U("mail",c2);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u2=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],d2=U("map-pin",u2);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f2=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],fu=U("message-square",f2);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h2=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],p2=U("moon",h2);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m2=[["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"M2.586 16.726A2 2 0 0 1 2 15.312V8.688a2 2 0 0 1 .586-1.414l4.688-4.688A2 2 0 0 1 8.688 2h6.624a2 2 0 0 1 1.414.586l4.688 4.688A2 2 0 0 1 22 8.688v6.624a2 2 0 0 1-.586 1.414l-4.688 4.688a2 2 0 0 1-1.414.586H8.688a2 2 0 0 1-1.414-.586z",key:"2d38gg"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],g2=U("octagon-x",m2);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y2=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],x2=U("pencil",y2);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v2=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],w2=U("phone",v2);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k2=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],jf=U("play",k2);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b2=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],N2=U("plus",b2);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _2=[["path",{d:"M16.247 7.761a6 6 0 0 1 0 8.478",key:"1fwjs5"}],["path",{d:"M19.075 4.933a10 10 0 0 1 0 14.134",key:"ehdyv1"}],["path",{d:"M4.925 19.067a10 10 0 0 1 0-14.134",key:"1q22gi"}],["path",{d:"M7.753 16.239a6 6 0 0 1 0-8.478",key:"r2q7qm"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],E2=U("radio",_2);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S2=[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]],Na=U("receipt",S2);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j2=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],C2=U("refresh-cw",j2);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I2=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],T2=U("rotate-ccw",I2);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R2=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],v0=U("save",R2);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P2=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],A2=U("search",P2);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O2=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],D2=U("send",O2);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L2=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],Fo=U("shield",L2);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M2=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],Yl=U("square-pen",M2);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U2=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],z2=U("sun",U2);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F2=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],$2=U("trash-2",F2);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B2=[["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],$o=U("trash",B2);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H2=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],V2=U("triangle-alert",H2);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W2=[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],q2=U("user-check",W2);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K2=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],_a=U("user-plus",K2);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G2=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Sr=U("user",G2);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J2=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Q2=U("users",J2);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y2=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Cf=U("x",Y2);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X2=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],w0=U("zap",X2);function Z2(){const[e,t]=w.useState(""),[n,r]=w.useState(""),[s,i]=w.useState(!1),[a,l]=w.useState(!1),{login:c}=yn();async function u(d){d.preventDefault(),l(!0);try{await c(e,n)}catch{alert("Login failed")}finally{l(!1)}}return o.jsx("div",{className:"min-h-dvh flex flex-col items-center justify-center bg-slate-50 dark:bg-slate-950 p-4 transition-colors",children:o.jsxs("div",{className:"w-full max-w-sm sm:max-w-md",children:[o.jsxs("div",{className:"mb-8 text-center flex flex-col items-center",children:[o.jsxs("h1",{className:"text-3xl font-bold tracking-tight text-slate-900 dark:text-white",children:["A",o.jsx("span",{className:"text-secondary",children:"|"}),"R SYSTEM"]}),o.jsx("p",{className:"mt-2 text-sm text-slate-600 dark:text-slate-400",children:"Ingresa tus credenciales para acceder"})]}),o.jsx("div",{className:"p-6 sm:p-8 bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-800 rounded-xl shadow-2xl shadow-slate-200/50 dark:shadow-black/50",children:o.jsxs("form",{onSubmit:u,className:"space-y-6",children:[o.jsxs("div",{className:"space-y-5",children:[o.jsxs("div",{className:"relative",children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1.5 ml-1",children:"Correo Electrnico"}),o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none text-slate-400 dark:text-slate-500",children:o.jsx(du,{className:"h-5 w-5"})}),o.jsx("input",{type:"email",className:"block w-full pl-10 h-12 rounded-lg border-slate-300 dark:border-slate-700 bg-white dark:bg-slate-950 text-slate-900 dark:text-white shadow-sm focus:border-primary focus:ring-primary sm:text-sm",placeholder:"ejemplo@empresa.com",value:e,onChange:d=>t(d.target.value),required:!0,autoComplete:"email"})]})]}),o.jsxs("div",{className:"relative",children:[o.jsxs("div",{className:"flex justify-between items-center mb-1.5 ml-1",children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300",children:"Contrasea"}),o.jsx("a",{href:"#",className:"text-xs font-medium text-primary hover:text-primary-600 dark:text-primary-400 dark:hover:text-primary-300",tabIndex:-1,children:"Olvidaste tu contrasea?"})]}),o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none text-slate-400 dark:text-slate-500",children:o.jsx(x0,{className:"h-5 w-5"})}),o.jsx("input",{type:s?"text":"password",className:"block w-full pl-10 pr-10 h-12 rounded-lg border-slate-300 dark:border-slate-700 bg-white dark:bg-slate-950 text-slate-900 dark:text-white shadow-sm focus:border-primary focus:ring-primary sm:text-sm",placeholder:"",value:n,onChange:d=>r(d.target.value),required:!0,autoComplete:"current-password"}),o.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:o.jsx("button",{type:"button",onClick:()=>i(!s),className:"focus:outline-none text-slate-400 hover:text-slate-600 dark:text-slate-500 dark:hover:text-slate-300",children:s?o.jsx(YN,{className:"h-5 w-5"}):o.jsx(ZN,{className:"h-5 w-5"})})})]})]})]}),o.jsx(H,{type:"submit",className:"w-full h-12 text-base font-semibold shadow-lg shadow-primary/25 hover:shadow-primary/40 transition-all active:scale-[0.98] rounded-lg bg-primary hover:bg-primary-600 text-white border-0",disabled:a,children:a?o.jsxs("span",{className:"flex items-center justify-center gap-2",children:[o.jsxs("svg",{className:"animate-spin h-5 w-5",viewBox:"0 0 24 24",children:[o.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),o.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Iniciando..."]}):o.jsxs("span",{className:"flex items-center justify-center gap-2",children:[o.jsx(a2,{className:"h-5 w-5"}),"Iniciar Sesin"]})})]})}),o.jsxs("p",{className:"mt-8 text-center text-xs text-slate-400 dark:text-slate-500",children:[" ",new Date().getFullYear()," A|R System. Todos los derechos reservados."]})]})})}function If({children:e,roles:t}){const{token:n,user:r}=yn();if(!n)return o.jsx(ls,{to:"/login",replace:!0});if(t&&t.length>0){const s=r==null?void 0:r.role;if(!s||!t.includes(s))return o.jsx(ls,{to:"/",replace:!0})}return e}const k0=w.createContext(void 0);function e_({children:e}){const[t,n]=w.useState(()=>{const s=localStorage.getItem("theme");return s||(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")});w.useEffect(()=>{const s=window.document.documentElement;s.classList.remove("light","dark"),s.classList.add(t),localStorage.setItem("theme",t)},[t]);const r=()=>{n(s=>s==="light"?"dark":"light")};return o.jsx(k0.Provider,{value:{theme:t,toggleTheme:r},children:e})}function t_(){const e=w.useContext(k0);if(e===void 0)throw new Error("useTheme must be used within a ThemeProvider");return e}const n_={admin:[{label:"Dashboard",to:"/admin",icon:o.jsx(Sf,{className:"w-5 h-5"})},{label:"Clientes",to:"/admin/clients",icon:o.jsx(TN,{className:"w-5 h-5"})},{label:"Suscripciones",to:"/admin/subscriptions",icon:o.jsx(cn,{className:"w-5 h-5"})},{label:"Comunicacin",to:"/admin/communication",icon:o.jsx(fu,{className:"w-5 h-5"})},{label:"Automatizacin",to:"/admin/automation",icon:o.jsx(w0,{className:"w-5 h-5"})},{label:"Usuarios",to:"/admin/users",icon:o.jsx(Q2,{className:"w-5 h-5"})}],client:[{label:"Dashboard",to:"/client",icon:o.jsx(Sf,{className:"w-5 h-5"})},{label:"Mi suscripcin",to:"/client/subscription",icon:o.jsx(cn,{className:"w-5 h-5"})},{label:"Historial de pagos",to:"/client/payments",icon:o.jsx(Na,{className:"w-5 h-5"})},{label:"Mi perfil",to:"/client/profile",icon:o.jsx(Sr,{className:"w-5 h-5"})}]};function Tf({children:e}){const{user:t,logout:n}=yn(),{theme:r,toggleTheme:s}=t_(),i=(t==null?void 0:t.role)??"guest",a=n_[i]??[],[l,c]=w.useState(!1),[u,d]=w.useState(!1),[p,h]=w.useState(window.innerWidth>=768);w.useEffect(()=>{const f=()=>h(window.innerWidth>=768);return window.addEventListener("resize",f),()=>window.removeEventListener("resize",f)},[]),w.useEffect(()=>{!p&&u&&d(!1)},[p,u]);const k=Bn(),[x,g]=w.useState(0),v=un.useRef(0),m=un.useRef(!0);return w.useEffect(()=>{c(!1)},[k.pathname]),w.useEffect(()=>{i==="admin"&&"Notification"in window&&Notification.permission==="default"&&Notification.requestPermission()},[i]),w.useEffect(()=>{if(i!=="admin")return;const f=async()=>{var b;try{const S=await bn.listConversations(),_=(Array.isArray(S.data)?S.data:((b=S.data)==null?void 0:b.data)||[]).reduce((j,R)=>j+(R.unreadCount||0),0);if(!m.current&&_>v.current){"Notification"in window&&Notification.permission==="granted"&&navigator.serviceWorker.ready.then(j=>{j.showNotification("A|R System",{body:`Tienes ${_} mensajes sin leer`,icon:"/suscriptions/vite.svg",vibrate:[200,100,200]})}).catch(()=>{new Notification("A|R System",{body:`Tienes ${_} mensajes sin leer`,icon:"/suscriptions/vite.svg"})});try{new Audio("/suscriptions/notification.mp3").play().catch(R=>console.log("Audio play failed",R))}catch{}}v.current=_,g(_),m.current=!1}catch{}};f();const y=setInterval(f,3e4);return()=>clearInterval(y)},[i]),o.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-slate-900 flex flex-col md:flex-row font-sans transition-colors duration-300 overflow-x-hidden",children:[o.jsxs("header",{className:"fixed top-0 inset-x-0 h-16 bg-primary dark:bg-slate-900/90 dark:border-b dark:border-slate-800 border-b border-gray-200 z-30 flex items-center justify-between px-4 md:hidden shadow-sm backdrop-blur-md",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("button",{onClick:()=>c(!0),className:"p-2 -ml-2 rounded-lg text-white hover:bg-secondary hover:text-primary focus:outline-none focus:ring-2 focus:ring-primary/20 cursor-pointer","aria-label":"Abrir men",children:o.jsx("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})}),o.jsxs("span",{className:"font-bold text-lg text-white truncate",children:["A",o.jsx("span",{className:"text-secondary",children:"|"}),"R SYSTEM"]})]}),o.jsxs("div",{className:"flex items-center gap-3",children:[i==="admin"&&o.jsxs(xi,{to:"/admin/communication",className:"relative p-1.5 text-white/80 hover:text-white transition-colors",children:[o.jsx(fu,{size:22}),x>0&&o.jsx("span",{className:"absolute -top-0.5 -right-0.5 h-4 w-4 bg-red-500 rounded-full text-[10px] font-bold flex items-center justify-center text-white border border-primary",children:x>9?"9+":x})]}),o.jsx(xi,{to:"/admin/me",className:"flex items-center cursor-pointer hover:opacity-80 transition-opacity",children:o.jsx("div",{className:"h-8 w-8 rounded-full bg-white text-primary border border-gray-200 flex items-center justify-center text-xs font-bold shadow-sm",children:((t==null?void 0:t.displayName)||(t==null?void 0:t.email)||"U").charAt(0).toUpperCase()})})]})]}),l&&o.jsx("div",{className:"fixed inset-0 bg-gray-900/50 z-40 md:hidden backdrop-blur-sm transition-opacity",onClick:()=>c(!1)}),o.jsxs("aside",{className:Oe("fixed inset-y-0 left-0 bg-white dark:bg-slate-950/50 border-r border-gray-200/50 dark:border-slate-800 z-50 transform transition-all duration-300 ease-in-out flex flex-col shadow-2xl md:shadow-none md:translate-x-0 md:sticky md:top-0 md:h-screen backdrop-blur-xl",l?"translate-x-0 w-72":"-translate-x-full md:translate-x-0",u?"md:w-20":"md:w-72","w-72"),children:[o.jsxs("div",{className:Oe("h-20 flex items-center border-b border-gray-100 dark:border-slate-800 shrink-0 transition-all duration-300",u?"justify-center px-0":"px-6 justify-between"),children:[o.jsxs("div",{className:Oe("flex items-center gap-3",u?"justify-center":""),children:[o.jsx("div",{className:"h-12 w-12 min-w-12 bg-primary rounded-md flex items-center justify-center text-white shadow-lg shadow-primary/25 cursor-pointer transition-transform hover:scale-105",onClick:()=>d(!u),children:o.jsxs("span",{className:"font-extrabold text-xl",children:["A",o.jsx("span",{className:"text-secondary",children:"|"}),"R"]})}),!u&&o.jsxs("div",{className:"flex flex-col whitespace-nowrap overflow-hidden transition-all duration-300",children:[o.jsx("span",{className:"font-bold text-lg leading-tight text-slate-900 dark:text-white",children:"SYSTEM"}),o.jsx("span",{className:"text-[10px] font-medium text-slate-400 uppercase tracking-widest",children:"Management"})]})]}),!u&&o.jsx("button",{onClick:()=>d(!0),className:"hidden md:flex p-1 rounded-md hover:bg-slate-100 dark:hover:bg-slate-800 text-slate-400",children:o.jsx(_f,{className:"w-4 h-4 rotate-180"})})]}),o.jsxs("div",{className:"flex-1 overflow-y-auto py-8 px-3 scrollbar-hide",children:[!u&&o.jsx("div",{className:"mb-2 px-3",children:o.jsx("p",{className:"text-xs font-bold text-slate-400 dark:text-slate-500 uppercase tracking-wider mb-4",children:"Menu Principal"})}),o.jsx("nav",{className:"space-y-2",children:a.map(f=>o.jsx(xi,{to:f.to,end:f.to==="/admin"||f.to==="/client",onClick:()=>c(!1),title:u?f.label:void 0,className:({isActive:y})=>Oe("flex items-center gap-3 px-3 py-3 rounded-xl text-sm font-medium transition-all duration-200 group relative",y?"bg-primary text-white shadow-md shadow-primary/25":"text-slate-600 dark:text-slate-400 hover:bg-slate-50 dark:hover:bg-slate-800/50 hover:text-slate-900 dark:hover:text-white",u?"justify-center":""),children:({isActive:y})=>o.jsxs(o.Fragment,{children:[o.jsx("span",{className:Oe("transition-colors",y?"text-white":"text-slate-400 dark:text-slate-500 group-hover:text-primary dark:group-hover:text-white"),children:f.icon}),!u&&o.jsxs(o.Fragment,{children:[o.jsx("span",{className:"flex-1 whitespace-nowrap overflow-hidden transition-all duration-300",children:f.label}),y&&o.jsx(_f,{className:"w-4 h-4 text-white/50"})]})]})},f.to))})]}),o.jsxs("div",{className:Oe("border-t border-gray-100 dark:border-slate-800 bg-gray-50/80 dark:bg-slate-900/50 backdrop-blur-sm shrink-0 transition-all duration-300",u?"p-2":"p-4"),children:[!u&&o.jsx("div",{className:"mb-2 px-2",children:o.jsx("span",{className:"text-xs font-semibold text-slate-400 uppercase tracking-wider",children:"Cuenta"})}),o.jsxs("div",{className:Oe("bg-white dark:bg-slate-800 rounded-2xl shadow-sm border border-gray-100 dark:border-slate-700/50 overflow-hidden",u?"p-1":"p-3"),children:[o.jsxs(xi,{to:i==="admin"?"/admin/me":i==="client"?"/client/profile":"/",onClick:()=>c(!1),title:u?"Perfil":void 0,className:Oe("flex items-center gap-3 -mx-2 hover:bg-slate-50 dark:hover:bg-slate-700/50 rounded-xl transition-colors cursor-pointer group",u?"justify-center mx-0 p-1 mb-0":"p-2"),children:[o.jsx("div",{className:"h-10 w-10 min-w-10 rounded-full bg-slate-100 dark:bg-slate-700 border-2 border-white dark:border-slate-600 flex items-center justify-center text-sm font-bold text-primary dark:text-white shadow-sm overflow-hidden shrink-0",children:t!=null&&t.photoURL?o.jsx("img",{src:t.photoURL,alt:"Avatar",className:"w-full h-full object-cover"}):((t==null?void 0:t.displayName)||(t==null?void 0:t.email)||"?").charAt(0).toUpperCase()}),!u&&o.jsxs("div",{className:"flex-1 min-w-0 transition-all duration-300",children:[o.jsx("p",{className:"text-sm font-bold text-slate-900 dark:text-white truncate group-hover:text-white/70 transition-colors",children:(t==null?void 0:t.displayName)||"Usuario"}),o.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 truncate font-medium",children:t==null?void 0:t.email})]})]}),!u&&o.jsxs("div",{className:"grid grid-cols-2 gap-2 mt-2 pt-2 border-t border-gray-100 dark:border-slate-700",children:[o.jsxs("button",{onClick:n,className:"flex flex-col items-center justify-center gap-1 p-2 rounded-lg text-xs font-medium text-slate-500 hover:text-red-600 hover:bg-red-50 dark:hover:bg-red-900/10 dark:text-slate-400 dark:hover:text-red-400 transition-all border border-transparent hover:border-red-100 cursor-pointer",children:[o.jsx(l2,{className:"w-4 h-4"}),o.jsx("span",{children:"Salir"})]}),o.jsxs("button",{onClick:s,className:"flex flex-col items-center justify-center gap-1 p-2 rounded-lg text-xs font-medium text-slate-500 hover:text-primary hover:bg-primary/5 dark:hover:bg-primary dark:text-slate-400 dark:hover:text-slate-200 transition-all border border-transparent hover:border-primary/10 cursor-pointer",children:[r==="light"?o.jsx(p2,{className:"w-4 h-4"}):o.jsx(z2,{className:"w-4 h-4"}),o.jsx("span",{children:r==="light"?"Oscuro":"Claro"})]})]})]})]})]}),o.jsx("main",{className:Oe("flex-1 min-w-0 w-full min-h-[calc(100vh-4rem)] md:min-h-screen pt-16 md:pt-0 bg-gray-50 dark:bg-slate-900 transition-all duration-300"),children:o.jsx("div",{className:"max-w-7xl mx-auto p-4 sm:p-6 lg:p-8 animate-in fade-in slide-in-from-bottom-4 duration-500 fill-mode-backwards",children:e||o.jsx(Hx,{})})})]})}const Q=w.forwardRef(({children:e,className:t,title:n,...r},s)=>o.jsxs("div",{ref:s,className:Oe("bg-white dark:bg-slate-800 rounded-xl shadow-sm ring-1 ring-gray-200 dark:ring-slate-700 overflow-hidden flex flex-col p-4",t),...r,children:[n&&o.jsx("div",{className:"px-4 py-3 border-b border-gray-100 dark:border-slate-700 bg-gray-50/50 dark:bg-slate-900/50 shrink-0",children:typeof n=="string"?o.jsx("h3",{className:"font-semibold text-gray-900 dark:text-gray-100 text-sm",children:n}):n}),o.jsx("div",{className:Oe("flex-1 min-h-0 flex flex-col",n?"p-4":""),children:e})]}));function r_(){const[e,t]=w.useState({clients:0,subscriptions:0,revenue:0,unread:0}),[n,r]=w.useState(!0),[s,i]=w.useState([]),[a,l]=w.useState([]);w.useEffect(()=>{(async()=>{var d,p,h;try{const[k,x,g]=await Promise.all([Rn.list(),Xr.list(),bn.listConversations()]),v=Array.isArray(k.data)?k.data:((d=k.data)==null?void 0:d.data)||[];i(v);const m=Array.isArray(x.data)?x.data:((p=x.data)==null?void 0:p.data)||[];l(m);const f=m.reduce((S,N)=>{if(!N.amount)return S;const _=N.amount.replace(/[^0-9]/g,"");return S+(parseInt(_)||0)},0),b=(Array.isArray(g.data)?g.data:((h=g.data)==null?void 0:h.data)||[]).reduce((S,N)=>S+(N.unreadCount||0),0);t({clients:v.length,subscriptions:m.length,revenue:f,unread:b})}catch(k){console.error("Error loading dashboard stats",k)}finally{r(!1)}})()},[]);const c=u=>new Intl.NumberFormat("es-CL",{style:"currency",currency:"CLP"}).format(u);return o.jsxs("div",{className:"space-y-6",children:[o.jsx("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:o.jsxs("div",{children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white tracking-tight",children:"Panel de Control"}),o.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Resumen y accesos directos."})]})}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 2xl:grid-cols-2 gap-6 auto-rows-fr",children:[o.jsxs(Q,{title:"Suscripciones",className:"h-full md:col-span-2 2xl:col-span-2 hover:shadow-lg transition-all duration-200",children:[o.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6 text-sm",children:"Controla los planes activos, fechas de corte y facturacin mensual."}),a.length>0&&(()=>{const u=a.filter(p=>{if(!p.cutDate)return!1;const h=new Date(p.cutDate),k=new Date,x=Math.ceil((h.getTime()-k.getTime())/(1e3*60*60*24));return x>=0&&x<=7});if(u.length===0)return null;const d=p=>{const h=new Date(p),k=["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"];return`${h.getDate()} de ${k[h.getMonth()]}`};return o.jsxs("div",{className:"mb-4",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[o.jsx("svg",{className:"w-5 h-5 text-yellow-500 animate-pulse",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),o.jsx("span",{className:"font-semibold text-yellow-700 dark:text-yellow-300",children:"Suscripciones por vencer esta semana"})]}),o.jsx("div",{className:"flex flex-col gap-3",children:u.map(p=>{const h=s.find(v=>v.uid===p.clientId||v.id===p.clientId),k=new Date(p.cutDate),x=new Date,g=Math.ceil((k.getTime()-x.getTime())/(1e3*60*60*24));return o.jsxs("div",{className:"flex items-center gap-4 p-3 rounded-xl border border-yellow-300 dark:border-yellow-700 bg-yellow-50 dark:bg-yellow-900/40 shadow-sm",children:[o.jsxs("div",{className:"flex flex-col min-w-32",children:[o.jsx("span",{className:"font-bold text-gray-900 dark:text-yellow-200 text-sm",children:(h==null?void 0:h.name)||"Cliente desconocido"}),o.jsx("span",{className:"text-xs text-gray-700 dark:text-yellow-300",children:h==null?void 0:h.email})]}),o.jsx("div",{className:"flex-1 text-center",children:o.jsx("span",{className:"inline-block text-xs font-semibold px-2 py-1 rounded bg-yellow-200 dark:bg-yellow-700 text-yellow-900 dark:text-yellow-100",children:g===0?o.jsx("span",{children:"Vence hoy!"}):o.jsxs("span",{children:["Faltan"," ",o.jsx("b",{className:"text-yellow-700 dark:text-yellow-200",children:g})," ","da",g>1?"s":""," para vencer el"," ",o.jsx("b",{children:d(p.cutDate)})]})})}),o.jsx("div",{className:"flex flex-col items-end",children:o.jsx("span",{className:"text-xs font-medium text-yellow-700 dark:text-yellow-200",children:p.plan})})]},p.id??p.clientId)})})]})})(),o.jsx("div",{className:"flex justify-end mt-auto",children:o.jsx(Is,{to:"/admin/subscriptions",className:"w-full",children:o.jsxs(H,{variant:"secondary",className:"w-full justify-between group",children:[o.jsx("span",{children:"Ver Suscripciones"}),o.jsx("svg",{className:"w-4 h-4 text-gray-500 dark:text-gray-400 group-hover:translate-x-1 transition-transform",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M14 5l7 7m0 0l-7 7m7-7H3"})})]})})})]}),o.jsx(Q,{title:"Estadsticas Rpidas",className:"h-full hover:shadow-lg transition-all duration-200 bg-primary/5 dark:bg-slate-800/80 dark:border-primary/30 border-primary/20",children:n?o.jsx("div",{className:"flex justify-center p-4",children:o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"text-sm font-medium text-gray-600 dark:text-gray-300",children:"Clientes Totales"}),o.jsx("span",{className:"text-xl font-bold text-gray-900 dark:text-white",children:e.clients})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"text-sm font-medium text-gray-600 dark:text-gray-300",children:"Suscripciones"}),o.jsx("span",{className:"text-xl font-bold text-gray-900 dark:text-white",children:e.subscriptions})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"text-sm font-medium text-gray-600 dark:text-gray-300",children:"Ingresos Mensuales"}),o.jsx("span",{className:"text-xl font-bold text-emerald-600 dark:text-emerald-400",children:c(e.revenue)})]}),o.jsxs("div",{className:"flex items-center justify-between border-t border-primary/10 dark:border-primary/20 pt-3 mt-2",children:[o.jsx("span",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Mensajes sin leer"}),o.jsx("span",{className:`text-sm font-bold px-2 py-0.5 rounded-full ${e.unread>0?"bg-red-100 dark:bg-red-900/30 text-red-700 dark:text-red-300 border border-red-200 dark:border-red-800":"bg-gray-100 dark:bg-slate-700 text-gray-500 dark:text-gray-400 border border-gray-200 dark:border-slate-600"}`,children:e.unread})]})]})}),o.jsxs(Q,{title:"Gestin de Clientes",className:"h-full hover:shadow-lg transition-all duration-200",children:[o.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6 text-sm",children:"Administra la base de datos de usuarios, sus datos de contacto y estado."}),o.jsx("div",{className:"flex justify-end mt-auto",children:o.jsx(Is,{to:"/admin/clients",className:"w-full",children:o.jsxs(H,{className:"w-full justify-between group",children:[o.jsx("span",{children:"Ver Clientes"}),o.jsx("svg",{className:"w-4 h-4 group-hover:translate-x-1 transition-transform",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M14 5l7 7m0 0l-7 7m7-7H3"})})]})})})]})]})]})}const ee=un.forwardRef(({label:e,id:t,className:n,error:r,helpText:s,endContent:i,...a},l)=>{const c=t||a.name||void 0;return o.jsxs("div",{className:Oe("flex flex-col"),children:[e&&o.jsx("label",{htmlFor:c,className:"mb-1 text-sm font-medium text-gray-700 dark:text-gray-300",children:e}),o.jsxs("div",{className:"relative",children:[o.jsx("input",{id:c,ref:l,className:Oe("flex h-11 w-full rounded-lg border border-gray-300 dark:border-slate-600 bg-white dark:bg-slate-900 px-3 py-2 text-sm placeholder:text-gray-400 dark:placeholder:text-gray-500 dark:text-white focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent disabled:cursor-not-allowed disabled:opacity-50 transition-shadow",r?"border-red-500 focus:ring-red-500":"",i?"pr-10":"",n),"aria-invalid":!!r,"aria-describedby":r?`${c}-error`:s?`${c}-help`:void 0,...a}),i&&o.jsx("div",{className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-500",children:i})]}),s&&!r&&o.jsx("p",{id:`${c}-help`,className:"mt-1 text-xs text-gray-500",children:s}),r&&o.jsx("p",{id:`${c}-error`,className:"mt-1 text-sm text-rose-600",children:r})]})});ee.displayName="Input";function s_(){const[e,t]=w.useState([]),[n,r]=w.useState(!0),[s,i]=w.useState(!1),[a,l]=w.useState(!1),[c,u]=w.useState({name:"",email:"",phone:"",address:"",password:""});w.useEffect(()=>{let h=!0;return r(!0),(async()=>{var x;try{const g=await Rn.list();if(!h)return;const v=Array.isArray(g.data)?g.data:((x=g.data)==null?void 0:x.data)||[],m=await Promise.all(v.map(async f=>{var y,b;if(!f.uid)return f;try{const S=await gt.getUser(f.uid),N=((y=S.data)==null?void 0:y.data)||S.data,_=(N==null?void 0:N.email)||((b=N==null?void 0:N.user)==null?void 0:b.email);return{...f,email:_}}catch{return f}}));h&&t(m)}catch(g){console.error(g)}finally{h&&r(!1)}})(),()=>{h=!1}},[]);async function d(h){var k,x,g,v,m;h.preventDefault(),i(!0);try{if(!c.email||!c.password)throw new Error("Email y password son requeridos para crear el auth user");console.log("Creating auth user...");const f=await gt.create({email:c.email,password:c.password,displayName:c.name,role:"client"}),y=((k=f.data)==null?void 0:k.data)||f.data,b=(y==null?void 0:y.uid)||((x=y==null?void 0:y.user)==null?void 0:x.uid);if(!b)throw console.error("No uid found in:",y),new Error("No uid retornado al crear usuario de auth");const S={uid:b,name:c.name,phone:c.phone||"",address:c.address||""},N=await Rn.create(S),j={...((g=N.data)==null?void 0:g.data)||N.data,email:c.email};t(R=>[j,...R]),u({name:"",email:"",phone:"",address:"",password:""}),l(!1)}catch(f){console.error(f);const b=((m=(v=f.response)==null?void 0:v.data)==null?void 0:m.message)||(f instanceof Error?f.message:"Error creando cliente");alert(`Error: ${b}`)}finally{i(!1)}}const p=async h=>{var k,x,g;if(!h){alert("ID del cliente no disponible");return}if(confirm("Eliminar este cliente? Esta accin es irreversible."))try{await Rn.delete(h),t(v=>v.filter(m=>m.id!==h&&m.uid!==h))}catch(v){console.error("Error deleting client:",v),((k=v.response)==null?void 0:k.status)===404?alert("Cliente no encontrado (404)."):alert("Error eliminando cliente: "+(((g=(x=v.response)==null?void 0:x.data)==null?void 0:g.message)||v.message||"Desconocido"))}};return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white tracking-tight",children:"Gestin de Clientes"}),o.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Administra los usuarios y sus credenciales de acceso"})]}),o.jsxs(H,{onClick:()=>l(!a),className:"flex items-center gap-2",variant:a?"outline":"primary",children:[a?o.jsx(y0,{size:18}):o.jsx(_a,{size:18}),a?"Cancelar":"Nuevo Cliente"]})]}),a&&o.jsxs("div",{className:"bg-white dark:bg-slate-800 border border-gray-200 dark:border-slate-700 rounded-xl shadow-sm overflow-hidden transition-all duration-300 ease-in-out",children:[o.jsxs("div",{className:"p-6 bg-gray-50 dark:bg-slate-900/50 border-b border-gray-100 dark:border-slate-700",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Registrar Nuevo Cliente"}),o.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:"Ingresa los datos para crear un nuevo perfil de cliente."})]}),o.jsx("div",{className:"p-6",children:o.jsxs("form",{onSubmit:d,className:"space-y-6",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsx(ee,{label:"Nombre Completo",value:c.name,onChange:h=>u(k=>({...k,name:h.target.value})),required:!0,placeholder:"Juan Prez",className:"md:col-span-2"}),o.jsx(ee,{label:"Email",type:"email",value:c.email,onChange:h=>u(k=>({...k,email:h.target.value})),required:!0,placeholder:"juan@ejemplo.com"}),o.jsx(ee,{label:"Contrasea",type:"password",value:c.password,onChange:h=>u(k=>({...k,password:h.target.value})),required:!0,placeholder:""}),o.jsx(ee,{label:"Telfono",type:"tel",value:c.phone,onChange:h=>u(k=>({...k,phone:h.target.value})),placeholder:"+56 9 1234 5678"}),o.jsx(ee,{label:"Direccin",value:c.address,onChange:h=>u(k=>({...k,address:h.target.value})),placeholder:"Av. Siempre Viva 123"})]}),o.jsxs("div",{className:"flex justify-end gap-3 pt-2",children:[o.jsx(H,{type:"button",variant:"outline",onClick:()=>l(!1),disabled:s,children:"Cancelar"}),o.jsx(H,{type:"submit",disabled:s,className:"min-w-30",children:s?"Guardando...":"Crear Cliente"})]})]})})]}),o.jsx(Q,{title:`Lista de Clientes (${e.length})`,className:"h-full",children:n?o.jsx("div",{className:"flex justify-center p-8",children:o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):e.length===0?o.jsxs("div",{className:"text-center p-12",children:[o.jsx("div",{className:"bg-gray-100 dark:bg-slate-700/50 rounded-full h-16 w-16 flex items-center justify-center mx-auto mb-4",children:o.jsx(_a,{size:32,className:"text-gray-400 dark:text-gray-500"})}),o.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"No hay clientes registrados"}),o.jsx("p",{className:"text-gray-500 dark:text-gray-400 mb-6",children:"Comienza agregando tu primer cliente."}),o.jsx(H,{onClick:()=>l(!0),children:"Crear primer cliente"})]}):o.jsxs("div",{className:"overflow-x-auto -mx-4 sm:mx-0",children:[o.jsx("div",{className:"sm:hidden space-y-4 px-4 pb-4",children:e.map(h=>o.jsxs("div",{className:"bg-white dark:bg-slate-800 border border-gray-200 dark:border-slate-700 rounded-lg p-4 shadow-sm space-y-3",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"h-10 w-10 rounded-full bg-white dark:bg-slate-700 text-white border border-gray-200 dark:border-slate-700 flex items-center justify-center font-bold text-sm shadow-sm shrink-0",children:h.name.charAt(0).toUpperCase()}),o.jsxs("div",{children:[o.jsx("div",{className:"text-sm font-semibold text-gray-900 dark:text-white",children:h.name}),o.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:h.email||"Sin email"})]})]}),o.jsx(Is,{to:`/admin/client/${h.id}`,className:"text-primary hover:bg-primary/5 dark:hover:bg-primary/20 p-2 rounded-full transition-colors",children:o.jsx(MN,{size:20,className:"-rotate-90"})})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs text-gray-600 dark:text-gray-300 pt-2 border-t border-gray-50 dark:border-slate-700/50",children:[o.jsxs("div",{children:[o.jsx("span",{className:"block text-gray-400 dark:text-gray-500 text-[10px] uppercase font-semibold",children:"Telfono"}),h.phone||"-"]}),o.jsxs("div",{children:[o.jsx("span",{className:"block text-gray-400 dark:text-gray-500 text-[10px] uppercase font-semibold",children:"Direccin"}),o.jsx("span",{className:"truncate block",children:h.address||"-"})]})]}),o.jsx("div",{className:"flex justify-end gap-2 pt-2",children:o.jsx(H,{variant:"destructive",onClick:()=>p(h.uid||h.id),children:"Eliminar"})})]},h.uid||h.id))}),o.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-slate-700 hidden sm:table",children:[o.jsx("thead",{className:"bg-gray-50/50 dark:bg-slate-900/50",children:o.jsxs("tr",{children:[o.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Cliente"}),o.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Contacto"}),o.jsx("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Acciones"})]})}),o.jsx("tbody",{className:"bg-white dark:bg-slate-800 divide-y divide-gray-200 dark:divide-slate-700",children:e.map(h=>o.jsxs("tr",{className:"hover:bg-gray-50/50 dark:hover:bg-slate-700/50 transition-colors",children:[o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsxs("div",{className:"flex items-center",children:[o.jsx("div",{className:"h-10 w-10 rounded-full bg-white dark:bg-slate-800 text-primary border border-gray-200 dark:border-slate-700 flex items-center justify-center font-bold text-sm shadow-sm ring-2 ring-white dark:ring-slate-800",children:h.name.charAt(0).toUpperCase()}),o.jsxs("div",{className:"ml-4",children:[o.jsx("div",{className:"text-sm font-semibold text-gray-900 dark:text-white",children:h.name}),o.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:h.address||"Sin direccin"})]})]})}),o.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[o.jsxs("div",{className:"text-sm text-gray-900 dark:text-gray-300 flex items-center gap-2",children:[o.jsx("span",{className:"bg-blue-50 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300 px-2 py-0.5 rounded text-xs font-medium",children:"Email"}),h.email]}),o.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1 flex items-center gap-2",children:h.phone?o.jsxs(o.Fragment,{children:[o.jsx("span",{className:"bg-green-50 dark:bg-green-900/30 text-green-700 dark:text-green-400 px-2 py-0.5 rounded text-xs font-medium",children:"Tel"}),h.phone]}):"Sin telfono"})]}),o.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:[o.jsx(Is,{to:`/admin/client/${h.id}`,className:"inline-flex items-center justify-center text-primary dark:text-white hover:text-primary-700 dark:hover:text-primary font-medium text-sm bg-primary/10 dark:bg-primary/50 hover:bg-primary/20 dark:hover:bg-secondary px-4 py-2 rounded-lg transition-colors",children:"Ver detalles"}),o.jsx("button",{onClick:()=>p(h.uid||h.id),className:"ml-2 inline-flex items-center justify-center text-red-600 bg-red-50 hover:bg-red-100 dark:bg-red-900/20 dark:text-red-400 px-3 py-2 rounded-lg text-sm",children:"Eliminar"})]})]},h.uid||h.id))})]})]})})]})}function i_({form:e,setForm:t,clients:n,onCancel:r,onSubmit:s,creating:i,editingId:a}){return o.jsxs("div",{className:"bg-white dark:bg-slate-800 border border-gray-200 dark:border-slate-700 rounded-xl shadow-sm overflow-hidden transition-all duration-300 ease-in-out",children:[o.jsxs("div",{className:"p-6 bg-gray-50 dark:bg-slate-900/50 border-b border-gray-100 dark:border-slate-700",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:a?"Editar Suscripcin":"Registrar Nueva Suscripcin"}),o.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:"Configura los detalles del plan para el cliente seleccionado."})]}),o.jsx("div",{className:"p-6",children:o.jsxs("form",{onSubmit:s,className:"space-y-6",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsxs("div",{className:"md:col-span-2",children:[o.jsx("label",{className:"mb-1 text-sm font-medium text-gray-700 dark:text-gray-300 block",children:"Cliente"}),o.jsxs("select",{className:"flex h-11 w-full rounded-lg border border-gray-300 dark:border-slate-600 bg-white dark:bg-slate-900 text-gray-900 dark:text-white px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent transition-shadow",value:e.clientId,onChange:l=>t({...e,clientId:l.target.value}),required:!0,disabled:!!a,children:[o.jsx("option",{value:"",children:"Selecciona un cliente"}),n.map(l=>{const c=l.uid||l.id||"",u=l.name||l.email||c;return o.jsxs("option",{value:c,children:[u," ",l.email?`(${l.email})`:""]},c)})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"mb-1 text-sm font-medium text-gray-700 dark:text-gray-300 block",children:"Plan"}),o.jsxs("select",{className:"flex h-11 w-full rounded-lg border border-gray-300 dark:border-slate-600 bg-white dark:bg-slate-900 text-gray-900 dark:text-white px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent transition-shadow",value:e.plan,onChange:l=>t({...e,plan:l.target.value}),required:!0,children:[o.jsx("option",{value:"",children:"Selecciona un plan"}),o.jsx("option",{value:"Itinerante Ilimitado",children:"Itinerante Ilimitado"}),o.jsx("option",{value:"Itinerante Limitado",children:"Itinerante Limitado"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"mb-1 text-sm font-medium text-gray-700 dark:text-gray-300 block",children:"Pas"}),o.jsxs("select",{className:"flex h-11 w-full rounded-lg border border-gray-300 dark:border-slate-600 bg-white dark:bg-slate-900 text-gray-900 dark:text-white px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent transition-shadow",value:e.country||"",onChange:l=>t({...e,country:l.target.value}),required:!0,children:[o.jsx("option",{value:"",children:"Selecciona pas"}),o.jsx("option",{value:"BR",children:"Brasil"}),o.jsx("option",{value:"VES",children:"Venezuela"}),o.jsx("option",{value:"COL",children:"Colombia"}),o.jsx("option",{value:"AR",children:"Argentina"})]})]}),o.jsx(ee,{label:"Contrasea del Servicio",value:e.passwordSub||"",onChange:l=>t({...e,passwordSub:l.target.value}),placeholder:"Contrasea del servicio",required:!a}),o.jsx(ee,{label:"Monto ($)",value:e.amount,onChange:l=>t({...e,amount:l.target.value}),placeholder:"$50.000",required:!0}),o.jsx(ee,{label:"Fecha de Inicio",type:"date",value:e.startDate,onChange:l=>t({...e,startDate:l.target.value}),required:!0}),o.jsx(ee,{label:"Fecha de Corte",type:"date",value:e.cutDate,onChange:l=>t({...e,cutDate:l.target.value}),required:!0})]}),o.jsxs("div",{className:"flex justify-end gap-3 pt-2",children:[o.jsx(H,{type:"button",variant:"outline",onClick:r,disabled:i,children:"Cancelar"}),o.jsx(H,{type:"submit",disabled:i,className:"min-w-30",children:i?"Procesando...":a?"Actualizar":"Crear Suscripcin"})]})]})})]})}function a_({sub:e,client:t,onEdit:n,onDelete:r,onCopy:s,copiedValue:i,PLAN_LABELS:a}){var l;return o.jsx("div",{className:"group bg-white dark:bg-slate-800 border border-gray-200 dark:border-slate-700 rounded-2xl p-4 hover:shadow-xl hover:border-secondary/20 transition-all duration-300",children:o.jsxs("div",{className:"flex flex-col lg:flex-row gap-5 lg:items-center",children:[o.jsxs("div",{className:"flex items-center gap-4 min-w-55",children:[o.jsxs("div",{className:"relative shrink-0",children:[o.jsx("div",{className:"w-12 h-12 rounded-full bg-slate-100 dark:bg-slate-700 flex items-center justify-center text-secondary font-bold text-lg border border-slate-200 dark:border-slate-600",children:((l=t==null?void 0:t.name)==null?void 0:l.charAt(0))||"U"}),o.jsx("span",{className:"absolute -bottom-1 -right-1 px-1.5 py-0.5 rounded-md bg-secondary text-[10px] font-bold text-white uppercase shadow-sm",children:e.country||""})]}),o.jsxs("div",{className:"flex flex-col min-w-0",children:[o.jsx("h3",{className:"font-bold text-gray-900 dark:text-white truncate",children:(t==null?void 0:t.name)||"Cliente desconocido"}),o.jsx("span",{className:"text-xs font-semibold text-secondary uppercase tracking-wider",children:a[e.plan]||e.plan})]})]}),o.jsxs("div",{className:"flex-1 grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[e.clientEmail&&o.jsxs("div",{className:"flex items-center justify-between bg-slate-50 dark:bg-slate-900/40 px-3 py-2 rounded-xl border border-gray-100 dark:border-slate-700 group/copy",children:[o.jsx("span",{className:"text-xs text-gray-500 dark:text-slate-400 truncate mr-2",children:e.clientEmail}),o.jsx("button",{onClick:()=>s(e.clientEmail),className:"text-gray-400 hover:text-secondary transition-all active:scale-90",children:i===e.clientEmail?o.jsx(kt,{size:14,className:"text-green-500"}):o.jsx(Ef,{size:14})})]}),e.passwordSub&&o.jsxs("div",{className:"flex items-center justify-between bg-slate-50 dark:bg-slate-900/40 px-3 py-2 rounded-xl border border-gray-100 dark:border-slate-700",children:[o.jsx("span",{className:"text-xs font-mono text-gray-400 tracking-widest",children:""}),o.jsx("button",{onClick:()=>s(e.passwordSub),className:"text-gray-400 hover:text-secondary transition-all active:scale-90",children:i===e.passwordSub?o.jsx(kt,{size:14,className:"text-green-500"}):o.jsx(Ef,{size:14})})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-2 p-2 bg-slate-50/50 dark:bg-slate-900/20 rounded-2xl border border-dashed border-gray-200 dark:border-slate-700",children:[o.jsxs("div",{className:"flex flex-col items-center justify-center border-r border-gray-200 dark:border-slate-700",children:[o.jsx("span",{className:"text-[10px] uppercase text-gray-400 font-bold mb-1",children:"Monto"}),o.jsx("span",{className:"text-sm font-bold text-gray-700 dark:text-gray-200",children:e.amount})]}),o.jsxs("div",{className:"flex flex-col items-center justify-center",children:[o.jsx("span",{className:"text-[10px] uppercase text-red-400 font-bold mb-1",children:"Corte"}),o.jsx("span",{className:"text-sm font-black text-red-600 dark:text-red-400",children:e.cutDate})]})]})]}),o.jsxs("div",{className:"flex lg:flex-col gap-2 pt-2 lg:pt-0 border-t lg:border-t-0 border-gray-100 dark:border-slate-700 justify-end",children:[o.jsx("button",{onClick:()=>n(e),className:"flex-1 lg:flex-none p-2.5 flex items-center justify-center rounded-xl bg-slate-100 dark:bg-slate-700/50 text-slate-500 hover:bg-secondary hover:text-white transition-all shadow-sm",children:o.jsx(x2,{size:18})}),o.jsx("button",{onClick:()=>r(e.id??e.clientId),className:"flex-1 lg:flex-none p-2.5 flex items-center justify-center rounded-xl bg-red-50 dark:bg-red-950/30 text-red-500 hover:bg-red-500 hover:text-white transition-all shadow-sm",children:o.jsx($2,{size:18})})]})]})})}function o_(){const[e,t]=w.useState([]),[n,r]=w.useState(!0),[s,i]=w.useState(!1),[a,l]=w.useState(!1),[c,u]=w.useState(null),[d,p]=w.useState({clientId:"",startDate:"",cutDate:"",amount:"",plan:"",passwordSub:""}),[h,k]=w.useState([]),[x,g]=w.useState(null),v={"Itinerante Ilimitado":"Itinerante Ilimitado","Itinerante Limitado":"Itinerante Limitado","starlink-basic":"Itinerante Ilimitado","starlink-limited":"Itinerante Limitado"},m=new Date().toISOString().slice(0,10);w.useEffect(()=>{p(_=>({..._,startDate:_.startDate||m,cutDate:_.cutDate||m}))},[]),w.useEffect(()=>{let _=!0;return r(!0),(async()=>{var R;try{const D=await Xr.list();if(!_)return;const J=Array.isArray(D.data)?D.data:((R=D.data)==null?void 0:R.data)||[],K=await Promise.all(J.map(async ne=>{var $,M;const T=ne.clientId;if(!T)return ne;try{const q=await gt.getUser(T),C=(($=q.data)==null?void 0:$.data)||((M=q.data)==null?void 0:M.user)||q.data;return{...ne,clientEmail:C==null?void 0:C.email}}catch{return ne}}));_&&t(K)}catch(D){console.error(D)}finally{_&&r(!1)}})(),()=>{_=!1}},[]),w.useEffect(()=>{let _=!0;return(async()=>{var R;try{const D=await Rn.list();if(!_)return;const J=Array.isArray(D.data)?D.data:((R=D.data)==null?void 0:R.data)||[];k(J)}catch{}})(),()=>{_=!1}},[]);function f(_){l(!0),u(_.id??null),p({clientId:_.clientId,plan:_.plan,amount:_.amount,startDate:_.startDate,cutDate:_.cutDate,country:_.country||"",passwordSub:_.passwordSub||""})}function y(){l(!1),u(null),p({clientId:"",startDate:m,cutDate:m,amount:"",plan:"",passwordSub:""})}async function b(_){var j,R,D,J,K,ne,T;_.preventDefault(),i(!0);try{if(!d.clientId)throw new Error("Cliente es requerido");if(!d.plan)throw new Error("Plan es requerido");if(!d.startDate)throw new Error("Fecha de inicio es requerida");if(!d.cutDate)throw new Error("Fecha de corte es requerida");if(!d.amount)throw new Error("Monto es requerido");if(!c&&!d.passwordSub)throw new Error("Contrasea del servicio es requerida");const $=C=>{if(!C)return;if(/^\d{4}-\d{2}-\d{2}$/.test(C))return C;const A=new Date(C);return isNaN(A)?C:A.toISOString().slice(0,10)},M=C=>{if(!C)return"";const A=C.trim();return/^\$/.test(A)?A:`$${A}`},q={plan:d.plan||"",startDate:$(d.startDate)??d.startDate??"",cutDate:$(d.cutDate)??d.cutDate??"",amount:M(d.amount),country:d.country||""};if(d.passwordSub&&(q.passwordSub=d.passwordSub),c){const C=await Xr.update(c,q);t(A=>A.map(P=>P.id===c?{...P,...q,id:c}:P)),y()}else{const C={...q,clientId:d.clientId},A=await Xr.create(C);let P=((j=A.data)==null?void 0:j.data)||A.data;if(P!=null&&P.clientId)try{const L=await gt.getUser(P.clientId),B=((R=L.data)==null?void 0:R.data)||((D=L.data)==null?void 0:D.user)||L.data;P={...P,clientEmail:(B==null?void 0:B.email)??void 0}}catch{}t(L=>[P,...L]),p({clientId:"",startDate:m,cutDate:m,amount:"",plan:"",passwordSub:""}),l(!1)}}catch($){const q=((K=(J=$==null?void 0:$.response)==null?void 0:J.data)==null?void 0:K.message)||((T=(ne=$==null?void 0:$.response)==null?void 0:ne.data)==null?void 0:T.error)||($ instanceof Error?$.message:"Error procesando solicitud");alert(q)}finally{i(!1)}}const S=async _=>{var j,R,D,J;if(confirm("Ests seguro de que deseas eliminar esta suscripcin permanentemente?"))try{await Xr.delete(_),t(K=>K.filter(ne=>ne.id!==_))}catch(K){const T=((R=(j=K==null?void 0:K.response)==null?void 0:j.data)==null?void 0:R.message)||((J=(D=K==null?void 0:K.response)==null?void 0:D.data)==null?void 0:J.error)||(K instanceof Error?K.message:"Error eliminando suscripcin");alert(T)}},N=_=>{_&&(navigator.clipboard.writeText(_),g(_),setTimeout(()=>g(null),2e3))};return o.jsxs("div",{className:"space-y-6",children:[x&&o.jsxs("div",{className:"fixed bottom-4 right-4 bg-gray-900 text-white dark:bg-white dark:text-gray-900 px-4 py-2 rounded-lg shadow-lg flex items-center gap-2 text-sm font-medium z-50 animate-in fade-in slide-in-from-bottom-2 duration-200",children:[o.jsx(kt,{size:16,className:"text-green-500"}),"Copiado al portapapeles"]}),o.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white tracking-tight",children:"Suscripciones"}),o.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Gestiona los planes y cobros de los clientes"})]}),o.jsxs(H,{onClick:()=>{a&&c?y():l(!a)},className:"flex items-center gap-2",variant:a?"outline":"primary",children:[a?o.jsx(y0,{size:18}):o.jsx(N2,{size:18}),a?c?"Cancelar Edicin":"Cancelar":"Nueva Suscripcin"]})]}),a&&o.jsx(i_,{form:d,setForm:p,clients:h,onCancel:y,onSubmit:b,creating:s,editingId:c}),o.jsx(Q,{title:`Historial de Suscripciones (${e.length})`,className:"h-full",children:n?o.jsx("div",{className:"flex justify-center p-8",children:o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):e.length===0?o.jsxs("div",{className:"text-center p-12",children:[o.jsx("div",{className:"bg-gray-100 dark:bg-slate-700/50 rounded-full h-16 w-16 flex items-center justify-center mx-auto mb-4",children:o.jsx(cn,{size:32,className:"text-gray-400 dark:text-gray-500"})}),o.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"No hay suscripciones activas"}),o.jsx("p",{className:"text-gray-500 dark:text-gray-400 mb-6",children:"Crea una nueva suscripcin para comenzar."}),o.jsx(H,{onClick:()=>l(!0),children:"Crear primera suscripcin"})]}):o.jsx("div",{className:"flex flex-col gap-4",children:e.map(_=>{const j=h.find(R=>R.uid===_.clientId||R.id===_.clientId);return o.jsx(a_,{sub:_,client:j,onEdit:()=>f(_),onDelete:S,onCopy:N,copiedValue:x??"",PLAN_LABELS:v},_.id??_.clientId)})})})]})}function l_(){const{uid:e}=Cx(),t=$s(),[n,r]=w.useState(!0),[s,i]=w.useState(!1),[a,l]=w.useState(null),[c,u]=w.useState(""),[d,p]=w.useState({name:"",phone:"",address:""}),[h,k]=w.useState(null);w.useEffect(()=>{if(!e)return;r(!0),(async()=>{var v,m;try{const y=(await Rn.get(e)).data,b=y.data||y;!b||b.name;const S=b;if(l(S),p({name:S.name||"",phone:S.phone||"",address:S.address||""}),S.uid)try{const N=await gt.getUser(S.uid),_=((v=N.data)==null?void 0:v.data)||((m=N.data)==null?void 0:m.user)||N.data;u((_==null?void 0:_.email)||"")}catch{}}catch(f){console.error(f),k("Error cargando cliente")}finally{r(!1)}})()},[e]);const x=async g=>{var v,m,f,y;if(g.preventDefault(),!!e){i(!0),k(null);try{await Rn.update(e,d),alert("Cliente actualizado correctamente"),t("/admin/clients")}catch(b){console.error(b);const N=((m=(v=b.response)==null?void 0:v.data)==null?void 0:m.message)||((y=(f=b.response)==null?void 0:f.data)==null?void 0:y.error)||(b instanceof Error?b.message:"Error actualizando cliente");k(N)}finally{i(!1)}}};return n?o.jsx("div",{className:"p-8 text-center text-gray-500",children:"Cargando datos..."}):o.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-900 tracking-tight",children:"Editar Cliente"}),o.jsx("p",{className:"text-sm text-gray-500",children:"Actualiza la informacin de contacto"})]}),o.jsx(H,{variant:"ghost",onClick:()=>t("/admin/clients"),children:" Volver"})]}),o.jsxs(Q,{title:`Editar: ${(a==null?void 0:a.name)||e}`,children:[h&&o.jsx("div",{className:"mb-4 p-3 bg-red-50 text-red-700 rounded-lg text-sm border border-red-100",children:h}),o.jsxs("form",{onSubmit:x,className:"space-y-6",children:[o.jsx(ee,{label:"ID Cliente",value:e||"",disabled:!0,className:"bg-gray-50 text-gray-500"}),o.jsx(ee,{label:"Email (Asociado)",value:c||"No disponible",disabled:!0,className:"bg-gray-50 text-gray-500"}),o.jsx(ee,{label:"Nombre Completo",value:d.name,onChange:g=>p({...d,name:g.target.value}),placeholder:"Ej: Juan Prez",required:!0}),o.jsx(ee,{label:"Telfono",value:d.phone,onChange:g=>p({...d,phone:g.target.value}),placeholder:"+56 9 1234 5678"}),o.jsx(ee,{label:"Direccin",value:d.address,onChange:g=>p({...d,address:g.target.value}),placeholder:"Calle Falsa 123"}),o.jsxs("div",{className:"pt-4 flex justify-end gap-3",children:[o.jsx(H,{type:"button",variant:"secondary",onClick:()=>t("/admin/clients"),children:"Cancelar"}),o.jsx(H,{type:"submit",disabled:s,children:s?"Guardando...":"Guardar Cambios"})]})]})]})]})}const c_=e=>e?typeof e=="string"?new Date(e).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):u_(e)?new Date(e._seconds*1e3).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):"":"";function u_(e){return e&&typeof e._seconds=="number"}function d_({conversation:e,selected:t,onClick:n}){return o.jsxs("button",{onClick:n,className:`
        group w-full text-left p-4 rounded-xl border flex items-center gap-4 transition-all duration-200 cursor-pointer shadow-sm

        ${t?"bg-primary/10 dark:bg-primary/20 border-primary/30 shadow-sm":"bg-slate-100 dark:bg-slate-800 border-transparent hover:bg-slate-50 dark:hover:bg-slate-700 hover:border-slate-200 dark:hover:border-slate-600"}
      `,children:[o.jsx("div",{className:`
          h-11 w-11 rounded-full flex items-center justify-center font-semibold text-sm ring-2 shadow-sm shrink-0 transition-colors

          ${t?"bg-primary/20 text-primary/foreground ring-primary/20":"bg-primary/20 dark:bg-primary/30 text-slate-700 dark:text-slate-200 ring-primary dark:ring-slate-700 group-hover:bg-primary/30 group-hover:text-primary"}
        `,children:(e.name||e.phone||"?").charAt(0).toUpperCase()}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsxs("div",{className:"flex justify-between items-center mb-1",children:[o.jsxs("div",{className:"flex items-center gap-2 overflow-hidden pr-2",children:[o.jsx("span",{className:`
                font-semibold text-sm truncate transition-colors
                ${t?"text-primary":"text-slate-900 dark:text-slate-100 group-hover:text-primary"}
              `,children:e.name||e.phone||"Usuario Desconocido"}),e.prospect&&o.jsx("span",{className:"text-[10px] uppercase font-bold text-amber-600 bg-amber-100 dark:bg-amber-900/30 dark:text-amber-400 px-1.5 py-0.5 rounded-full shrink-0",children:"Prospecto"})]}),e.lastMessageAt&&o.jsx("span",{className:`
                text-[10px] font-medium shrink-0 transition-colors
                ${t?"text-primary":"text-slate-400 dark:text-slate-500 group-hover:text-slate-600 dark:group-hover:text-slate-300"}
              `,children:c_(e.lastMessageAt)})]}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("p",{className:`
              text-xs truncate max-w-[85%] font-medium transition-colors
              ${t?"text-slate-900 dark:text-slate-100":"text-slate-500 dark:text-slate-400 group-hover:text-slate-700 dark:group-hover:text-slate-200"}
            `,children:[e.lastMessageDir==="outbound"&&o.jsx("span",{className:"font-bold mr-1 opacity-70",children:"T:"}),e.lastMessageBody||"Sin mensajes"]}),!!e.unreadCount&&o.jsx("span",{className:`\r
              min-w-5 h-5 px-1 ml-2 flex items-center justify-center rounded-full\r
              bg-primary text-white text-[10px] font-bold shadow-sm border border-white dark:border-slate-800\r
            `,children:e.unreadCount})]})]})]})}const f_=e=>e?typeof e=="string"?new Date(e).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):e._seconds?new Date(e._seconds*1e3).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):"":"";function h_(){const[e,t]=w.useState([]),[n,r]=w.useState(!1),[s,i]=w.useState(null),[a,l]=w.useState([]),[c,u]=w.useState(!1),[d,p]=w.useState(""),[h,k]=w.useState(!1),[x,g]=w.useState(!0),[v,m]=w.useState(!1),[f,y]=w.useState(""),b=w.useRef(null),S=w.useRef(null);w.useRef(null);const N=async(T=!1)=>{var $;T||r(!0);try{const M=await bn.listConversations(),q=Array.isArray(M.data)?M.data:(($=M.data)==null?void 0:$.data)||[];t(C=>JSON.stringify(C)!==JSON.stringify(q)?q:C)}catch(M){console.error(M)}finally{T||r(!1)}};w.useEffect(()=>{N();const T=setInterval(()=>{N(!0)},15e3);return()=>clearInterval(T)},[]);const _=T=>T?T.phone||T.id||T.clientId||T.uid:null,j=async(T=!1)=>{const $=_(s);if(!$){console.warn("No identifier found for conversation",s);return}let M=!0;T?M=!0:(u(!0),g(!0));try{const q=await bn.getMessages($,{limit:50,orderBy:"createdAt desc",sort:"desc"});if(!M)return;const C=q.data;let A=[];Array.isArray(C)?A=C:C&&Array.isArray(C.data)?A=C.data:console.warn("Estructura de mensajes inesperada:",C);const P=A;T||(P.length===0?console.log("No se encontraron mensajes para",$):P[0].id||console.warn("Mensajes recibidos sin ID, pueden fallar en renderizado:",P[0])),!T&&P.length<50&&g(!1),P.sort((L,B)=>{const Pe=X=>X?typeof X=="string"?new Date(X).getTime():X._seconds?X._seconds*1e3:0:0;return Pe(L.createdAt||L.timestamp)-Pe(B.createdAt||B.timestamp)}),T?l(L=>{var hu,pu;const B=P[P.length-1],Pe=L[L.length-1],X=L.filter(Ae=>Ae.id&&Ae.id.startsWith("opt_")),nt=B?(Ae=>Ae?typeof Ae=="string"?new Date(Ae).getTime():Ae._seconds?Ae._seconds*1e3:0:0)(B.createdAt||B.timestamp):0,Ge=X.filter(Ae=>!P.find(Dr=>{const xn=Dr.body===Ae.body,b0=Dr.direction===Ae.direction;return xn&&b0})),Hn=[...P,...Ge];return Hn.sort((Ae,Za)=>{const Dr=xn=>xn?typeof xn=="string"?new Date(xn).getTime():xn._seconds?xn._seconds*1e3:0:0;return Dr(Ae.createdAt||Ae.timestamp)-Dr(Za.createdAt||Za.timestamp)}),Hn.length!==L.length||((hu=Hn[Hn.length-1])==null?void 0:hu.id)!==((pu=L[L.length-1])==null?void 0:pu.id)?(Hn.length>L.length&&setTimeout(R,50),Hn):L}):(l(P),R())}catch(q){T||console.error("Error fetching messages:",q)}finally{M&&!T&&u(!1)}};w.useEffect(()=>{if(l([]),g(!0),!_(s))return;j(!1);const $=setInterval(()=>{N(!0)},15e3);return()=>clearInterval($)},[s]);const R=()=>{setTimeout(()=>{S.current&&(S.current.scrollTop=S.current.scrollHeight)},100)},D=T=>{if(i(T),T.unreadCount&&T.unreadCount>0){t(M=>M.map(q=>q.id===T.id?{...q,unreadCount:0}:q));const $=T.id||T.phone;$&&bn.markAsRead($).catch(M=>{console.error("Error marking as read:",M)})}},J=async T=>{const{scrollTop:$,scrollHeight:M,clientHeight:q}=T.currentTarget;if($===0&&!v&&x&&a.length>0){m(!0);const C=a[0],A=_(s);if(!A)return;try{const L=(await bn.getMessages(A,{limit:50,startAfter:C.id,orderBy:"createdAt desc",sort:"desc"})).data,B=Array.isArray(L)?L:Array.isArray(L==null?void 0:L.data)?L.data:[];if(B.length<50&&g(!1),B.length===0){m(!1);return}B.sort((X,ft)=>{const nt=Ge=>Ge?typeof Ge=="string"?new Date(Ge).getTime():Ge._seconds?Ge._seconds*1e3:0:0;return nt(X.createdAt||X.timestamp)-nt(ft.createdAt||ft.timestamp)});const Pe=M;l(X=>[...B,...X]),requestAnimationFrame(()=>{if(S.current){const X=S.current.scrollHeight;S.current.scrollTop=X-Pe}})}catch(P){console.error("Error fetching more messages:",P)}finally{m(!1)}}},K=T=>{J(T)},ne=async T=>{var M,q;T.preventDefault();const $=_(s);if(!(!d.trim()||!$)){k(!0);try{await bn.send({clientId:$,body:d});const C=(s==null?void 0:s.id)||(s==null?void 0:s.phone);if(C){const A={id:"opt_"+Date.now(),body:d,from:"me",to:C,direction:"outbound",createdAt:new Date().toISOString()};l(P=>[...P,A]),t(P=>P.map(L=>(L.id||L.phone)===C?{...L,lastMessageBody:d,lastMessageDir:"outbound",lastMessageAt:new Date().toISOString()}:L))}p(""),R()}catch(C){console.error("Error details:",C),alert("Error enviando mensaje: "+(((q=(M=C.response)==null?void 0:M.data)==null?void 0:q.message)||C.message||"Desconocido"))}finally{k(!1)}}};return o.jsxs("div",{className:"h-[calc(100vh-140px)] flex flex-col gap-4 overflow-hidden",children:[o.jsx("div",{className:"flex justify-between items-center px-1 shrink-0",children:o.jsx("h2",{className:"text-2xl font-bold tracking-tight text-slate-900 dark:text-white",children:"Comunicacin"})}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 h-full min-h-0 overflow-hidden md:overflow-visible",children:[o.jsxs(Q,{className:`flex flex-col h-full overflow-hidden p-0 bg-white dark:bg-slate-800 ${s?"hidden md:flex":"flex"}`,children:[o.jsxs("div",{className:"p-4 border-b border-slate-100 dark:border-slate-700 space-y-3 bg-white dark:bg-slate-800",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("h3",{className:"font-bold text-lg text-slate-900 dark:text-white flex items-center gap-2",children:[o.jsx(fu,{className:"text-primary",size:20}),"Mensajes"]}),o.jsx("span",{className:"h-8 w-8 text-xs font-medium text-slate-500 dark:text-slate-400 bg-slate-100 dark:bg-slate-700 rounded-full flex items-center justify-center",children:e.length})]}),o.jsxs("div",{className:"relative",children:[o.jsx(A2,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400",size:16}),o.jsx("input",{type:"text",placeholder:"Buscar chat...",value:f,onChange:T=>y(T.target.value),className:"w-full pl-9 pr-4 py-2 bg-slate-50 dark:bg-slate-900 border-slate-200 dark:border-slate-600 border rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-primary/20 focus:border-primary transition-all placeholder:text-slate-400 dark:placeholder:text-slate-500 text-slate-900 dark:text-white"})]})]}),o.jsx("div",{className:"flex-1 overflow-y-auto min-h-0 p-2 bg-slate-50/50 dark:bg-slate-900/50",children:n?o.jsxs("div",{className:"flex flex-col items-center justify-center py-8 space-y-2 text-slate-400",children:[o.jsx(Er,{className:"animate-spin",size:20}),o.jsx("span",{className:"text-xs",children:"Cargando..."})]}):e.length===0?o.jsx("div",{className:"text-sm text-slate-500 py-8 text-center px-4",children:"No hay conversaciones activas."}):o.jsx("div",{className:"space-y-1",children:e.filter(T=>{var M,q,C;if(!f)return!0;const $=f.toLowerCase();return((M=T.name)==null?void 0:M.toLowerCase().includes($))||((q=T.phone)==null?void 0:q.includes($))||((C=T.lastMessageBody)==null?void 0:C.toLowerCase().includes($))}).map(T=>o.jsx(d_,{conversation:T,selected:(s==null?void 0:s.id)===T.id,onClick:()=>D(T)},T.id))})})]}),o.jsx(Q,{className:`md:col-span-2 h-full overflow-hidden relative flex flex-col bg-white dark:bg-slate-800 ${s?"flex":"hidden md:flex"}`,children:s?o.jsxs("div",{className:"flex flex-col h-full overflow-hidden",children:[o.jsx("div",{className:"p-4 border-b border-slate-100 dark:border-slate-700 bg-slate-50 dark:bg-slate-800 flex justify-between items-center shrink-0",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("button",{onClick:()=>i(null),className:"md:hidden p-2 -ml-2 text-slate-600 dark:text-slate-300 hover:bg-slate-200 dark:hover:bg-slate-700 rounded-full transition-colors",children:o.jsx(SN,{size:20})}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold text-slate-900 dark:text-white",children:s.name||s.phone}),o.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:s.phone})]})]})}),o.jsxs("div",{ref:S,onScroll:K,className:"flex-1 overflow-y-auto p-4 space-y-4 bg-slate-50/20 dark:bg-slate-900/20 min-h-0",children:[v&&o.jsx("div",{className:"flex justify-center py-2 text-xs text-slate-400",children:o.jsx("span",{className:"animate-pulse",children:"Cargando mensajes anteriores..."})}),c?o.jsx("div",{className:"flex justify-center py-8",children:o.jsx("span",{className:"animate-spin h-5 w-5 border-2 border-primary border-t-transparent rounded-full"})}):a.length===0?o.jsx("div",{className:"text-center text-slate-400 text-sm py-10",children:"No hay mensajes en esta conversacin"}):a.map((T,$)=>{let M=!1;return T.direction?M=T.direction==="outbound":(T.template||["sent","delivered","read","queued","failed"].includes(T.status||"")||T.from==="me"||T.to===s.phone)&&(M=!0),o.jsx("div",{className:`flex ${M?"justify-end":"justify-start"} animate-in fade-in slide-in-from-bottom-2 duration-300`,children:o.jsxs("div",{className:`
                                        max-w-[75%] rounded-2xl px-5 py-3 text-sm shadow-sm relative group
                                        ${M?"bg-primary text-white rounded-tr-sm":"bg-white dark:bg-slate-700 text-slate-900 dark:text-white border border-slate-200 dark:border-slate-600 rounded-tl-sm"}
                                    `,children:[T.template?o.jsx("div",{className:`text-xs mb-1.5 font-medium flex items-center gap-1 ${M?"opacity-90 text-primary-100":"text-primary"}`,children:o.jsx("span",{className:"uppercase tracking-wider text-[10px]",children:"Plantilla"})}):null,o.jsx("div",{className:"leading-relaxed whitespace-pre-wrap",children:T.body||(T.template?T.template.replace(/_/g," "):"")}),o.jsxs("div",{className:`text-[10px] mt-1.5 flex gap-1 items-center select-none
                                            ${M?"justify-end text-primary-100/90":"justify-start text-slate-400"}
                                        `,children:[o.jsx("span",{children:f_(T.createdAt||T.timestamp)}),M&&T.status&&o.jsx("span",{title:`Estado: ${T.status}`,className:["read","READ"].includes(T.status)?"text-blue-100 font-bold":"",children:["read","READ"].includes(T.status)||["delivered","DELIVERED"].includes(T.status)?"":["sent","SENT"].includes(T.status)?"":""})]})]})},$)}),o.jsx("div",{ref:b})]}),o.jsx("div",{className:"p-4 bg-slate-100 dark:bg-slate-800 border-t border-slate-100 dark:border-slate-700",children:o.jsxs("form",{onSubmit:ne,className:"flex gap-2 items-center w-full",children:[o.jsx("div",{className:"flex-1",children:o.jsx(ee,{className:"min-h-11 border-slate-200 dark:border-slate-600 focus-visible:ring-primary/20 bg-white dark:bg-slate-900 dark:text-white",value:d,onChange:T=>p(T.target.value),placeholder:"Escribe un mensaje...",disabled:h,autoFocus:!0})}),o.jsx(H,{className:"h-11 w-11 md:w-auto px-0 md:px-4 rounded-lg bg-primary hover:bg-primary-700 shadow-md transition-all shrink-0 flex items-center justify-center",type:"submit",disabled:h||!d.trim(),children:h?o.jsx(Er,{className:"animate-spin h-5 w-5"}):o.jsxs(o.Fragment,{children:[o.jsx(D2,{size:18,className:h||!d.trim()?"opacity-50":""}),o.jsx("span",{className:"hidden md:inline ml-2",children:"Enviar"})]})})]})})]}):o.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-slate-400 dark:text-slate-500 p-8 text-center",children:[o.jsx("svg",{className:"w-16 h-16 mb-4 text-slate-200 dark:text-slate-700",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})}),o.jsx("p",{children:"Selecciona una conversacin para comenzar a chatear"})]})})]})]})}const Rf=e=>{try{const t=e.trim().split(" ");if(t.length<2)return e;const n=parseInt(t[0]),r=parseInt(t[1]);if(isNaN(n)||isNaN(r))return e;const s=r>=12?"PM":"AM",i=r%12||12,a=n.toString().padStart(2,"0");return`${i}:${a} ${s}`}catch{return e}};function p_(){const[e,t]=w.useState(!1),[n,r]=w.useState("0 9 * * *"),[s,i]=w.useState(!1),[a,l]=w.useState(!0),[c,u]=w.useState(!1),[d,p]=w.useState("");un.useEffect(()=>{(async()=>{var m;i(!0);try{const f=await Wr.getConfig(),y=((m=f.data)==null?void 0:m.data)||f.data;y&&(t(!!y.enabled),r(y.cronExpression||"0 9 * * *"))}catch(f){console.error("Error loading config",f)}finally{i(!1)}})()},[]);const h=async()=>{const v=!e;try{await Wr.updateConfig({enabled:v}),t(v),alert(v?"Automatizacin activada":"Automatizacin desactivada")}catch(m){console.error(m),alert(m.message||"Error updating config")}},k=async()=>{try{if(!e&&!confirm("La automatizacin est actualmente desactivada. Se actualizar la hora programada pero seguir inactiva. Continuar?"))return;await Wr.updateConfig({cronExpression:n,timeZone:"America/Caracas",enabled:e}),alert("Configuracin guardada exitosamente")}catch(v){console.error(v),alert(v.message||"Error saving cron")}},x=async()=>{if(confirm("Ests seguro? Esto eliminar la configuracin personalizada y restablecer los valores predeterminados (Activo, 9:00 AM)."))try{await Wr.deleteConfig(),alert("Configuracin restablecida. Se recargarn los valores por defecto."),r("0 9 * * *"),t(!0)}catch(v){alert(v.message||"Error reseting config")}},g=async()=>{var v,m;if(!(!a&&!confirm("ATENCIN: Ests a punto de ejecutar el proceso REAL. Se enviarn notificaciones a los clientes por WhatsApp/Correo. Ests seguro?"))){u(!0),p("Ejecutando proceso...");try{const f=await Wr.runDaily({dryRun:a},{reason:"manual-check"});p(JSON.stringify(f.data,null,2))}catch(f){const y=((m=(v=f.response)==null?void 0:v.data)==null?void 0:m.message)||f.message;p(`Error: ${y}`)}finally{u(!1)}}};return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center bg-white dark:bg-slate-800 p-4 rounded-lg shadow-sm border border-slate-200 dark:border-slate-700 mb-6 gap-4",children:[o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(w0,{className:"w-5 h-5 text-yellow-500"}),o.jsx("h2",{className:"text-xl sm:text-2xl font-bold tracking-tight text-slate-900 dark:text-white",children:"Automatizacin"})]}),o.jsxs("p",{className:"text-sm text-slate-500 dark:text-slate-400 mt-1",children:["Zona Horaria: ",o.jsx("span",{className:"font-mono text-xs bg-slate-100 dark:bg-slate-700 dark:text-slate-300 px-1 py-0.5 rounded ml-1",children:"America/Caracas"})]}),o.jsxs("p",{className:"text-sm text-slate-500 dark:text-slate-400 mt-1",children:["Frecuencian Actual: ",o.jsxs("span",{className:"font-mono text-xs bg-slate-100 dark:bg-slate-700 dark:text-slate-300 px-1 py-0.5 rounded ml-1",children:["(",Rf(n),")"]})]})]}),o.jsxs("div",{className:"flex flex-col sm:flex-row items-stretch sm:items-center gap-4 w-full sm:w-auto",children:[s&&o.jsx("span",{className:"text-sm text-slate-500 dark:text-slate-400 text-center",children:"Cargando..."}),o.jsx(H,{onClick:h,variant:e?"destructive":"primary",disabled:s,className:`w-full sm:w-auto flex items-center justify-center gap-2 ${e?"bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400 hover:bg-red-100 dark:hover:bg-red-900/40 border-red-200 dark:border-red-800":""}`,children:e?o.jsxs(o.Fragment,{children:[o.jsx(g2,{size:18})," Desactivar Tarea"]}):o.jsxs(o.Fragment,{children:[o.jsx(kt,{size:18})," Activar Tarea (",Rf(n),")"]})})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsxs(Q,{title:"Programacin de Facturas",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-4 text-slate-500 dark:text-slate-400",children:[o.jsx(PN,{size:16}),o.jsx("p",{className:"text-sm",children:"Configura cundo se envan las facturas automticas."})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[o.jsx("div",{className:"flex-1",children:o.jsx(ee,{label:"Frecuencia",value:n,onChange:v=>r(v.target.value),helpText:"min hora dia mes *",className:"font-mono text-sm truncate"})}),o.jsx("div",{className:"flex items-center",children:o.jsxs(H,{onClick:k,size:"md",variant:"secondary",className:"w-full sm:w-auto flex items-center justify-center gap-2",children:[o.jsx(v0,{size:16})," Actualizar"]})})]}),o.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-4 justify-between pt-2 border-t border-slate-100 dark:border-slate-800 ml-0",children:[o.jsxs("div",{className:"flex items-center gap-2 bg-slate-50 dark:bg-slate-800/50 px-3 py-1.5 rounded-full",children:[o.jsx("span",{className:`h-2.5 w-2.5 rounded-full ${e?"bg-green-500 shadow-[0_0_8px_rgba(34,197,94,0.5)]":"bg-slate-300 dark:bg-slate-600"}`}),o.jsx("span",{className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:e?"Servicio Activo":"Servicio Inactivo"})]}),o.jsxs("button",{onClick:x,className:"text-xs flex items-center gap-1 text-slate-400 dark:text-slate-500 hover:text-red-500 dark:hover:text-red-400 underline decoration-dotted underline-offset-2 transition-colors",children:[o.jsx(T2,{size:12})," Restablecer valores"]})]})]})]}),o.jsxs(Q,{title:"Notificaciones Automticas",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-4 text-slate-500 dark:text-slate-400",children:[o.jsx(CN,{size:16}),o.jsx("p",{className:"text-sm",children:"Configuracin de alertas automticas."})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex items-center justify-between p-3 border border-slate-200 dark:border-slate-700 rounded-lg bg-white dark:bg-slate-800 hover:bg-slate-50 dark:hover:bg-slate-700/50 cursor-pointer transition-all active:scale-[0.98]",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"p-2 bg-primary/10 rounded-full text-primary",children:o.jsx(_r,{size:16})}),o.jsxs("div",{children:[o.jsx("div",{className:"font-medium text-sm text-slate-900 dark:text-white",children:"Recordatorio de Pago"}),o.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Enviar 3 das antes del vencimiento"})]})]}),o.jsx("div",{className:"relative inline-flex h-6 w-11 items-center rounded-full bg-primary/90 dark:bg-primary",children:o.jsx("span",{className:"translate-x-6 inline-block h-4 w-4 transform rounded-full bg-white transition shadow-sm"})})]}),o.jsxs("div",{className:"flex items-center justify-between p-3 border border-slate-200 dark:border-slate-700 rounded-lg bg-white dark:bg-slate-800 hover:bg-slate-50 dark:hover:bg-slate-700/50 cursor-pointer transition-all active:scale-[0.98]",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"p-2 bg-slate-100 dark:bg-slate-700 rounded-full text-slate-500 dark:text-slate-300",children:o.jsx(_N,{size:16})}),o.jsxs("div",{children:[o.jsx("div",{className:"font-medium text-sm text-slate-900 dark:text-white",children:"Bienvenida a Nuevo Cliente"}),o.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Enviar al registrarse"})]})]}),o.jsx("div",{className:"relative inline-flex h-6 w-11 items-center rounded-full bg-slate-200 dark:bg-slate-600",children:o.jsx("span",{className:"translate-x-1 inline-block h-4 w-4 transform rounded-full bg-white transition shadow-sm"})})]})]})]}),o.jsxs(Q,{title:"Ejecucin Manual",className:"md:col-span-2 lg:col-span-1",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-4 text-slate-500 dark:text-slate-400",children:[o.jsx(jf,{size:16}),o.jsx("p",{className:"text-sm",children:"Ejecucin inmediata de tareas."})]}),o.jsxs("div",{className:"flex pb-4 sm:items-center flex-col sm:flex-row gap-4 mb-4 border-b border-slate-100 dark:border-slate-700",children:[o.jsxs("label",{className:"flex items-center gap-3 cursor-pointer p-2 rounded-lg hover:bg-slate-50 dark:hover:bg-slate-800/50 transition-colors border border-transparent hover:border-slate-200 dark:hover:border-slate-700 w-full sm:w-auto",children:[o.jsx("div",{className:`w-5 h-5 rounded flex items-center justify-center border ${a?"bg-primary border-primary text-white":"bg-white border-slate-300 dark:bg-slate-800 dark:border-slate-600"}`,children:a&&o.jsx(kt,{size:14})}),o.jsx("input",{type:"checkbox",checked:a,onChange:v=>l(v.target.checked),className:"hidden"}),o.jsx("span",{className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:"Modo Simulacin"})]}),o.jsxs("div",{className:"flex items-start gap-2 text-xs text-slate-500 dark:text-slate-400 px-2 sm:px-0",children:[o.jsx(V2,{size:14,className:"mt-0.5 shrink-0 text-amber-500"}),o.jsx("span",{children:a?"Solo contabiliza lo que se enviara (No enva correos/WhatsApp).":o.jsx("span",{className:"text-amber-600 dark:text-amber-400 font-medium",children:"ATENCIN: Se enviarn mensajes REALES a los clientes."})})]})]}),o.jsxs(H,{onClick:g,disabled:c,variant:a?"secondary":"primary",className:"w-full sm:w-auto flex items-center justify-center gap-2 py-6 text-base shadow-sm",children:[c?o.jsx(C2,{className:"animate-spin"}):o.jsx(jf,{size:18,fill:"currentColor"}),c?"Ejecutando proceso...":a?"Iniciar Simulacin":"EJECUTAR ENVO REAL"]}),d&&o.jsxs("div",{className:"mt-4 p-4 bg-slate-900 text-slate-300 rounded-lg border border-slate-700 text-xs font-mono overflow-auto max-h-60 shadow-inner",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-2 text-slate-400 border-b border-slate-800 pb-2",children:[o.jsx(E2,{size:12,className:"animate-pulse text-green-500"}),o.jsx("span",{className:"uppercase tracking-wider text-[10px]",children:"Console Output"})]}),o.jsx("pre",{className:"whitespace-pre-wrap breakdown-all",children:d})]})]})]})]})}function m_(){var u;const[e,t]=w.useState(null),[n,r]=w.useState(!0),[s,i]=w.useState(!1),[a,l]=w.useState({displayName:"",phone:"",address:""});w.useEffect(()=>{let d=!0;return(async()=>{var h,k;try{const x=await gt.me(),g=((h=x.data)==null?void 0:h.user)||((k=x.data)==null?void 0:k.data);d&&g&&(t(g),l({displayName:g.name||g.displayName||"",phone:g.phone||"",address:g.address||""}))}catch(x){console.error(x)}finally{d&&r(!1)}})(),()=>{d=!1}},[]);const c=async d=>{d.preventDefault(),i(!0),setTimeout(()=>{alert("Perfil actualizado (Simulado)"),i(!1)},1e3)};return n?o.jsx("div",{className:"p-8 text-center text-gray-500",children:"Cargando perfil..."}):o.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("div",{className:"h-16 w-16 rounded-full bg-slate-100 dark:bg-slate-700 border-2 border-white dark:border-slate-600 flex items-center justify-center text-xl font-bold text-primary dark:text-white shadow-sm overflow-hidden",children:(u=e==null?void 0:e.email)==null?void 0:u.charAt(0).toUpperCase()}),o.jsxs("div",{children:[o.jsx("h2",{className:"text-2xl font-bold text-primary dark:text-white",children:(e==null?void 0:e.displayName)||(e==null?void 0:e.name)||"Usuario"}),o.jsx("p",{className:"text-gray-500",children:e==null?void 0:e.email})]})]}),o.jsx(Q,{title:"Informacin Personal",children:o.jsxs("form",{onSubmit:c,className:"space-y-4",children:[o.jsx(ee,{label:"Nombre Completo",value:a.displayName,onChange:d=>l({...a,displayName:d.target.value})}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(ee,{label:"Telfono",value:a.phone,onChange:d=>l({...a,phone:d.target.value}),placeholder:"+56 9 1234 5678"}),o.jsx(ee,{label:"Direccin",value:a.address,onChange:d=>l({...a,address:d.target.value}),placeholder:"Av. Principal 123"})]}),o.jsx("div",{className:"pt-4 flex justify-end",children:o.jsxs(H,{type:"submit",disabled:s,className:"flex items-center gap-2",children:[o.jsx(q2,{size:18}),s?"Guardando...":"Guardar Cambios"]})})]})}),o.jsx(Q,{title:"Seguridad",children:o.jsx("div",{className:"space-y-4",children:o.jsxs("div",{className:"p-4 bg-yellow-50 rounded-lg border border-yellow-100 flex items-start gap-3",children:[o.jsx("div",{className:"text-yellow-600 mt-0.5",children:o.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),o.jsxs("div",{children:[o.jsx("h4",{className:"text-sm font-medium text-yellow-800",children:"Cambiar Contrasea"}),o.jsx("p",{className:"text-xs text-yellow-700 mt-1",children:"Para cambiar tu contrasea, por favor contacta al administrador del sistema o usa la opcin de recuperacin de contrasea en el login."})]})]})})})]})}function g_(){const[e,t]=w.useState([]),[n,r]=w.useState(!0),[s,i]=w.useState(null),[a,l]=w.useState({displayName:"",role:"staff",disabled:!1}),[c,u]=w.useState(!1),[d,p]=w.useState(!1),[h,k]=w.useState({email:"",password:"",displayName:"",role:"staff"}),[x,g]=w.useState(null);w.useEffect(()=>{v()},[]);const v=async()=>{var N,_,j;r(!0);try{const R=await gt.listUsers({limit:50});(_=(N=R.data)==null?void 0:N.data)!=null&&_.users?t(R.data.data.users):Array.isArray(R.data)?t(R.data):(j=R.data)!=null&&j.data&&Array.isArray(R.data.data)&&t(R.data.data)}catch(R){console.error(R)}finally{r(!1)}},m=N=>{i(N.uid),l({displayName:N.displayName||N.name||"",role:N.role||"guest",disabled:N.disabled||!1})},f=()=>{i(null),l({displayName:"",role:"staff",disabled:!1})},y=async N=>{try{await gt.updateUser(N,{displayName:a.displayName,role:a.role,disabled:a.disabled}),t(_=>_.map(j=>j.uid===N?{...j,...a}:j)),i(null)}catch(_){alert("Error actualizando usuario: "+(_.message||"Error desconocido"))}},b=async N=>{N.preventDefault(),p(!0);try{await gt.create({email:h.email,password:h.password,displayName:h.displayName,role:h.role}),k({email:"",password:"",displayName:"",role:"staff"}),u(!1),v()}catch(_){alert("Error creando usuario: "+(_.message||"Error desconocido"))}finally{p(!1)}},S=async()=>{if(x)try{await gt.deleteUser(x.uid),t(N=>N.filter(_=>_.uid!==x.uid)),g(null)}catch(N){alert("Error eliminando usuario: "+(N.message||"Error desconocido")),g(null)}};return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 bg-white dark:bg-slate-800 p-4 rounded-xl shadow-sm border border-slate-200 dark:border-slate-700",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"p-3 bg-indigo-50 dark:bg-indigo-900/20 rounded-lg text-indigo-600 dark:text-indigo-400",children:o.jsx(Fo,{size:24})}),o.jsxs("div",{children:[o.jsx("h2",{className:"text-2xl font-bold text-slate-900 dark:text-white tracking-tight",children:"Gestin de Usuarios"}),o.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:"Administra el staff y accesos administrativos"})]})]}),o.jsxs(H,{onClick:()=>{u(!c)},className:"w-full sm:w-auto flex items-center justify-center gap-2",variant:c?"outline":"primary",children:[c?o.jsx(Cf,{size:18}):o.jsx(_a,{size:18}),c?"Cancelar":"Nuevo Usuario"]})]}),c&&o.jsxs("div",{className:"bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl shadow-lg overflow-hidden transition-all duration-300 ease-in-out mb-6",children:[o.jsxs("div",{className:"p-6 bg-slate-50 dark:bg-slate-900/50 border-b border-slate-100 dark:border-slate-700 flex items-center gap-3",children:[o.jsx("div",{className:"h-8 w-8 rounded-full bg-primary/10 flex items-center justify-center text-primary",children:o.jsx(_a,{size:16})}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-semibold text-slate-900 dark:text-white",children:"Registrar Nuevo Usuario"}),o.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:"Crea una cuenta para un administrador o miembro del staff."})]})]}),o.jsx("div",{className:"p-6",children:o.jsxs("form",{onSubmit:b,className:"space-y-6",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsx(ee,{label:"Nombre Completo",value:h.displayName,onChange:N=>k(_=>({..._,displayName:N.target.value})),required:!0,placeholder:"Ej. Admin User",startContent:o.jsx(Sr,{size:16,className:"text-slate-400"})}),o.jsx(ee,{label:"Email",type:"email",value:h.email,onChange:N=>k(_=>({..._,email:N.target.value})),required:!0,placeholder:"admin@empresa.com",startContent:o.jsx(du,{size:16,className:"text-slate-400"})}),o.jsx(ee,{label:"Contrasea",type:"password",value:h.password,onChange:N=>k(_=>({..._,password:N.target.value})),required:!0,placeholder:"",startContent:o.jsx(x0,{size:16,className:"text-slate-400"})}),o.jsxs("div",{children:[o.jsx("label",{className:"mb-1 text-sm font-medium text-slate-700 dark:text-slate-300 block",children:"Rol"}),o.jsxs("div",{className:"relative",children:[o.jsxs("select",{className:"flex h-11 w-full rounded-lg border border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-950 text-slate-900 dark:text-white px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent transition-shadow pl-10 appearance-none",value:h.role,onChange:N=>k(_=>({..._,role:N.target.value})),children:[o.jsx("option",{value:"staff",children:"Staff (Personal)"}),o.jsx("option",{value:"admin",children:"Administrador (Acceso Total)"}),o.jsx("option",{value:"client",children:"Cliente"})]}),o.jsx(Fo,{size:16,className:"absolute left-3 top-3 text-slate-400 pointer-events-none"})]})]})]}),o.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t border-slate-100 dark:border-slate-700",children:[o.jsx(H,{type:"button",variant:"outline",onClick:()=>u(!1),disabled:d,children:"Cancelar"}),o.jsx(H,{type:"submit",disabled:d,className:"min-w-32",children:d?"Guardando...":"Crear Usuario"})]})]})})]}),o.jsx(Q,{title:`Usuarios del Sistema (${e.length})`,children:n?o.jsx("div",{className:"flex justify-center p-8",children:o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):o.jsxs("div",{className:"overflow-x-auto -mx-4 sm:mx-0",children:[o.jsx("div",{className:"sm:hidden space-y-4 px-4 pb-4",children:e.map(N=>o.jsxs("div",{className:"bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-lg p-4 shadow-sm space-y-3",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"h-10 w-10 rounded-full bg-slate-200 dark:bg-slate-700 text-primary dark:text-white flex items-center justify-center font-bold text-sm ring-2 ring-white dark:ring-slate-600 shadow-sm shrink-0 uppercase",children:(N.displayName||N.name||N.email||"?").charAt(0)}),o.jsxs("div",{children:[s===N.uid?o.jsx(ee,{value:a.displayName,onChange:_=>l({...a,displayName:_.target.value}),className:"h-8 text-xs mb-1",placeholder:"Nombre"}):o.jsx("div",{className:"text-sm font-semibold text-slate-400 dark:text-white",children:N.displayName||N.name||"Sin nombre"}),o.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400",children:N.email})]})]}),s!==N.uid&&o.jsxs("div",{className:"flex gap-1",children:[o.jsx("button",{onClick:()=>m(N),className:"text-slate-500 dark:text-slate-400 hover:bg-slate-100 dark:hover:bg-slate-700 p-2 rounded-full transition-colors",children:o.jsx(Yl,{size:18})}),o.jsx("button",{onClick:()=>g(N),className:"text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20 p-2 rounded-full transition-colors",children:o.jsx($o,{size:18})})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4 text-xs text-slate-600 dark:text-slate-400 pt-3 border-t border-slate-100 dark:border-slate-700/50",children:[o.jsxs("div",{children:[o.jsx("span",{className:"block text-slate-400 dark:text-slate-500 text-[10px] uppercase font-semibold mb-1",children:"Rol"}),s===N.uid?o.jsxs("select",{className:"block w-full py-1 text-xs border-slate-300 dark:border-slate-600 dark:bg-slate-800 focus:outline-none focus:ring-primary focus:border-primary sm:text-xs rounded-md",value:a.role,onChange:_=>l({...a,role:_.target.value}),children:[o.jsx("option",{value:"staff",children:"Staff"}),o.jsx("option",{value:"admin",children:"Admin"}),o.jsx("option",{value:"client",children:"Cliente"}),o.jsx("option",{value:"guest",children:"Guest"})]}):o.jsx("span",{className:`px-2.5 py-0.5 inline-flex text-xs leading-4 font-medium rounded-full border 
                                            ${N.role==="admin"?"bg-purple-50 dark:bg-purple-900/30 text-purple-700 dark:text-purple-300 border-purple-100 dark:border-purple-800":N.role==="staff"?"bg-blue-50 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300 border-blue-100 dark:border-blue-800":N.role==="client"?"bg-green-50 dark:bg-green-900/30 text-green-700 dark:text-green-300 border-green-100 dark:border-green-800":"bg-slate-100 dark:bg-slate-700 text-slate-700 dark:text-slate-300 border-slate-200 dark:border-slate-600"}`,children:N.role||"guest"})]}),o.jsxs("div",{children:[o.jsx("span",{className:"block text-slate-400 dark:text-slate-500 text-[10px] uppercase font-semibold mb-1",children:"Estado"}),s===N.uid?o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("input",{id:`disabled-mobile-${N.uid}`,type:"checkbox",checked:a.disabled,onChange:_=>l({...a,disabled:_.target.checked}),className:"h-4 w-4 text-red-600 focus:ring-red-500 border-slate-300 rounded"}),o.jsx("label",{htmlFor:`disabled-mobile-${N.uid}`,className:"text-xs text-slate-700 dark:text-slate-300",children:"Bloqueado"})]}):N.disabled?o.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-red-50 dark:bg-red-900/20 text-red-700 dark:text-red-400 border border-red-100 dark:border-red-800",children:"Bloqueado"}):o.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-green-50 dark:bg-green-900/20 text-green-700 dark:text-green-400 border border-green-100 dark:border-green-800",children:"Activo"})]})]}),s===N.uid&&o.jsxs("div",{className:"flex justify-end gap-2 pt-2 border-t border-slate-50 dark:border-slate-700",children:[o.jsx(H,{size:"sm",variant:"outline",onClick:f,className:"text-xs h-8",children:"Cancelar"}),o.jsx(H,{size:"sm",onClick:()=>y(N.uid),className:"text-xs h-8 bg-green-600 hover:bg-green-700 text-white",children:"Guardar Cambios"})]})]},N.uid))}),o.jsxs("table",{className:"min-w-full divide-y divide-slate-200 dark:divide-slate-700 hidden sm:table",children:[o.jsx("thead",{className:"bg-slate-50 dark:bg-slate-800",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Usuario"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Rol"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Estado"}),o.jsx("th",{className:"px-6 py-3 text-right text-xs font-semibold text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Acciones"})]})}),o.jsx("tbody",{className:"bg-white dark:bg-slate-900 divide-y divide-slate-200 dark:divide-slate-800",children:e.map(N=>{var _;return o.jsxs("tr",{className:"hover:bg-slate-50 dark:hover:bg-slate-800/50 transition-colors",children:[o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s===N.uid?o.jsx("div",{className:"space-y-1",children:o.jsx(ee,{value:a.displayName,onChange:j=>l({...a,displayName:j.target.value}),className:"h-8 text-xs",placeholder:"Nombre"})}):o.jsxs("div",{className:"flex items-center",children:[o.jsx("div",{className:"h-9 w-9 rounded-full bg-primary/10 text-primary flex items-center justify-center font-bold text-xs ring-2 ring-white dark:ring-slate-700 shadow-sm uppercase shrink-0",children:((_=N.email)==null?void 0:_.charAt(0))||"?"}),o.jsxs("div",{className:"ml-3",children:[o.jsx("div",{className:"text-sm font-semibold text-slate-900 dark:text-white",children:N.displayName||N.name||"Sin nombre"}),o.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400 font-medium",children:N.email})]})]})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s===N.uid?o.jsxs("select",{className:"block w-full py-1 text-xs border-slate-300 dark:border-slate-600 dark:bg-slate-800 focus:outline-none focus:ring-primary focus:border-primary sm:text-xs rounded-md",value:a.role,onChange:j=>l({...a,role:j.target.value}),children:[o.jsx("option",{value:"staff",children:"Staff"}),o.jsx("option",{value:"admin",children:"Admin"}),o.jsx("option",{value:"client",children:"Cliente"}),o.jsx("option",{value:"guest",children:"Guest"})]}):o.jsx("span",{className:`px-2.5 py-0.5 inline-flex text-xs leading-4 font-medium rounded-full border 
                                            ${N.role==="admin"?"bg-purple-50 dark:bg-purple-900/30 text-purple-700 dark:text-purple-300 border-purple-100 dark:border-purple-800":N.role==="staff"?"bg-blue-50 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300 border-blue-100 dark:border-blue-800":N.role==="client"?"bg-green-50 dark:bg-green-900/30 text-green-700 dark:text-green-300 border-green-100 dark:border-green-800":"bg-slate-100 dark:bg-slate-700 text-slate-700 dark:text-slate-300 border-slate-200 dark:border-slate-600"}`,children:N.role||"guest"})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s===N.uid?o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("input",{id:`disabled-${N.uid}`,type:"checkbox",checked:a.disabled,onChange:j=>l({...a,disabled:j.target.checked}),className:"h-4 w-4 text-red-600 focus:ring-red-500 border-slate-300 rounded"}),o.jsx("label",{htmlFor:`disabled-${N.uid}`,className:"text-xs text-slate-700 dark:text-slate-300",children:"Deshabilitado"})]}):N.disabled?o.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-red-50 dark:bg-red-900/20 text-red-700 dark:text-red-400 border border-red-100 dark:border-red-800",children:"Bloqueado"}):o.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-green-50 dark:bg-green-900/20 text-green-700 dark:text-green-400 border border-green-100 dark:border-green-800",children:"Activo"})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:s===N.uid?o.jsxs("div",{className:"flex justify-end gap-2",children:[o.jsx("button",{onClick:()=>y(N.uid),className:"text-green-600 hover:text-green-900 bg-green-50 p-1.5 rounded-md hover:bg-green-100 transition-colors",title:"Guardar",children:o.jsx(DN,{size:16})}),o.jsx("button",{onClick:f,className:"text-red-600 hover:text-red-900 bg-red-50 p-1.5 rounded-md hover:bg-red-100 transition-colors",title:"Cancelar",children:o.jsx(Cf,{size:16})})]}):o.jsxs("div",{className:"flex justify-end gap-2",children:[o.jsxs("button",{onClick:()=>m(N),className:"text-slate-500 hover:text-slate-700 dark:text-slate-400 dark:hover:text-slate-200 inline-flex items-center gap-1 hover:bg-slate-100 dark:hover:bg-slate-800 px-3 py-1.5 rounded-md transition-colors text-xs font-medium",children:[o.jsx(Yl,{size:14})," Editar"]}),o.jsx("button",{onClick:()=>g(N),className:"text-red-500 hover:text-red-700 dark:text-red-400 dark:hover:text-red-300 inline-flex items-center gap-1 hover:bg-red-50 dark:hover:bg-red-900/20 px-3 py-1.5 rounded-md transition-colors text-xs font-medium",children:o.jsx($o,{size:14})})]})})]},N.uid)})})]})]})}),x&&o.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4 backdrop-blur-sm",children:o.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-xl shadow-2xl dark:shadow-black/50 border border-slate-200 dark:border-slate-800 max-w-md w-full p-6 animate-in fade-in zoom-in duration-200",children:[o.jsxs("div",{className:"flex items-center gap-3 text-red-600 dark:text-red-500 mb-4",children:[o.jsx("div",{className:"bg-red-100 dark:bg-red-900/30 p-3 rounded-full",children:o.jsx($o,{size:24})}),o.jsx("h3",{className:"text-xl font-bold text-slate-900 dark:text-white",children:"Eliminar Usuario?"})]}),o.jsxs("p",{className:"text-slate-600 dark:text-slate-300 mb-6 font-medium",children:["Ests a punto de eliminar a ",o.jsx("strong",{children:x.displayName||x.email}),"."]}),o.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-100 dark:border-red-800 p-3 rounded-lg flex items-start gap-2 mb-6",children:[o.jsx(Fo,{size:16,className:"text-red-600 dark:text-red-400 mt-0.5 shrink-0"}),o.jsxs("p",{className:"text-xs text-red-700 dark:text-red-300",children:["Esta accin es ",o.jsx("strong",{children:"irreversible"})," y ejecutar una limpieza en cascada (cuenta, perfil y suscripciones asociadas)."]})]}),o.jsxs("div",{className:"flex justify-end gap-3",children:[o.jsx(H,{variant:"outline",onClick:()=>g(null),children:"Cancelar"}),o.jsx(H,{onClick:S,className:"bg-red-600 hover:bg-red-700 text-white border-red-600 dark:border-red-600",children:"Confirmar Eliminacin"})]})]})})]})}const Bo=e=>{if(!e)return"-";const t=new Date,[n,r,s]=e.split("-").map(Number),a=new Date(n,r-1,s).getTime()-t.setHours(0,0,0,0);return isNaN(a)?"-":Math.ceil(a/(1e3*60*60*24))};function y_(){const{user:e}=yn(),t=$s(),[n,r]=w.useState(!0),[s,i]=w.useState(null),[a,l]=w.useState(null),[c,u]=w.useState(null);w.useEffect(()=>{let h=!0;return(async()=>{var x,g,v;if(!(e!=null&&e.id)){h&&(u("No se encontr el usuario"),r(!1));return}try{r(!0);const m=await V.get("/auth/me"),f=((x=m.data)==null?void 0:x.data)||m.data,y=e.id;try{const j=await V.get(`/clients/${y}`),R=((g=j.data)==null?void 0:g.data)||j.data;h&&l(R)}catch{console.log("Cliente no encontrado en Firestore")}if(!h)return;const b=await V.get("/subscriptions"),_=(((v=b.data)==null?void 0:v.data)||b.data||[]).filter(j=>j.clientId===y).find(j=>j.status==="active");i(_?{..._,clientName:(f==null?void 0:f.displayName)||"",clientEmail:(f==null?void 0:f.email)||""}:null)}catch(m){console.error("Error fetching data:",m),h&&u("No se pudieron cargar los datos")}finally{h&&r(!1)}})(),()=>{h=!1}},[e]);const d=h=>{if(!h)return"-";const[k,x,g]=h.split("-"),m=["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"][parseInt(x,10)-1]||"";return`${parseInt(g,10)} de ${m} de ${k}`},p=h=>{switch(h){case"active":return"text-green-600 bg-green-50 dark:bg-green-900/20";case"inactive":return"text-gray-600 bg-gray-50 dark:bg-gray-900/20";case"past_due":return"text-yellow-600 bg-yellow-50 dark:bg-yellow-900/20";case"cancelled":return"text-red-600 bg-red-50 dark:bg-red-900/20";default:return"text-gray-600 bg-gray-50 dark:bg-gray-900/20"}};return n?o.jsx("div",{className:"flex items-center justify-center h-64",children:o.jsx(Er,{className:"w-8 h-8 animate-spin text-primary"})}):o.jsxs("div",{className:"space-y-6",children:[o.jsx("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:o.jsxs("div",{children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-secondary tracking-tight",children:"Dashboard Cliente"}),o.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-300",children:["Bienvenido",e!=null&&e.displayName?`, ${e.displayName}`:""]})]})}),c&&o.jsxs("div",{className:"flex items-center gap-2 p-3 bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 rounded-lg text-yellow-600 dark:text-yellow-400 text-sm",children:[o.jsx(Ds,{className:"w-4 h-4 shrink-0"}),o.jsx("span",{children:c})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsxs(Q,{className:"border-l-4 border-l-primary/70",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx("h3",{className:"font-semibold text-gray-900 dark:text-secondary",children:"Tu Plan Actual"}),(s==null?void 0:s.status)&&o.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium ${p(s.status)}`,children:[s.status==="active"?o.jsx(kt,{className:"w-3 h-3"}):o.jsx(_r,{className:"w-3 h-3"}),s.status==="active"?"Activo":s.status]})]}),s?o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex items-center justify-between py-2",children:[o.jsxs("div",{children:[o.jsx("div",{className:"font-bold text-lg text-gray-900 dark:text-gray-200",children:s.plan}),o.jsxs("div",{className:"text-2xl font-bold text-primary mt-1 dark:text-secondary",children:[s.amount,o.jsx("span",{className:"text-sm font-normal text-gray-500 dark:text-gray-300",children:"/mes"})]})]}),o.jsx(cn,{className:"w-10 h-10 text-gray-300 dark:text-gray-600"})]}),o.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-100 dark:border-gray-700 flex items-center justify-between text-sm",children:[o.jsxs("span",{className:"text-gray-500 dark:text-gray-400 flex items-center gap-1.5",children:[o.jsx(ba,{className:"w-4 h-4"}),"Prximo corte:"]}),o.jsx("span",{className:"font-medium text-gray-900 dark:text-gray-200",children:d(s.cutDate)})]}),o.jsx("div",{className:"mt-2 flex items-center gap-2 text-sm text-primary dark:text-secondary font-semibold",children:typeof Bo(s.cutDate)=="number"&&Bo(s.cutDate)>=0?o.jsxs(o.Fragment,{children:[o.jsx(_r,{className:"w-4 h-4"}),"Faltan ",Bo(s.cutDate)," das para el cobro"]}):o.jsx("span",{children:"No se pudo calcular los das restantes"})}),o.jsx("div",{className:"mt-3",children:o.jsx(H,{variant:"primary",className:"w-full font-bold shadow-md shadow-primary/20",onClick:()=>t("/client/subscription"),children:"Ver detalles"})})]}):o.jsxs("div",{className:"flex flex-col items-center justify-center py-8 text-center",children:[o.jsx(cn,{className:"w-12 h-12 text-gray-300 dark:text-gray-600 mb-3"}),o.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"No tienes suscripcin activa"}),o.jsx(H,{variant:"secondary",size:"sm",className:"mt-3",children:"Contactar soporte"})]})]}),o.jsxs(Q,{children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx("h3",{className:"font-semibold text-gray-900 dark:text-secondary",children:"Tu Informacin"}),o.jsxs(H,{variant:"ghost",size:"sm",onClick:()=>t("/client/profile"),className:"text-primary hover:text-primary/80",children:["Editar ",o.jsx(Sr,{className:"w-4 h-4 ml-1"})]})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gray-50 dark:bg-slate-900/50 rounded-lg",children:[o.jsx(zo,{className:"w-8 h-8 text-gray-400"}),o.jsxs("div",{children:[o.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Nombre"}),o.jsx("div",{className:"font-medium text-gray-900 dark:text-gray-200",children:(e==null?void 0:e.displayName)||(a==null?void 0:a.name)||"No definido"})]})]}),o.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gray-50 dark:bg-slate-900/50 rounded-lg",children:[o.jsx(zo,{className:"w-8 h-8 text-gray-400"}),o.jsxs("div",{children:[o.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Email"}),o.jsx("div",{className:"font-medium text-gray-900 dark:text-gray-200",children:(e==null?void 0:e.email)||"No definido"})]})]}),(a==null?void 0:a.phone)&&o.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gray-50 dark:bg-slate-900/50 rounded-lg",children:[o.jsx(zo,{className:"w-8 h-8 text-gray-400"}),o.jsxs("div",{children:[o.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Telfono"}),o.jsx("div",{className:"font-medium text-gray-900 dark:text-gray-200",children:a.phone})]})]})]})]})]}),o.jsxs(Q,{children:[o.jsx("h3",{className:"font-semibold text-gray-900 dark:text-secondary mb-4",children:"Accesos rpidos"}),o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3",children:[o.jsxs(H,{variant:"outline",className:"h-auto py-4 flex-col gap-2 bg-blue-50 dark:bg-blue-900/20 border-blue-200 dark:border-blue-800 text-blue-700 dark:text-blue-300",onClick:()=>t("/client/subscription"),children:[o.jsx(cn,{className:"w-6 h-6"}),o.jsx("span",{children:"Mi Suscripcin"})]}),o.jsxs(H,{variant:"outline",className:"h-auto py-4 flex-col gap-2 bg-blue-50 dark:bg-blue-900/20 border-blue-200 dark:border-blue-800 text-blue-700 dark:text-blue-300",onClick:()=>t("/client/payments"),children:[o.jsx(Na,{className:"w-6 h-6"}),o.jsx("span",{children:"Mis Pagos"})]}),o.jsxs(H,{variant:"outline",className:"h-auto py-4 flex-col gap-2 bg-blue-50 dark:bg-blue-900/20 border-blue-200 dark:border-blue-800 text-blue-700 dark:text-blue-300",onClick:()=>t("/client/profile"),children:[o.jsx(Sr,{className:"w-6 h-6"}),o.jsx("span",{children:"Mi Perfil"})]})]})]})]})}function x_(){const{user:e}=yn(),[t,n]=w.useState(!0),[r,s]=w.useState(null),[i,a]=w.useState([]),[l,c]=w.useState(null),[u,d]=w.useState(!1);w.useEffect(()=>{let g=!0;return(async()=>{var m;if(!(e!=null&&e.id)){g&&(c("No se encontr el usuario"),n(!1));return}try{n(!0);const f=await V.get("/subscriptions"),y=((m=f.data)==null?void 0:m.data)||f.data||[],b=e.id,S=y.filter(_=>_.clientId===b).map(_=>({..._,clientName:e.displayName||"",clientEmail:e.email||""}));if(!g)return;a(S);const N=S.find(_=>_.status==="active");s(N||null)}catch(f){console.error("Error fetching subscription:",f),g&&c("No se pudo cargar la informacin de tu suscripcin")}finally{g&&n(!1)}})(),()=>{g=!1}},[e]);const p=async()=>{var g,v;if(r!=null&&r.id)try{d(!0),await V.post(`/subscriptions/${r.id}/renew`),window.location.reload()}catch(m){alert(((v=(g=m.response)==null?void 0:g.data)==null?void 0:v.message)||"Error al renovar suscripcin")}finally{d(!1)}},h=g=>{switch(g){case"active":return"text-green-600 bg-green-50 dark:bg-green-900/20";case"inactive":return"text-gray-600 bg-gray-50 dark:bg-gray-900/20";case"past_due":return"text-yellow-600 bg-yellow-50 dark:bg-yellow-900/20";case"cancelled":return"text-red-600 bg-red-50 dark:bg-red-900/20";default:return"text-gray-600 bg-gray-50 dark:bg-gray-900/20"}},k=g=>{switch(g){case"active":return"Activo";case"inactive":return"Inactivo";case"past_due":return"Pendiente de pago";case"cancelled":return"Cancelado";default:return g}},x=g=>g?new Date(g).toLocaleDateString("es-ES",{day:"2-digit",month:"long",year:"numeric"}):"-";return t?o.jsx("div",{className:"flex items-center justify-center h-64",children:o.jsx(Er,{className:"w-8 h-8 animate-spin text-primary"})}):o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-secondary tracking-tight",children:"Mi Suscripcin"}),o.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-300",children:"Gestiona tu plan de suscripcin"})]}),l&&o.jsxs("div",{className:"flex items-center gap-2 p-3 bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 rounded-lg text-yellow-600 dark:text-yellow-400 text-sm",children:[o.jsx(Ds,{className:"w-4 h-4 shrink-0"}),o.jsx("span",{children:l})]}),!r&&!l&&o.jsx(Q,{children:o.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[o.jsx(cn,{className:"w-16 h-16 text-gray-300 dark:text-gray-600 mb-4"}),o.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:"No tienes suscripcin activa"}),o.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1 mb-4",children:"Contacta con nosotros para contratar un plan"}),o.jsx(H,{children:"Contactar soporte"})]})}),r&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:`inline-flex items-center gap-2 px-3 py-1.5 rounded-full ${h(r.status||"")}`,children:[r.status==="active"?o.jsx(kt,{className:"w-4 h-4"}):r.status==="past_due"?o.jsx(Ds,{className:"w-4 h-4"}):o.jsx(_r,{className:"w-4 h-4"}),o.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-gray-200",children:k(r.status||"")})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsxs(Q,{className:"border-l-4 border-l-primary/70",children:[o.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white mb-4",children:"Plan"}),o.jsxs("div",{className:"flex items-center justify-between py-2",children:[o.jsxs("div",{children:[o.jsx("div",{className:"font-bold text-xl text-gray-900 dark:text-gray-200",children:r.plan}),o.jsxs("div",{className:"text-3xl font-bold text-primary dark:text-secondary mt-2",children:[r.amount,o.jsx("span",{className:"text-sm font-normal text-gray-500 dark:text-gray-300",children:"/mes"})]}),r.country&&o.jsxs("div",{className:"mt-2 text-sm text-blue-600 dark:text-blue-300 font-semibold",children:["Pas: ",r.country]})]}),o.jsx(cn,{className:"w-12 h-12 text-gray-300 dark:text-gray-600"})]}),r.passwordSub&&o.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-100 dark:border-gray-700",children:[o.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500 dark:text-gray-400 mb-2",children:[o.jsx(t2,{className:"w-4 h-4"}),"Contrasea del servicio"]}),o.jsx("div",{className:"font-mono text-sm bg-gray-100 dark:bg-slate-800 px-3 py-2 rounded-lg text-gray-900 dark:text-gray-200",children:r.passwordSub})]})]}),o.jsxs(Q,{children:[o.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white mb-4",children:"Informacin de Facturacin"}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-slate-900/50 rounded-lg",children:[o.jsxs("div",{className:"flex items-center gap-2 text-gray-500 dark:text-gray-400",children:[o.jsx(ba,{className:"w-4 h-4"}),o.jsx("span",{className:"text-sm",children:"Fecha de inicio"})]}),o.jsx("span",{className:"font-medium text-gray-900 dark:text-gray-200",children:x(r.startDate)})]}),o.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-slate-900/50 rounded-lg",children:[o.jsxs("div",{className:"flex items-center gap-2 text-gray-500 dark:text-gray-400",children:[o.jsx(ba,{className:"w-4 h-4"}),o.jsx("span",{className:"text-sm",children:"Prximo corte"})]}),o.jsx("span",{className:"font-medium text-gray-900 dark:text-gray-200",children:x(r.cutDate)})]})]})]})]}),o.jsxs(Q,{children:[o.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white mb-4",children:"Opciones"}),o.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[o.jsx(H,{variant:"primary",onClick:p,disabled:u,children:u?o.jsxs(o.Fragment,{children:[o.jsx(Er,{className:"w-4 h-4 mr-2 animate-spin"}),"Renovando..."]}):"Renovar suscripcin"}),o.jsx(H,{variant:"secondary",children:"Solicitar cambio de plan"}),o.jsx(H,{variant:"outline",children:"Ver historial"})]})]})]}),i.length>1&&o.jsxs(Q,{children:[o.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white mb-4",children:"Historial de Planes"}),o.jsx("div",{className:"space-y-3",children:i.map(g=>o.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-slate-900/50 rounded-lg",children:[o.jsxs("div",{children:[o.jsx("div",{className:"font-medium text-gray-900 dark:text-gray-200",children:g.plan}),o.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:[x(g.startDate)," - ",g.status==="active"?"Actual":x(g.cutDate)]})]}),o.jsx("span",{className:`text-sm font-medium ${h(g.status||"")}`,children:k(g.status||"")})]},g.id))})]})]})}function v_(){const{user:e}=yn(),[t,n]=w.useState(!0),[r,s]=w.useState([]),[i,a]=w.useState(null),[l,c]=w.useState("all");w.useEffect(()=>{let g=!0;return(async()=>{var m;if(!(e!=null&&e.id)){g&&(a("No se encontr el usuario"),n(!1));return}try{n(!0);const f=await V.get("/subscriptions"),y=((m=f.data)==null?void 0:m.data)||f.data||[],b=e.id,S=y.filter(j=>j.clientId===b);if(!g)return;const N=new Date;N.setHours(0,0,0,0);const _=S.map(j=>{const R=j.cutDate?new Date(j.cutDate):null,D=R&&R<N,J=j.status==="active";let K="failed";return D?K="paid":J&&R?Math.ceil((R.getTime()-N.getTime())/864e5)>3?K="up_to_date":K="pending":J||(K="failed"),{id:j.id||Math.random().toString(),plan:j.plan,amount:j.amount,status:K,startDate:j.startDate,cutDate:j.cutDate}});_.sort((j,R)=>j.cutDate?R.cutDate?new Date(R.cutDate).getTime()-new Date(j.cutDate).getTime():-1:1),s(_)}catch(f){console.error("Error fetching payments:",f),g&&a("No se pudieron cargar los pagos")}finally{g&&n(!1)}})(),()=>{g=!1}},[e]);const u=g=>{switch(g){case"paid":return"text-green-600 bg-green-50 dark:bg-green-900/20";case"up_to_date":return"text-blue-600 bg-blue-50 dark:bg-blue-900/20";case"pending":return"text-yellow-600 bg-yellow-50 dark:bg-yellow-900/20";case"failed":return"text-red-600 bg-red-50 dark:bg-red-900/20";default:return"text-gray-600 bg-gray-50 dark:bg-gray-900/20"}},d=g=>{switch(g){case"paid":return o.jsx(kt,{className:"w-4 h-4"});case"up_to_date":return o.jsx(kt,{className:"w-4 h-4 text-blue-600 dark:text-blue-400"});case"pending":return o.jsx(_r,{className:"w-4 h-4"});case"failed":return o.jsx(VN,{className:"w-4 h-4"});default:return o.jsx(_r,{className:"w-4 h-4"})}},p=g=>{switch(g){case"paid":return"Pagado";case"up_to_date":return"Al da";case"pending":return"Por vencer";case"failed":return"Fallido";default:return g}},h=g=>g?new Date(g).toLocaleDateString("es-ES",{day:"2-digit",month:"short",year:"numeric"}):"-",k=r.filter(g=>l==="all"||g.status===l);r.filter(g=>g.status==="paid").reduce((g,v)=>g+parseFloat(v.amount.replace(/[^0-9.-]+/g,"")),0);const x=r.filter(g=>g.status==="pending").reduce((g,v)=>g+parseFloat(v.amount.replace(/[^0-9.-]+/g,"")),0);return t?o.jsx("div",{className:"flex items-center justify-center h-64",children:o.jsx(Er,{className:"w-8 h-8 animate-spin text-primary"})}):o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-secondary tracking-tight",children:"Historial de Pagos"}),o.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-300",children:"Consulta tus facturas y estado de pagos"})]}),i&&o.jsxs("div",{className:"flex items-center gap-2 p-3 bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 rounded-lg text-yellow-600 dark:text-yellow-400 text-sm",children:[o.jsx(Ds,{className:"w-4 h-4 shrink-0"}),o.jsx("span",{children:i})]}),o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[o.jsxs(Q,{className:"bg-blue-50 dark:bg-blue-900/20 border-blue-200 dark:border-blue-800",children:[o.jsx("div",{className:"text-sm text-blue-600 dark:text-blue-400",children:"Saldo pendiente"}),o.jsxs("div",{className:"text-2xl font-bold text-blue-700 dark:text-blue-300",children:["$",x.toFixed(2)]})]}),o.jsxs(Q,{children:[o.jsx("div",{className:"text-sm text-blue-600 dark:text-blue-400",children:"Gracias por mantenerte al da!"}),o.jsx("div",{className:"text-lg font-semibold text-blue-700 dark:text-blue-300",children:"Tu historial est en orden"})]})]}),o.jsx(Q,{children:o.jsxs("div",{className:"flex flex-wrap gap-2",children:[o.jsx("button",{onClick:()=>c("all"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${l==="all"?"bg-primary text-white":"bg-gray-100 dark:bg-slate-800 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-slate-700"}`,children:"Todos"}),o.jsx("button",{onClick:()=>c("paid"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${l==="paid"?"bg-green-600 text-white":"bg-gray-100 dark:bg-slate-800 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-slate-700"}`,children:"Pagados"}),o.jsx("button",{onClick:()=>c("pending"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${l==="pending"?"bg-yellow-600 text-white":"bg-gray-100 dark:bg-slate-800 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-slate-700"}`,children:"Pendientes"})]})}),k.length===0?o.jsx(Q,{children:o.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[o.jsx(Na,{className:"w-16 h-16 text-gray-300 dark:text-gray-600 mb-4"}),o.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:"No hay registros"}),o.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:l!=="all"?"No se encontraron resultados con los filtros aplicados":"No tienes pagos registrados an"})]})}):o.jsx("div",{className:"space-y-3",children:k.map(g=>o.jsx(Q,{className:"hover:shadow-md transition-shadow",children:o.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[o.jsxs("div",{className:"flex items-start gap-4",children:[o.jsx("div",{className:"p-2.5 bg-gray-100 dark:bg-slate-800 rounded-lg",children:o.jsx(Na,{className:"w-5 h-5 text-gray-500 dark:text-gray-400"})}),o.jsxs("div",{children:[o.jsx("div",{className:"font-medium text-gray-900 dark:text-gray-200",children:g.plan}),o.jsx("div",{className:"flex items-center gap-3 mt-1.5 text-xs text-gray-500 dark:text-gray-400",children:o.jsxs("span",{className:"flex items-center gap-1",children:[o.jsx(ba,{className:"w-3 h-3"}),"Perodo: ",h(g.startDate)," - ",h(g.cutDate)]})})]})]}),o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsxs("div",{className:"text-right",children:[o.jsx("div",{className:"font-bold text-lg text-gray-900 dark:text-secondary",children:g.amount}),o.jsxs("div",{className:`inline-flex items-center gap-1 px-2 py-0.5 rounded-full text-xs font-medium ${u(g.status)}`,children:[d(g.status),p(g.status)]})]}),g.status==="paid"&&o.jsx(H,{variant:"ghost",size:"sm",children:o.jsx(JN,{className:"w-4 h-4"})})]})]})},g.id))})]})}function w_(){const{user:e}=yn(),[t,n]=w.useState(!0),[r,s]=w.useState(!1),[i,a]=w.useState(null),[l,c]=w.useState(null),[u,d]=w.useState(null),[p,h]=w.useState({}),[k,x]=w.useState(!1);w.useEffect(()=>{let m=!0;return(async()=>{var y;if(!(e!=null&&e.id)){m&&(a("No se encontr el usuario"),n(!1));return}try{n(!0);const b=e.id,S=await V.get(`/clients/${b}`),N=((y=S.data)==null?void 0:y.data)||S.data;if(!m)return;d(N),h(N)}catch(b){console.error("Error fetching profile:",b),m&&a("No se pudo cargar el perfil del cliente")}finally{m&&n(!1)}})(),()=>{m=!1}},[e]);const g=m=>{const{name:f,value:y}=m.target;h(b=>({...b,[f]:y}))},v=async m=>{var f,y;m.preventDefault(),s(!0),a(null),c(null);try{if(!(u!=null&&u.id))throw new Error("No hay cliente cargado");const b={};if(typeof p.phone=="string"&&p.phone.trim()!==""&&(b.phone=p.phone),typeof p.address=="string"&&p.address.trim()!==""&&(b.address=p.address),Object.keys(b).length===0)throw new Error("No hay datos para actualizar");await V.patch(`/clients/${u.id}`,b),d(S=>({...S,...b})),c("Perfil actualizado correctamente"),setTimeout(()=>c(null),3e3)}catch(b){console.error("Error updating profile:",b),a(((y=(f=b.response)==null?void 0:f.data)==null?void 0:y.message)||"Error al actualizar el perfil")}finally{s(!1)}};return o.jsx(un.Fragment,{children:o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-secondary tracking-tight",children:"Mi Perfil"}),o.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-300",children:"Gestiona tu informacin personal"})]}),o.jsxs("div",{className:"flex flex-col md:flex-row gap-6",children:[o.jsxs(Q,{className:"flex-1 p-6 shadow-md border border-gray-200 dark:border-slate-800",children:[o.jsxs("h2",{className:"text-xl font-bold text-primary dark:text-secondary mb-4 flex items-center gap-2",children:[o.jsx(Sr,{className:"w-6 h-6"})," Mi Perfil"]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(du,{className:"w-5 h-5 text-gray-500 dark:text-gray-400"}),o.jsx("span",{className:"font-medium text-gray-900 dark:text-gray-200",children:(e==null?void 0:e.email)||"-"})]}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(Sr,{className:"w-5 h-5 text-gray-500 dark:text-gray-400"}),o.jsx("span",{className:"font-medium text-gray-900 dark:text-gray-200",children:(u==null?void 0:u.name)||"-"})]}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(w2,{className:"w-5 h-5 text-gray-500 dark:text-gray-400"}),o.jsx("span",{className:"font-medium text-gray-900 dark:text-gray-200",children:(u==null?void 0:u.phone)||"-"})]}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(d2,{className:"w-5 h-5 text-gray-500 dark:text-gray-400"}),o.jsx("span",{className:"font-medium text-gray-900 dark:text-gray-200",children:(u==null?void 0:u.address)||"-"})]})]})]}),o.jsxs(Q,{className:"flex-1 p-6 shadow-md border border-gray-200 dark:border-slate-800",children:[o.jsxs("h3",{className:"font-semibold text-primary dark:text-secondary mb-4 flex items-center gap-2",children:[o.jsx(Yl,{className:"w-5 h-5"})," Editar informacin personal"]}),o.jsxs("form",{onSubmit:v,className:"space-y-4",children:[i&&o.jsxs("div",{className:"flex items-center gap-2 p-3 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg text-red-600 dark:text-red-400 text-sm",children:[o.jsx(Ds,{className:"w-4 h-4 shrink-0"}),o.jsx("span",{children:i})]}),l&&o.jsxs("div",{className:"flex items-center gap-2 p-3 bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-lg text-green-600 dark:text-green-400 text-sm",children:[o.jsx(kt,{className:"w-4 h-4 shrink-0"}),o.jsx("span",{children:l})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(ee,{label:"Telfono",name:"phone",value:p.phone||"",onChange:g,placeholder:"+52 123 456 7890"}),o.jsx(ee,{label:"Direccin",name:"address",value:p.address||"",onChange:g,placeholder:"Tu direccin completa"})]}),o.jsx("div",{className:"flex justify-end pt-2",children:o.jsxs(H,{type:"submit",disabled:r||!(p.phone!==(u==null?void 0:u.phone)||p.address!==(u==null?void 0:u.address)),className:p.phone!==(u==null?void 0:u.phone)||p.address!==(u==null?void 0:u.address)?"dark:text-secondary":"opacity-60 cursor-not-allowed",children:[o.jsx(v0,{className:"w-4 h-4 mr-2"}),r?"Guardando...":"Actualizar informacin"]})})]})]})]})]})})}Fk();function k_(){const{user:e,loading:t}=yn();return t?o.jsx("div",{style:{padding:20},children:"Cargando autenticacin..."}):o.jsxs(Wx,{children:[o.jsx(ge,{path:"/login",element:o.jsx(Z2,{})}),o.jsx(ge,{path:"/",element:e?o.jsx(ls,{to:e.role==="admin"?"/admin":"/client",replace:!0}):o.jsx(ls,{to:"/login",replace:!0})}),o.jsxs(ge,{path:"/admin",element:o.jsx(If,{roles:["admin"],children:o.jsx(Tf,{})}),children:[o.jsx(ge,{index:!0,element:o.jsx(r_,{})}),o.jsx(ge,{path:"clients",element:o.jsx(s_,{})}),o.jsx(ge,{path:"client/:uid",element:o.jsx(l_,{})}),o.jsx(ge,{path:"subscriptions",element:o.jsx(o_,{})}),o.jsx(ge,{path:"communication",element:o.jsx(h_,{})}),o.jsx(ge,{path:"automation",element:o.jsx(p_,{})}),o.jsx(ge,{path:"users",element:o.jsx(g_,{})}),o.jsx(ge,{path:"me",element:o.jsx(m_,{})})]}),o.jsxs(ge,{path:"/client/*",element:o.jsx(If,{roles:["client"],children:o.jsx(Tf,{})}),children:[o.jsx(ge,{index:!0,element:o.jsx(y_,{})}),o.jsx(ge,{path:"subscription",element:o.jsx(x_,{})}),o.jsx(ge,{path:"payments",element:o.jsx(v_,{})}),o.jsx(ge,{path:"profile",element:o.jsx(w_,{})})]}),o.jsx(ge,{path:"*",element:o.jsx(ls,{to:"/",replace:!0})})]})}Vp(document.getElementById("root")).render(o.jsx(un.StrictMode,{children:o.jsx(Zx,{basename:"/suscriptions",children:o.jsx(yN,{children:o.jsx(e_,{children:o.jsx(k_,{})})})})}));

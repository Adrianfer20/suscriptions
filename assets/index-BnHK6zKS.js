function $g(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in e)){const a=Object.getOwnPropertyDescriptor(r,s);a&&Object.defineProperty(e,s,a.get?a:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(s){if(s.ep)return;s.ep=!0;const a=n(s);fetch(s.href,a)}})();function Bg(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Rh={exports:{}},ho={},Ph={exports:{}},X={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ga=Symbol.for("react.element"),Hg=Symbol.for("react.portal"),Vg=Symbol.for("react.fragment"),Wg=Symbol.for("react.strict_mode"),qg=Symbol.for("react.profiler"),Kg=Symbol.for("react.provider"),Gg=Symbol.for("react.context"),Qg=Symbol.for("react.forward_ref"),Jg=Symbol.for("react.suspense"),Yg=Symbol.for("react.memo"),Xg=Symbol.for("react.lazy"),gd=Symbol.iterator;function Zg(e){return e===null||typeof e!="object"?null:(e=gd&&e[gd]||e["@@iterator"],typeof e=="function"?e:null)}var Ah={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Oh=Object.assign,Dh={};function as(e,t,n){this.props=e,this.context=t,this.refs=Dh,this.updater=n||Ah}as.prototype.isReactComponent={};as.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};as.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Lh(){}Lh.prototype=as.prototype;function Qc(e,t,n){this.props=e,this.context=t,this.refs=Dh,this.updater=n||Ah}var Jc=Qc.prototype=new Lh;Jc.constructor=Qc;Oh(Jc,as.prototype);Jc.isPureReactComponent=!0;var xd=Array.isArray,Mh=Object.prototype.hasOwnProperty,Yc={current:null},zh={key:!0,ref:!0,__self:!0,__source:!0};function Uh(e,t,n){var r,s={},a=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(a=""+t.key),t)Mh.call(t,r)&&!zh.hasOwnProperty(r)&&(s[r]=t[r]);var l=arguments.length-2;if(l===1)s.children=n;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(r in l=e.defaultProps,l)s[r]===void 0&&(s[r]=l[r]);return{$$typeof:ga,type:e,key:a,ref:o,props:s,_owner:Yc.current}}function ex(e,t){return{$$typeof:ga,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Xc(e){return typeof e=="object"&&e!==null&&e.$$typeof===ga}function tx(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var vd=/\/+/g;function Go(e,t){return typeof e=="object"&&e!==null&&e.key!=null?tx(""+e.key):t.toString(36)}function ii(e,t,n,r,s){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(a){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case ga:case Hg:o=!0}}if(o)return o=e,s=s(o),e=r===""?"."+Go(o,0):r,xd(s)?(n="",e!=null&&(n=e.replace(vd,"$&/")+"/"),ii(s,t,n,"",function(u){return u})):s!=null&&(Xc(s)&&(s=ex(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(vd,"$&/")+"/")+e)),t.push(s)),1;if(o=0,r=r===""?".":r+":",xd(e))for(var l=0;l<e.length;l++){a=e[l];var c=r+Go(a,l);o+=ii(a,t,n,c,s)}else if(c=Zg(e),typeof c=="function")for(e=c.call(e),l=0;!(a=e.next()).done;)a=a.value,c=r+Go(a,l++),o+=ii(a,t,n,c,s);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Fa(e,t,n){if(e==null)return e;var r=[],s=0;return ii(e,r,"","",function(a){return t.call(n,a,s++)}),r}function nx(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Ge={current:null},oi={transition:null},rx={ReactCurrentDispatcher:Ge,ReactCurrentBatchConfig:oi,ReactCurrentOwner:Yc};function Fh(){throw Error("act(...) is not supported in production builds of React.")}X.Children={map:Fa,forEach:function(e,t,n){Fa(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Fa(e,function(){t++}),t},toArray:function(e){return Fa(e,function(t){return t})||[]},only:function(e){if(!Xc(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};X.Component=as;X.Fragment=Vg;X.Profiler=qg;X.PureComponent=Qc;X.StrictMode=Wg;X.Suspense=Jg;X.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=rx;X.act=Fh;X.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=Oh({},e.props),s=e.key,a=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,o=Yc.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)Mh.call(t,c)&&!zh.hasOwnProperty(c)&&(r[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:ga,type:e.type,key:s,ref:a,props:r,_owner:o}};X.createContext=function(e){return e={$$typeof:Gg,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Kg,_context:e},e.Consumer=e};X.createElement=Uh;X.createFactory=function(e){var t=Uh.bind(null,e);return t.type=e,t};X.createRef=function(){return{current:null}};X.forwardRef=function(e){return{$$typeof:Qg,render:e}};X.isValidElement=Xc;X.lazy=function(e){return{$$typeof:Xg,_payload:{_status:-1,_result:e},_init:nx}};X.memo=function(e,t){return{$$typeof:Yg,type:e,compare:t===void 0?null:t}};X.startTransition=function(e){var t=oi.transition;oi.transition={};try{e()}finally{oi.transition=t}};X.unstable_act=Fh;X.useCallback=function(e,t){return Ge.current.useCallback(e,t)};X.useContext=function(e){return Ge.current.useContext(e)};X.useDebugValue=function(){};X.useDeferredValue=function(e){return Ge.current.useDeferredValue(e)};X.useEffect=function(e,t){return Ge.current.useEffect(e,t)};X.useId=function(){return Ge.current.useId()};X.useImperativeHandle=function(e,t,n){return Ge.current.useImperativeHandle(e,t,n)};X.useInsertionEffect=function(e,t){return Ge.current.useInsertionEffect(e,t)};X.useLayoutEffect=function(e,t){return Ge.current.useLayoutEffect(e,t)};X.useMemo=function(e,t){return Ge.current.useMemo(e,t)};X.useReducer=function(e,t,n){return Ge.current.useReducer(e,t,n)};X.useRef=function(e){return Ge.current.useRef(e)};X.useState=function(e){return Ge.current.useState(e)};X.useSyncExternalStore=function(e,t,n){return Ge.current.useSyncExternalStore(e,t,n)};X.useTransition=function(){return Ge.current.useTransition()};X.version="18.3.1";Ph.exports=X;var v=Ph.exports;const Bn=Bg(v),sx=$g({__proto__:null,default:Bn},[v]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ax=v,ix=Symbol.for("react.element"),ox=Symbol.for("react.fragment"),lx=Object.prototype.hasOwnProperty,cx=ax.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,ux={key:!0,ref:!0,__self:!0,__source:!0};function $h(e,t,n){var r,s={},a=null,o=null;n!==void 0&&(a=""+n),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)lx.call(t,r)&&!ux.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)s[r]===void 0&&(s[r]=t[r]);return{$$typeof:ix,type:e,key:a,ref:o,props:s,_owner:cx.current}}ho.Fragment=ox;ho.jsx=$h;ho.jsxs=$h;Rh.exports=ho;var i=Rh.exports,Bh={exports:{}},ut={},Hh={exports:{}},Vh={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(_,A){var I=_.length;_.push(A);e:for(;0<I;){var O=I-1>>>1,U=_[O];if(0<s(U,A))_[O]=A,_[I]=U,I=O;else break e}}function n(_){return _.length===0?null:_[0]}function r(_){if(_.length===0)return null;var A=_[0],I=_.pop();if(I!==A){_[0]=I;e:for(var O=0,U=_.length,J=U>>>1;O<J;){var W=2*(O+1)-1,Z=_[W],oe=W+1,Y=_[oe];if(0>s(Z,I))oe<U&&0>s(Y,Z)?(_[O]=Y,_[oe]=I,O=oe):(_[O]=Z,_[W]=I,O=W);else if(oe<U&&0>s(Y,I))_[O]=Y,_[oe]=I,O=oe;else break e}}return A}function s(_,A){var I=_.sortIndex-A.sortIndex;return I!==0?I:_.id-A.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,f=null,p=3,b=!1,y=!1,g=!1,w=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,h=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(_){for(var A=n(u);A!==null;){if(A.callback===null)r(u);else if(A.startTime<=_)r(u),A.sortIndex=A.expirationTime,t(c,A);else break;A=n(u)}}function k(_){if(g=!1,x(_),!y)if(n(c)!==null)y=!0,H(j);else{var A=n(u);A!==null&&L(k,A.startTime-_)}}function j(_,A){y=!1,g&&(g=!1,m(T),T=-1),b=!0;var I=p;try{for(x(A),f=n(c);f!==null&&(!(f.expirationTime>A)||_&&!Q());){var O=f.callback;if(typeof O=="function"){f.callback=null,p=f.priorityLevel;var U=O(f.expirationTime<=A);A=e.unstable_now(),typeof U=="function"?f.callback=U:f===n(c)&&r(c),x(A)}else r(c);f=n(c)}if(f!==null)var J=!0;else{var W=n(u);W!==null&&L(k,W.startTime-A),J=!1}return J}finally{f=null,p=I,b=!1}}var N=!1,S=null,T=-1,z=5,$=-1;function Q(){return!(e.unstable_now()-$<z)}function ae(){if(S!==null){var _=e.unstable_now();$=_;var A=!0;try{A=S(!0,_)}finally{A?le():(N=!1,S=null)}}else N=!1}var le;if(typeof h=="function")le=function(){h(ae)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,te=D.port2;D.port1.onmessage=ae,le=function(){te.postMessage(null)}}else le=function(){w(ae,0)};function H(_){S=_,N||(N=!0,le())}function L(_,A){T=w(function(){_(e.unstable_now())},A)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(_){_.callback=null},e.unstable_continueExecution=function(){y||b||(y=!0,H(j))},e.unstable_forceFrameRate=function(_){0>_||125<_?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):z=0<_?Math.floor(1e3/_):5},e.unstable_getCurrentPriorityLevel=function(){return p},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(_){switch(p){case 1:case 2:case 3:var A=3;break;default:A=p}var I=p;p=A;try{return _()}finally{p=I}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(_,A){switch(_){case 1:case 2:case 3:case 4:case 5:break;default:_=3}var I=p;p=_;try{return A()}finally{p=I}},e.unstable_scheduleCallback=function(_,A,I){var O=e.unstable_now();switch(typeof I=="object"&&I!==null?(I=I.delay,I=typeof I=="number"&&0<I?O+I:O):I=O,_){case 1:var U=-1;break;case 2:U=250;break;case 5:U=1073741823;break;case 4:U=1e4;break;default:U=5e3}return U=I+U,_={id:d++,callback:A,priorityLevel:_,startTime:I,expirationTime:U,sortIndex:-1},I>O?(_.sortIndex=I,t(u,_),n(c)===null&&_===n(u)&&(g?(m(T),T=-1):g=!0,L(k,I-O))):(_.sortIndex=U,t(c,_),y||b||(y=!0,H(j))),_},e.unstable_shouldYield=Q,e.unstable_wrapCallback=function(_){var A=p;return function(){var I=p;p=A;try{return _.apply(this,arguments)}finally{p=I}}}})(Vh);Hh.exports=Vh;var dx=Hh.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fx=v,ct=dx;function P(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Wh=new Set,$s={};function yr(e,t){Gr(e,t),Gr(e+"Capture",t)}function Gr(e,t){for($s[e]=t,e=0;e<t.length;e++)Wh.add(t[e])}var rn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ll=Object.prototype.hasOwnProperty,hx=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,yd={},wd={};function px(e){return Ll.call(wd,e)?!0:Ll.call(yd,e)?!1:hx.test(e)?wd[e]=!0:(yd[e]=!0,!1)}function mx(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function gx(e,t,n,r){if(t===null||typeof t>"u"||mx(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Qe(e,t,n,r,s,a,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var Me={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Me[e]=new Qe(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Me[t]=new Qe(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Me[e]=new Qe(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Me[e]=new Qe(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Me[e]=new Qe(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Me[e]=new Qe(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Me[e]=new Qe(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Me[e]=new Qe(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Me[e]=new Qe(e,5,!1,e.toLowerCase(),null,!1,!1)});var Zc=/[\-:]([a-z])/g;function eu(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Zc,eu);Me[t]=new Qe(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Zc,eu);Me[t]=new Qe(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Zc,eu);Me[t]=new Qe(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Me[e]=new Qe(e,1,!1,e.toLowerCase(),null,!1,!1)});Me.xlinkHref=new Qe("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Me[e]=new Qe(e,1,!1,e.toLowerCase(),null,!0,!0)});function tu(e,t,n,r){var s=Me.hasOwnProperty(t)?Me[t]:null;(s!==null?s.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(gx(t,n,s,r)&&(n=null),r||s===null?px(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,r=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var un=fx.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,$a=Symbol.for("react.element"),Sr=Symbol.for("react.portal"),Er=Symbol.for("react.fragment"),nu=Symbol.for("react.strict_mode"),Ml=Symbol.for("react.profiler"),qh=Symbol.for("react.provider"),Kh=Symbol.for("react.context"),ru=Symbol.for("react.forward_ref"),zl=Symbol.for("react.suspense"),Ul=Symbol.for("react.suspense_list"),su=Symbol.for("react.memo"),vn=Symbol.for("react.lazy"),Gh=Symbol.for("react.offscreen"),bd=Symbol.iterator;function ms(e){return e===null||typeof e!="object"?null:(e=bd&&e[bd]||e["@@iterator"],typeof e=="function"?e:null)}var we=Object.assign,Qo;function Ss(e){if(Qo===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Qo=t&&t[1]||""}return`
`+Qo+e}var Jo=!1;function Yo(e,t){if(!e||Jo)return"";Jo=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),a=r.stack.split(`
`),o=s.length-1,l=a.length-1;1<=o&&0<=l&&s[o]!==a[l];)l--;for(;1<=o&&0<=l;o--,l--)if(s[o]!==a[l]){if(o!==1||l!==1)do if(o--,l--,0>l||s[o]!==a[l]){var c=`
`+s[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=l);break}}}finally{Jo=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Ss(e):""}function xx(e){switch(e.tag){case 5:return Ss(e.type);case 16:return Ss("Lazy");case 13:return Ss("Suspense");case 19:return Ss("SuspenseList");case 0:case 2:case 15:return e=Yo(e.type,!1),e;case 11:return e=Yo(e.type.render,!1),e;case 1:return e=Yo(e.type,!0),e;default:return""}}function Fl(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Er:return"Fragment";case Sr:return"Portal";case Ml:return"Profiler";case nu:return"StrictMode";case zl:return"Suspense";case Ul:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Kh:return(e.displayName||"Context")+".Consumer";case qh:return(e._context.displayName||"Context")+".Provider";case ru:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case su:return t=e.displayName||null,t!==null?t:Fl(e.type)||"Memo";case vn:t=e._payload,e=e._init;try{return Fl(e(t))}catch{}}return null}function vx(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Fl(t);case 8:return t===nu?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Hn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Qh(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function yx(e){var t=Qh(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,a.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Ba(e){e._valueTracker||(e._valueTracker=yx(e))}function Jh(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Qh(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function _i(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function $l(e,t){var n=t.checked;return we({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function kd(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Hn(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Yh(e,t){t=t.checked,t!=null&&tu(e,"checked",t,!1)}function Bl(e,t){Yh(e,t);var n=Hn(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Hl(e,t.type,n):t.hasOwnProperty("defaultValue")&&Hl(e,t.type,Hn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Nd(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Hl(e,t,n){(t!=="number"||_i(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Es=Array.isArray;function Ur(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Hn(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,r&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function Vl(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(P(91));return we({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function jd(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(P(92));if(Es(n)){if(1<n.length)throw Error(P(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Hn(n)}}function Xh(e,t){var n=Hn(t.value),r=Hn(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Sd(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Zh(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Wl(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Zh(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Ha,ep=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Ha=Ha||document.createElement("div"),Ha.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Ha.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Bs(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Rs={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},wx=["Webkit","ms","Moz","O"];Object.keys(Rs).forEach(function(e){wx.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Rs[t]=Rs[e]})});function tp(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Rs.hasOwnProperty(e)&&Rs[e]?(""+t).trim():t+"px"}function np(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=tp(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}var bx=we({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ql(e,t){if(t){if(bx[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(P(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(P(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(P(61))}if(t.style!=null&&typeof t.style!="object")throw Error(P(62))}}function Kl(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Gl=null;function au(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ql=null,Fr=null,$r=null;function Ed(e){if(e=ya(e)){if(typeof Ql!="function")throw Error(P(280));var t=e.stateNode;t&&(t=vo(t),Ql(e.stateNode,e.type,t))}}function rp(e){Fr?$r?$r.push(e):$r=[e]:Fr=e}function sp(){if(Fr){var e=Fr,t=$r;if($r=Fr=null,Ed(e),t)for(e=0;e<t.length;e++)Ed(t[e])}}function ap(e,t){return e(t)}function ip(){}var Xo=!1;function op(e,t,n){if(Xo)return e(t,n);Xo=!0;try{return ap(e,t,n)}finally{Xo=!1,(Fr!==null||$r!==null)&&(ip(),sp())}}function Hs(e,t){var n=e.stateNode;if(n===null)return null;var r=vo(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(P(231,t,typeof n));return n}var Jl=!1;if(rn)try{var gs={};Object.defineProperty(gs,"passive",{get:function(){Jl=!0}}),window.addEventListener("test",gs,gs),window.removeEventListener("test",gs,gs)}catch{Jl=!1}function kx(e,t,n,r,s,a,o,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(d){this.onError(d)}}var Ps=!1,Ci=null,Ii=!1,Yl=null,Nx={onError:function(e){Ps=!0,Ci=e}};function jx(e,t,n,r,s,a,o,l,c){Ps=!1,Ci=null,kx.apply(Nx,arguments)}function Sx(e,t,n,r,s,a,o,l,c){if(jx.apply(this,arguments),Ps){if(Ps){var u=Ci;Ps=!1,Ci=null}else throw Error(P(198));Ii||(Ii=!0,Yl=u)}}function wr(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function lp(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function _d(e){if(wr(e)!==e)throw Error(P(188))}function Ex(e){var t=e.alternate;if(!t){if(t=wr(e),t===null)throw Error(P(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(s===null)break;var a=s.alternate;if(a===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===a.child){for(a=s.child;a;){if(a===n)return _d(s),e;if(a===r)return _d(s),t;a=a.sibling}throw Error(P(188))}if(n.return!==r.return)n=s,r=a;else{for(var o=!1,l=s.child;l;){if(l===n){o=!0,n=s,r=a;break}if(l===r){o=!0,r=s,n=a;break}l=l.sibling}if(!o){for(l=a.child;l;){if(l===n){o=!0,n=a,r=s;break}if(l===r){o=!0,r=a,n=s;break}l=l.sibling}if(!o)throw Error(P(189))}}if(n.alternate!==r)throw Error(P(190))}if(n.tag!==3)throw Error(P(188));return n.stateNode.current===n?e:t}function cp(e){return e=Ex(e),e!==null?up(e):null}function up(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=up(e);if(t!==null)return t;e=e.sibling}return null}var dp=ct.unstable_scheduleCallback,Cd=ct.unstable_cancelCallback,_x=ct.unstable_shouldYield,Cx=ct.unstable_requestPaint,je=ct.unstable_now,Ix=ct.unstable_getCurrentPriorityLevel,iu=ct.unstable_ImmediatePriority,fp=ct.unstable_UserBlockingPriority,Ti=ct.unstable_NormalPriority,Tx=ct.unstable_LowPriority,hp=ct.unstable_IdlePriority,po=null,Ft=null;function Rx(e){if(Ft&&typeof Ft.onCommitFiberRoot=="function")try{Ft.onCommitFiberRoot(po,e,void 0,(e.current.flags&128)===128)}catch{}}var Ct=Math.clz32?Math.clz32:Ox,Px=Math.log,Ax=Math.LN2;function Ox(e){return e>>>=0,e===0?32:31-(Px(e)/Ax|0)|0}var Va=64,Wa=4194304;function _s(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Ri(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,s=e.suspendedLanes,a=e.pingedLanes,o=n&268435455;if(o!==0){var l=o&~s;l!==0?r=_s(l):(a&=o,a!==0&&(r=_s(a)))}else o=n&~s,o!==0?r=_s(o):a!==0&&(r=_s(a));if(r===0)return 0;if(t!==0&&t!==r&&!(t&s)&&(s=r&-r,a=t&-t,s>=a||s===16&&(a&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Ct(t),s=1<<n,r|=e[n],t&=~s;return r}function Dx(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Lx(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-Ct(a),l=1<<o,c=s[o];c===-1?(!(l&n)||l&r)&&(s[o]=Dx(l,t)):c<=t&&(e.expiredLanes|=l),a&=~l}}function Xl(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function pp(){var e=Va;return Va<<=1,!(Va&4194240)&&(Va=64),e}function Zo(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function xa(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Ct(t),e[t]=n}function Mx(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-Ct(n),a=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~a}}function ou(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Ct(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var ue=0;function mp(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var gp,lu,xp,vp,yp,Zl=!1,qa=[],Rn=null,Pn=null,An=null,Vs=new Map,Ws=new Map,wn=[],zx="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Id(e,t){switch(e){case"focusin":case"focusout":Rn=null;break;case"dragenter":case"dragleave":Pn=null;break;case"mouseover":case"mouseout":An=null;break;case"pointerover":case"pointerout":Vs.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ws.delete(t.pointerId)}}function xs(e,t,n,r,s,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[s]},t!==null&&(t=ya(t),t!==null&&lu(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function Ux(e,t,n,r,s){switch(t){case"focusin":return Rn=xs(Rn,e,t,n,r,s),!0;case"dragenter":return Pn=xs(Pn,e,t,n,r,s),!0;case"mouseover":return An=xs(An,e,t,n,r,s),!0;case"pointerover":var a=s.pointerId;return Vs.set(a,xs(Vs.get(a)||null,e,t,n,r,s)),!0;case"gotpointercapture":return a=s.pointerId,Ws.set(a,xs(Ws.get(a)||null,e,t,n,r,s)),!0}return!1}function wp(e){var t=tr(e.target);if(t!==null){var n=wr(t);if(n!==null){if(t=n.tag,t===13){if(t=lp(n),t!==null){e.blockedOn=t,yp(e.priority,function(){xp(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function li(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=ec(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Gl=r,n.target.dispatchEvent(r),Gl=null}else return t=ya(n),t!==null&&lu(t),e.blockedOn=n,!1;t.shift()}return!0}function Td(e,t,n){li(e)&&n.delete(t)}function Fx(){Zl=!1,Rn!==null&&li(Rn)&&(Rn=null),Pn!==null&&li(Pn)&&(Pn=null),An!==null&&li(An)&&(An=null),Vs.forEach(Td),Ws.forEach(Td)}function vs(e,t){e.blockedOn===t&&(e.blockedOn=null,Zl||(Zl=!0,ct.unstable_scheduleCallback(ct.unstable_NormalPriority,Fx)))}function qs(e){function t(s){return vs(s,e)}if(0<qa.length){vs(qa[0],e);for(var n=1;n<qa.length;n++){var r=qa[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Rn!==null&&vs(Rn,e),Pn!==null&&vs(Pn,e),An!==null&&vs(An,e),Vs.forEach(t),Ws.forEach(t),n=0;n<wn.length;n++)r=wn[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<wn.length&&(n=wn[0],n.blockedOn===null);)wp(n),n.blockedOn===null&&wn.shift()}var Br=un.ReactCurrentBatchConfig,Pi=!0;function $x(e,t,n,r){var s=ue,a=Br.transition;Br.transition=null;try{ue=1,cu(e,t,n,r)}finally{ue=s,Br.transition=a}}function Bx(e,t,n,r){var s=ue,a=Br.transition;Br.transition=null;try{ue=4,cu(e,t,n,r)}finally{ue=s,Br.transition=a}}function cu(e,t,n,r){if(Pi){var s=ec(e,t,n,r);if(s===null)cl(e,t,r,Ai,n),Id(e,r);else if(Ux(s,e,t,n,r))r.stopPropagation();else if(Id(e,r),t&4&&-1<zx.indexOf(e)){for(;s!==null;){var a=ya(s);if(a!==null&&gp(a),a=ec(e,t,n,r),a===null&&cl(e,t,r,Ai,n),a===s)break;s=a}s!==null&&r.stopPropagation()}else cl(e,t,r,null,n)}}var Ai=null;function ec(e,t,n,r){if(Ai=null,e=au(r),e=tr(e),e!==null)if(t=wr(e),t===null)e=null;else if(n=t.tag,n===13){if(e=lp(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Ai=e,null}function bp(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ix()){case iu:return 1;case fp:return 4;case Ti:case Tx:return 16;case hp:return 536870912;default:return 16}default:return 16}}var Cn=null,uu=null,ci=null;function kp(){if(ci)return ci;var e,t=uu,n=t.length,r,s="value"in Cn?Cn.value:Cn.textContent,a=s.length;for(e=0;e<n&&t[e]===s[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===s[a-r];r++);return ci=s.slice(e,1<r?1-r:void 0)}function ui(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Ka(){return!0}function Rd(){return!1}function dt(e){function t(n,r,s,a,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=a,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(a):a[l]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?Ka:Rd,this.isPropagationStopped=Rd,this}return we(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ka)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ka)},persist:function(){},isPersistent:Ka}),t}var is={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},du=dt(is),va=we({},is,{view:0,detail:0}),Hx=dt(va),el,tl,ys,mo=we({},va,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:fu,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ys&&(ys&&e.type==="mousemove"?(el=e.screenX-ys.screenX,tl=e.screenY-ys.screenY):tl=el=0,ys=e),el)},movementY:function(e){return"movementY"in e?e.movementY:tl}}),Pd=dt(mo),Vx=we({},mo,{dataTransfer:0}),Wx=dt(Vx),qx=we({},va,{relatedTarget:0}),nl=dt(qx),Kx=we({},is,{animationName:0,elapsedTime:0,pseudoElement:0}),Gx=dt(Kx),Qx=we({},is,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Jx=dt(Qx),Yx=we({},is,{data:0}),Ad=dt(Yx),Xx={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Zx={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ev={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function tv(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=ev[e])?!!t[e]:!1}function fu(){return tv}var nv=we({},va,{key:function(e){if(e.key){var t=Xx[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=ui(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Zx[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:fu,charCode:function(e){return e.type==="keypress"?ui(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ui(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),rv=dt(nv),sv=we({},mo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Od=dt(sv),av=we({},va,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:fu}),iv=dt(av),ov=we({},is,{propertyName:0,elapsedTime:0,pseudoElement:0}),lv=dt(ov),cv=we({},mo,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),uv=dt(cv),dv=[9,13,27,32],hu=rn&&"CompositionEvent"in window,As=null;rn&&"documentMode"in document&&(As=document.documentMode);var fv=rn&&"TextEvent"in window&&!As,Np=rn&&(!hu||As&&8<As&&11>=As),Dd=" ",Ld=!1;function jp(e,t){switch(e){case"keyup":return dv.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Sp(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var _r=!1;function hv(e,t){switch(e){case"compositionend":return Sp(t);case"keypress":return t.which!==32?null:(Ld=!0,Dd);case"textInput":return e=t.data,e===Dd&&Ld?null:e;default:return null}}function pv(e,t){if(_r)return e==="compositionend"||!hu&&jp(e,t)?(e=kp(),ci=uu=Cn=null,_r=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Np&&t.locale!=="ko"?null:t.data;default:return null}}var mv={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Md(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!mv[e.type]:t==="textarea"}function Ep(e,t,n,r){rp(r),t=Oi(t,"onChange"),0<t.length&&(n=new du("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Os=null,Ks=null;function gv(e){Mp(e,0)}function go(e){var t=Tr(e);if(Jh(t))return e}function xv(e,t){if(e==="change")return t}var _p=!1;if(rn){var rl;if(rn){var sl="oninput"in document;if(!sl){var zd=document.createElement("div");zd.setAttribute("oninput","return;"),sl=typeof zd.oninput=="function"}rl=sl}else rl=!1;_p=rl&&(!document.documentMode||9<document.documentMode)}function Ud(){Os&&(Os.detachEvent("onpropertychange",Cp),Ks=Os=null)}function Cp(e){if(e.propertyName==="value"&&go(Ks)){var t=[];Ep(t,Ks,e,au(e)),op(gv,t)}}function vv(e,t,n){e==="focusin"?(Ud(),Os=t,Ks=n,Os.attachEvent("onpropertychange",Cp)):e==="focusout"&&Ud()}function yv(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return go(Ks)}function wv(e,t){if(e==="click")return go(t)}function bv(e,t){if(e==="input"||e==="change")return go(t)}function kv(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Tt=typeof Object.is=="function"?Object.is:kv;function Gs(e,t){if(Tt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Ll.call(t,s)||!Tt(e[s],t[s]))return!1}return!0}function Fd(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function $d(e,t){var n=Fd(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Fd(n)}}function Ip(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Ip(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Tp(){for(var e=window,t=_i();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=_i(e.document)}return t}function pu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Nv(e){var t=Tp(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Ip(n.ownerDocument.documentElement,n)){if(r!==null&&pu(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,a=Math.min(r.start,s);r=r.end===void 0?a:Math.min(r.end,s),!e.extend&&a>r&&(s=r,r=a,a=s),s=$d(n,a);var o=$d(n,r);s&&o&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var jv=rn&&"documentMode"in document&&11>=document.documentMode,Cr=null,tc=null,Ds=null,nc=!1;function Bd(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;nc||Cr==null||Cr!==_i(r)||(r=Cr,"selectionStart"in r&&pu(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Ds&&Gs(Ds,r)||(Ds=r,r=Oi(tc,"onSelect"),0<r.length&&(t=new du("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Cr)))}function Ga(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Ir={animationend:Ga("Animation","AnimationEnd"),animationiteration:Ga("Animation","AnimationIteration"),animationstart:Ga("Animation","AnimationStart"),transitionend:Ga("Transition","TransitionEnd")},al={},Rp={};rn&&(Rp=document.createElement("div").style,"AnimationEvent"in window||(delete Ir.animationend.animation,delete Ir.animationiteration.animation,delete Ir.animationstart.animation),"TransitionEvent"in window||delete Ir.transitionend.transition);function xo(e){if(al[e])return al[e];if(!Ir[e])return e;var t=Ir[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Rp)return al[e]=t[n];return e}var Pp=xo("animationend"),Ap=xo("animationiteration"),Op=xo("animationstart"),Dp=xo("transitionend"),Lp=new Map,Hd="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Wn(e,t){Lp.set(e,t),yr(t,[e])}for(var il=0;il<Hd.length;il++){var ol=Hd[il],Sv=ol.toLowerCase(),Ev=ol[0].toUpperCase()+ol.slice(1);Wn(Sv,"on"+Ev)}Wn(Pp,"onAnimationEnd");Wn(Ap,"onAnimationIteration");Wn(Op,"onAnimationStart");Wn("dblclick","onDoubleClick");Wn("focusin","onFocus");Wn("focusout","onBlur");Wn(Dp,"onTransitionEnd");Gr("onMouseEnter",["mouseout","mouseover"]);Gr("onMouseLeave",["mouseout","mouseover"]);Gr("onPointerEnter",["pointerout","pointerover"]);Gr("onPointerLeave",["pointerout","pointerover"]);yr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));yr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));yr("onBeforeInput",["compositionend","keypress","textInput","paste"]);yr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));yr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));yr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Cs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),_v=new Set("cancel close invalid load scroll toggle".split(" ").concat(Cs));function Vd(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,Sx(r,t,void 0,e),e.currentTarget=null}function Mp(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var l=r[o],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==a&&s.isPropagationStopped())break e;Vd(s,l,u),a=c}else for(o=0;o<r.length;o++){if(l=r[o],c=l.instance,u=l.currentTarget,l=l.listener,c!==a&&s.isPropagationStopped())break e;Vd(s,l,u),a=c}}}if(Ii)throw e=Yl,Ii=!1,Yl=null,e}function pe(e,t){var n=t[oc];n===void 0&&(n=t[oc]=new Set);var r=e+"__bubble";n.has(r)||(zp(t,e,2,!1),n.add(r))}function ll(e,t,n){var r=0;t&&(r|=4),zp(n,e,r,t)}var Qa="_reactListening"+Math.random().toString(36).slice(2);function Qs(e){if(!e[Qa]){e[Qa]=!0,Wh.forEach(function(n){n!=="selectionchange"&&(_v.has(n)||ll(n,!1,e),ll(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Qa]||(t[Qa]=!0,ll("selectionchange",!1,t))}}function zp(e,t,n,r){switch(bp(t)){case 1:var s=$x;break;case 4:s=Bx;break;default:s=cu}n=s.bind(null,t,n,e),s=void 0,!Jl||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),r?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function cl(e,t,n,r,s){var a=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;o=o.return}for(;l!==null;){if(o=tr(l),o===null)return;if(c=o.tag,c===5||c===6){r=a=o;continue e}l=l.parentNode}}r=r.return}op(function(){var u=a,d=au(n),f=[];e:{var p=Lp.get(e);if(p!==void 0){var b=du,y=e;switch(e){case"keypress":if(ui(n)===0)break e;case"keydown":case"keyup":b=rv;break;case"focusin":y="focus",b=nl;break;case"focusout":y="blur",b=nl;break;case"beforeblur":case"afterblur":b=nl;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":b=Pd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":b=Wx;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":b=iv;break;case Pp:case Ap:case Op:b=Gx;break;case Dp:b=lv;break;case"scroll":b=Hx;break;case"wheel":b=uv;break;case"copy":case"cut":case"paste":b=Jx;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":b=Od}var g=(t&4)!==0,w=!g&&e==="scroll",m=g?p!==null?p+"Capture":null:p;g=[];for(var h=u,x;h!==null;){x=h;var k=x.stateNode;if(x.tag===5&&k!==null&&(x=k,m!==null&&(k=Hs(h,m),k!=null&&g.push(Js(h,k,x)))),w)break;h=h.return}0<g.length&&(p=new b(p,y,null,n,d),f.push({event:p,listeners:g}))}}if(!(t&7)){e:{if(p=e==="mouseover"||e==="pointerover",b=e==="mouseout"||e==="pointerout",p&&n!==Gl&&(y=n.relatedTarget||n.fromElement)&&(tr(y)||y[sn]))break e;if((b||p)&&(p=d.window===d?d:(p=d.ownerDocument)?p.defaultView||p.parentWindow:window,b?(y=n.relatedTarget||n.toElement,b=u,y=y?tr(y):null,y!==null&&(w=wr(y),y!==w||y.tag!==5&&y.tag!==6)&&(y=null)):(b=null,y=u),b!==y)){if(g=Pd,k="onMouseLeave",m="onMouseEnter",h="mouse",(e==="pointerout"||e==="pointerover")&&(g=Od,k="onPointerLeave",m="onPointerEnter",h="pointer"),w=b==null?p:Tr(b),x=y==null?p:Tr(y),p=new g(k,h+"leave",b,n,d),p.target=w,p.relatedTarget=x,k=null,tr(d)===u&&(g=new g(m,h+"enter",y,n,d),g.target=x,g.relatedTarget=w,k=g),w=k,b&&y)t:{for(g=b,m=y,h=0,x=g;x;x=jr(x))h++;for(x=0,k=m;k;k=jr(k))x++;for(;0<h-x;)g=jr(g),h--;for(;0<x-h;)m=jr(m),x--;for(;h--;){if(g===m||m!==null&&g===m.alternate)break t;g=jr(g),m=jr(m)}g=null}else g=null;b!==null&&Wd(f,p,b,g,!1),y!==null&&w!==null&&Wd(f,w,y,g,!0)}}e:{if(p=u?Tr(u):window,b=p.nodeName&&p.nodeName.toLowerCase(),b==="select"||b==="input"&&p.type==="file")var j=xv;else if(Md(p))if(_p)j=bv;else{j=yv;var N=vv}else(b=p.nodeName)&&b.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(j=wv);if(j&&(j=j(e,u))){Ep(f,j,n,d);break e}N&&N(e,p,u),e==="focusout"&&(N=p._wrapperState)&&N.controlled&&p.type==="number"&&Hl(p,"number",p.value)}switch(N=u?Tr(u):window,e){case"focusin":(Md(N)||N.contentEditable==="true")&&(Cr=N,tc=u,Ds=null);break;case"focusout":Ds=tc=Cr=null;break;case"mousedown":nc=!0;break;case"contextmenu":case"mouseup":case"dragend":nc=!1,Bd(f,n,d);break;case"selectionchange":if(jv)break;case"keydown":case"keyup":Bd(f,n,d)}var S;if(hu)e:{switch(e){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else _r?jp(e,n)&&(T="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(T="onCompositionStart");T&&(Np&&n.locale!=="ko"&&(_r||T!=="onCompositionStart"?T==="onCompositionEnd"&&_r&&(S=kp()):(Cn=d,uu="value"in Cn?Cn.value:Cn.textContent,_r=!0)),N=Oi(u,T),0<N.length&&(T=new Ad(T,e,null,n,d),f.push({event:T,listeners:N}),S?T.data=S:(S=Sp(n),S!==null&&(T.data=S)))),(S=fv?hv(e,n):pv(e,n))&&(u=Oi(u,"onBeforeInput"),0<u.length&&(d=new Ad("onBeforeInput","beforeinput",null,n,d),f.push({event:d,listeners:u}),d.data=S))}Mp(f,t)})}function Js(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Oi(e,t){for(var n=t+"Capture",r=[];e!==null;){var s=e,a=s.stateNode;s.tag===5&&a!==null&&(s=a,a=Hs(e,n),a!=null&&r.unshift(Js(e,a,s)),a=Hs(e,t),a!=null&&r.push(Js(e,a,s))),e=e.return}return r}function jr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Wd(e,t,n,r,s){for(var a=t._reactName,o=[];n!==null&&n!==r;){var l=n,c=l.alternate,u=l.stateNode;if(c!==null&&c===r)break;l.tag===5&&u!==null&&(l=u,s?(c=Hs(n,a),c!=null&&o.unshift(Js(n,c,l))):s||(c=Hs(n,a),c!=null&&o.push(Js(n,c,l)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var Cv=/\r\n?/g,Iv=/\u0000|\uFFFD/g;function qd(e){return(typeof e=="string"?e:""+e).replace(Cv,`
`).replace(Iv,"")}function Ja(e,t,n){if(t=qd(t),qd(e)!==t&&n)throw Error(P(425))}function Di(){}var rc=null,sc=null;function ac(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var ic=typeof setTimeout=="function"?setTimeout:void 0,Tv=typeof clearTimeout=="function"?clearTimeout:void 0,Kd=typeof Promise=="function"?Promise:void 0,Rv=typeof queueMicrotask=="function"?queueMicrotask:typeof Kd<"u"?function(e){return Kd.resolve(null).then(e).catch(Pv)}:ic;function Pv(e){setTimeout(function(){throw e})}function ul(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){e.removeChild(s),qs(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);qs(t)}function On(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Gd(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var os=Math.random().toString(36).slice(2),Mt="__reactFiber$"+os,Ys="__reactProps$"+os,sn="__reactContainer$"+os,oc="__reactEvents$"+os,Av="__reactListeners$"+os,Ov="__reactHandles$"+os;function tr(e){var t=e[Mt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[sn]||n[Mt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Gd(e);e!==null;){if(n=e[Mt])return n;e=Gd(e)}return t}e=n,n=e.parentNode}return null}function ya(e){return e=e[Mt]||e[sn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Tr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(P(33))}function vo(e){return e[Ys]||null}var lc=[],Rr=-1;function qn(e){return{current:e}}function me(e){0>Rr||(e.current=lc[Rr],lc[Rr]=null,Rr--)}function he(e,t){Rr++,lc[Rr]=e.current,e.current=t}var Vn={},He=qn(Vn),Ze=qn(!1),ur=Vn;function Qr(e,t){var n=e.type.contextTypes;if(!n)return Vn;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s={},a;for(a in n)s[a]=t[a];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function et(e){return e=e.childContextTypes,e!=null}function Li(){me(Ze),me(He)}function Qd(e,t,n){if(He.current!==Vn)throw Error(P(168));he(He,t),he(Ze,n)}function Up(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in t))throw Error(P(108,vx(e)||"Unknown",s));return we({},n,r)}function Mi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Vn,ur=He.current,he(He,e),he(Ze,Ze.current),!0}function Jd(e,t,n){var r=e.stateNode;if(!r)throw Error(P(169));n?(e=Up(e,t,ur),r.__reactInternalMemoizedMergedChildContext=e,me(Ze),me(He),he(He,e)):me(Ze),he(Ze,n)}var Jt=null,yo=!1,dl=!1;function Fp(e){Jt===null?Jt=[e]:Jt.push(e)}function Dv(e){yo=!0,Fp(e)}function Kn(){if(!dl&&Jt!==null){dl=!0;var e=0,t=ue;try{var n=Jt;for(ue=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Jt=null,yo=!1}catch(s){throw Jt!==null&&(Jt=Jt.slice(e+1)),dp(iu,Kn),s}finally{ue=t,dl=!1}}return null}var Pr=[],Ar=0,zi=null,Ui=0,mt=[],gt=0,dr=null,Yt=1,Xt="";function Yn(e,t){Pr[Ar++]=Ui,Pr[Ar++]=zi,zi=e,Ui=t}function $p(e,t,n){mt[gt++]=Yt,mt[gt++]=Xt,mt[gt++]=dr,dr=e;var r=Yt;e=Xt;var s=32-Ct(r)-1;r&=~(1<<s),n+=1;var a=32-Ct(t)+s;if(30<a){var o=s-s%5;a=(r&(1<<o)-1).toString(32),r>>=o,s-=o,Yt=1<<32-Ct(t)+s|n<<s|r,Xt=a+e}else Yt=1<<a|n<<s|r,Xt=e}function mu(e){e.return!==null&&(Yn(e,1),$p(e,1,0))}function gu(e){for(;e===zi;)zi=Pr[--Ar],Pr[Ar]=null,Ui=Pr[--Ar],Pr[Ar]=null;for(;e===dr;)dr=mt[--gt],mt[gt]=null,Xt=mt[--gt],mt[gt]=null,Yt=mt[--gt],mt[gt]=null}var lt=null,ot=null,ge=!1,Et=null;function Bp(e,t){var n=xt(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Yd(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,lt=e,ot=On(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,lt=e,ot=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=dr!==null?{id:Yt,overflow:Xt}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=xt(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,lt=e,ot=null,!0):!1;default:return!1}}function cc(e){return(e.mode&1)!==0&&(e.flags&128)===0}function uc(e){if(ge){var t=ot;if(t){var n=t;if(!Yd(e,t)){if(cc(e))throw Error(P(418));t=On(n.nextSibling);var r=lt;t&&Yd(e,t)?Bp(r,n):(e.flags=e.flags&-4097|2,ge=!1,lt=e)}}else{if(cc(e))throw Error(P(418));e.flags=e.flags&-4097|2,ge=!1,lt=e}}}function Xd(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;lt=e}function Ya(e){if(e!==lt)return!1;if(!ge)return Xd(e),ge=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!ac(e.type,e.memoizedProps)),t&&(t=ot)){if(cc(e))throw Hp(),Error(P(418));for(;t;)Bp(e,t),t=On(t.nextSibling)}if(Xd(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(P(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){ot=On(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}ot=null}}else ot=lt?On(e.stateNode.nextSibling):null;return!0}function Hp(){for(var e=ot;e;)e=On(e.nextSibling)}function Jr(){ot=lt=null,ge=!1}function xu(e){Et===null?Et=[e]:Et.push(e)}var Lv=un.ReactCurrentBatchConfig;function ws(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(P(309));var r=n.stateNode}if(!r)throw Error(P(147,e));var s=r,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(o){var l=s.refs;o===null?delete l[a]:l[a]=o},t._stringRef=a,t)}if(typeof e!="string")throw Error(P(284));if(!n._owner)throw Error(P(290,e))}return e}function Xa(e,t){throw e=Object.prototype.toString.call(t),Error(P(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Zd(e){var t=e._init;return t(e._payload)}function Vp(e){function t(m,h){if(e){var x=m.deletions;x===null?(m.deletions=[h],m.flags|=16):x.push(h)}}function n(m,h){if(!e)return null;for(;h!==null;)t(m,h),h=h.sibling;return null}function r(m,h){for(m=new Map;h!==null;)h.key!==null?m.set(h.key,h):m.set(h.index,h),h=h.sibling;return m}function s(m,h){return m=zn(m,h),m.index=0,m.sibling=null,m}function a(m,h,x){return m.index=x,e?(x=m.alternate,x!==null?(x=x.index,x<h?(m.flags|=2,h):x):(m.flags|=2,h)):(m.flags|=1048576,h)}function o(m){return e&&m.alternate===null&&(m.flags|=2),m}function l(m,h,x,k){return h===null||h.tag!==6?(h=vl(x,m.mode,k),h.return=m,h):(h=s(h,x),h.return=m,h)}function c(m,h,x,k){var j=x.type;return j===Er?d(m,h,x.props.children,k,x.key):h!==null&&(h.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===vn&&Zd(j)===h.type)?(k=s(h,x.props),k.ref=ws(m,h,x),k.return=m,k):(k=xi(x.type,x.key,x.props,null,m.mode,k),k.ref=ws(m,h,x),k.return=m,k)}function u(m,h,x,k){return h===null||h.tag!==4||h.stateNode.containerInfo!==x.containerInfo||h.stateNode.implementation!==x.implementation?(h=yl(x,m.mode,k),h.return=m,h):(h=s(h,x.children||[]),h.return=m,h)}function d(m,h,x,k,j){return h===null||h.tag!==7?(h=ir(x,m.mode,k,j),h.return=m,h):(h=s(h,x),h.return=m,h)}function f(m,h,x){if(typeof h=="string"&&h!==""||typeof h=="number")return h=vl(""+h,m.mode,x),h.return=m,h;if(typeof h=="object"&&h!==null){switch(h.$$typeof){case $a:return x=xi(h.type,h.key,h.props,null,m.mode,x),x.ref=ws(m,null,h),x.return=m,x;case Sr:return h=yl(h,m.mode,x),h.return=m,h;case vn:var k=h._init;return f(m,k(h._payload),x)}if(Es(h)||ms(h))return h=ir(h,m.mode,x,null),h.return=m,h;Xa(m,h)}return null}function p(m,h,x,k){var j=h!==null?h.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return j!==null?null:l(m,h,""+x,k);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case $a:return x.key===j?c(m,h,x,k):null;case Sr:return x.key===j?u(m,h,x,k):null;case vn:return j=x._init,p(m,h,j(x._payload),k)}if(Es(x)||ms(x))return j!==null?null:d(m,h,x,k,null);Xa(m,x)}return null}function b(m,h,x,k,j){if(typeof k=="string"&&k!==""||typeof k=="number")return m=m.get(x)||null,l(h,m,""+k,j);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case $a:return m=m.get(k.key===null?x:k.key)||null,c(h,m,k,j);case Sr:return m=m.get(k.key===null?x:k.key)||null,u(h,m,k,j);case vn:var N=k._init;return b(m,h,x,N(k._payload),j)}if(Es(k)||ms(k))return m=m.get(x)||null,d(h,m,k,j,null);Xa(h,k)}return null}function y(m,h,x,k){for(var j=null,N=null,S=h,T=h=0,z=null;S!==null&&T<x.length;T++){S.index>T?(z=S,S=null):z=S.sibling;var $=p(m,S,x[T],k);if($===null){S===null&&(S=z);break}e&&S&&$.alternate===null&&t(m,S),h=a($,h,T),N===null?j=$:N.sibling=$,N=$,S=z}if(T===x.length)return n(m,S),ge&&Yn(m,T),j;if(S===null){for(;T<x.length;T++)S=f(m,x[T],k),S!==null&&(h=a(S,h,T),N===null?j=S:N.sibling=S,N=S);return ge&&Yn(m,T),j}for(S=r(m,S);T<x.length;T++)z=b(S,m,T,x[T],k),z!==null&&(e&&z.alternate!==null&&S.delete(z.key===null?T:z.key),h=a(z,h,T),N===null?j=z:N.sibling=z,N=z);return e&&S.forEach(function(Q){return t(m,Q)}),ge&&Yn(m,T),j}function g(m,h,x,k){var j=ms(x);if(typeof j!="function")throw Error(P(150));if(x=j.call(x),x==null)throw Error(P(151));for(var N=j=null,S=h,T=h=0,z=null,$=x.next();S!==null&&!$.done;T++,$=x.next()){S.index>T?(z=S,S=null):z=S.sibling;var Q=p(m,S,$.value,k);if(Q===null){S===null&&(S=z);break}e&&S&&Q.alternate===null&&t(m,S),h=a(Q,h,T),N===null?j=Q:N.sibling=Q,N=Q,S=z}if($.done)return n(m,S),ge&&Yn(m,T),j;if(S===null){for(;!$.done;T++,$=x.next())$=f(m,$.value,k),$!==null&&(h=a($,h,T),N===null?j=$:N.sibling=$,N=$);return ge&&Yn(m,T),j}for(S=r(m,S);!$.done;T++,$=x.next())$=b(S,m,T,$.value,k),$!==null&&(e&&$.alternate!==null&&S.delete($.key===null?T:$.key),h=a($,h,T),N===null?j=$:N.sibling=$,N=$);return e&&S.forEach(function(ae){return t(m,ae)}),ge&&Yn(m,T),j}function w(m,h,x,k){if(typeof x=="object"&&x!==null&&x.type===Er&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case $a:e:{for(var j=x.key,N=h;N!==null;){if(N.key===j){if(j=x.type,j===Er){if(N.tag===7){n(m,N.sibling),h=s(N,x.props.children),h.return=m,m=h;break e}}else if(N.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===vn&&Zd(j)===N.type){n(m,N.sibling),h=s(N,x.props),h.ref=ws(m,N,x),h.return=m,m=h;break e}n(m,N);break}else t(m,N);N=N.sibling}x.type===Er?(h=ir(x.props.children,m.mode,k,x.key),h.return=m,m=h):(k=xi(x.type,x.key,x.props,null,m.mode,k),k.ref=ws(m,h,x),k.return=m,m=k)}return o(m);case Sr:e:{for(N=x.key;h!==null;){if(h.key===N)if(h.tag===4&&h.stateNode.containerInfo===x.containerInfo&&h.stateNode.implementation===x.implementation){n(m,h.sibling),h=s(h,x.children||[]),h.return=m,m=h;break e}else{n(m,h);break}else t(m,h);h=h.sibling}h=yl(x,m.mode,k),h.return=m,m=h}return o(m);case vn:return N=x._init,w(m,h,N(x._payload),k)}if(Es(x))return y(m,h,x,k);if(ms(x))return g(m,h,x,k);Xa(m,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,h!==null&&h.tag===6?(n(m,h.sibling),h=s(h,x),h.return=m,m=h):(n(m,h),h=vl(x,m.mode,k),h.return=m,m=h),o(m)):n(m,h)}return w}var Yr=Vp(!0),Wp=Vp(!1),Fi=qn(null),$i=null,Or=null,vu=null;function yu(){vu=Or=$i=null}function wu(e){var t=Fi.current;me(Fi),e._currentValue=t}function dc(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Hr(e,t){$i=e,vu=Or=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Xe=!0),e.firstContext=null)}function wt(e){var t=e._currentValue;if(vu!==e)if(e={context:e,memoizedValue:t,next:null},Or===null){if($i===null)throw Error(P(308));Or=e,$i.dependencies={lanes:0,firstContext:e}}else Or=Or.next=e;return t}var nr=null;function bu(e){nr===null?nr=[e]:nr.push(e)}function qp(e,t,n,r){var s=t.interleaved;return s===null?(n.next=n,bu(t)):(n.next=s.next,s.next=n),t.interleaved=n,an(e,r)}function an(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var yn=!1;function ku(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Kp(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function tn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Dn(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,se&2){var s=r.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),r.pending=t,an(e,n)}return s=r.interleaved,s===null?(t.next=t,bu(r)):(t.next=s.next,s.next=t),r.interleaved=t,an(e,n)}function di(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,ou(e,n)}}function ef(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};a===null?s=a=o:a=a.next=o,n=n.next}while(n!==null);a===null?s=a=t:a=a.next=t}else s=a=t;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:a,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Bi(e,t,n,r){var s=e.updateQueue;yn=!1;var a=s.firstBaseUpdate,o=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,u=c.next;c.next=null,o===null?a=u:o.next=u,o=c;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==o&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(a!==null){var f=s.baseState;o=0,d=u=c=null,l=a;do{var p=l.lane,b=l.eventTime;if((r&p)===p){d!==null&&(d=d.next={eventTime:b,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var y=e,g=l;switch(p=t,b=n,g.tag){case 1:if(y=g.payload,typeof y=="function"){f=y.call(b,f,p);break e}f=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=g.payload,p=typeof y=="function"?y.call(b,f,p):y,p==null)break e;f=we({},f,p);break e;case 2:yn=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,p=s.effects,p===null?s.effects=[l]:p.push(l))}else b={eventTime:b,lane:p,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=b,c=f):d=d.next=b,o|=p;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;p=l,l=p.next,p.next=null,s.lastBaseUpdate=p,s.shared.pending=null}}while(!0);if(d===null&&(c=f),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=d,t=s.shared.interleaved,t!==null){s=t;do o|=s.lane,s=s.next;while(s!==t)}else a===null&&(s.shared.lanes=0);hr|=o,e.lanes=o,e.memoizedState=f}}function tf(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(P(191,s));s.call(r)}}}var wa={},$t=qn(wa),Xs=qn(wa),Zs=qn(wa);function rr(e){if(e===wa)throw Error(P(174));return e}function Nu(e,t){switch(he(Zs,t),he(Xs,e),he($t,wa),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Wl(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Wl(t,e)}me($t),he($t,t)}function Xr(){me($t),me(Xs),me(Zs)}function Gp(e){rr(Zs.current);var t=rr($t.current),n=Wl(t,e.type);t!==n&&(he(Xs,e),he($t,n))}function ju(e){Xs.current===e&&(me($t),me(Xs))}var xe=qn(0);function Hi(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var fl=[];function Su(){for(var e=0;e<fl.length;e++)fl[e]._workInProgressVersionPrimary=null;fl.length=0}var fi=un.ReactCurrentDispatcher,hl=un.ReactCurrentBatchConfig,fr=0,ve=null,Te=null,Ae=null,Vi=!1,Ls=!1,ea=0,Mv=0;function Ue(){throw Error(P(321))}function Eu(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Tt(e[n],t[n]))return!1;return!0}function _u(e,t,n,r,s,a){if(fr=a,ve=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,fi.current=e===null||e.memoizedState===null?$v:Bv,e=n(r,s),Ls){a=0;do{if(Ls=!1,ea=0,25<=a)throw Error(P(301));a+=1,Ae=Te=null,t.updateQueue=null,fi.current=Hv,e=n(r,s)}while(Ls)}if(fi.current=Wi,t=Te!==null&&Te.next!==null,fr=0,Ae=Te=ve=null,Vi=!1,t)throw Error(P(300));return e}function Cu(){var e=ea!==0;return ea=0,e}function Lt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ae===null?ve.memoizedState=Ae=e:Ae=Ae.next=e,Ae}function bt(){if(Te===null){var e=ve.alternate;e=e!==null?e.memoizedState:null}else e=Te.next;var t=Ae===null?ve.memoizedState:Ae.next;if(t!==null)Ae=t,Te=e;else{if(e===null)throw Error(P(310));Te=e,e={memoizedState:Te.memoizedState,baseState:Te.baseState,baseQueue:Te.baseQueue,queue:Te.queue,next:null},Ae===null?ve.memoizedState=Ae=e:Ae=Ae.next=e}return Ae}function ta(e,t){return typeof t=="function"?t(e):t}function pl(e){var t=bt(),n=t.queue;if(n===null)throw Error(P(311));n.lastRenderedReducer=e;var r=Te,s=r.baseQueue,a=n.pending;if(a!==null){if(s!==null){var o=s.next;s.next=a.next,a.next=o}r.baseQueue=s=a,n.pending=null}if(s!==null){a=s.next,r=r.baseState;var l=o=null,c=null,u=a;do{var d=u.lane;if((fr&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=f,o=r):c=c.next=f,ve.lanes|=d,hr|=d}u=u.next}while(u!==null&&u!==a);c===null?o=r:c.next=l,Tt(r,t.memoizedState)||(Xe=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=c,n.lastRenderedState=r}if(e=n.interleaved,e!==null){s=e;do a=s.lane,ve.lanes|=a,hr|=a,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function ml(e){var t=bt(),n=t.queue;if(n===null)throw Error(P(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,a=t.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do a=e(a,o.action),o=o.next;while(o!==s);Tt(a,t.memoizedState)||(Xe=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function Qp(){}function Jp(e,t){var n=ve,r=bt(),s=t(),a=!Tt(r.memoizedState,s);if(a&&(r.memoizedState=s,Xe=!0),r=r.queue,Iu(Zp.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||Ae!==null&&Ae.memoizedState.tag&1){if(n.flags|=2048,na(9,Xp.bind(null,n,r,s,t),void 0,null),Oe===null)throw Error(P(349));fr&30||Yp(n,t,s)}return s}function Yp(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=ve.updateQueue,t===null?(t={lastEffect:null,stores:null},ve.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Xp(e,t,n,r){t.value=n,t.getSnapshot=r,em(t)&&tm(e)}function Zp(e,t,n){return n(function(){em(t)&&tm(e)})}function em(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Tt(e,n)}catch{return!0}}function tm(e){var t=an(e,1);t!==null&&It(t,e,1,-1)}function nf(e){var t=Lt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ta,lastRenderedState:e},t.queue=e,e=e.dispatch=Fv.bind(null,ve,e),[t.memoizedState,e]}function na(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=ve.updateQueue,t===null?(t={lastEffect:null,stores:null},ve.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function nm(){return bt().memoizedState}function hi(e,t,n,r){var s=Lt();ve.flags|=e,s.memoizedState=na(1|t,n,void 0,r===void 0?null:r)}function wo(e,t,n,r){var s=bt();r=r===void 0?null:r;var a=void 0;if(Te!==null){var o=Te.memoizedState;if(a=o.destroy,r!==null&&Eu(r,o.deps)){s.memoizedState=na(t,n,a,r);return}}ve.flags|=e,s.memoizedState=na(1|t,n,a,r)}function rf(e,t){return hi(8390656,8,e,t)}function Iu(e,t){return wo(2048,8,e,t)}function rm(e,t){return wo(4,2,e,t)}function sm(e,t){return wo(4,4,e,t)}function am(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function im(e,t,n){return n=n!=null?n.concat([e]):null,wo(4,4,am.bind(null,t,e),n)}function Tu(){}function om(e,t){var n=bt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Eu(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function lm(e,t){var n=bt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Eu(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function cm(e,t,n){return fr&21?(Tt(n,t)||(n=pp(),ve.lanes|=n,hr|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Xe=!0),e.memoizedState=n)}function zv(e,t){var n=ue;ue=n!==0&&4>n?n:4,e(!0);var r=hl.transition;hl.transition={};try{e(!1),t()}finally{ue=n,hl.transition=r}}function um(){return bt().memoizedState}function Uv(e,t,n){var r=Mn(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},dm(e))fm(t,n);else if(n=qp(e,t,n,r),n!==null){var s=Ke();It(n,e,r,s),hm(n,t,r)}}function Fv(e,t,n){var r=Mn(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(dm(e))fm(t,s);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var o=t.lastRenderedState,l=a(o,n);if(s.hasEagerState=!0,s.eagerState=l,Tt(l,o)){var c=t.interleaved;c===null?(s.next=s,bu(t)):(s.next=c.next,c.next=s),t.interleaved=s;return}}catch{}finally{}n=qp(e,t,s,r),n!==null&&(s=Ke(),It(n,e,r,s),hm(n,t,r))}}function dm(e){var t=e.alternate;return e===ve||t!==null&&t===ve}function fm(e,t){Ls=Vi=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function hm(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,ou(e,n)}}var Wi={readContext:wt,useCallback:Ue,useContext:Ue,useEffect:Ue,useImperativeHandle:Ue,useInsertionEffect:Ue,useLayoutEffect:Ue,useMemo:Ue,useReducer:Ue,useRef:Ue,useState:Ue,useDebugValue:Ue,useDeferredValue:Ue,useTransition:Ue,useMutableSource:Ue,useSyncExternalStore:Ue,useId:Ue,unstable_isNewReconciler:!1},$v={readContext:wt,useCallback:function(e,t){return Lt().memoizedState=[e,t===void 0?null:t],e},useContext:wt,useEffect:rf,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,hi(4194308,4,am.bind(null,t,e),n)},useLayoutEffect:function(e,t){return hi(4194308,4,e,t)},useInsertionEffect:function(e,t){return hi(4,2,e,t)},useMemo:function(e,t){var n=Lt();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Lt();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Uv.bind(null,ve,e),[r.memoizedState,e]},useRef:function(e){var t=Lt();return e={current:e},t.memoizedState=e},useState:nf,useDebugValue:Tu,useDeferredValue:function(e){return Lt().memoizedState=e},useTransition:function(){var e=nf(!1),t=e[0];return e=zv.bind(null,e[1]),Lt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=ve,s=Lt();if(ge){if(n===void 0)throw Error(P(407));n=n()}else{if(n=t(),Oe===null)throw Error(P(349));fr&30||Yp(r,t,n)}s.memoizedState=n;var a={value:n,getSnapshot:t};return s.queue=a,rf(Zp.bind(null,r,a,e),[e]),r.flags|=2048,na(9,Xp.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=Lt(),t=Oe.identifierPrefix;if(ge){var n=Xt,r=Yt;n=(r&~(1<<32-Ct(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=ea++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=Mv++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Bv={readContext:wt,useCallback:om,useContext:wt,useEffect:Iu,useImperativeHandle:im,useInsertionEffect:rm,useLayoutEffect:sm,useMemo:lm,useReducer:pl,useRef:nm,useState:function(){return pl(ta)},useDebugValue:Tu,useDeferredValue:function(e){var t=bt();return cm(t,Te.memoizedState,e)},useTransition:function(){var e=pl(ta)[0],t=bt().memoizedState;return[e,t]},useMutableSource:Qp,useSyncExternalStore:Jp,useId:um,unstable_isNewReconciler:!1},Hv={readContext:wt,useCallback:om,useContext:wt,useEffect:Iu,useImperativeHandle:im,useInsertionEffect:rm,useLayoutEffect:sm,useMemo:lm,useReducer:ml,useRef:nm,useState:function(){return ml(ta)},useDebugValue:Tu,useDeferredValue:function(e){var t=bt();return Te===null?t.memoizedState=e:cm(t,Te.memoizedState,e)},useTransition:function(){var e=ml(ta)[0],t=bt().memoizedState;return[e,t]},useMutableSource:Qp,useSyncExternalStore:Jp,useId:um,unstable_isNewReconciler:!1};function jt(e,t){if(e&&e.defaultProps){t=we({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function fc(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:we({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var bo={isMounted:function(e){return(e=e._reactInternals)?wr(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Ke(),s=Mn(e),a=tn(r,s);a.payload=t,n!=null&&(a.callback=n),t=Dn(e,a,s),t!==null&&(It(t,e,s,r),di(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Ke(),s=Mn(e),a=tn(r,s);a.tag=1,a.payload=t,n!=null&&(a.callback=n),t=Dn(e,a,s),t!==null&&(It(t,e,s,r),di(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Ke(),r=Mn(e),s=tn(n,r);s.tag=2,t!=null&&(s.callback=t),t=Dn(e,s,r),t!==null&&(It(t,e,r,n),di(t,e,r))}};function sf(e,t,n,r,s,a,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,a,o):t.prototype&&t.prototype.isPureReactComponent?!Gs(n,r)||!Gs(s,a):!0}function pm(e,t,n){var r=!1,s=Vn,a=t.contextType;return typeof a=="object"&&a!==null?a=wt(a):(s=et(t)?ur:He.current,r=t.contextTypes,a=(r=r!=null)?Qr(e,s):Vn),t=new t(n,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=bo,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=a),t}function af(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&bo.enqueueReplaceState(t,t.state,null)}function hc(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},ku(e);var a=t.contextType;typeof a=="object"&&a!==null?s.context=wt(a):(a=et(t)?ur:He.current,s.context=Qr(e,a)),s.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(fc(e,t,a,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&bo.enqueueReplaceState(s,s.state,null),Bi(e,n,s,r),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function Zr(e,t){try{var n="",r=t;do n+=xx(r),r=r.return;while(r);var s=n}catch(a){s=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:s,digest:null}}function gl(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function pc(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var Vv=typeof WeakMap=="function"?WeakMap:Map;function mm(e,t,n){n=tn(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Ki||(Ki=!0,jc=r),pc(e,t)},n}function gm(e,t,n){n=tn(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){pc(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(n.callback=function(){pc(e,t),typeof r!="function"&&(Ln===null?Ln=new Set([this]):Ln.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function of(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new Vv;var s=new Set;r.set(t,s)}else s=r.get(t),s===void 0&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=sy.bind(null,e,t,n),t.then(e,e))}function lf(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function cf(e,t,n,r,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=tn(-1,1),t.tag=2,Dn(n,t,1))),n.lanes|=1),e)}var Wv=un.ReactCurrentOwner,Xe=!1;function We(e,t,n,r){t.child=e===null?Wp(t,null,n,r):Yr(t,e.child,n,r)}function uf(e,t,n,r,s){n=n.render;var a=t.ref;return Hr(t,s),r=_u(e,t,n,r,a,s),n=Cu(),e!==null&&!Xe?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,on(e,t,s)):(ge&&n&&mu(t),t.flags|=1,We(e,t,r,s),t.child)}function df(e,t,n,r,s){if(e===null){var a=n.type;return typeof a=="function"&&!zu(a)&&a.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=a,xm(e,t,a,r,s)):(e=xi(n.type,null,r,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&s)){var o=a.memoizedProps;if(n=n.compare,n=n!==null?n:Gs,n(o,r)&&e.ref===t.ref)return on(e,t,s)}return t.flags|=1,e=zn(a,r),e.ref=t.ref,e.return=t,t.child=e}function xm(e,t,n,r,s){if(e!==null){var a=e.memoizedProps;if(Gs(a,r)&&e.ref===t.ref)if(Xe=!1,t.pendingProps=r=a,(e.lanes&s)!==0)e.flags&131072&&(Xe=!0);else return t.lanes=e.lanes,on(e,t,s)}return mc(e,t,n,r,s)}function vm(e,t,n){var r=t.pendingProps,s=r.children,a=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},he(Lr,it),it|=n;else{if(!(n&1073741824))return e=a!==null?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,he(Lr,it),it|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=a!==null?a.baseLanes:n,he(Lr,it),it|=r}else a!==null?(r=a.baseLanes|n,t.memoizedState=null):r=n,he(Lr,it),it|=r;return We(e,t,s,n),t.child}function ym(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function mc(e,t,n,r,s){var a=et(n)?ur:He.current;return a=Qr(t,a),Hr(t,s),n=_u(e,t,n,r,a,s),r=Cu(),e!==null&&!Xe?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,on(e,t,s)):(ge&&r&&mu(t),t.flags|=1,We(e,t,n,s),t.child)}function ff(e,t,n,r,s){if(et(n)){var a=!0;Mi(t)}else a=!1;if(Hr(t,s),t.stateNode===null)pi(e,t),pm(t,n,r),hc(t,n,r,s),r=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var c=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=wt(u):(u=et(n)?ur:He.current,u=Qr(t,u));var d=n.getDerivedStateFromProps,f=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||c!==u)&&af(t,o,r,u),yn=!1;var p=t.memoizedState;o.state=p,Bi(t,r,o,s),c=t.memoizedState,l!==r||p!==c||Ze.current||yn?(typeof d=="function"&&(fc(t,n,d,r),c=t.memoizedState),(l=yn||sf(t,n,l,r,p,c,u))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),o.props=r,o.state=c,o.context=u,r=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Kp(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:jt(t.type,l),o.props=u,f=t.pendingProps,p=o.context,c=n.contextType,typeof c=="object"&&c!==null?c=wt(c):(c=et(n)?ur:He.current,c=Qr(t,c));var b=n.getDerivedStateFromProps;(d=typeof b=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==f||p!==c)&&af(t,o,r,c),yn=!1,p=t.memoizedState,o.state=p,Bi(t,r,o,s);var y=t.memoizedState;l!==f||p!==y||Ze.current||yn?(typeof b=="function"&&(fc(t,n,b,r),y=t.memoizedState),(u=yn||sf(t,n,u,r,p,y,c)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,y,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,y,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=y),o.props=r,o.state=y,o.context=c,r=u):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),r=!1)}return gc(e,t,n,r,a,s)}function gc(e,t,n,r,s,a){ym(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return s&&Jd(t,n,!1),on(e,t,a);r=t.stateNode,Wv.current=t;var l=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=Yr(t,e.child,null,a),t.child=Yr(t,null,l,a)):We(e,t,l,a),t.memoizedState=r.state,s&&Jd(t,n,!0),t.child}function wm(e){var t=e.stateNode;t.pendingContext?Qd(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Qd(e,t.context,!1),Nu(e,t.containerInfo)}function hf(e,t,n,r,s){return Jr(),xu(s),t.flags|=256,We(e,t,n,r),t.child}var xc={dehydrated:null,treeContext:null,retryLane:0};function vc(e){return{baseLanes:e,cachePool:null,transitions:null}}function bm(e,t,n){var r=t.pendingProps,s=xe.current,a=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(s&2)!==0),l?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),he(xe,s&1),e===null)return uc(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,a?(r=t.mode,a=t.child,o={mode:"hidden",children:o},!(r&1)&&a!==null?(a.childLanes=0,a.pendingProps=o):a=jo(o,r,0,null),e=ir(e,r,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=vc(n),t.memoizedState=xc,e):Ru(t,o));if(s=e.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return qv(e,t,o,r,l,s,n);if(a){a=r.fallback,o=t.mode,s=e.child,l=s.sibling;var c={mode:"hidden",children:r.children};return!(o&1)&&t.child!==s?(r=t.child,r.childLanes=0,r.pendingProps=c,t.deletions=null):(r=zn(s,c),r.subtreeFlags=s.subtreeFlags&14680064),l!==null?a=zn(l,a):(a=ir(a,o,n,null),a.flags|=2),a.return=t,r.return=t,r.sibling=a,t.child=r,r=a,a=t.child,o=e.child.memoizedState,o=o===null?vc(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},a.memoizedState=o,a.childLanes=e.childLanes&~n,t.memoizedState=xc,r}return a=e.child,e=a.sibling,r=zn(a,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Ru(e,t){return t=jo({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Za(e,t,n,r){return r!==null&&xu(r),Yr(t,e.child,null,n),e=Ru(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function qv(e,t,n,r,s,a,o){if(n)return t.flags&256?(t.flags&=-257,r=gl(Error(P(422))),Za(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=r.fallback,s=t.mode,r=jo({mode:"visible",children:r.children},s,0,null),a=ir(a,s,o,null),a.flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,t.mode&1&&Yr(t,e.child,null,o),t.child.memoizedState=vc(o),t.memoizedState=xc,a);if(!(t.mode&1))return Za(e,t,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var l=r.dgst;return r=l,a=Error(P(419)),r=gl(a,r,void 0),Za(e,t,o,r)}if(l=(o&e.childLanes)!==0,Xe||l){if(r=Oe,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==a.retryLane&&(a.retryLane=s,an(e,s),It(r,e,s,-1))}return Mu(),r=gl(Error(P(421))),Za(e,t,o,r)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=ay.bind(null,e),s._reactRetry=t,null):(e=a.treeContext,ot=On(s.nextSibling),lt=t,ge=!0,Et=null,e!==null&&(mt[gt++]=Yt,mt[gt++]=Xt,mt[gt++]=dr,Yt=e.id,Xt=e.overflow,dr=t),t=Ru(t,r.children),t.flags|=4096,t)}function pf(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),dc(e.return,t,n)}function xl(e,t,n,r,s){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=s)}function km(e,t,n){var r=t.pendingProps,s=r.revealOrder,a=r.tail;if(We(e,t,r.children,n),r=xe.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&pf(e,n,t);else if(e.tag===19)pf(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(he(xe,r),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&Hi(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),xl(t,!1,s,n,a);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&Hi(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}xl(t,!0,n,null,a);break;case"together":xl(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function pi(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function on(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),hr|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(P(153));if(t.child!==null){for(e=t.child,n=zn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=zn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Kv(e,t,n){switch(t.tag){case 3:wm(t),Jr();break;case 5:Gp(t);break;case 1:et(t.type)&&Mi(t);break;case 4:Nu(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;he(Fi,r._currentValue),r._currentValue=s;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(he(xe,xe.current&1),t.flags|=128,null):n&t.child.childLanes?bm(e,t,n):(he(xe,xe.current&1),e=on(e,t,n),e!==null?e.sibling:null);he(xe,xe.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return km(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),he(xe,xe.current),r)break;return null;case 22:case 23:return t.lanes=0,vm(e,t,n)}return on(e,t,n)}var Nm,yc,jm,Sm;Nm=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};yc=function(){};jm=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,rr($t.current);var a=null;switch(n){case"input":s=$l(e,s),r=$l(e,r),a=[];break;case"select":s=we({},s,{value:void 0}),r=we({},r,{value:void 0}),a=[];break;case"textarea":s=Vl(e,s),r=Vl(e,r),a=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Di)}ql(n,r);var o;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var l=s[u];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&($s.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in r){var c=r[u];if(l=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(a||(a=[]),a.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(a=a||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(a=a||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&($s.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&pe("scroll",e),a||l===c||(a=[])):(a=a||[]).push(u,c))}n&&(a=a||[]).push("style",n);var u=a;(t.updateQueue=u)&&(t.flags|=4)}};Sm=function(e,t,n,r){n!==r&&(t.flags|=4)};function bs(e,t){if(!ge)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Fe(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Gv(e,t,n){var r=t.pendingProps;switch(gu(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Fe(t),null;case 1:return et(t.type)&&Li(),Fe(t),null;case 3:return r=t.stateNode,Xr(),me(Ze),me(He),Su(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Ya(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Et!==null&&(_c(Et),Et=null))),yc(e,t),Fe(t),null;case 5:ju(t);var s=rr(Zs.current);if(n=t.type,e!==null&&t.stateNode!=null)jm(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(P(166));return Fe(t),null}if(e=rr($t.current),Ya(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[Mt]=t,r[Ys]=a,e=(t.mode&1)!==0,n){case"dialog":pe("cancel",r),pe("close",r);break;case"iframe":case"object":case"embed":pe("load",r);break;case"video":case"audio":for(s=0;s<Cs.length;s++)pe(Cs[s],r);break;case"source":pe("error",r);break;case"img":case"image":case"link":pe("error",r),pe("load",r);break;case"details":pe("toggle",r);break;case"input":kd(r,a),pe("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},pe("invalid",r);break;case"textarea":jd(r,a),pe("invalid",r)}ql(n,a),s=null;for(var o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="children"?typeof l=="string"?r.textContent!==l&&(a.suppressHydrationWarning!==!0&&Ja(r.textContent,l,e),s=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(a.suppressHydrationWarning!==!0&&Ja(r.textContent,l,e),s=["children",""+l]):$s.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&pe("scroll",r)}switch(n){case"input":Ba(r),Nd(r,a,!0);break;case"textarea":Ba(r),Sd(r);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(r.onclick=Di)}r=s,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Zh(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[Mt]=t,e[Ys]=r,Nm(e,t,!1,!1),t.stateNode=e;e:{switch(o=Kl(n,r),n){case"dialog":pe("cancel",e),pe("close",e),s=r;break;case"iframe":case"object":case"embed":pe("load",e),s=r;break;case"video":case"audio":for(s=0;s<Cs.length;s++)pe(Cs[s],e);s=r;break;case"source":pe("error",e),s=r;break;case"img":case"image":case"link":pe("error",e),pe("load",e),s=r;break;case"details":pe("toggle",e),s=r;break;case"input":kd(e,r),s=$l(e,r),pe("invalid",e);break;case"option":s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=we({},r,{value:void 0}),pe("invalid",e);break;case"textarea":jd(e,r),s=Vl(e,r),pe("invalid",e);break;default:s=r}ql(n,s),l=s;for(a in l)if(l.hasOwnProperty(a)){var c=l[a];a==="style"?np(e,c):a==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&ep(e,c)):a==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&Bs(e,c):typeof c=="number"&&Bs(e,""+c):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&($s.hasOwnProperty(a)?c!=null&&a==="onScroll"&&pe("scroll",e):c!=null&&tu(e,a,c,o))}switch(n){case"input":Ba(e),Nd(e,r,!1);break;case"textarea":Ba(e),Sd(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Hn(r.value));break;case"select":e.multiple=!!r.multiple,a=r.value,a!=null?Ur(e,!!r.multiple,a,!1):r.defaultValue!=null&&Ur(e,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=Di)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Fe(t),null;case 6:if(e&&t.stateNode!=null)Sm(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(P(166));if(n=rr(Zs.current),rr($t.current),Ya(t)){if(r=t.stateNode,n=t.memoizedProps,r[Mt]=t,(a=r.nodeValue!==n)&&(e=lt,e!==null))switch(e.tag){case 3:Ja(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Ja(r.nodeValue,n,(e.mode&1)!==0)}a&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Mt]=t,t.stateNode=r}return Fe(t),null;case 13:if(me(xe),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ge&&ot!==null&&t.mode&1&&!(t.flags&128))Hp(),Jr(),t.flags|=98560,a=!1;else if(a=Ya(t),r!==null&&r.dehydrated!==null){if(e===null){if(!a)throw Error(P(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(P(317));a[Mt]=t}else Jr(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Fe(t),a=!1}else Et!==null&&(_c(Et),Et=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||xe.current&1?Pe===0&&(Pe=3):Mu())),t.updateQueue!==null&&(t.flags|=4),Fe(t),null);case 4:return Xr(),yc(e,t),e===null&&Qs(t.stateNode.containerInfo),Fe(t),null;case 10:return wu(t.type._context),Fe(t),null;case 17:return et(t.type)&&Li(),Fe(t),null;case 19:if(me(xe),a=t.memoizedState,a===null)return Fe(t),null;if(r=(t.flags&128)!==0,o=a.rendering,o===null)if(r)bs(a,!1);else{if(Pe!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Hi(e),o!==null){for(t.flags|=128,bs(a,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)a=n,e=r,a.flags&=14680066,o=a.alternate,o===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=o.childLanes,a.lanes=o.lanes,a.child=o.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=o.memoizedProps,a.memoizedState=o.memoizedState,a.updateQueue=o.updateQueue,a.type=o.type,e=o.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return he(xe,xe.current&1|2),t.child}e=e.sibling}a.tail!==null&&je()>es&&(t.flags|=128,r=!0,bs(a,!1),t.lanes=4194304)}else{if(!r)if(e=Hi(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),bs(a,!0),a.tail===null&&a.tailMode==="hidden"&&!o.alternate&&!ge)return Fe(t),null}else 2*je()-a.renderingStartTime>es&&n!==1073741824&&(t.flags|=128,r=!0,bs(a,!1),t.lanes=4194304);a.isBackwards?(o.sibling=t.child,t.child=o):(n=a.last,n!==null?n.sibling=o:t.child=o,a.last=o)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=je(),t.sibling=null,n=xe.current,he(xe,r?n&1|2:n&1),t):(Fe(t),null);case 22:case 23:return Lu(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?it&1073741824&&(Fe(t),t.subtreeFlags&6&&(t.flags|=8192)):Fe(t),null;case 24:return null;case 25:return null}throw Error(P(156,t.tag))}function Qv(e,t){switch(gu(t),t.tag){case 1:return et(t.type)&&Li(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Xr(),me(Ze),me(He),Su(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return ju(t),null;case 13:if(me(xe),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(P(340));Jr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return me(xe),null;case 4:return Xr(),null;case 10:return wu(t.type._context),null;case 22:case 23:return Lu(),null;case 24:return null;default:return null}}var ei=!1,$e=!1,Jv=typeof WeakSet=="function"?WeakSet:Set,F=null;function Dr(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ke(e,t,r)}else n.current=null}function wc(e,t,n){try{n()}catch(r){ke(e,t,r)}}var mf=!1;function Yv(e,t){if(rc=Pi,e=Tp(),pu(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var o=0,l=-1,c=-1,u=0,d=0,f=e,p=null;t:for(;;){for(var b;f!==n||s!==0&&f.nodeType!==3||(l=o+s),f!==a||r!==0&&f.nodeType!==3||(c=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(b=f.firstChild)!==null;)p=f,f=b;for(;;){if(f===e)break t;if(p===n&&++u===s&&(l=o),p===a&&++d===r&&(c=o),(b=f.nextSibling)!==null)break;f=p,p=f.parentNode}f=b}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(sc={focusedElem:e,selectionRange:n},Pi=!1,F=t;F!==null;)if(t=F,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,F=e;else for(;F!==null;){t=F;try{var y=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var g=y.memoizedProps,w=y.memoizedState,m=t.stateNode,h=m.getSnapshotBeforeUpdate(t.elementType===t.type?g:jt(t.type,g),w);m.__reactInternalSnapshotBeforeUpdate=h}break;case 3:var x=t.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(P(163))}}catch(k){ke(t,t.return,k)}if(e=t.sibling,e!==null){e.return=t.return,F=e;break}F=t.return}return y=mf,mf=!1,y}function Ms(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&e)===e){var a=s.destroy;s.destroy=void 0,a!==void 0&&wc(t,n,a)}s=s.next}while(s!==r)}}function ko(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function bc(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Em(e){var t=e.alternate;t!==null&&(e.alternate=null,Em(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Mt],delete t[Ys],delete t[oc],delete t[Av],delete t[Ov])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function _m(e){return e.tag===5||e.tag===3||e.tag===4}function gf(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||_m(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function kc(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Di));else if(r!==4&&(e=e.child,e!==null))for(kc(e,t,n),e=e.sibling;e!==null;)kc(e,t,n),e=e.sibling}function Nc(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Nc(e,t,n),e=e.sibling;e!==null;)Nc(e,t,n),e=e.sibling}var De=null,St=!1;function gn(e,t,n){for(n=n.child;n!==null;)Cm(e,t,n),n=n.sibling}function Cm(e,t,n){if(Ft&&typeof Ft.onCommitFiberUnmount=="function")try{Ft.onCommitFiberUnmount(po,n)}catch{}switch(n.tag){case 5:$e||Dr(n,t);case 6:var r=De,s=St;De=null,gn(e,t,n),De=r,St=s,De!==null&&(St?(e=De,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):De.removeChild(n.stateNode));break;case 18:De!==null&&(St?(e=De,n=n.stateNode,e.nodeType===8?ul(e.parentNode,n):e.nodeType===1&&ul(e,n),qs(e)):ul(De,n.stateNode));break;case 4:r=De,s=St,De=n.stateNode.containerInfo,St=!0,gn(e,t,n),De=r,St=s;break;case 0:case 11:case 14:case 15:if(!$e&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var a=s,o=a.destroy;a=a.tag,o!==void 0&&(a&2||a&4)&&wc(n,t,o),s=s.next}while(s!==r)}gn(e,t,n);break;case 1:if(!$e&&(Dr(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){ke(n,t,l)}gn(e,t,n);break;case 21:gn(e,t,n);break;case 22:n.mode&1?($e=(r=$e)||n.memoizedState!==null,gn(e,t,n),$e=r):gn(e,t,n);break;default:gn(e,t,n)}}function xf(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Jv),t.forEach(function(r){var s=iy.bind(null,e,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Nt(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var a=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:De=l.stateNode,St=!1;break e;case 3:De=l.stateNode.containerInfo,St=!0;break e;case 4:De=l.stateNode.containerInfo,St=!0;break e}l=l.return}if(De===null)throw Error(P(160));Cm(a,o,s),De=null,St=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){ke(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Im(t,e),t=t.sibling}function Im(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Nt(t,e),Dt(e),r&4){try{Ms(3,e,e.return),ko(3,e)}catch(g){ke(e,e.return,g)}try{Ms(5,e,e.return)}catch(g){ke(e,e.return,g)}}break;case 1:Nt(t,e),Dt(e),r&512&&n!==null&&Dr(n,n.return);break;case 5:if(Nt(t,e),Dt(e),r&512&&n!==null&&Dr(n,n.return),e.flags&32){var s=e.stateNode;try{Bs(s,"")}catch(g){ke(e,e.return,g)}}if(r&4&&(s=e.stateNode,s!=null)){var a=e.memoizedProps,o=n!==null?n.memoizedProps:a,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&a.type==="radio"&&a.name!=null&&Yh(s,a),Kl(l,o);var u=Kl(l,a);for(o=0;o<c.length;o+=2){var d=c[o],f=c[o+1];d==="style"?np(s,f):d==="dangerouslySetInnerHTML"?ep(s,f):d==="children"?Bs(s,f):tu(s,d,f,u)}switch(l){case"input":Bl(s,a);break;case"textarea":Xh(s,a);break;case"select":var p=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!a.multiple;var b=a.value;b!=null?Ur(s,!!a.multiple,b,!1):p!==!!a.multiple&&(a.defaultValue!=null?Ur(s,!!a.multiple,a.defaultValue,!0):Ur(s,!!a.multiple,a.multiple?[]:"",!1))}s[Ys]=a}catch(g){ke(e,e.return,g)}}break;case 6:if(Nt(t,e),Dt(e),r&4){if(e.stateNode===null)throw Error(P(162));s=e.stateNode,a=e.memoizedProps;try{s.nodeValue=a}catch(g){ke(e,e.return,g)}}break;case 3:if(Nt(t,e),Dt(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{qs(t.containerInfo)}catch(g){ke(e,e.return,g)}break;case 4:Nt(t,e),Dt(e);break;case 13:Nt(t,e),Dt(e),s=e.child,s.flags&8192&&(a=s.memoizedState!==null,s.stateNode.isHidden=a,!a||s.alternate!==null&&s.alternate.memoizedState!==null||(Ou=je())),r&4&&xf(e);break;case 22:if(d=n!==null&&n.memoizedState!==null,e.mode&1?($e=(u=$e)||d,Nt(t,e),$e=u):Nt(t,e),Dt(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(F=e,d=e.child;d!==null;){for(f=F=d;F!==null;){switch(p=F,b=p.child,p.tag){case 0:case 11:case 14:case 15:Ms(4,p,p.return);break;case 1:Dr(p,p.return);var y=p.stateNode;if(typeof y.componentWillUnmount=="function"){r=p,n=p.return;try{t=r,y.props=t.memoizedProps,y.state=t.memoizedState,y.componentWillUnmount()}catch(g){ke(r,n,g)}}break;case 5:Dr(p,p.return);break;case 22:if(p.memoizedState!==null){yf(f);continue}}b!==null?(b.return=p,F=b):yf(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{s=f.stateNode,u?(a=s.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(l=f.stateNode,c=f.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=tp("display",o))}catch(g){ke(e,e.return,g)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(g){ke(e,e.return,g)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Nt(t,e),Dt(e),r&4&&xf(e);break;case 21:break;default:Nt(t,e),Dt(e)}}function Dt(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(_m(n)){var r=n;break e}n=n.return}throw Error(P(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Bs(s,""),r.flags&=-33);var a=gf(e);Nc(e,a,s);break;case 3:case 4:var o=r.stateNode.containerInfo,l=gf(e);kc(e,l,o);break;default:throw Error(P(161))}}catch(c){ke(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Xv(e,t,n){F=e,Tm(e)}function Tm(e,t,n){for(var r=(e.mode&1)!==0;F!==null;){var s=F,a=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||ei;if(!o){var l=s.alternate,c=l!==null&&l.memoizedState!==null||$e;l=ei;var u=$e;if(ei=o,($e=c)&&!u)for(F=s;F!==null;)o=F,c=o.child,o.tag===22&&o.memoizedState!==null?wf(s):c!==null?(c.return=o,F=c):wf(s);for(;a!==null;)F=a,Tm(a),a=a.sibling;F=s,ei=l,$e=u}vf(e)}else s.subtreeFlags&8772&&a!==null?(a.return=s,F=a):vf(e)}}function vf(e){for(;F!==null;){var t=F;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:$e||ko(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!$e)if(n===null)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:jt(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&tf(t,a,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}tf(t,o,n)}break;case 5:var l=t.stateNode;if(n===null&&t.flags&4){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&qs(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(P(163))}$e||t.flags&512&&bc(t)}catch(p){ke(t,t.return,p)}}if(t===e){F=null;break}if(n=t.sibling,n!==null){n.return=t.return,F=n;break}F=t.return}}function yf(e){for(;F!==null;){var t=F;if(t===e){F=null;break}var n=t.sibling;if(n!==null){n.return=t.return,F=n;break}F=t.return}}function wf(e){for(;F!==null;){var t=F;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{ko(4,t)}catch(c){ke(t,n,c)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var s=t.return;try{r.componentDidMount()}catch(c){ke(t,s,c)}}var a=t.return;try{bc(t)}catch(c){ke(t,a,c)}break;case 5:var o=t.return;try{bc(t)}catch(c){ke(t,o,c)}}}catch(c){ke(t,t.return,c)}if(t===e){F=null;break}var l=t.sibling;if(l!==null){l.return=t.return,F=l;break}F=t.return}}var Zv=Math.ceil,qi=un.ReactCurrentDispatcher,Pu=un.ReactCurrentOwner,yt=un.ReactCurrentBatchConfig,se=0,Oe=null,Ce=null,Le=0,it=0,Lr=qn(0),Pe=0,ra=null,hr=0,No=0,Au=0,zs=null,Ye=null,Ou=0,es=1/0,Qt=null,Ki=!1,jc=null,Ln=null,ti=!1,In=null,Gi=0,Us=0,Sc=null,mi=-1,gi=0;function Ke(){return se&6?je():mi!==-1?mi:mi=je()}function Mn(e){return e.mode&1?se&2&&Le!==0?Le&-Le:Lv.transition!==null?(gi===0&&(gi=pp()),gi):(e=ue,e!==0||(e=window.event,e=e===void 0?16:bp(e.type)),e):1}function It(e,t,n,r){if(50<Us)throw Us=0,Sc=null,Error(P(185));xa(e,n,r),(!(se&2)||e!==Oe)&&(e===Oe&&(!(se&2)&&(No|=n),Pe===4&&bn(e,Le)),tt(e,r),n===1&&se===0&&!(t.mode&1)&&(es=je()+500,yo&&Kn()))}function tt(e,t){var n=e.callbackNode;Lx(e,t);var r=Ri(e,e===Oe?Le:0);if(r===0)n!==null&&Cd(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Cd(n),t===1)e.tag===0?Dv(bf.bind(null,e)):Fp(bf.bind(null,e)),Rv(function(){!(se&6)&&Kn()}),n=null;else{switch(mp(r)){case 1:n=iu;break;case 4:n=fp;break;case 16:n=Ti;break;case 536870912:n=hp;break;default:n=Ti}n=zm(n,Rm.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Rm(e,t){if(mi=-1,gi=0,se&6)throw Error(P(327));var n=e.callbackNode;if(Vr()&&e.callbackNode!==n)return null;var r=Ri(e,e===Oe?Le:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Qi(e,r);else{t=r;var s=se;se|=2;var a=Am();(Oe!==e||Le!==t)&&(Qt=null,es=je()+500,ar(e,t));do try{ny();break}catch(l){Pm(e,l)}while(!0);yu(),qi.current=a,se=s,Ce!==null?t=0:(Oe=null,Le=0,t=Pe)}if(t!==0){if(t===2&&(s=Xl(e),s!==0&&(r=s,t=Ec(e,s))),t===1)throw n=ra,ar(e,0),bn(e,r),tt(e,je()),n;if(t===6)bn(e,r);else{if(s=e.current.alternate,!(r&30)&&!ey(s)&&(t=Qi(e,r),t===2&&(a=Xl(e),a!==0&&(r=a,t=Ec(e,a))),t===1))throw n=ra,ar(e,0),bn(e,r),tt(e,je()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(P(345));case 2:Xn(e,Ye,Qt);break;case 3:if(bn(e,r),(r&130023424)===r&&(t=Ou+500-je(),10<t)){if(Ri(e,0)!==0)break;if(s=e.suspendedLanes,(s&r)!==r){Ke(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=ic(Xn.bind(null,e,Ye,Qt),t);break}Xn(e,Ye,Qt);break;case 4:if(bn(e,r),(r&4194240)===r)break;for(t=e.eventTimes,s=-1;0<r;){var o=31-Ct(r);a=1<<o,o=t[o],o>s&&(s=o),r&=~a}if(r=s,r=je()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Zv(r/1960))-r,10<r){e.timeoutHandle=ic(Xn.bind(null,e,Ye,Qt),r);break}Xn(e,Ye,Qt);break;case 5:Xn(e,Ye,Qt);break;default:throw Error(P(329))}}}return tt(e,je()),e.callbackNode===n?Rm.bind(null,e):null}function Ec(e,t){var n=zs;return e.current.memoizedState.isDehydrated&&(ar(e,t).flags|=256),e=Qi(e,t),e!==2&&(t=Ye,Ye=n,t!==null&&_c(t)),e}function _c(e){Ye===null?Ye=e:Ye.push.apply(Ye,e)}function ey(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],a=s.getSnapshot;s=s.value;try{if(!Tt(a(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function bn(e,t){for(t&=~Au,t&=~No,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Ct(t),r=1<<n;e[n]=-1,t&=~r}}function bf(e){if(se&6)throw Error(P(327));Vr();var t=Ri(e,0);if(!(t&1))return tt(e,je()),null;var n=Qi(e,t);if(e.tag!==0&&n===2){var r=Xl(e);r!==0&&(t=r,n=Ec(e,r))}if(n===1)throw n=ra,ar(e,0),bn(e,t),tt(e,je()),n;if(n===6)throw Error(P(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Xn(e,Ye,Qt),tt(e,je()),null}function Du(e,t){var n=se;se|=1;try{return e(t)}finally{se=n,se===0&&(es=je()+500,yo&&Kn())}}function pr(e){In!==null&&In.tag===0&&!(se&6)&&Vr();var t=se;se|=1;var n=yt.transition,r=ue;try{if(yt.transition=null,ue=1,e)return e()}finally{ue=r,yt.transition=n,se=t,!(se&6)&&Kn()}}function Lu(){it=Lr.current,me(Lr)}function ar(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,Tv(n)),Ce!==null)for(n=Ce.return;n!==null;){var r=n;switch(gu(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Li();break;case 3:Xr(),me(Ze),me(He),Su();break;case 5:ju(r);break;case 4:Xr();break;case 13:me(xe);break;case 19:me(xe);break;case 10:wu(r.type._context);break;case 22:case 23:Lu()}n=n.return}if(Oe=e,Ce=e=zn(e.current,null),Le=it=t,Pe=0,ra=null,Au=No=hr=0,Ye=zs=null,nr!==null){for(t=0;t<nr.length;t++)if(n=nr[t],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,a=n.pending;if(a!==null){var o=a.next;a.next=s,r.next=o}n.pending=r}nr=null}return e}function Pm(e,t){do{var n=Ce;try{if(yu(),fi.current=Wi,Vi){for(var r=ve.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Vi=!1}if(fr=0,Ae=Te=ve=null,Ls=!1,ea=0,Pu.current=null,n===null||n.return===null){Pe=1,ra=t,Ce=null;break}e:{var a=e,o=n.return,l=n,c=t;if(t=Le,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var b=lf(o);if(b!==null){b.flags&=-257,cf(b,o,l,a,t),b.mode&1&&of(a,u,t),t=b,c=u;var y=t.updateQueue;if(y===null){var g=new Set;g.add(c),t.updateQueue=g}else y.add(c);break e}else{if(!(t&1)){of(a,u,t),Mu();break e}c=Error(P(426))}}else if(ge&&l.mode&1){var w=lf(o);if(w!==null){!(w.flags&65536)&&(w.flags|=256),cf(w,o,l,a,t),xu(Zr(c,l));break e}}a=c=Zr(c,l),Pe!==4&&(Pe=2),zs===null?zs=[a]:zs.push(a),a=o;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var m=mm(a,c,t);ef(a,m);break e;case 1:l=c;var h=a.type,x=a.stateNode;if(!(a.flags&128)&&(typeof h.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(Ln===null||!Ln.has(x)))){a.flags|=65536,t&=-t,a.lanes|=t;var k=gm(a,l,t);ef(a,k);break e}}a=a.return}while(a!==null)}Dm(n)}catch(j){t=j,Ce===n&&n!==null&&(Ce=n=n.return);continue}break}while(!0)}function Am(){var e=qi.current;return qi.current=Wi,e===null?Wi:e}function Mu(){(Pe===0||Pe===3||Pe===2)&&(Pe=4),Oe===null||!(hr&268435455)&&!(No&268435455)||bn(Oe,Le)}function Qi(e,t){var n=se;se|=2;var r=Am();(Oe!==e||Le!==t)&&(Qt=null,ar(e,t));do try{ty();break}catch(s){Pm(e,s)}while(!0);if(yu(),se=n,qi.current=r,Ce!==null)throw Error(P(261));return Oe=null,Le=0,Pe}function ty(){for(;Ce!==null;)Om(Ce)}function ny(){for(;Ce!==null&&!_x();)Om(Ce)}function Om(e){var t=Mm(e.alternate,e,it);e.memoizedProps=e.pendingProps,t===null?Dm(e):Ce=t,Pu.current=null}function Dm(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=Qv(n,t),n!==null){n.flags&=32767,Ce=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Pe=6,Ce=null;return}}else if(n=Gv(n,t,it),n!==null){Ce=n;return}if(t=t.sibling,t!==null){Ce=t;return}Ce=t=e}while(t!==null);Pe===0&&(Pe=5)}function Xn(e,t,n){var r=ue,s=yt.transition;try{yt.transition=null,ue=1,ry(e,t,n,r)}finally{yt.transition=s,ue=r}return null}function ry(e,t,n,r){do Vr();while(In!==null);if(se&6)throw Error(P(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(P(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(Mx(e,a),e===Oe&&(Ce=Oe=null,Le=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||ti||(ti=!0,zm(Ti,function(){return Vr(),null})),a=(n.flags&15990)!==0,n.subtreeFlags&15990||a){a=yt.transition,yt.transition=null;var o=ue;ue=1;var l=se;se|=4,Pu.current=null,Yv(e,n),Im(n,e),Nv(sc),Pi=!!rc,sc=rc=null,e.current=n,Xv(n),Cx(),se=l,ue=o,yt.transition=a}else e.current=n;if(ti&&(ti=!1,In=e,Gi=s),a=e.pendingLanes,a===0&&(Ln=null),Rx(n.stateNode),tt(e,je()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Ki)throw Ki=!1,e=jc,jc=null,e;return Gi&1&&e.tag!==0&&Vr(),a=e.pendingLanes,a&1?e===Sc?Us++:(Us=0,Sc=e):Us=0,Kn(),null}function Vr(){if(In!==null){var e=mp(Gi),t=yt.transition,n=ue;try{if(yt.transition=null,ue=16>e?16:e,In===null)var r=!1;else{if(e=In,In=null,Gi=0,se&6)throw Error(P(331));var s=se;for(se|=4,F=e.current;F!==null;){var a=F,o=a.child;if(F.flags&16){var l=a.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(F=u;F!==null;){var d=F;switch(d.tag){case 0:case 11:case 15:Ms(8,d,a)}var f=d.child;if(f!==null)f.return=d,F=f;else for(;F!==null;){d=F;var p=d.sibling,b=d.return;if(Em(d),d===u){F=null;break}if(p!==null){p.return=b,F=p;break}F=b}}}var y=a.alternate;if(y!==null){var g=y.child;if(g!==null){y.child=null;do{var w=g.sibling;g.sibling=null,g=w}while(g!==null)}}F=a}}if(a.subtreeFlags&2064&&o!==null)o.return=a,F=o;else e:for(;F!==null;){if(a=F,a.flags&2048)switch(a.tag){case 0:case 11:case 15:Ms(9,a,a.return)}var m=a.sibling;if(m!==null){m.return=a.return,F=m;break e}F=a.return}}var h=e.current;for(F=h;F!==null;){o=F;var x=o.child;if(o.subtreeFlags&2064&&x!==null)x.return=o,F=x;else e:for(o=h;F!==null;){if(l=F,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:ko(9,l)}}catch(j){ke(l,l.return,j)}if(l===o){F=null;break e}var k=l.sibling;if(k!==null){k.return=l.return,F=k;break e}F=l.return}}if(se=s,Kn(),Ft&&typeof Ft.onPostCommitFiberRoot=="function")try{Ft.onPostCommitFiberRoot(po,e)}catch{}r=!0}return r}finally{ue=n,yt.transition=t}}return!1}function kf(e,t,n){t=Zr(n,t),t=mm(e,t,1),e=Dn(e,t,1),t=Ke(),e!==null&&(xa(e,1,t),tt(e,t))}function ke(e,t,n){if(e.tag===3)kf(e,e,n);else for(;t!==null;){if(t.tag===3){kf(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Ln===null||!Ln.has(r))){e=Zr(n,e),e=gm(t,e,1),t=Dn(t,e,1),e=Ke(),t!==null&&(xa(t,1,e),tt(t,e));break}}t=t.return}}function sy(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Ke(),e.pingedLanes|=e.suspendedLanes&n,Oe===e&&(Le&n)===n&&(Pe===4||Pe===3&&(Le&130023424)===Le&&500>je()-Ou?ar(e,0):Au|=n),tt(e,t)}function Lm(e,t){t===0&&(e.mode&1?(t=Wa,Wa<<=1,!(Wa&130023424)&&(Wa=4194304)):t=1);var n=Ke();e=an(e,t),e!==null&&(xa(e,t,n),tt(e,n))}function ay(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Lm(e,n)}function iy(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(P(314))}r!==null&&r.delete(t),Lm(e,n)}var Mm;Mm=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Ze.current)Xe=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Xe=!1,Kv(e,t,n);Xe=!!(e.flags&131072)}else Xe=!1,ge&&t.flags&1048576&&$p(t,Ui,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;pi(e,t),e=t.pendingProps;var s=Qr(t,He.current);Hr(t,n),s=_u(null,t,r,e,s,n);var a=Cu();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,et(r)?(a=!0,Mi(t)):a=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,ku(t),s.updater=bo,t.stateNode=s,s._reactInternals=t,hc(t,r,e,n),t=gc(null,t,r,!0,a,n)):(t.tag=0,ge&&a&&mu(t),We(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(pi(e,t),e=t.pendingProps,s=r._init,r=s(r._payload),t.type=r,s=t.tag=ly(r),e=jt(r,e),s){case 0:t=mc(null,t,r,e,n);break e;case 1:t=ff(null,t,r,e,n);break e;case 11:t=uf(null,t,r,e,n);break e;case 14:t=df(null,t,r,jt(r.type,e),n);break e}throw Error(P(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:jt(r,s),mc(e,t,r,s,n);case 1:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:jt(r,s),ff(e,t,r,s,n);case 3:e:{if(wm(t),e===null)throw Error(P(387));r=t.pendingProps,a=t.memoizedState,s=a.element,Kp(e,t),Bi(t,r,null,n);var o=t.memoizedState;if(r=o.element,a.isDehydrated)if(a={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){s=Zr(Error(P(423)),t),t=hf(e,t,r,n,s);break e}else if(r!==s){s=Zr(Error(P(424)),t),t=hf(e,t,r,n,s);break e}else for(ot=On(t.stateNode.containerInfo.firstChild),lt=t,ge=!0,Et=null,n=Wp(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Jr(),r===s){t=on(e,t,n);break e}We(e,t,r,n)}t=t.child}return t;case 5:return Gp(t),e===null&&uc(t),r=t.type,s=t.pendingProps,a=e!==null?e.memoizedProps:null,o=s.children,ac(r,s)?o=null:a!==null&&ac(r,a)&&(t.flags|=32),ym(e,t),We(e,t,o,n),t.child;case 6:return e===null&&uc(t),null;case 13:return bm(e,t,n);case 4:return Nu(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Yr(t,null,r,n):We(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:jt(r,s),uf(e,t,r,s,n);case 7:return We(e,t,t.pendingProps,n),t.child;case 8:return We(e,t,t.pendingProps.children,n),t.child;case 12:return We(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,a=t.memoizedProps,o=s.value,he(Fi,r._currentValue),r._currentValue=o,a!==null)if(Tt(a.value,o)){if(a.children===s.children&&!Ze.current){t=on(e,t,n);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var l=a.dependencies;if(l!==null){o=a.child;for(var c=l.firstContext;c!==null;){if(c.context===r){if(a.tag===1){c=tn(-1,n&-n),c.tag=2;var u=a.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}a.lanes|=n,c=a.alternate,c!==null&&(c.lanes|=n),dc(a.return,n,t),l.lanes|=n;break}c=c.next}}else if(a.tag===10)o=a.type===t.type?null:a.child;else if(a.tag===18){if(o=a.return,o===null)throw Error(P(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),dc(o,n,t),o=a.sibling}else o=a.child;if(o!==null)o.return=a;else for(o=a;o!==null;){if(o===t){o=null;break}if(a=o.sibling,a!==null){a.return=o.return,o=a;break}o=o.return}a=o}We(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,Hr(t,n),s=wt(s),r=r(s),t.flags|=1,We(e,t,r,n),t.child;case 14:return r=t.type,s=jt(r,t.pendingProps),s=jt(r.type,s),df(e,t,r,s,n);case 15:return xm(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:jt(r,s),pi(e,t),t.tag=1,et(r)?(e=!0,Mi(t)):e=!1,Hr(t,n),pm(t,r,s),hc(t,r,s,n),gc(null,t,r,!0,e,n);case 19:return km(e,t,n);case 22:return vm(e,t,n)}throw Error(P(156,t.tag))};function zm(e,t){return dp(e,t)}function oy(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function xt(e,t,n,r){return new oy(e,t,n,r)}function zu(e){return e=e.prototype,!(!e||!e.isReactComponent)}function ly(e){if(typeof e=="function")return zu(e)?1:0;if(e!=null){if(e=e.$$typeof,e===ru)return 11;if(e===su)return 14}return 2}function zn(e,t){var n=e.alternate;return n===null?(n=xt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function xi(e,t,n,r,s,a){var o=2;if(r=e,typeof e=="function")zu(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Er:return ir(n.children,s,a,t);case nu:o=8,s|=8;break;case Ml:return e=xt(12,n,t,s|2),e.elementType=Ml,e.lanes=a,e;case zl:return e=xt(13,n,t,s),e.elementType=zl,e.lanes=a,e;case Ul:return e=xt(19,n,t,s),e.elementType=Ul,e.lanes=a,e;case Gh:return jo(n,s,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case qh:o=10;break e;case Kh:o=9;break e;case ru:o=11;break e;case su:o=14;break e;case vn:o=16,r=null;break e}throw Error(P(130,e==null?e:typeof e,""))}return t=xt(o,n,t,s),t.elementType=e,t.type=r,t.lanes=a,t}function ir(e,t,n,r){return e=xt(7,e,r,t),e.lanes=n,e}function jo(e,t,n,r){return e=xt(22,e,r,t),e.elementType=Gh,e.lanes=n,e.stateNode={isHidden:!1},e}function vl(e,t,n){return e=xt(6,e,null,t),e.lanes=n,e}function yl(e,t,n){return t=xt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function cy(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Zo(0),this.expirationTimes=Zo(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Zo(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Uu(e,t,n,r,s,a,o,l,c){return e=new cy(e,t,n,l,c),t===1?(t=1,a===!0&&(t|=8)):t=0,a=xt(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},ku(a),e}function uy(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Sr,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function Um(e){if(!e)return Vn;e=e._reactInternals;e:{if(wr(e)!==e||e.tag!==1)throw Error(P(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(et(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(P(171))}if(e.tag===1){var n=e.type;if(et(n))return Up(e,n,t)}return t}function Fm(e,t,n,r,s,a,o,l,c){return e=Uu(n,r,!0,e,s,a,o,l,c),e.context=Um(null),n=e.current,r=Ke(),s=Mn(n),a=tn(r,s),a.callback=t??null,Dn(n,a,s),e.current.lanes=s,xa(e,s,r),tt(e,r),e}function So(e,t,n,r){var s=t.current,a=Ke(),o=Mn(s);return n=Um(n),t.context===null?t.context=n:t.pendingContext=n,t=tn(a,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Dn(s,t,o),e!==null&&(It(e,s,o,a),di(e,s,o)),o}function Ji(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Nf(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Fu(e,t){Nf(e,t),(e=e.alternate)&&Nf(e,t)}function dy(){return null}var $m=typeof reportError=="function"?reportError:function(e){console.error(e)};function $u(e){this._internalRoot=e}Eo.prototype.render=$u.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(P(409));So(e,t,null,null)};Eo.prototype.unmount=$u.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;pr(function(){So(null,e,null,null)}),t[sn]=null}};function Eo(e){this._internalRoot=e}Eo.prototype.unstable_scheduleHydration=function(e){if(e){var t=vp();e={blockedOn:null,target:e,priority:t};for(var n=0;n<wn.length&&t!==0&&t<wn[n].priority;n++);wn.splice(n,0,e),n===0&&wp(e)}};function Bu(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function _o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function jf(){}function fy(e,t,n,r,s){if(s){if(typeof r=="function"){var a=r;r=function(){var u=Ji(o);a.call(u)}}var o=Fm(t,r,e,0,null,!1,!1,"",jf);return e._reactRootContainer=o,e[sn]=o.current,Qs(e.nodeType===8?e.parentNode:e),pr(),o}for(;s=e.lastChild;)e.removeChild(s);if(typeof r=="function"){var l=r;r=function(){var u=Ji(c);l.call(u)}}var c=Uu(e,0,!1,null,null,!1,!1,"",jf);return e._reactRootContainer=c,e[sn]=c.current,Qs(e.nodeType===8?e.parentNode:e),pr(function(){So(t,c,n,r)}),c}function Co(e,t,n,r,s){var a=n._reactRootContainer;if(a){var o=a;if(typeof s=="function"){var l=s;s=function(){var c=Ji(o);l.call(c)}}So(t,o,e,s)}else o=fy(n,t,e,s,r);return Ji(o)}gp=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=_s(t.pendingLanes);n!==0&&(ou(t,n|1),tt(t,je()),!(se&6)&&(es=je()+500,Kn()))}break;case 13:pr(function(){var r=an(e,1);if(r!==null){var s=Ke();It(r,e,1,s)}}),Fu(e,1)}};lu=function(e){if(e.tag===13){var t=an(e,134217728);if(t!==null){var n=Ke();It(t,e,134217728,n)}Fu(e,134217728)}};xp=function(e){if(e.tag===13){var t=Mn(e),n=an(e,t);if(n!==null){var r=Ke();It(n,e,t,r)}Fu(e,t)}};vp=function(){return ue};yp=function(e,t){var n=ue;try{return ue=e,t()}finally{ue=n}};Ql=function(e,t,n){switch(t){case"input":if(Bl(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=vo(r);if(!s)throw Error(P(90));Jh(r),Bl(r,s)}}}break;case"textarea":Xh(e,n);break;case"select":t=n.value,t!=null&&Ur(e,!!n.multiple,t,!1)}};ap=Du;ip=pr;var hy={usingClientEntryPoint:!1,Events:[ya,Tr,vo,rp,sp,Du]},ks={findFiberByHostInstance:tr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},py={bundleType:ks.bundleType,version:ks.version,rendererPackageName:ks.rendererPackageName,rendererConfig:ks.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:un.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=cp(e),e===null?null:e.stateNode},findFiberByHostInstance:ks.findFiberByHostInstance||dy,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ni=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ni.isDisabled&&ni.supportsFiber)try{po=ni.inject(py),Ft=ni}catch{}}ut.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=hy;ut.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Bu(t))throw Error(P(200));return uy(e,t,null,n)};ut.createRoot=function(e,t){if(!Bu(e))throw Error(P(299));var n=!1,r="",s=$m;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=Uu(e,1,!1,null,null,n,!1,r,s),e[sn]=t.current,Qs(e.nodeType===8?e.parentNode:e),new $u(t)};ut.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(P(188)):(e=Object.keys(e).join(","),Error(P(268,e)));return e=cp(t),e=e===null?null:e.stateNode,e};ut.flushSync=function(e){return pr(e)};ut.hydrate=function(e,t,n){if(!_o(t))throw Error(P(200));return Co(null,e,t,!0,n)};ut.hydrateRoot=function(e,t,n){if(!Bu(e))throw Error(P(405));var r=n!=null&&n.hydratedSources||null,s=!1,a="",o=$m;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=Fm(t,null,e,1,n??null,s,!1,a,o),e[sn]=t.current,Qs(e),r)for(e=0;e<r.length;e++)n=r[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new Eo(t)};ut.render=function(e,t,n){if(!_o(t))throw Error(P(200));return Co(null,e,t,!1,n)};ut.unmountComponentAtNode=function(e){if(!_o(e))throw Error(P(40));return e._reactRootContainer?(pr(function(){Co(null,null,e,!1,function(){e._reactRootContainer=null,e[sn]=null})}),!0):!1};ut.unstable_batchedUpdates=Du;ut.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!_o(n))throw Error(P(200));if(e==null||e._reactInternals===void 0)throw Error(P(38));return Co(e,t,n,!1,r)};ut.version="18.3.1-next-f1338f8080-20240426";function Bm(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Bm)}catch(e){console.error(e)}}Bm(),Bh.exports=ut;var my=Bh.exports,Hm,Sf=my;Hm=Sf.createRoot,Sf.hydrateRoot;/**
 * @remix-run/router v1.23.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function sa(){return sa=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},sa.apply(this,arguments)}var Tn;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Tn||(Tn={}));const Ef="popstate";function gy(e){e===void 0&&(e={});function t(r,s){let{pathname:a,search:o,hash:l}=r.location;return Cc("",{pathname:a,search:o,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:Yi(s)}return vy(t,n,null,e)}function ye(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Hu(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function xy(){return Math.random().toString(36).substr(2,8)}function _f(e,t){return{usr:e.state,key:e.key,idx:t}}function Cc(e,t,n,r){return n===void 0&&(n=null),sa({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?ls(t):t,{state:n,key:t&&t.key||r||xy()})}function Yi(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function ls(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function vy(e,t,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:a=!1}=r,o=s.history,l=Tn.Pop,c=null,u=d();u==null&&(u=0,o.replaceState(sa({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function f(){l=Tn.Pop;let w=d(),m=w==null?null:w-u;u=w,c&&c({action:l,location:g.location,delta:m})}function p(w,m){l=Tn.Push;let h=Cc(g.location,w,m);u=d()+1;let x=_f(h,u),k=g.createHref(h);try{o.pushState(x,"",k)}catch(j){if(j instanceof DOMException&&j.name==="DataCloneError")throw j;s.location.assign(k)}a&&c&&c({action:l,location:g.location,delta:1})}function b(w,m){l=Tn.Replace;let h=Cc(g.location,w,m);u=d();let x=_f(h,u),k=g.createHref(h);o.replaceState(x,"",k),a&&c&&c({action:l,location:g.location,delta:0})}function y(w){let m=s.location.origin!=="null"?s.location.origin:s.location.href,h=typeof w=="string"?w:Yi(w);return h=h.replace(/ $/,"%20"),ye(m,"No window.location.(origin|href) available to create URL for href: "+h),new URL(h,m)}let g={get action(){return l},get location(){return e(s,o)},listen(w){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(Ef,f),c=w,()=>{s.removeEventListener(Ef,f),c=null}},createHref(w){return t(s,w)},createURL:y,encodeLocation(w){let m=y(w);return{pathname:m.pathname,search:m.search,hash:m.hash}},push:p,replace:b,go(w){return o.go(w)}};return g}var Cf;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Cf||(Cf={}));function yy(e,t,n){return n===void 0&&(n="/"),wy(e,t,n)}function wy(e,t,n,r){let s=typeof t=="string"?ls(t):t,a=ts(s.pathname||"/",n);if(a==null)return null;let o=Vm(e);by(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let u=Py(a);l=Ty(o[c],u)}return l}function Vm(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(a,o,l)=>{let c={relativePath:l===void 0?a.path||"":l,caseSensitive:a.caseSensitive===!0,childrenIndex:o,route:a};c.relativePath.startsWith("/")&&(ye(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let u=Un([r,c.relativePath]),d=n.concat(c);a.children&&a.children.length>0&&(ye(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),Vm(a.children,t,d,u)),!(a.path==null&&!a.index)&&t.push({path:u,score:Cy(u,a.index),routesMeta:d})};return e.forEach((a,o)=>{var l;if(a.path===""||!((l=a.path)!=null&&l.includes("?")))s(a,o);else for(let c of Wm(a.path))s(a,o,c)}),t}function Wm(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,s=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return s?[a,""]:[a];let o=Wm(r.join("/")),l=[];return l.push(...o.map(c=>c===""?a:[a,c].join("/"))),s&&l.push(...o),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function by(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:Iy(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const ky=/^:[\w-]+$/,Ny=3,jy=2,Sy=1,Ey=10,_y=-2,If=e=>e==="*";function Cy(e,t){let n=e.split("/"),r=n.length;return n.some(If)&&(r+=_y),t&&(r+=jy),n.filter(s=>!If(s)).reduce((s,a)=>s+(ky.test(a)?Ny:a===""?Sy:Ey),r)}function Iy(e,t){return e.length===t.length&&e.slice(0,-1).every((r,s)=>r===t[s])?e[e.length-1]-t[t.length-1]:0}function Ty(e,t,n){let{routesMeta:r}=e,s={},a="/",o=[];for(let l=0;l<r.length;++l){let c=r[l],u=l===r.length-1,d=a==="/"?t:t.slice(a.length)||"/",f=Ic({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),p=c.route;if(!f)return null;Object.assign(s,f.params),o.push({params:s,pathname:Un([a,f.pathname]),pathnameBase:My(Un([a,f.pathnameBase])),route:p}),f.pathnameBase!=="/"&&(a=Un([a,f.pathnameBase]))}return o}function Ic(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=Ry(e.path,e.caseSensitive,e.end),s=t.match(n);if(!s)return null;let a=s[0],o=a.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:r.reduce((u,d,f)=>{let{paramName:p,isOptional:b}=d;if(p==="*"){let g=l[f]||"";o=a.slice(0,a.length-g.length).replace(/(.)\/+$/,"$1")}const y=l[f];return b&&!y?u[p]=void 0:u[p]=(y||"").replace(/%2F/g,"/"),u},{}),pathname:a,pathnameBase:o,pattern:e}}function Ry(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),Hu(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(r.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),r]}function Py(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Hu(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function ts(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}const Ay=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Oy=e=>Ay.test(e);function Dy(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:s=""}=typeof e=="string"?ls(e):e,a;if(n)if(Oy(n))a=n;else{if(n.includes("//")){let o=n;n=n.replace(/\/\/+/g,"/"),Hu(!1,"Pathnames cannot have embedded double slashes - normalizing "+(o+" -> "+n))}n.startsWith("/")?a=Tf(n.substring(1),"/"):a=Tf(n,t)}else a=t;return{pathname:a,search:zy(r),hash:Uy(s)}}function Tf(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function wl(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Ly(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function Vu(e,t){let n=Ly(e);return t?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Wu(e,t,n,r){r===void 0&&(r=!1);let s;typeof e=="string"?s=ls(e):(s=sa({},e),ye(!s.pathname||!s.pathname.includes("?"),wl("?","pathname","search",s)),ye(!s.pathname||!s.pathname.includes("#"),wl("#","pathname","hash",s)),ye(!s.search||!s.search.includes("#"),wl("#","search","hash",s)));let a=e===""||s.pathname==="",o=a?"/":s.pathname,l;if(o==null)l=n;else{let f=t.length-1;if(!r&&o.startsWith("..")){let p=o.split("/");for(;p[0]==="..";)p.shift(),f-=1;s.pathname=p.join("/")}l=f>=0?t[f]:"/"}let c=Dy(s,l),u=o&&o!=="/"&&o.endsWith("/"),d=(a||o===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const Un=e=>e.join("/").replace(/\/\/+/g,"/"),My=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),zy=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Uy=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function Fy(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const qm=["post","put","patch","delete"];new Set(qm);const $y=["get",...qm];new Set($y);/**
 * React Router v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function aa(){return aa=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},aa.apply(this,arguments)}const Io=v.createContext(null),Km=v.createContext(null),dn=v.createContext(null),To=v.createContext(null),Wt=v.createContext({outlet:null,matches:[],isDataRoute:!1}),Gm=v.createContext(null);function By(e,t){let{relative:n}=t===void 0?{}:t;cs()||ye(!1);let{basename:r,navigator:s}=v.useContext(dn),{hash:a,pathname:o,search:l}=Ro(e,{relative:n}),c=o;return r!=="/"&&(c=o==="/"?r:Un([r,o])),s.createHref({pathname:c,search:l,hash:a})}function cs(){return v.useContext(To)!=null}function us(){return cs()||ye(!1),v.useContext(To).location}function Qm(e){v.useContext(dn).static||v.useLayoutEffect(e)}function ds(){let{isDataRoute:e}=v.useContext(Wt);return e?s1():Hy()}function Hy(){cs()||ye(!1);let e=v.useContext(Io),{basename:t,future:n,navigator:r}=v.useContext(dn),{matches:s}=v.useContext(Wt),{pathname:a}=us(),o=JSON.stringify(Vu(s,n.v7_relativeSplatPath)),l=v.useRef(!1);return Qm(()=>{l.current=!0}),v.useCallback(function(u,d){if(d===void 0&&(d={}),!l.current)return;if(typeof u=="number"){r.go(u);return}let f=Wu(u,JSON.parse(o),a,d.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:Un([t,f.pathname])),(d.replace?r.replace:r.push)(f,d.state,d)},[t,r,o,a,e])}const Vy=v.createContext(null);function Wy(e){let t=v.useContext(Wt).outlet;return t&&v.createElement(Vy.Provider,{value:e},t)}function qy(){let{matches:e}=v.useContext(Wt),t=e[e.length-1];return t?t.params:{}}function Ro(e,t){let{relative:n}=t===void 0?{}:t,{future:r}=v.useContext(dn),{matches:s}=v.useContext(Wt),{pathname:a}=us(),o=JSON.stringify(Vu(s,r.v7_relativeSplatPath));return v.useMemo(()=>Wu(e,JSON.parse(o),a,n==="path"),[e,o,a,n])}function Ky(e,t){return Gy(e,t)}function Gy(e,t,n,r){cs()||ye(!1);let{navigator:s}=v.useContext(dn),{matches:a}=v.useContext(Wt),o=a[a.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let u=us(),d;if(t){var f;let w=typeof t=="string"?ls(t):t;c==="/"||(f=w.pathname)!=null&&f.startsWith(c)||ye(!1),d=w}else d=u;let p=d.pathname||"/",b=p;if(c!=="/"){let w=c.replace(/^\//,"").split("/");b="/"+p.replace(/^\//,"").split("/").slice(w.length).join("/")}let y=yy(e,{pathname:b}),g=Zy(y&&y.map(w=>Object.assign({},w,{params:Object.assign({},l,w.params),pathname:Un([c,s.encodeLocation?s.encodeLocation(w.pathname).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?c:Un([c,s.encodeLocation?s.encodeLocation(w.pathnameBase).pathname:w.pathnameBase])})),a,n,r);return t&&g?v.createElement(To.Provider,{value:{location:aa({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Tn.Pop}},g):g}function Qy(){let e=r1(),t=Fy(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return v.createElement(v.Fragment,null,v.createElement("h2",null,"Unexpected Application Error!"),v.createElement("h3",{style:{fontStyle:"italic"}},t),n?v.createElement("pre",{style:s},n):null,null)}const Jy=v.createElement(Qy,null);class Yy extends v.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?v.createElement(Wt.Provider,{value:this.props.routeContext},v.createElement(Gm.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Xy(e){let{routeContext:t,match:n,children:r}=e,s=v.useContext(Io);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),v.createElement(Wt.Provider,{value:t},r)}function Zy(e,t,n,r){var s;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var a;if(!n)return null;if(n.errors)e=n.matches;else if((a=r)!=null&&a.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let o=e,l=(s=n)==null?void 0:s.errors;if(l!=null){let d=o.findIndex(f=>f.route.id&&(l==null?void 0:l[f.route.id])!==void 0);d>=0||ye(!1),o=o.slice(0,Math.min(o.length,d+1))}let c=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<o.length;d++){let f=o[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=d),f.route.id){let{loaderData:p,errors:b}=n,y=f.route.loader&&p[f.route.id]===void 0&&(!b||b[f.route.id]===void 0);if(f.route.lazy||y){c=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((d,f,p)=>{let b,y=!1,g=null,w=null;n&&(b=l&&f.route.id?l[f.route.id]:void 0,g=f.route.errorElement||Jy,c&&(u<0&&p===0?(a1("route-fallback"),y=!0,w=null):u===p&&(y=!0,w=f.route.hydrateFallbackElement||null)));let m=t.concat(o.slice(0,p+1)),h=()=>{let x;return b?x=g:y?x=w:f.route.Component?x=v.createElement(f.route.Component,null):f.route.element?x=f.route.element:x=d,v.createElement(Xy,{match:f,routeContext:{outlet:d,matches:m,isDataRoute:n!=null},children:x})};return n&&(f.route.ErrorBoundary||f.route.errorElement||p===0)?v.createElement(Yy,{location:n.location,revalidation:n.revalidation,component:g,error:b,children:h(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):h()},null)}var Jm=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Jm||{}),Ym=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Ym||{});function e1(e){let t=v.useContext(Io);return t||ye(!1),t}function t1(e){let t=v.useContext(Km);return t||ye(!1),t}function n1(e){let t=v.useContext(Wt);return t||ye(!1),t}function Xm(e){let t=n1(),n=t.matches[t.matches.length-1];return n.route.id||ye(!1),n.route.id}function r1(){var e;let t=v.useContext(Gm),n=t1(),r=Xm();return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function s1(){let{router:e}=e1(Jm.UseNavigateStable),t=Xm(Ym.UseNavigateStable),n=v.useRef(!1);return Qm(()=>{n.current=!0}),v.useCallback(function(s,a){a===void 0&&(a={}),n.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,aa({fromRouteId:t},a)))},[e,t])}const Rf={};function a1(e,t,n){Rf[e]||(Rf[e]=!0)}function i1(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function ia(e){let{to:t,replace:n,state:r,relative:s}=e;cs()||ye(!1);let{future:a,static:o}=v.useContext(dn),{matches:l}=v.useContext(Wt),{pathname:c}=us(),u=ds(),d=Wu(t,Vu(l,a.v7_relativeSplatPath),c,s==="path"),f=JSON.stringify(d);return v.useEffect(()=>u(JSON.parse(f),{replace:n,state:r,relative:s}),[u,f,s,n,r]),null}function o1(e){return Wy(e.context)}function Ie(e){ye(!1)}function l1(e){let{basename:t="/",children:n=null,location:r,navigationType:s=Tn.Pop,navigator:a,static:o=!1,future:l}=e;cs()&&ye(!1);let c=t.replace(/^\/*/,"/"),u=v.useMemo(()=>({basename:c,navigator:a,static:o,future:aa({v7_relativeSplatPath:!1},l)}),[c,l,a,o]);typeof r=="string"&&(r=ls(r));let{pathname:d="/",search:f="",hash:p="",state:b=null,key:y="default"}=r,g=v.useMemo(()=>{let w=ts(d,c);return w==null?null:{location:{pathname:w,search:f,hash:p,state:b,key:y},navigationType:s}},[c,d,f,p,b,y,s]);return g==null?null:v.createElement(dn.Provider,{value:u},v.createElement(To.Provider,{children:n,value:g}))}function c1(e){let{children:t,location:n}=e;return Ky(Tc(t),n)}new Promise(()=>{});function Tc(e,t){t===void 0&&(t=[]);let n=[];return v.Children.forEach(e,(r,s)=>{if(!v.isValidElement(r))return;let a=[...t,s];if(r.type===v.Fragment){n.push.apply(n,Tc(r.props.children,a));return}r.type!==Ie&&ye(!1),!r.props.index||!r.props.children||ye(!1);let o={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Tc(r.props.children,a)),n.push(o)}),n}/**
 * React Router DOM v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Xi(){return Xi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Xi.apply(this,arguments)}function Zm(e,t){if(e==null)return{};var n={},r=Object.keys(e),s,a;for(a=0;a<r.length;a++)s=r[a],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}function u1(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function d1(e,t){return e.button===0&&(!t||t==="_self")&&!u1(e)}const f1=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],h1=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],p1="6";try{window.__reactRouterVersion=p1}catch{}const m1=v.createContext({isTransitioning:!1}),g1="startTransition",Pf=sx[g1];function x1(e){let{basename:t,children:n,future:r,window:s}=e,a=v.useRef();a.current==null&&(a.current=gy({window:s,v5Compat:!0}));let o=a.current,[l,c]=v.useState({action:o.action,location:o.location}),{v7_startTransition:u}=r||{},d=v.useCallback(f=>{u&&Pf?Pf(()=>c(f)):c(f)},[c,u]);return v.useLayoutEffect(()=>o.listen(d),[o,d]),v.useEffect(()=>i1(r),[r]),v.createElement(l1,{basename:t,children:n,location:l.location,navigationType:l.action,navigator:o,future:r})}const v1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",y1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,oa=v.forwardRef(function(t,n){let{onClick:r,relative:s,reloadDocument:a,replace:o,state:l,target:c,to:u,preventScrollReset:d,viewTransition:f}=t,p=Zm(t,f1),{basename:b}=v.useContext(dn),y,g=!1;if(typeof u=="string"&&y1.test(u)&&(y=u,v1))try{let x=new URL(window.location.href),k=u.startsWith("//")?new URL(x.protocol+u):new URL(u),j=ts(k.pathname,b);k.origin===x.origin&&j!=null?u=j+k.search+k.hash:g=!0}catch{}let w=By(u,{relative:s}),m=b1(u,{replace:o,state:l,target:c,preventScrollReset:d,relative:s,viewTransition:f});function h(x){r&&r(x),x.defaultPrevented||m(x)}return v.createElement("a",Xi({},p,{href:y||w,onClick:g||a?r:h,ref:n,target:c}))}),Zi=v.forwardRef(function(t,n){let{"aria-current":r="page",caseSensitive:s=!1,className:a="",end:o=!1,style:l,to:c,viewTransition:u,children:d}=t,f=Zm(t,h1),p=Ro(c,{relative:f.relative}),b=us(),y=v.useContext(Km),{navigator:g,basename:w}=v.useContext(dn),m=y!=null&&k1(p)&&u===!0,h=g.encodeLocation?g.encodeLocation(p).pathname:p.pathname,x=b.pathname,k=y&&y.navigation&&y.navigation.location?y.navigation.location.pathname:null;s||(x=x.toLowerCase(),k=k?k.toLowerCase():null,h=h.toLowerCase()),k&&w&&(k=ts(k,w)||k);const j=h!=="/"&&h.endsWith("/")?h.length-1:h.length;let N=x===h||!o&&x.startsWith(h)&&x.charAt(j)==="/",S=k!=null&&(k===h||!o&&k.startsWith(h)&&k.charAt(h.length)==="/"),T={isActive:N,isPending:S,isTransitioning:m},z=N?r:void 0,$;typeof a=="function"?$=a(T):$=[a,N?"active":null,S?"pending":null,m?"transitioning":null].filter(Boolean).join(" ");let Q=typeof l=="function"?l(T):l;return v.createElement(oa,Xi({},f,{"aria-current":z,className:$,ref:n,style:Q,to:c,viewTransition:u}),typeof d=="function"?d(T):d)});var Rc;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Rc||(Rc={}));var Af;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Af||(Af={}));function w1(e){let t=v.useContext(Io);return t||ye(!1),t}function b1(e,t){let{target:n,replace:r,state:s,preventScrollReset:a,relative:o,viewTransition:l}=t===void 0?{}:t,c=ds(),u=us(),d=Ro(e,{relative:o});return v.useCallback(f=>{if(d1(f,n)){f.preventDefault();let p=r!==void 0?r:Yi(u)===Yi(d);c(e,{replace:p,state:s,preventScrollReset:a,relative:o,viewTransition:l})}},[u,c,d,r,s,n,e,a,o,l])}function k1(e,t){t===void 0&&(t={});let n=v.useContext(m1);n==null&&ye(!1);let{basename:r}=w1(Rc.useViewTransitionState),s=Ro(e,{relative:t.relative});if(!n.isTransitioning)return!1;let a=ts(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=ts(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Ic(s.pathname,o)!=null||Ic(s.pathname,a)!=null}var Of={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e0=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let s=e.charCodeAt(r);s<128?t[n++]=s:s<2048?(t[n++]=s>>6|192,t[n++]=s&63|128):(s&64512)===55296&&r+1<e.length&&(e.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(e.charCodeAt(++r)&1023),t[n++]=s>>18|240,t[n++]=s>>12&63|128,t[n++]=s>>6&63|128,t[n++]=s&63|128):(t[n++]=s>>12|224,t[n++]=s>>6&63|128,t[n++]=s&63|128)}return t},N1=function(e){const t=[];let n=0,r=0;for(;n<e.length;){const s=e[n++];if(s<128)t[r++]=String.fromCharCode(s);else if(s>191&&s<224){const a=e[n++];t[r++]=String.fromCharCode((s&31)<<6|a&63)}else if(s>239&&s<365){const a=e[n++],o=e[n++],l=e[n++],c=((s&7)<<18|(a&63)<<12|(o&63)<<6|l&63)-65536;t[r++]=String.fromCharCode(55296+(c>>10)),t[r++]=String.fromCharCode(56320+(c&1023))}else{const a=e[n++],o=e[n++];t[r++]=String.fromCharCode((s&15)<<12|(a&63)<<6|o&63)}}return t.join("")},t0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<e.length;s+=3){const a=e[s],o=s+1<e.length,l=o?e[s+1]:0,c=s+2<e.length,u=c?e[s+2]:0,d=a>>2,f=(a&3)<<4|l>>4;let p=(l&15)<<2|u>>6,b=u&63;c||(b=64,o||(p=64)),r.push(n[d],n[f],n[p],n[b])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(e0(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):N1(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<e.length;){const a=n[e.charAt(s++)],l=s<e.length?n[e.charAt(s)]:0;++s;const u=s<e.length?n[e.charAt(s)]:64;++s;const f=s<e.length?n[e.charAt(s)]:64;if(++s,a==null||l==null||u==null||f==null)throw new j1;const p=a<<2|l>>4;if(r.push(p),u!==64){const b=l<<4&240|u>>2;if(r.push(b),f!==64){const y=u<<6&192|f;r.push(y)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class j1 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const S1=function(e){const t=e0(e);return t0.encodeByteArray(t,!0)},n0=function(e){return S1(e).replace(/\./g,"")},r0=function(e){try{return t0.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E1(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _1=()=>E1().__FIREBASE_DEFAULTS__,C1=()=>{if(typeof process>"u"||typeof Of>"u")return;const e=Of.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},I1=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&r0(e[1]);return t&&JSON.parse(t)},qu=()=>{try{return _1()||C1()||I1()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},T1=e=>{var t,n;return(n=(t=qu())===null||t===void 0?void 0:t.emulatorHosts)===null||n===void 0?void 0:n[e]},s0=()=>{var e;return(e=qu())===null||e===void 0?void 0:e.config},a0=e=>{var t;return(t=qu())===null||t===void 0?void 0:t[`_${e}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R1{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,r))}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ve(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function P1(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ve())}function A1(){const e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function O1(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function D1(){const e=Ve();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function L1(){try{return typeof indexedDB=="object"}catch{return!1}}function M1(){return new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var a;t(((a=s.error)===null||a===void 0?void 0:a.message)||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z1="FirebaseError";class Gn extends Error{constructor(t,n,r){super(n),this.code=t,this.customData=r,this.name=z1,Object.setPrototypeOf(this,Gn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ba.prototype.create)}}class ba{constructor(t,n,r){this.service=t,this.serviceName=n,this.errors=r}create(t,...n){const r=n[0]||{},s=`${this.service}/${t}`,a=this.errors[t],o=a?U1(a,r):"Error",l=`${this.serviceName}: ${o} (${s}).`;return new Gn(s,l,r)}}function U1(e,t){return e.replace(F1,(n,r)=>{const s=t[r];return s!=null?String(s):`<${r}?>`})}const F1=/\{\$([^}]+)}/g;function $1(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function eo(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const s of n){if(!r.includes(s))return!1;const a=e[s],o=t[s];if(Df(a)&&Df(o)){if(!eo(a,o))return!1}else if(a!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function Df(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ka(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(s=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function Is(e){const t={};return e.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,a]=r.split("=");t[decodeURIComponent(s)]=decodeURIComponent(a)}}),t}function Ts(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function B1(e,t){const n=new H1(e,t);return n.subscribe.bind(n)}class H1{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(r=>{this.error(r)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,r){let s;if(t===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");V1(t,["next","error","complete"])?s=t:s={next:t,error:n,complete:r},s.next===void 0&&(s.next=bl),s.error===void 0&&(s.error=bl),s.complete===void 0&&(s.complete=bl);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),a}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function V1(e,t){if(typeof e!="object"||e===null)return!1;for(const n of t)if(n in e&&typeof e[n]=="function")return!0;return!1}function bl(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fn(e){return e&&e._delegate?e._delegate:e}class ns{constructor(t,n,r){this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zn="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W1{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const r=new R1;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;const r=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),s=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(a){if(s)return null;throw a}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(K1(t))try{this.getOrInitializeService({instanceIdentifier:Zn})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const a=this.getOrInitializeService({instanceIdentifier:s});r.resolve(a)}catch{}}}}clearInstance(t=Zn){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Zn){return this.instances.has(t)}getOptions(t=Zn){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[a,o]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(a);r===l&&o.resolve(s)}return s}onInit(t,n){var r;const s=this.normalizeInstanceIdentifier(n),a=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;a.add(t),this.onInitCallbacks.set(s,a);const o=this.instances.get(s);return o&&t(o,s),()=>{a.delete(t)}}invokeOnInitCallbacks(t,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:q1(t),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=Zn){return this.component?this.component.multipleInstances?t:Zn:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function q1(e){return e===Zn?void 0:e}function K1(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G1{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new W1(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var de;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(de||(de={}));const Q1={debug:de.DEBUG,verbose:de.VERBOSE,info:de.INFO,warn:de.WARN,error:de.ERROR,silent:de.SILENT},J1=de.INFO,Y1={[de.DEBUG]:"log",[de.VERBOSE]:"log",[de.INFO]:"info",[de.WARN]:"warn",[de.ERROR]:"error"},X1=(e,t,...n)=>{if(t<e.logLevel)return;const r=new Date().toISOString(),s=Y1[t];if(s)console[s](`[${r}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class i0{constructor(t){this.name=t,this._logLevel=J1,this._logHandler=X1,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in de))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?Q1[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,de.DEBUG,...t),this._logHandler(this,de.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,de.VERBOSE,...t),this._logHandler(this,de.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,de.INFO,...t),this._logHandler(this,de.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,de.WARN,...t),this._logHandler(this,de.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,de.ERROR,...t),this._logHandler(this,de.ERROR,...t)}}const Z1=(e,t)=>t.some(n=>e instanceof n);let Lf,Mf;function ew(){return Lf||(Lf=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function tw(){return Mf||(Mf=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const o0=new WeakMap,Pc=new WeakMap,l0=new WeakMap,kl=new WeakMap,Ku=new WeakMap;function nw(e){const t=new Promise((n,r)=>{const s=()=>{e.removeEventListener("success",a),e.removeEventListener("error",o)},a=()=>{n(Fn(e.result)),s()},o=()=>{r(e.error),s()};e.addEventListener("success",a),e.addEventListener("error",o)});return t.then(n=>{n instanceof IDBCursor&&o0.set(n,e)}).catch(()=>{}),Ku.set(t,e),t}function rw(e){if(Pc.has(e))return;const t=new Promise((n,r)=>{const s=()=>{e.removeEventListener("complete",a),e.removeEventListener("error",o),e.removeEventListener("abort",o)},a=()=>{n(),s()},o=()=>{r(e.error||new DOMException("AbortError","AbortError")),s()};e.addEventListener("complete",a),e.addEventListener("error",o),e.addEventListener("abort",o)});Pc.set(e,t)}let Ac={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return Pc.get(e);if(t==="objectStoreNames")return e.objectStoreNames||l0.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Fn(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function sw(e){Ac=e(Ac)}function aw(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const r=e.call(Nl(this),t,...n);return l0.set(r,t.sort?t.sort():[t]),Fn(r)}:tw().includes(e)?function(...t){return e.apply(Nl(this),t),Fn(o0.get(this))}:function(...t){return Fn(e.apply(Nl(this),t))}}function iw(e){return typeof e=="function"?aw(e):(e instanceof IDBTransaction&&rw(e),Z1(e,ew())?new Proxy(e,Ac):e)}function Fn(e){if(e instanceof IDBRequest)return nw(e);if(kl.has(e))return kl.get(e);const t=iw(e);return t!==e&&(kl.set(e,t),Ku.set(t,e)),t}const Nl=e=>Ku.get(e);function ow(e,t,{blocked:n,upgrade:r,blocking:s,terminated:a}={}){const o=indexedDB.open(e,t),l=Fn(o);return r&&o.addEventListener("upgradeneeded",c=>{r(Fn(o.result),c.oldVersion,c.newVersion,Fn(o.transaction),c)}),n&&o.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),l.then(c=>{a&&c.addEventListener("close",()=>a()),s&&c.addEventListener("versionchange",u=>s(u.oldVersion,u.newVersion,u))}).catch(()=>{}),l}const lw=["get","getKey","getAll","getAllKeys","count"],cw=["put","add","delete","clear"],jl=new Map;function zf(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(jl.get(t))return jl.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,s=cw.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||lw.includes(n)))return;const a=async function(o,...l){const c=this.transaction(o,s?"readwrite":"readonly");let u=c.store;return r&&(u=u.index(l.shift())),(await Promise.all([u[n](...l),s&&c.done]))[0]};return jl.set(t,a),a}sw(e=>({...e,get:(t,n,r)=>zf(t,n)||e.get(t,n,r),has:(t,n)=>!!zf(t,n)||e.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uw{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(dw(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function dw(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const Oc="@firebase/app",Uf="0.9.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mr=new i0("@firebase/app"),fw="@firebase/app-compat",hw="@firebase/analytics-compat",pw="@firebase/analytics",mw="@firebase/app-check-compat",gw="@firebase/app-check",xw="@firebase/auth",vw="@firebase/auth-compat",yw="@firebase/database",ww="@firebase/database-compat",bw="@firebase/functions",kw="@firebase/functions-compat",Nw="@firebase/installations",jw="@firebase/installations-compat",Sw="@firebase/messaging",Ew="@firebase/messaging-compat",_w="@firebase/performance",Cw="@firebase/performance-compat",Iw="@firebase/remote-config",Tw="@firebase/remote-config-compat",Rw="@firebase/storage",Pw="@firebase/storage-compat",Aw="@firebase/firestore",Ow="@firebase/firestore-compat",Dw="firebase",Lw="9.23.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dc="[DEFAULT]",Mw={[Oc]:"fire-core",[fw]:"fire-core-compat",[pw]:"fire-analytics",[hw]:"fire-analytics-compat",[gw]:"fire-app-check",[mw]:"fire-app-check-compat",[xw]:"fire-auth",[vw]:"fire-auth-compat",[yw]:"fire-rtdb",[ww]:"fire-rtdb-compat",[bw]:"fire-fn",[kw]:"fire-fn-compat",[Nw]:"fire-iid",[jw]:"fire-iid-compat",[Sw]:"fire-fcm",[Ew]:"fire-fcm-compat",[_w]:"fire-perf",[Cw]:"fire-perf-compat",[Iw]:"fire-rc",[Tw]:"fire-rc-compat",[Rw]:"fire-gcs",[Pw]:"fire-gcs-compat",[Aw]:"fire-fst",[Ow]:"fire-fst-compat","fire-js":"fire-js",[Dw]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const to=new Map,Lc=new Map;function zw(e,t){try{e.container.addComponent(t)}catch(n){mr.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function la(e){const t=e.name;if(Lc.has(t))return mr.debug(`There were multiple attempts to register component ${t}.`),!1;Lc.set(t,e);for(const n of to.values())zw(n,e);return!0}function c0(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uw={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},$n=new ba("app","Firebase",Uw);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fw{constructor(t,n,r){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ns("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw $n.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Na=Lw;function u0(e,t={}){let n=e;typeof t!="object"&&(t={name:t});const r=Object.assign({name:Dc,automaticDataCollectionEnabled:!1},t),s=r.name;if(typeof s!="string"||!s)throw $n.create("bad-app-name",{appName:String(s)});if(n||(n=s0()),!n)throw $n.create("no-options");const a=to.get(s);if(a){if(eo(n,a.options)&&eo(r,a.config))return a;throw $n.create("duplicate-app",{appName:s})}const o=new G1(s);for(const c of Lc.values())o.addComponent(c);const l=new Fw(n,r,o);return to.set(s,l),l}function $w(e=Dc){const t=to.get(e);if(!t&&e===Dc&&s0())return u0();if(!t)throw $n.create("no-app",{appName:e});return t}function Wr(e,t,n){var r;let s=(r=Mw[e])!==null&&r!==void 0?r:e;n&&(s+=`-${n}`);const a=s.match(/\s|\//),o=t.match(/\s|\//);if(a||o){const l=[`Unable to register library "${s}" with version "${t}":`];a&&l.push(`library name "${s}" contains illegal characters (whitespace or "/")`),a&&o&&l.push("and"),o&&l.push(`version name "${t}" contains illegal characters (whitespace or "/")`),mr.warn(l.join(" "));return}la(new ns(`${s}-version`,()=>({library:s,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bw="firebase-heartbeat-database",Hw=1,ca="firebase-heartbeat-store";let Sl=null;function d0(){return Sl||(Sl=ow(Bw,Hw,{upgrade:(e,t)=>{switch(t){case 0:e.createObjectStore(ca)}}}).catch(e=>{throw $n.create("idb-open",{originalErrorMessage:e.message})})),Sl}async function Vw(e){try{return await(await d0()).transaction(ca).objectStore(ca).get(f0(e))}catch(t){if(t instanceof Gn)mr.warn(t.message);else{const n=$n.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});mr.warn(n.message)}}}async function Ff(e,t){try{const r=(await d0()).transaction(ca,"readwrite");await r.objectStore(ca).put(t,f0(e)),await r.done}catch(n){if(n instanceof Gn)mr.warn(n.message);else{const r=$n.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});mr.warn(r.message)}}}function f0(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ww=1024,qw=30*24*60*60*1e3;class Kw{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Qw(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=$f();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(s=>s.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{const a=new Date(s.date).valueOf();return Date.now()-a<=qw}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const t=$f(),{heartbeatsToSend:n,unsentEntries:r}=Gw(this._heartbeatsCache.heartbeats),s=n0(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}}function $f(){return new Date().toISOString().substring(0,10)}function Gw(e,t=Ww){const n=[];let r=e.slice();for(const s of e){const a=n.find(o=>o.agent===s.agent);if(a){if(a.dates.push(s.date),Bf(n)>t){a.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),Bf(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class Qw{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return L1()?M1().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await Vw(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(t){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return Ff(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return Ff(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...t.heartbeats]})}else return}}function Bf(e){return n0(JSON.stringify({version:2,heartbeats:e})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jw(e){la(new ns("platform-logger",t=>new uw(t),"PRIVATE")),la(new ns("heartbeat",t=>new Kw(t),"PRIVATE")),Wr(Oc,Uf,e),Wr(Oc,Uf,"esm2017"),Wr("fire-js","")}Jw("");var Yw="firebase",Xw="9.23.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Wr(Yw,Xw,"app");function Gu(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n}function h0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Zw=h0,p0=new ba("auth","Firebase",h0());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const no=new i0("@firebase/auth");function eb(e,...t){no.logLevel<=de.WARN&&no.warn(`Auth (${Na}): ${e}`,...t)}function vi(e,...t){no.logLevel<=de.ERROR&&no.error(`Auth (${Na}): ${e}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rt(e,...t){throw Qu(e,...t)}function Bt(e,...t){return Qu(e,...t)}function tb(e,t,n){const r=Object.assign(Object.assign({},Zw()),{[t]:n});return new ba("auth","Firebase",r).create(t,{appName:e.name})}function Qu(e,...t){if(typeof e!="string"){const n=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(n,...r)}return p0.create(e,...t)}function G(e,t,...n){if(!e)throw Qu(t,...n)}function Zt(e){const t="INTERNAL ASSERTION FAILED: "+e;throw vi(t),new Error(t)}function ln(e,t){e||Zt(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mc(){var e;return typeof self<"u"&&((e=self.location)===null||e===void 0?void 0:e.href)||""}function nb(){return Hf()==="http:"||Hf()==="https:"}function Hf(){var e;return typeof self<"u"&&((e=self.location)===null||e===void 0?void 0:e.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rb(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(nb()||A1()||"connection"in navigator)?navigator.onLine:!0}function sb(){if(typeof navigator>"u")return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ja{constructor(t,n){this.shortDelay=t,this.longDelay=n,ln(n>t,"Short delay should be less than long delay!"),this.isMobile=P1()||O1()}get(){return rb()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ju(e,t){ln(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m0{static initialize(t,n,r){this.fetchImpl=t,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;Zt("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;Zt("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;Zt("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ab={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ib=new ja(3e4,6e4);function Sa(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function fs(e,t,n,r,s={}){return g0(e,s,async()=>{let a={},o={};r&&(t==="GET"?o=r:a={body:JSON.stringify(r)});const l=ka(Object.assign({key:e.config.apiKey},o)).slice(1),c=await e._getAdditionalHeaders();return c["Content-Type"]="application/json",e.languageCode&&(c["X-Firebase-Locale"]=e.languageCode),m0.fetch()(x0(e,e.config.apiHost,n,l),Object.assign({method:t,headers:c,referrerPolicy:"no-referrer"},a))})}async function g0(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},ab),t);try{const s=new ob(e),a=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const o=await a.json();if("needConfirmation"in o)throw ri(e,"account-exists-with-different-credential",o);if(a.ok&&!("errorMessage"in o))return o;{const l=a.ok?o.errorMessage:o.error.message,[c,u]=l.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw ri(e,"credential-already-in-use",o);if(c==="EMAIL_EXISTS")throw ri(e,"email-already-in-use",o);if(c==="USER_DISABLED")throw ri(e,"user-disabled",o);const d=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw tb(e,d,u);Rt(e,d)}}catch(s){if(s instanceof Gn)throw s;Rt(e,"network-request-failed",{message:String(s)})}}async function Po(e,t,n,r,s={}){const a=await fs(e,t,n,r,s);return"mfaPendingCredential"in a&&Rt(e,"multi-factor-auth-required",{_serverResponse:a}),a}function x0(e,t,n,r){const s=`${t}${n}?${r}`;return e.config.emulator?Ju(e.config,s):`${e.config.apiScheme}://${s}`}class ob{constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Bt(this.auth,"network-request-failed")),ib.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function ri(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=Bt(e,t,r);return s.customData._tokenResponse=n,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lb(e,t){return fs(e,"POST","/v1/accounts:delete",t)}async function cb(e,t){return fs(e,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fs(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function ub(e,t=!1){const n=fn(e),r=await n.getIdToken(t),s=Yu(r);G(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const a=typeof s.firebase=="object"?s.firebase:void 0,o=a==null?void 0:a.sign_in_provider;return{claims:s,token:r,authTime:Fs(El(s.auth_time)),issuedAtTime:Fs(El(s.iat)),expirationTime:Fs(El(s.exp)),signInProvider:o||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function El(e){return Number(e)*1e3}function Yu(e){const[t,n,r]=e.split(".");if(t===void 0||n===void 0||r===void 0)return vi("JWT malformed, contained fewer than 3 sections"),null;try{const s=r0(n);return s?JSON.parse(s):(vi("Failed to decode base64 JWT payload"),null)}catch(s){return vi("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function db(e){const t=Yu(e);return G(t,"internal-error"),G(typeof t.exp<"u","internal-error"),G(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ua(e,t,n=!1){if(n)return t;try{return await t}catch(r){throw r instanceof Gn&&fb(r)&&e.auth.currentUser===e&&await e.auth.signOut(),r}}function fb({code:e}){return e==="auth/user-disabled"||e==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hb{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var n;if(t){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const s=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v0{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Fs(this.lastLoginAt),this.creationTime=Fs(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ro(e){var t;const n=e.auth,r=await e.getIdToken(),s=await ua(e,cb(n,{idToken:r}));G(s==null?void 0:s.users.length,n,"internal-error");const a=s.users[0];e._notifyReloadListener(a);const o=!((t=a.providerUserInfo)===null||t===void 0)&&t.length?gb(a.providerUserInfo):[],l=mb(e.providerData,o),c=e.isAnonymous,u=!(e.email&&a.passwordHash)&&!(l!=null&&l.length),d=c?u:!1,f={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new v0(a.createdAt,a.lastLoginAt),isAnonymous:d};Object.assign(e,f)}async function pb(e){const t=fn(e);await ro(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function mb(e,t){return[...e.filter(r=>!t.some(s=>s.providerId===r.providerId)),...t]}function gb(e){return e.map(t=>{var{providerId:n}=t,r=Gu(t,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xb(e,t){const n=await g0(e,{},async()=>{const r=ka({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:s,apiKey:a}=e.config,o=x0(e,s,"/v1/token",`key=${a}`),l=await e._getAdditionalHeaders();return l["Content-Type"]="application/x-www-form-urlencoded",m0.fetch()(o,{method:"POST",headers:l,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class da{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){G(t.idToken,"internal-error"),G(typeof t.idToken<"u","internal-error"),G(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):db(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}async getToken(t,n=!1){return G(!this.accessToken||this.refreshToken,t,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:r,refreshToken:s,expiresIn:a}=await xb(t,n);this.updateTokensAndExpiration(r,s,Number(a))}updateTokensAndExpiration(t,n,r){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(t,n){const{refreshToken:r,accessToken:s,expirationTime:a}=n,o=new da;return r&&(G(typeof r=="string","internal-error",{appName:t}),o.refreshToken=r),s&&(G(typeof s=="string","internal-error",{appName:t}),o.accessToken=s),a&&(G(typeof a=="number","internal-error",{appName:t}),o.expirationTime=a),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new da,this.toJSON())}_performRefresh(){return Zt("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xn(e,t){G(typeof e=="string"||typeof e>"u","internal-error",{appName:t})}class or{constructor(t){var{uid:n,auth:r,stsTokenManager:s}=t,a=Gu(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new hb(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new v0(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(t){const n=await ua(this,this.stsTokenManager.getToken(this.auth,t));return G(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return ub(this,t)}reload(){return pb(this)}_assign(t){this!==t&&(G(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>Object.assign({},n)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new or(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(t){G(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let r=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),n&&await ro(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){const t=await this.getIdToken();return await ua(this,lb(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){var r,s,a,o,l,c,u,d;const f=(r=n.displayName)!==null&&r!==void 0?r:void 0,p=(s=n.email)!==null&&s!==void 0?s:void 0,b=(a=n.phoneNumber)!==null&&a!==void 0?a:void 0,y=(o=n.photoURL)!==null&&o!==void 0?o:void 0,g=(l=n.tenantId)!==null&&l!==void 0?l:void 0,w=(c=n._redirectEventId)!==null&&c!==void 0?c:void 0,m=(u=n.createdAt)!==null&&u!==void 0?u:void 0,h=(d=n.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:x,emailVerified:k,isAnonymous:j,providerData:N,stsTokenManager:S}=n;G(x&&S,t,"internal-error");const T=da.fromJSON(this.name,S);G(typeof x=="string",t,"internal-error"),xn(f,t.name),xn(p,t.name),G(typeof k=="boolean",t,"internal-error"),G(typeof j=="boolean",t,"internal-error"),xn(b,t.name),xn(y,t.name),xn(g,t.name),xn(w,t.name),xn(m,t.name),xn(h,t.name);const z=new or({uid:x,auth:t,email:p,emailVerified:k,displayName:f,isAnonymous:j,photoURL:y,phoneNumber:b,tenantId:g,stsTokenManager:T,createdAt:m,lastLoginAt:h});return N&&Array.isArray(N)&&(z.providerData=N.map($=>Object.assign({},$))),w&&(z._redirectEventId=w),z}static async _fromIdTokenResponse(t,n,r=!1){const s=new da;s.updateFromServerResponse(n);const a=new or({uid:n.localId,auth:t,stsTokenManager:s,isAnonymous:r});return await ro(a),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vf=new Map;function en(e){ln(e instanceof Function,"Expected a class definition");let t=Vf.get(e);return t?(ln(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,Vf.set(e,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y0{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}y0.type="NONE";const Wf=y0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yi(e,t,n){return`firebase:${e}:${t}:${n}`}class qr{constructor(t,n,r){this.persistence=t,this.auth=n,this.userKey=r;const{config:s,name:a}=this.auth;this.fullUserKey=yi(this.userKey,s.apiKey,a),this.fullPersistenceKey=yi("persistence",s.apiKey,a),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);return t?or._fromJSON(this.auth,t):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,r="authUser"){if(!n.length)return new qr(en(Wf),t,r);const s=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let a=s[0]||en(Wf);const o=yi(r,t.config.apiKey,t.name);let l=null;for(const u of n)try{const d=await u._get(o);if(d){const f=or._fromJSON(t,d);u!==a&&(l=f),a=u;break}}catch{}const c=s.filter(u=>u._shouldAllowMigration);return!a._shouldAllowMigration||!c.length?new qr(a,t,r):(a=c[0],l&&await a._set(o,l.toJSON()),await Promise.all(n.map(async u=>{if(u!==a)try{await u._remove(o)}catch{}})),new qr(a,t,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qf(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(k0(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(w0(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(j0(t))return"Blackberry";if(S0(t))return"Webos";if(Xu(t))return"Safari";if((t.includes("chrome/")||b0(t))&&!t.includes("edge/"))return"Chrome";if(N0(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=e.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function w0(e=Ve()){return/firefox\//i.test(e)}function Xu(e=Ve()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function b0(e=Ve()){return/crios\//i.test(e)}function k0(e=Ve()){return/iemobile/i.test(e)}function N0(e=Ve()){return/android/i.test(e)}function j0(e=Ve()){return/blackberry/i.test(e)}function S0(e=Ve()){return/webos/i.test(e)}function Ao(e=Ve()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function vb(e=Ve()){var t;return Ao(e)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function yb(){return D1()&&document.documentMode===10}function E0(e=Ve()){return Ao(e)||N0(e)||S0(e)||j0(e)||/windows phone/i.test(e)||k0(e)}function wb(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _0(e,t=[]){let n;switch(e){case"Browser":n=qf(Ve());break;case"Worker":n=`${qf(Ve())}-${e}`;break;default:n=e}const r=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${Na}/${r}`}async function C0(e,t){return fs(e,"GET","/v2/recaptchaConfig",Sa(e,t))}function Kf(e){return e!==void 0&&e.enterprise!==void 0}class I0{constructor(t){if(this.siteKey="",this.emailPasswordEnabled=!1,t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.emailPasswordEnabled=t.recaptchaEnforcementState.some(n=>n.provider==="EMAIL_PASSWORD_PROVIDER"&&n.enforcementState!=="OFF")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bb(){var e,t;return(t=(e=document.getElementsByTagName("head"))===null||e===void 0?void 0:e[0])!==null&&t!==void 0?t:document}function T0(e){return new Promise((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=s=>{const a=Bt("internal-error");a.customData=s,n(a)},r.type="text/javascript",r.charset="UTF-8",bb().appendChild(r)})}function kb(e){return`__${e}${Math.floor(Math.random()*1e6)}`}const Nb="https://www.google.com/recaptcha/enterprise.js?render=",jb="recaptcha-enterprise",Sb="NO_RECAPTCHA";class R0{constructor(t){this.type=jb,this.auth=Ea(t)}async verify(t="verify",n=!1){async function r(a){if(!n){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(o,l)=>{C0(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)l(new Error("recaptcha Enterprise site key undefined"));else{const u=new I0(c);return a.tenantId==null?a._agentRecaptchaConfig=u:a._tenantRecaptchaConfigs[a.tenantId]=u,o(u.siteKey)}}).catch(c=>{l(c)})})}function s(a,o,l){const c=window.grecaptcha;Kf(c)?c.enterprise.ready(()=>{c.enterprise.execute(a,{action:t}).then(u=>{o(u)}).catch(()=>{o(Sb)})}):l(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((a,o)=>{r(this.auth).then(l=>{if(!n&&Kf(window.grecaptcha))s(l,a,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}T0(Nb+l).then(()=>{s(l,a,o)}).catch(c=>{o(c)})}}).catch(l=>{o(l)})})}}async function Gf(e,t,n,r=!1){const s=new R0(e);let a;try{a=await s.verify(n)}catch{a=await s.verify(n,!0)}const o=Object.assign({},t);return r?Object.assign(o,{captchaResp:a}):Object.assign(o,{captchaResponse:a}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eb{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const r=a=>new Promise((o,l)=>{try{const c=t(a);o(c)}catch(c){l(c)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const r of this.queue)await r(t),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _b{constructor(t,n,r,s){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Qf(this),this.idTokenSubscription=new Qf(this),this.beforeStateQueue=new Eb(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=p0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=s.sdkClientVersion}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=en(n)),this._initializationPromise=this.queue(async()=>{var r,s;if(!this._deleted&&(this.persistenceManager=await qr.create(this,t),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUser(t){var n;const r=await this.assertedPersistence.getCurrentUser();let s=r,a=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,l=s==null?void 0:s._redirectEventId,c=await this.tryRedirectSignIn(t);(!o||o===l)&&(c!=null&&c.user)&&(s=c.user,a=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(s)}catch(o){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return G(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await ro(t)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=sb()}async _delete(){this._deleted=!0}async updateCurrentUser(t){const n=t?fn(t):null;return n&&G(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&G(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(t){return this.queue(async()=>{await this.assertedPersistence.setPersistence(en(t))})}async initializeRecaptchaConfig(){const t=await C0(this,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),n=new I0(t);this.tenantId==null?this._agentRecaptchaConfig=n:this._tenantRecaptchaConfigs[this.tenantId]=n,n.emailPasswordEnabled&&new R0(this).verify()}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(t){this._errorFactory=new ba("auth","Firebase",t())}onAuthStateChanged(t,n,r){return this.registerStateListener(this.authStateSubscription,t,n,r)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,r){return this.registerStateListener(this.idTokenSubscription,t,n,r)}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}async _setRedirectUser(t,n){const r=await this.getOrInitRedirectPersistenceManager(n);return t===null?r.removeCurrentUser():r.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&en(t)||this._popupRedirectResolver;G(n,this,"argument-error"),this.redirectPersistenceManager=await qr.create(this,[en(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===t?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,r,s){if(this._deleted)return()=>{};const a=typeof n=="function"?n:n.next.bind(n),o=this._isInitialized?Promise.resolve():this._initializationPromise;return G(o,this,"internal-error"),o.then(()=>a(this.currentUser)),typeof n=="function"?t.addObserver(n,r,s):t.addObserver(n)}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return G(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=_0(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(n["X-Firebase-AppCheck"]=s),n}async _getAppCheckToken(){var t;const n=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken());return n!=null&&n.error&&eb(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Ea(e){return fn(e)}class Qf{constructor(t){this.auth=t,this.observer=null,this.addObserver=B1(n=>this.observer=n)}get next(){return G(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cb(e,t){const n=c0(e,"auth");if(n.isInitialized()){const s=n.getImmediate(),a=n.getOptions();if(eo(a,t??{}))return s;Rt(s,"already-initialized")}return n.initialize({options:t})}function Ib(e,t){const n=(t==null?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(en);t!=null&&t.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,t==null?void 0:t.popupRedirectResolver)}function Tb(e,t,n){const r=Ea(e);G(r._canInitEmulator,r,"emulator-config-failed"),G(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const s=!1,a=P0(t),{host:o,port:l}=Rb(t),c=l===null?"":`:${l}`;r.config.emulator={url:`${a}//${o}${c}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:l,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:s})}),Pb()}function P0(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function Rb(e){const t=P0(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const a=s[1];return{host:a,port:Jf(r.substr(a.length+1))}}else{const[a,o]=r.split(":");return{host:a,port:Jf(o)}}}function Jf(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}function Pb(){function e(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",e):e())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zu{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return Zt("not implemented")}_getIdTokenResponse(t){return Zt("not implemented")}_linkToIdToken(t,n){return Zt("not implemented")}_getReauthenticationResolver(t){return Zt("not implemented")}}async function Ab(e,t){return fs(e,"POST","/v1/accounts:update",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _l(e,t){return Po(e,"POST","/v1/accounts:signInWithPassword",Sa(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ob(e,t){return Po(e,"POST","/v1/accounts:signInWithEmailLink",Sa(e,t))}async function Db(e,t){return Po(e,"POST","/v1/accounts:signInWithEmailLink",Sa(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fa extends Zu{constructor(t,n,r,s=null){super("password",r),this._email=t,this._password=n,this._tenantId=s}static _fromEmailAndPassword(t,n){return new fa(t,n,"password")}static _fromEmailAndCode(t,n,r=null){return new fa(t,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(t){var n;switch(this.signInMethod){case"password":const r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};if(!((n=t._getRecaptchaConfig())===null||n===void 0)&&n.emailPasswordEnabled){const s=await Gf(t,r,"signInWithPassword");return _l(t,s)}else return _l(t,r).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const a=await Gf(t,r,"signInWithPassword");return _l(t,a)}else return Promise.reject(s)});case"emailLink":return Ob(t,{email:this._email,oobCode:this._password});default:Rt(t,"internal-error")}}async _linkToIdToken(t,n){switch(this.signInMethod){case"password":return Ab(t,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return Db(t,{idToken:n,email:this._email,oobCode:this._password});default:Rt(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Kr(e,t){return Po(e,"POST","/v1/accounts:signInWithIdp",Sa(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lb="http://localhost";class gr extends Zu{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new gr(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):Rt("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:r,signInMethod:s}=n,a=Gu(n,["providerId","signInMethod"]);if(!r||!s)return null;const o=new gr(r,s);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}_getIdTokenResponse(t){const n=this.buildRequest();return Kr(t,n)}_linkToIdToken(t,n){const r=this.buildRequest();return r.idToken=n,Kr(t,r)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,Kr(t,n)}buildRequest(){const t={requestUri:Lb,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=ka(n)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mb(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function zb(e){const t=Is(Ts(e)).link,n=t?Is(Ts(t)).deep_link_id:null,r=Is(Ts(e)).deep_link_id;return(r?Is(Ts(r)).link:null)||r||n||t||e}class ed{constructor(t){var n,r,s,a,o,l;const c=Is(Ts(t)),u=(n=c.apiKey)!==null&&n!==void 0?n:null,d=(r=c.oobCode)!==null&&r!==void 0?r:null,f=Mb((s=c.mode)!==null&&s!==void 0?s:null);G(u&&d&&f,"argument-error"),this.apiKey=u,this.operation=f,this.code=d,this.continueUrl=(a=c.continueUrl)!==null&&a!==void 0?a:null,this.languageCode=(o=c.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(l=c.tenantId)!==null&&l!==void 0?l:null}static parseLink(t){const n=zb(t);try{return new ed(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hs{constructor(){this.providerId=hs.PROVIDER_ID}static credential(t,n){return fa._fromEmailAndPassword(t,n)}static credentialWithLink(t,n){const r=ed.parseLink(n);return G(r,"argument-error"),fa._fromEmailAndCode(t,r.code,r.tenantId)}}hs.PROVIDER_ID="password";hs.EMAIL_PASSWORD_SIGN_IN_METHOD="password";hs.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A0{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _a extends A0{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kn extends _a{constructor(){super("facebook.com")}static credential(t){return gr._fromParams({providerId:kn.PROVIDER_ID,signInMethod:kn.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return kn.credentialFromTaggedObject(t)}static credentialFromError(t){return kn.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return kn.credential(t.oauthAccessToken)}catch{return null}}}kn.FACEBOOK_SIGN_IN_METHOD="facebook.com";kn.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nn extends _a{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return gr._fromParams({providerId:Nn.PROVIDER_ID,signInMethod:Nn.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return Nn.credentialFromTaggedObject(t)}static credentialFromError(t){return Nn.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return Nn.credential(n,r)}catch{return null}}}Nn.GOOGLE_SIGN_IN_METHOD="google.com";Nn.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jn extends _a{constructor(){super("github.com")}static credential(t){return gr._fromParams({providerId:jn.PROVIDER_ID,signInMethod:jn.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return jn.credentialFromTaggedObject(t)}static credentialFromError(t){return jn.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return jn.credential(t.oauthAccessToken)}catch{return null}}}jn.GITHUB_SIGN_IN_METHOD="github.com";jn.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sn extends _a{constructor(){super("twitter.com")}static credential(t,n){return gr._fromParams({providerId:Sn.PROVIDER_ID,signInMethod:Sn.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return Sn.credentialFromTaggedObject(t)}static credentialFromError(t){return Sn.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return Sn.credential(n,r)}catch{return null}}}Sn.TWITTER_SIGN_IN_METHOD="twitter.com";Sn.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rs{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,r,s=!1){const a=await or._fromIdTokenResponse(t,r,s),o=Yf(r);return new rs({user:a,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(t,n,r){await t._updateTokensIfNecessary(r,!0);const s=Yf(r);return new rs({user:t,providerId:s,_tokenResponse:r,operationType:n})}}function Yf(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class so extends Gn{constructor(t,n,r,s){var a;super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,so.prototype),this.customData={appName:t.name,tenantId:(a=t.tenantId)!==null&&a!==void 0?a:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(t,n,r,s){return new so(t,n,r,s)}}function O0(e,t,n,r){return(t==="reauthenticate"?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?so._fromErrorAndOperation(e,a,t,r):a})}async function Ub(e,t,n=!1){const r=await ua(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return rs._forOperation(e,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fb(e,t,n=!1){const{auth:r}=e,s="reauthenticate";try{const a=await ua(e,O0(r,s,t,e),n);G(a.idToken,r,"internal-error");const o=Yu(a.idToken);G(o,r,"internal-error");const{sub:l}=o;return G(e.uid===l,r,"user-mismatch"),rs._forOperation(e,s,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&Rt(r,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function D0(e,t,n=!1){const r="signIn",s=await O0(e,r,t),a=await rs._fromIdTokenResponse(e,r,s);return n||await e._updateCurrentUser(a.user),a}async function $b(e,t){return D0(Ea(e),t)}function Bb(e,t,n){return $b(fn(e),hs.credential(t,n))}function Hb(e,t,n,r){return fn(e).onIdTokenChanged(t,n,r)}function Vb(e,t,n){return fn(e).beforeAuthStateChanged(t,n)}function Wb(e,t,n,r){return fn(e).onAuthStateChanged(t,n,r)}function qb(e){return fn(e).signOut()}const ao="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L0{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(ao,"1"),this.storage.removeItem(ao),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kb(){const e=Ve();return Xu(e)||Ao(e)}const Gb=1e3,Qb=10;class M0 extends L0{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=Kb()&&wb(),this.fallbackToPolling=E0(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&t(n,s,r)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((o,l,c)=>{this.notifyListeners(o,c)});return}const r=t.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const o=this.storage.getItem(r);if(t.newValue!==o)t.newValue!==null?this.storage.setItem(r,t.newValue):this.storage.removeItem(r);else if(this.localCache[r]===t.newValue&&!n)return}const s=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},a=this.storage.getItem(r);yb()&&a!==t.newValue&&t.newValue!==t.oldValue?setTimeout(s,Qb):s()}notifyListeners(t,n){this.localCache[t]=n;const r=this.listeners[t];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)})},Gb)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}M0.type="LOCAL";const Jb=M0;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z0 extends L0{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}z0.type="SESSION";const U0=z0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yb(e){return Promise.all(e.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oo{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(s=>s.isListeningto(t));if(n)return n;const r=new Oo(t);return this.receivers.push(r),r}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:r,eventType:s,data:a}=n.data,o=this.handlersMap[s];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const l=Array.from(o).map(async u=>u(n.origin,a)),c=await Yb(l);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:c})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Oo.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function td(e="",t=10){let n="";for(let r=0;r<t;r++)n+=Math.floor(Math.random()*10);return e+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xb{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let a,o;return new Promise((l,c)=>{const u=td("",20);s.port1.start();const d=setTimeout(()=>{c(new Error("unsupported_event"))},r);o={messageChannel:s,onMessage(f){const p=f;if(p.data.eventId===u)switch(p.data.status){case"ack":clearTimeout(d),a=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),l(p.data.response);break;default:clearTimeout(d),clearTimeout(a),c(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:t,eventId:u,data:n},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ht(){return window}function Zb(e){Ht().location.href=e}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F0(){return typeof Ht().WorkerGlobalScope<"u"&&typeof Ht().importScripts=="function"}async function ek(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function tk(){var e;return((e=navigator==null?void 0:navigator.serviceWorker)===null||e===void 0?void 0:e.controller)||null}function nk(){return F0()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $0="firebaseLocalStorageDb",rk=1,io="firebaseLocalStorage",B0="fbase_key";class Ca{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Do(e,t){return e.transaction([io],t?"readwrite":"readonly").objectStore(io)}function sk(){const e=indexedDB.deleteDatabase($0);return new Ca(e).toPromise()}function zc(){const e=indexedDB.open($0,rk);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const r=e.result;try{r.createObjectStore(io,{keyPath:B0})}catch(s){n(s)}}),e.addEventListener("success",async()=>{const r=e.result;r.objectStoreNames.contains(io)?t(r):(r.close(),await sk(),t(await zc()))})})}async function Xf(e,t,n){const r=Do(e,!0).put({[B0]:t,value:n});return new Ca(r).toPromise()}async function ak(e,t){const n=Do(e,!1).get(t),r=await new Ca(n).toPromise();return r===void 0?null:r.value}function Zf(e,t){const n=Do(e,!0).delete(t);return new Ca(n).toPromise()}const ik=800,ok=3;class H0{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await zc(),this.db)}async _withRetries(t){let n=0;for(;;)try{const r=await this._openDb();return await t(r)}catch(r){if(n++>ok)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return F0()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Oo._getInstance(nk()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){var t,n;if(this.activeServiceWorker=await ek(),!this.activeServiceWorker)return;this.sender=new Xb(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((t=r[0])===null||t===void 0)&&t.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||tk()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await zc();return await Xf(t,ao,"1"),await Zf(t,ao),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>Xf(r,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(r=>ak(r,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>Zf(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(s=>{const a=Do(s,!1).getAll();return new Ca(a).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;for(const{fbase_key:s,value:a}of t)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(a)&&(this.notifyListeners(s,a),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(t,n){this.localCache[t]=n;const r=this.listeners[t];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),ik)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}H0.type="LOCAL";const lk=H0;new ja(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ck(e,t){return t?en(t):(G(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nd extends Zu{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Kr(t,this._buildIdpRequest())}_linkToIdToken(t,n){return Kr(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return Kr(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function uk(e){return D0(e.auth,new nd(e),e.bypassAuthState)}function dk(e){const{auth:t,user:n}=e;return G(n,t,"internal-error"),Fb(n,new nd(e),e.bypassAuthState)}async function fk(e){const{auth:t,user:n}=e;return G(n,t,"internal-error"),Ub(n,new nd(e),e.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V0{constructor(t,n,r,s,a=!1){this.auth=t,this.resolver=r,this.user=s,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:r,postBody:s,tenantId:a,error:o,type:l}=t;if(o){this.reject(o);return}const c={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(c))}catch(u){this.reject(u)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return uk;case"linkViaPopup":case"linkViaRedirect":return fk;case"reauthViaPopup":case"reauthViaRedirect":return dk;default:Rt(this.auth,"internal-error")}}resolve(t){ln(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){ln(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hk=new ja(2e3,1e4);class Mr extends V0{constructor(t,n,r,s,a){super(t,n,s,a),this.provider=r,this.authWindow=null,this.pollId=null,Mr.currentPopupAction&&Mr.currentPopupAction.cancel(),Mr.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return G(t,this.auth,"internal-error"),t}async onExecution(){ln(this.filter.length===1,"Popup operations only handle one event");const t=td();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Bt(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(Bt(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Mr.currentPopupAction=null}pollUserCancellation(){const t=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Bt(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,hk.get())};t()}}Mr.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pk="pendingRedirect",wi=new Map;class mk extends V0{constructor(t,n,r=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let t=wi.get(this.auth._key());if(!t){try{const r=await gk(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(r)}catch(n){t=()=>Promise.reject(n)}wi.set(this.auth._key(),t)}return this.bypassAuthState||wi.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function gk(e,t){const n=yk(t),r=vk(e);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function xk(e,t){wi.set(e._key(),t)}function vk(e){return en(e._redirectPersistence)}function yk(e){return yi(pk,e.config.apiKey,e.name)}async function wk(e,t,n=!1){const r=Ea(e),s=ck(r,t),o=await new mk(r,s,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,t)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bk=10*60*1e3;class kk{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(t,r)&&(n=!0,this.sendToConsumer(t,r),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!Nk(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){var r;if(t.error&&!W0(t)){const s=((r=t.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Bt(this.auth,s))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const r=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&r}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=bk&&this.cachedEventUids.clear(),this.cachedEventUids.has(eh(t))}saveEventToCache(t){this.cachedEventUids.add(eh(t)),this.lastProcessedEventTime=Date.now()}}function eh(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(t=>t).join("-")}function W0({type:e,error:t}){return e==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function Nk(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return W0(e);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jk(e,t={}){return fs(e,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sk=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Ek=/^https?/;async function _k(e){if(e.config.emulator)return;const{authorizedDomains:t}=await jk(e);for(const n of t)try{if(Ck(n))return}catch{}Rt(e,"unauthorized-domain")}function Ck(e){const t=Mc(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const o=new URL(e);return o.hostname===""&&r===""?n==="chrome-extension:"&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!Ek.test(n))return!1;if(Sk.test(e))return r===e;const s=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ik=new ja(3e4,6e4);function th(){const e=Ht().___jsl;if(e!=null&&e.H){for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}}function Tk(e){return new Promise((t,n)=>{var r,s,a;function o(){th(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{th(),n(Bt(e,"network-request-failed"))},timeout:Ik.get()})}if(!((s=(r=Ht().gapi)===null||r===void 0?void 0:r.iframes)===null||s===void 0)&&s.Iframe)t(gapi.iframes.getContext());else if(!((a=Ht().gapi)===null||a===void 0)&&a.load)o();else{const l=kb("iframefcb");return Ht()[l]=()=>{gapi.load?o():n(Bt(e,"network-request-failed"))},T0(`https://apis.google.com/js/api.js?onload=${l}`).catch(c=>n(c))}}).catch(t=>{throw bi=null,t})}let bi=null;function Rk(e){return bi=bi||Tk(e),bi}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pk=new ja(5e3,15e3),Ak="__/auth/iframe",Ok="emulator/auth/iframe",Dk={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Lk=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Mk(e){const t=e.config;G(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?Ju(t,Ok):`https://${e.config.authDomain}/${Ak}`,r={apiKey:t.apiKey,appName:e.name,v:Na},s=Lk.get(e.config.apiHost);s&&(r.eid=s);const a=e._getFrameworks();return a.length&&(r.fw=a.join(",")),`${n}?${ka(r).slice(1)}`}async function zk(e){const t=await Rk(e),n=Ht().gapi;return G(n,e,"internal-error"),t.open({where:document.body,url:Mk(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Dk,dontclear:!0},r=>new Promise(async(s,a)=>{await r.restyle({setHideOnLeave:!1});const o=Bt(e,"network-request-failed"),l=Ht().setTimeout(()=>{a(o)},Pk.get());function c(){Ht().clearTimeout(l),s(r)}r.ping(c).then(c,()=>{a(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uk={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Fk=500,$k=600,Bk="_blank",Hk="http://localhost";class nh{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Vk(e,t,n,r=Fk,s=$k){const a=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let l="";const c=Object.assign(Object.assign({},Uk),{width:r.toString(),height:s.toString(),top:a,left:o}),u=Ve().toLowerCase();n&&(l=b0(u)?Bk:n),w0(u)&&(t=t||Hk,c.scrollbars="yes");const d=Object.entries(c).reduce((p,[b,y])=>`${p}${b}=${y},`,"");if(vb(u)&&l!=="_self")return Wk(t||"",l),new nh(null);const f=window.open(t||"",l,d);G(f,e,"popup-blocked");try{f.focus()}catch{}return new nh(f)}function Wk(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qk="__/auth/handler",Kk="emulator/auth/handler",Gk=encodeURIComponent("fac");async function rh(e,t,n,r,s,a){G(e.config.authDomain,e,"auth-domain-config-required"),G(e.config.apiKey,e,"invalid-api-key");const o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:Na,eventId:s};if(t instanceof A0){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",$1(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(const[d,f]of Object.entries({}))o[d]=f}if(t instanceof _a){const d=t.getScopes().filter(f=>f!=="");d.length>0&&(o.scopes=d.join(","))}e.tenantId&&(o.tid=e.tenantId);const l=o;for(const d of Object.keys(l))l[d]===void 0&&delete l[d];const c=await e._getAppCheckToken(),u=c?`#${Gk}=${encodeURIComponent(c)}`:"";return`${Qk(e)}?${ka(l).slice(1)}${u}`}function Qk({config:e}){return e.emulator?Ju(e,Kk):`https://${e.authDomain}/${qk}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cl="webStorageSupport";class Jk{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=U0,this._completeRedirectFn=wk,this._overrideRedirectResult=xk}async _openPopup(t,n,r,s){var a;ln((a=this.eventManagers[t._key()])===null||a===void 0?void 0:a.manager,"_initialize() not called before _openPopup()");const o=await rh(t,n,r,Mc(),s);return Vk(t,o,td())}async _openRedirect(t,n,r,s){await this._originValidation(t);const a=await rh(t,n,r,Mc(),s);return Zb(a),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:s,promise:a}=this.eventManagers[n];return s?Promise.resolve(s):(ln(a,"If manager is not set, promise should be"),a)}const r=this.initAndGetManager(t);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(t){const n=await zk(t),r=new kk(t);return n.register("authEvent",s=>(G(s==null?void 0:s.authEvent,t,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,r}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(Cl,{type:Cl},s=>{var a;const o=(a=s==null?void 0:s[0])===null||a===void 0?void 0:a[Cl];o!==void 0&&n(!!o),Rt(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=_k(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return E0()||Xu()||Ao()}}const Yk=Jk;var sh="@firebase/auth",ah="0.23.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xk{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(r=>{t((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){G(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zk(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function eN(e){la(new ns("auth",(t,{options:n})=>{const r=t.getProvider("app").getImmediate(),s=t.getProvider("heartbeat"),a=t.getProvider("app-check-internal"),{apiKey:o,authDomain:l}=r.options;G(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:o,authDomain:l,clientPlatform:e,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:_0(e)},u=new _b(r,s,a,c);return Ib(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,r)=>{t.getProvider("auth-internal").initialize()})),la(new ns("auth-internal",t=>{const n=Ea(t.getProvider("auth").getImmediate());return(r=>new Xk(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Wr(sh,ah,Zk(e)),Wr(sh,ah,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tN=5*60,nN=a0("authIdTokenMaxAge")||tN;let ih=null;const rN=e=>async t=>{const n=t&&await t.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>nN)return;const s=n==null?void 0:n.token;ih!==s&&(ih=s,await fetch(e,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function Uc(e=$w()){const t=c0(e,"auth");if(t.isInitialized())return t.getImmediate();const n=Cb(e,{popupRedirectResolver:Yk,persistence:[lk,Jb,U0]}),r=a0("authTokenSyncURL");if(r){const a=rN(r);Vb(n,a,()=>a(n.currentUser)),Hb(n,o=>a(o))}const s=T1("auth");return s&&Tb(n,`http://${s}`),n}eN("Browser");let oh=null,oo=null;function sN(){const t={apiKey:"AIzaSyBQOcdmwbBh4tI9-3j5_OudffV8Df5p4XI",authDomain:"starlink-suscription.firebaseapp.com",projectId:"starlink-suscription",appId:"1:1051339110973:web:0fe624ae8a2c90744bc854"};try{oh=u0(t),oo=Uc(oh)}catch{try{oo=Uc()}catch{}}}function ki(){try{return oo||Uc()}catch{return null}}function q0(e,t){return function(){return e.apply(t,arguments)}}const{toString:aN}=Object.prototype,{getPrototypeOf:rd}=Object,{iterator:Lo,toStringTag:K0}=Symbol,Mo=(e=>t=>{const n=aN.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),At=e=>(e=e.toLowerCase(),t=>Mo(t)===e),zo=e=>t=>typeof t===e,{isArray:ps}=Array,ss=zo("undefined");function Ia(e){return e!==null&&!ss(e)&&e.constructor!==null&&!ss(e.constructor)&&nt(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const G0=At("ArrayBuffer");function iN(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&G0(e.buffer),t}const oN=zo("string"),nt=zo("function"),Q0=zo("number"),Ta=e=>e!==null&&typeof e=="object",lN=e=>e===!0||e===!1,Ni=e=>{if(Mo(e)!=="object")return!1;const t=rd(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(K0 in e)&&!(Lo in e)},cN=e=>{if(!Ta(e)||Ia(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},uN=At("Date"),dN=At("File"),fN=At("Blob"),hN=At("FileList"),pN=e=>Ta(e)&&nt(e.pipe),mN=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||nt(e.append)&&((t=Mo(e))==="formdata"||t==="object"&&nt(e.toString)&&e.toString()==="[object FormData]"))},gN=At("URLSearchParams"),[xN,vN,yN,wN]=["ReadableStream","Request","Response","Headers"].map(At),bN=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Ra(e,t,{allOwnKeys:n=!1}={}){if(e===null||typeof e>"u")return;let r,s;if(typeof e!="object"&&(e=[e]),ps(e))for(r=0,s=e.length;r<s;r++)t.call(null,e[r],r,e);else{if(Ia(e))return;const a=n?Object.getOwnPropertyNames(e):Object.keys(e),o=a.length;let l;for(r=0;r<o;r++)l=a[r],t.call(null,e[l],l,e)}}function J0(e,t){if(Ia(e))return null;t=t.toLowerCase();const n=Object.keys(e);let r=n.length,s;for(;r-- >0;)if(s=n[r],t===s.toLowerCase())return s;return null}const sr=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Y0=e=>!ss(e)&&e!==sr;function Fc(){const{caseless:e,skipUndefined:t}=Y0(this)&&this||{},n={},r=(s,a)=>{if(a==="__proto__"||a==="constructor"||a==="prototype")return;const o=e&&J0(n,a)||a;Ni(n[o])&&Ni(s)?n[o]=Fc(n[o],s):Ni(s)?n[o]=Fc({},s):ps(s)?n[o]=s.slice():(!t||!ss(s))&&(n[o]=s)};for(let s=0,a=arguments.length;s<a;s++)arguments[s]&&Ra(arguments[s],r);return n}const kN=(e,t,n,{allOwnKeys:r}={})=>(Ra(t,(s,a)=>{n&&nt(s)?Object.defineProperty(e,a,{value:q0(s,n),writable:!0,enumerable:!0,configurable:!0}):Object.defineProperty(e,a,{value:s,writable:!0,enumerable:!0,configurable:!0})},{allOwnKeys:r}),e),NN=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),jN=(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),Object.defineProperty(e.prototype,"constructor",{value:e,writable:!0,enumerable:!1,configurable:!0}),Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},SN=(e,t,n,r)=>{let s,a,o;const l={};if(t=t||{},e==null)return t;do{for(s=Object.getOwnPropertyNames(e),a=s.length;a-- >0;)o=s[a],(!r||r(o,e,t))&&!l[o]&&(t[o]=e[o],l[o]=!0);e=n!==!1&&rd(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},EN=(e,t,n)=>{e=String(e),(n===void 0||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return r!==-1&&r===n},_N=e=>{if(!e)return null;if(ps(e))return e;let t=e.length;if(!Q0(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},CN=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&rd(Uint8Array)),IN=(e,t)=>{const r=(e&&e[Lo]).call(e);let s;for(;(s=r.next())&&!s.done;){const a=s.value;t.call(e,a[0],a[1])}},TN=(e,t)=>{let n;const r=[];for(;(n=e.exec(t))!==null;)r.push(n);return r},RN=At("HTMLFormElement"),PN=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,s){return r.toUpperCase()+s}),lh=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),AN=At("RegExp"),X0=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};Ra(n,(s,a)=>{let o;(o=t(s,a,e))!==!1&&(r[a]=o||s)}),Object.defineProperties(e,r)},ON=e=>{X0(e,(t,n)=>{if(nt(e)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=e[n];if(nt(r)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},DN=(e,t)=>{const n={},r=s=>{s.forEach(a=>{n[a]=!0})};return ps(e)?r(e):r(String(e).split(t)),n},LN=()=>{},MN=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function zN(e){return!!(e&&nt(e.append)&&e[K0]==="FormData"&&e[Lo])}const UN=e=>{const t=new Array(10),n=(r,s)=>{if(Ta(r)){if(t.indexOf(r)>=0)return;if(Ia(r))return r;if(!("toJSON"in r)){t[s]=r;const a=ps(r)?[]:{};return Ra(r,(o,l)=>{const c=n(o,s+1);!ss(c)&&(a[l]=c)}),t[s]=void 0,a}}return r};return n(e,0)},FN=At("AsyncFunction"),$N=e=>e&&(Ta(e)||nt(e))&&nt(e.then)&&nt(e.catch),Z0=((e,t)=>e?setImmediate:t?((n,r)=>(sr.addEventListener("message",({source:s,data:a})=>{s===sr&&a===n&&r.length&&r.shift()()},!1),s=>{r.push(s),sr.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",nt(sr.postMessage)),BN=typeof queueMicrotask<"u"?queueMicrotask.bind(sr):typeof process<"u"&&process.nextTick||Z0,HN=e=>e!=null&&nt(e[Lo]),E={isArray:ps,isArrayBuffer:G0,isBuffer:Ia,isFormData:mN,isArrayBufferView:iN,isString:oN,isNumber:Q0,isBoolean:lN,isObject:Ta,isPlainObject:Ni,isEmptyObject:cN,isReadableStream:xN,isRequest:vN,isResponse:yN,isHeaders:wN,isUndefined:ss,isDate:uN,isFile:dN,isBlob:fN,isRegExp:AN,isFunction:nt,isStream:pN,isURLSearchParams:gN,isTypedArray:CN,isFileList:hN,forEach:Ra,merge:Fc,extend:kN,trim:bN,stripBOM:NN,inherits:jN,toFlatObject:SN,kindOf:Mo,kindOfTest:At,endsWith:EN,toArray:_N,forEachEntry:IN,matchAll:TN,isHTMLForm:RN,hasOwnProperty:lh,hasOwnProp:lh,reduceDescriptors:X0,freezeMethods:ON,toObjectSet:DN,toCamelCase:PN,noop:LN,toFiniteNumber:MN,findKey:J0,global:sr,isContextDefined:Y0,isSpecCompliantForm:zN,toJSONObject:UN,isAsyncFn:FN,isThenable:$N,setImmediate:Z0,asap:BN,isIterable:HN};let q=class eg extends Error{static from(t,n,r,s,a,o){const l=new eg(t.message,n||t.code,r,s,a);return l.cause=t,l.name=t.name,o&&Object.assign(l,o),l}constructor(t,n,r,s,a){super(t),this.name="AxiosError",this.isAxiosError=!0,n&&(this.code=n),r&&(this.config=r),s&&(this.request=s),a&&(this.response=a,this.status=a.status)}toJSON(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:E.toJSONObject(this.config),code:this.code,status:this.status}}};q.ERR_BAD_OPTION_VALUE="ERR_BAD_OPTION_VALUE";q.ERR_BAD_OPTION="ERR_BAD_OPTION";q.ECONNABORTED="ECONNABORTED";q.ETIMEDOUT="ETIMEDOUT";q.ERR_NETWORK="ERR_NETWORK";q.ERR_FR_TOO_MANY_REDIRECTS="ERR_FR_TOO_MANY_REDIRECTS";q.ERR_DEPRECATED="ERR_DEPRECATED";q.ERR_BAD_RESPONSE="ERR_BAD_RESPONSE";q.ERR_BAD_REQUEST="ERR_BAD_REQUEST";q.ERR_CANCELED="ERR_CANCELED";q.ERR_NOT_SUPPORT="ERR_NOT_SUPPORT";q.ERR_INVALID_URL="ERR_INVALID_URL";const VN=null;function $c(e){return E.isPlainObject(e)||E.isArray(e)}function tg(e){return E.endsWith(e,"[]")?e.slice(0,-2):e}function ch(e,t,n){return e?e.concat(t).map(function(s,a){return s=tg(s),!n&&a?"["+s+"]":s}).join(n?".":""):t}function WN(e){return E.isArray(e)&&!e.some($c)}const qN=E.toFlatObject(E,{},null,function(t){return/^is[A-Z]/.test(t)});function Uo(e,t,n){if(!E.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,n=E.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(g,w){return!E.isUndefined(w[g])});const r=n.metaTokens,s=n.visitor||d,a=n.dots,o=n.indexes,c=(n.Blob||typeof Blob<"u"&&Blob)&&E.isSpecCompliantForm(t);if(!E.isFunction(s))throw new TypeError("visitor must be a function");function u(y){if(y===null)return"";if(E.isDate(y))return y.toISOString();if(E.isBoolean(y))return y.toString();if(!c&&E.isBlob(y))throw new q("Blob is not supported. Use a Buffer instead.");return E.isArrayBuffer(y)||E.isTypedArray(y)?c&&typeof Blob=="function"?new Blob([y]):Buffer.from(y):y}function d(y,g,w){let m=y;if(y&&!w&&typeof y=="object"){if(E.endsWith(g,"{}"))g=r?g:g.slice(0,-2),y=JSON.stringify(y);else if(E.isArray(y)&&WN(y)||(E.isFileList(y)||E.endsWith(g,"[]"))&&(m=E.toArray(y)))return g=tg(g),m.forEach(function(x,k){!(E.isUndefined(x)||x===null)&&t.append(o===!0?ch([g],k,a):o===null?g:g+"[]",u(x))}),!1}return $c(y)?!0:(t.append(ch(w,g,a),u(y)),!1)}const f=[],p=Object.assign(qN,{defaultVisitor:d,convertValue:u,isVisitable:$c});function b(y,g){if(!E.isUndefined(y)){if(f.indexOf(y)!==-1)throw Error("Circular reference detected in "+g.join("."));f.push(y),E.forEach(y,function(m,h){(!(E.isUndefined(m)||m===null)&&s.call(t,m,E.isString(h)?h.trim():h,g,p))===!0&&b(m,g?g.concat(h):[h])}),f.pop()}}if(!E.isObject(e))throw new TypeError("data must be an object");return b(e),t}function uh(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(r){return t[r]})}function sd(e,t){this._pairs=[],e&&Uo(e,this,t)}const ng=sd.prototype;ng.append=function(t,n){this._pairs.push([t,n])};ng.toString=function(t){const n=t?function(r){return t.call(this,r,uh)}:uh;return this._pairs.map(function(s){return n(s[0])+"="+n(s[1])},"").join("&")};function KN(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function rg(e,t,n){if(!t)return e;const r=n&&n.encode||KN,s=E.isFunction(n)?{serialize:n}:n,a=s&&s.serialize;let o;if(a?o=a(t,s):o=E.isURLSearchParams(t)?t.toString():new sd(t,s).toString(r),o){const l=e.indexOf("#");l!==-1&&(e=e.slice(0,l)),e+=(e.indexOf("?")===-1?"?":"&")+o}return e}class dh{constructor(){this.handlers=[]}use(t,n,r){return this.handlers.push({fulfilled:t,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){E.forEach(this.handlers,function(r){r!==null&&t(r)})}}const ad={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1,legacyInterceptorReqResOrdering:!0},GN=typeof URLSearchParams<"u"?URLSearchParams:sd,QN=typeof FormData<"u"?FormData:null,JN=typeof Blob<"u"?Blob:null,YN={isBrowser:!0,classes:{URLSearchParams:GN,FormData:QN,Blob:JN},protocols:["http","https","file","blob","url","data"]},id=typeof window<"u"&&typeof document<"u",Bc=typeof navigator=="object"&&navigator||void 0,XN=id&&(!Bc||["ReactNative","NativeScript","NS"].indexOf(Bc.product)<0),ZN=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",e2=id&&window.location.href||"http://localhost",t2=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:id,hasStandardBrowserEnv:XN,hasStandardBrowserWebWorkerEnv:ZN,navigator:Bc,origin:e2},Symbol.toStringTag,{value:"Module"})),Be={...t2,...YN};function n2(e,t){return Uo(e,new Be.classes.URLSearchParams,{visitor:function(n,r,s,a){return Be.isNode&&E.isBuffer(n)?(this.append(r,n.toString("base64")),!1):a.defaultVisitor.apply(this,arguments)},...t})}function r2(e){return E.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function s2(e){const t={},n=Object.keys(e);let r;const s=n.length;let a;for(r=0;r<s;r++)a=n[r],t[a]=e[a];return t}function sg(e){function t(n,r,s,a){let o=n[a++];if(o==="__proto__")return!0;const l=Number.isFinite(+o),c=a>=n.length;return o=!o&&E.isArray(s)?s.length:o,c?(E.hasOwnProp(s,o)?s[o]=[s[o],r]:s[o]=r,!l):((!s[o]||!E.isObject(s[o]))&&(s[o]=[]),t(n,r,s[o],a)&&E.isArray(s[o])&&(s[o]=s2(s[o])),!l)}if(E.isFormData(e)&&E.isFunction(e.entries)){const n={};return E.forEachEntry(e,(r,s)=>{t(r2(r),s,n,0)}),n}return null}function a2(e,t,n){if(E.isString(e))try{return(t||JSON.parse)(e),E.trim(e)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(e)}const Pa={transitional:ad,adapter:["xhr","http","fetch"],transformRequest:[function(t,n){const r=n.getContentType()||"",s=r.indexOf("application/json")>-1,a=E.isObject(t);if(a&&E.isHTMLForm(t)&&(t=new FormData(t)),E.isFormData(t))return s?JSON.stringify(sg(t)):t;if(E.isArrayBuffer(t)||E.isBuffer(t)||E.isStream(t)||E.isFile(t)||E.isBlob(t)||E.isReadableStream(t))return t;if(E.isArrayBufferView(t))return t.buffer;if(E.isURLSearchParams(t))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let l;if(a){if(r.indexOf("application/x-www-form-urlencoded")>-1)return n2(t,this.formSerializer).toString();if((l=E.isFileList(t))||r.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return Uo(l?{"files[]":t}:t,c&&new c,this.formSerializer)}}return a||s?(n.setContentType("application/json",!1),a2(t)):t}],transformResponse:[function(t){const n=this.transitional||Pa.transitional,r=n&&n.forcedJSONParsing,s=this.responseType==="json";if(E.isResponse(t)||E.isReadableStream(t))return t;if(t&&E.isString(t)&&(r&&!this.responseType||s)){const o=!(n&&n.silentJSONParsing)&&s;try{return JSON.parse(t,this.parseReviver)}catch(l){if(o)throw l.name==="SyntaxError"?q.from(l,q.ERR_BAD_RESPONSE,this,null,this.response):l}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Be.classes.FormData,Blob:Be.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};E.forEach(["delete","get","head","post","put","patch"],e=>{Pa.headers[e]={}});const i2=E.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),o2=e=>{const t={};let n,r,s;return e&&e.split(`
`).forEach(function(o){s=o.indexOf(":"),n=o.substring(0,s).trim().toLowerCase(),r=o.substring(s+1).trim(),!(!n||t[n]&&i2[n])&&(n==="set-cookie"?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)}),t},fh=Symbol("internals");function Ns(e){return e&&String(e).trim().toLowerCase()}function ji(e){return e===!1||e==null?e:E.isArray(e)?e.map(ji):String(e)}function l2(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}const c2=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function Il(e,t,n,r,s){if(E.isFunction(r))return r.call(this,t,n);if(s&&(t=n),!!E.isString(t)){if(E.isString(r))return t.indexOf(r)!==-1;if(E.isRegExp(r))return r.test(t)}}function u2(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,n,r)=>n.toUpperCase()+r)}function d2(e,t){const n=E.toCamelCase(" "+t);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+n,{value:function(s,a,o){return this[r].call(this,t,s,a,o)},configurable:!0})})}let rt=class{constructor(t){t&&this.set(t)}set(t,n,r){const s=this;function a(l,c,u){const d=Ns(c);if(!d)throw new Error("header name must be a non-empty string");const f=E.findKey(s,d);(!f||s[f]===void 0||u===!0||u===void 0&&s[f]!==!1)&&(s[f||c]=ji(l))}const o=(l,c)=>E.forEach(l,(u,d)=>a(u,d,c));if(E.isPlainObject(t)||t instanceof this.constructor)o(t,n);else if(E.isString(t)&&(t=t.trim())&&!c2(t))o(o2(t),n);else if(E.isObject(t)&&E.isIterable(t)){let l={},c,u;for(const d of t){if(!E.isArray(d))throw TypeError("Object iterator must return a key-value pair");l[u=d[0]]=(c=l[u])?E.isArray(c)?[...c,d[1]]:[c,d[1]]:d[1]}o(l,n)}else t!=null&&a(n,t,r);return this}get(t,n){if(t=Ns(t),t){const r=E.findKey(this,t);if(r){const s=this[r];if(!n)return s;if(n===!0)return l2(s);if(E.isFunction(n))return n.call(this,s,r);if(E.isRegExp(n))return n.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,n){if(t=Ns(t),t){const r=E.findKey(this,t);return!!(r&&this[r]!==void 0&&(!n||Il(this,this[r],r,n)))}return!1}delete(t,n){const r=this;let s=!1;function a(o){if(o=Ns(o),o){const l=E.findKey(r,o);l&&(!n||Il(r,r[l],l,n))&&(delete r[l],s=!0)}}return E.isArray(t)?t.forEach(a):a(t),s}clear(t){const n=Object.keys(this);let r=n.length,s=!1;for(;r--;){const a=n[r];(!t||Il(this,this[a],a,t,!0))&&(delete this[a],s=!0)}return s}normalize(t){const n=this,r={};return E.forEach(this,(s,a)=>{const o=E.findKey(r,a);if(o){n[o]=ji(s),delete n[a];return}const l=t?u2(a):String(a).trim();l!==a&&delete n[a],n[l]=ji(s),r[l]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const n=Object.create(null);return E.forEach(this,(r,s)=>{r!=null&&r!==!1&&(n[s]=t&&E.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,n])=>t+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...n){const r=new this(t);return n.forEach(s=>r.set(s)),r}static accessor(t){const r=(this[fh]=this[fh]={accessors:{}}).accessors,s=this.prototype;function a(o){const l=Ns(o);r[l]||(d2(s,o),r[l]=!0)}return E.isArray(t)?t.forEach(a):a(t),this}};rt.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);E.reduceDescriptors(rt.prototype,({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(r){this[n]=r}}});E.freezeMethods(rt);function Tl(e,t){const n=this||Pa,r=t||n,s=rt.from(r.headers);let a=r.data;return E.forEach(e,function(l){a=l.call(n,a,s.normalize(),t?t.status:void 0)}),s.normalize(),a}function ag(e){return!!(e&&e.__CANCEL__)}let Aa=class extends q{constructor(t,n,r){super(t??"canceled",q.ERR_CANCELED,n,r),this.name="CanceledError",this.__CANCEL__=!0}};function ig(e,t,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?e(n):t(new q("Request failed with status code "+n.status,[q.ERR_BAD_REQUEST,q.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function f2(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function h2(e,t){e=e||10;const n=new Array(e),r=new Array(e);let s=0,a=0,o;return t=t!==void 0?t:1e3,function(c){const u=Date.now(),d=r[a];o||(o=u),n[s]=c,r[s]=u;let f=a,p=0;for(;f!==s;)p+=n[f++],f=f%e;if(s=(s+1)%e,s===a&&(a=(a+1)%e),u-o<t)return;const b=d&&u-d;return b?Math.round(p*1e3/b):void 0}}function p2(e,t){let n=0,r=1e3/t,s,a;const o=(u,d=Date.now())=>{n=d,s=null,a&&(clearTimeout(a),a=null),e(...u)};return[(...u)=>{const d=Date.now(),f=d-n;f>=r?o(u,d):(s=u,a||(a=setTimeout(()=>{a=null,o(s)},r-f)))},()=>s&&o(s)]}const lo=(e,t,n=3)=>{let r=0;const s=h2(50,250);return p2(a=>{const o=a.loaded,l=a.lengthComputable?a.total:void 0,c=o-r,u=s(c),d=o<=l;r=o;const f={loaded:o,total:l,progress:l?o/l:void 0,bytes:c,rate:u||void 0,estimated:u&&l&&d?(l-o)/u:void 0,event:a,lengthComputable:l!=null,[t?"download":"upload"]:!0};e(f)},n)},hh=(e,t)=>{const n=e!=null;return[r=>t[0]({lengthComputable:n,total:e,loaded:r}),t[1]]},ph=e=>(...t)=>E.asap(()=>e(...t)),m2=Be.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,Be.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(Be.origin),Be.navigator&&/(msie|trident)/i.test(Be.navigator.userAgent)):()=>!0,g2=Be.hasStandardBrowserEnv?{write(e,t,n,r,s,a,o){if(typeof document>"u")return;const l=[`${e}=${encodeURIComponent(t)}`];E.isNumber(n)&&l.push(`expires=${new Date(n).toUTCString()}`),E.isString(r)&&l.push(`path=${r}`),E.isString(s)&&l.push(`domain=${s}`),a===!0&&l.push("secure"),E.isString(o)&&l.push(`SameSite=${o}`),document.cookie=l.join("; ")},read(e){if(typeof document>"u")return null;const t=document.cookie.match(new RegExp("(?:^|; )"+e+"=([^;]*)"));return t?decodeURIComponent(t[1]):null},remove(e){this.write(e,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function x2(e){return typeof e!="string"?!1:/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function v2(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function og(e,t,n){let r=!x2(t);return e&&(r||n==!1)?v2(e,t):t}const mh=e=>e instanceof rt?{...e}:e;function xr(e,t){t=t||{};const n={};function r(u,d,f,p){return E.isPlainObject(u)&&E.isPlainObject(d)?E.merge.call({caseless:p},u,d):E.isPlainObject(d)?E.merge({},d):E.isArray(d)?d.slice():d}function s(u,d,f,p){if(E.isUndefined(d)){if(!E.isUndefined(u))return r(void 0,u,f,p)}else return r(u,d,f,p)}function a(u,d){if(!E.isUndefined(d))return r(void 0,d)}function o(u,d){if(E.isUndefined(d)){if(!E.isUndefined(u))return r(void 0,u)}else return r(void 0,d)}function l(u,d,f){if(f in t)return r(u,d);if(f in e)return r(void 0,u)}const c={url:a,method:a,data:a,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:l,headers:(u,d,f)=>s(mh(u),mh(d),f,!0)};return E.forEach(Object.keys({...e,...t}),function(d){if(d==="__proto__"||d==="constructor"||d==="prototype")return;const f=E.hasOwnProp(c,d)?c[d]:s,p=f(e[d],t[d],d);E.isUndefined(p)&&f!==l||(n[d]=p)}),n}const lg=e=>{const t=xr({},e);let{data:n,withXSRFToken:r,xsrfHeaderName:s,xsrfCookieName:a,headers:o,auth:l}=t;if(t.headers=o=rt.from(o),t.url=rg(og(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),l&&o.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):""))),E.isFormData(n)){if(Be.hasStandardBrowserEnv||Be.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if(E.isFunction(n.getHeaders)){const c=n.getHeaders(),u=["content-type","content-length"];Object.entries(c).forEach(([d,f])=>{u.includes(d.toLowerCase())&&o.set(d,f)})}}if(Be.hasStandardBrowserEnv&&(r&&E.isFunction(r)&&(r=r(t)),r||r!==!1&&m2(t.url))){const c=s&&a&&g2.read(a);c&&o.set(s,c)}return t},y2=typeof XMLHttpRequest<"u",w2=y2&&function(e){return new Promise(function(n,r){const s=lg(e);let a=s.data;const o=rt.from(s.headers).normalize();let{responseType:l,onUploadProgress:c,onDownloadProgress:u}=s,d,f,p,b,y;function g(){b&&b(),y&&y(),s.cancelToken&&s.cancelToken.unsubscribe(d),s.signal&&s.signal.removeEventListener("abort",d)}let w=new XMLHttpRequest;w.open(s.method.toUpperCase(),s.url,!0),w.timeout=s.timeout;function m(){if(!w)return;const x=rt.from("getAllResponseHeaders"in w&&w.getAllResponseHeaders()),j={data:!l||l==="text"||l==="json"?w.responseText:w.response,status:w.status,statusText:w.statusText,headers:x,config:e,request:w};ig(function(S){n(S),g()},function(S){r(S),g()},j),w=null}"onloadend"in w?w.onloadend=m:w.onreadystatechange=function(){!w||w.readyState!==4||w.status===0&&!(w.responseURL&&w.responseURL.indexOf("file:")===0)||setTimeout(m)},w.onabort=function(){w&&(r(new q("Request aborted",q.ECONNABORTED,e,w)),w=null)},w.onerror=function(k){const j=k&&k.message?k.message:"Network Error",N=new q(j,q.ERR_NETWORK,e,w);N.event=k||null,r(N),w=null},w.ontimeout=function(){let k=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const j=s.transitional||ad;s.timeoutErrorMessage&&(k=s.timeoutErrorMessage),r(new q(k,j.clarifyTimeoutError?q.ETIMEDOUT:q.ECONNABORTED,e,w)),w=null},a===void 0&&o.setContentType(null),"setRequestHeader"in w&&E.forEach(o.toJSON(),function(k,j){w.setRequestHeader(j,k)}),E.isUndefined(s.withCredentials)||(w.withCredentials=!!s.withCredentials),l&&l!=="json"&&(w.responseType=s.responseType),u&&([p,y]=lo(u,!0),w.addEventListener("progress",p)),c&&w.upload&&([f,b]=lo(c),w.upload.addEventListener("progress",f),w.upload.addEventListener("loadend",b)),(s.cancelToken||s.signal)&&(d=x=>{w&&(r(!x||x.type?new Aa(null,e,w):x),w.abort(),w=null)},s.cancelToken&&s.cancelToken.subscribe(d),s.signal&&(s.signal.aborted?d():s.signal.addEventListener("abort",d)));const h=f2(s.url);if(h&&Be.protocols.indexOf(h)===-1){r(new q("Unsupported protocol "+h+":",q.ERR_BAD_REQUEST,e));return}w.send(a||null)})},b2=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let r=new AbortController,s;const a=function(u){if(!s){s=!0,l();const d=u instanceof Error?u:this.reason;r.abort(d instanceof q?d:new Aa(d instanceof Error?d.message:d))}};let o=t&&setTimeout(()=>{o=null,a(new q(`timeout of ${t}ms exceeded`,q.ETIMEDOUT))},t);const l=()=>{e&&(o&&clearTimeout(o),o=null,e.forEach(u=>{u.unsubscribe?u.unsubscribe(a):u.removeEventListener("abort",a)}),e=null)};e.forEach(u=>u.addEventListener("abort",a));const{signal:c}=r;return c.unsubscribe=()=>E.asap(l),c}},k2=function*(e,t){let n=e.byteLength;if(n<t){yield e;return}let r=0,s;for(;r<n;)s=r+t,yield e.slice(r,s),r=s},N2=async function*(e,t){for await(const n of j2(e))yield*k2(n,t)},j2=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:n,value:r}=await t.read();if(n)break;yield r}}finally{await t.cancel()}},gh=(e,t,n,r)=>{const s=N2(e,t);let a=0,o,l=c=>{o||(o=!0,r&&r(c))};return new ReadableStream({async pull(c){try{const{done:u,value:d}=await s.next();if(u){l(),c.close();return}let f=d.byteLength;if(n){let p=a+=f;n(p)}c.enqueue(new Uint8Array(d))}catch(u){throw l(u),u}},cancel(c){return l(c),s.return()}},{highWaterMark:2})},xh=64*1024,{isFunction:si}=E,S2=(({Request:e,Response:t})=>({Request:e,Response:t}))(E.global),{ReadableStream:vh,TextEncoder:yh}=E.global,wh=(e,...t)=>{try{return!!e(...t)}catch{return!1}},E2=e=>{e=E.merge.call({skipUndefined:!0},S2,e);const{fetch:t,Request:n,Response:r}=e,s=t?si(t):typeof fetch=="function",a=si(n),o=si(r);if(!s)return!1;const l=s&&si(vh),c=s&&(typeof yh=="function"?(y=>g=>y.encode(g))(new yh):async y=>new Uint8Array(await new n(y).arrayBuffer())),u=a&&l&&wh(()=>{let y=!1;const g=new n(Be.origin,{body:new vh,method:"POST",get duplex(){return y=!0,"half"}}).headers.has("Content-Type");return y&&!g}),d=o&&l&&wh(()=>E.isReadableStream(new r("").body)),f={stream:d&&(y=>y.body)};s&&["text","arrayBuffer","blob","formData","stream"].forEach(y=>{!f[y]&&(f[y]=(g,w)=>{let m=g&&g[y];if(m)return m.call(g);throw new q(`Response type '${y}' is not supported`,q.ERR_NOT_SUPPORT,w)})});const p=async y=>{if(y==null)return 0;if(E.isBlob(y))return y.size;if(E.isSpecCompliantForm(y))return(await new n(Be.origin,{method:"POST",body:y}).arrayBuffer()).byteLength;if(E.isArrayBufferView(y)||E.isArrayBuffer(y))return y.byteLength;if(E.isURLSearchParams(y)&&(y=y+""),E.isString(y))return(await c(y)).byteLength},b=async(y,g)=>{const w=E.toFiniteNumber(y.getContentLength());return w??p(g)};return async y=>{let{url:g,method:w,data:m,signal:h,cancelToken:x,timeout:k,onDownloadProgress:j,onUploadProgress:N,responseType:S,headers:T,withCredentials:z="same-origin",fetchOptions:$}=lg(y),Q=t||fetch;S=S?(S+"").toLowerCase():"text";let ae=b2([h,x&&x.toAbortSignal()],k),le=null;const D=ae&&ae.unsubscribe&&(()=>{ae.unsubscribe()});let te;try{if(N&&u&&w!=="get"&&w!=="head"&&(te=await b(T,m))!==0){let O=new n(g,{method:"POST",body:m,duplex:"half"}),U;if(E.isFormData(m)&&(U=O.headers.get("content-type"))&&T.setContentType(U),O.body){const[J,W]=hh(te,lo(ph(N)));m=gh(O.body,xh,J,W)}}E.isString(z)||(z=z?"include":"omit");const H=a&&"credentials"in n.prototype,L={...$,signal:ae,method:w.toUpperCase(),headers:T.normalize().toJSON(),body:m,duplex:"half",credentials:H?z:void 0};le=a&&new n(g,L);let _=await(a?Q(le,$):Q(g,L));const A=d&&(S==="stream"||S==="response");if(d&&(j||A&&D)){const O={};["status","statusText","headers"].forEach(Z=>{O[Z]=_[Z]});const U=E.toFiniteNumber(_.headers.get("content-length")),[J,W]=j&&hh(U,lo(ph(j),!0))||[];_=new r(gh(_.body,xh,J,()=>{W&&W(),D&&D()}),O)}S=S||"text";let I=await f[E.findKey(f,S)||"text"](_,y);return!A&&D&&D(),await new Promise((O,U)=>{ig(O,U,{data:I,headers:rt.from(_.headers),status:_.status,statusText:_.statusText,config:y,request:le})})}catch(H){throw D&&D(),H&&H.name==="TypeError"&&/Load failed|fetch/i.test(H.message)?Object.assign(new q("Network Error",q.ERR_NETWORK,y,le,H&&H.response),{cause:H.cause||H}):q.from(H,H&&H.code,y,le,H&&H.response)}}},_2=new Map,cg=e=>{let t=e&&e.env||{};const{fetch:n,Request:r,Response:s}=t,a=[r,s,n];let o=a.length,l=o,c,u,d=_2;for(;l--;)c=a[l],u=d.get(c),u===void 0&&d.set(c,u=l?new Map:E2(t)),d=u;return u};cg();const od={http:VN,xhr:w2,fetch:{get:cg}};E.forEach(od,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const bh=e=>`- ${e}`,C2=e=>E.isFunction(e)||e===null||e===!1;function I2(e,t){e=E.isArray(e)?e:[e];const{length:n}=e;let r,s;const a={};for(let o=0;o<n;o++){r=e[o];let l;if(s=r,!C2(r)&&(s=od[(l=String(r)).toLowerCase()],s===void 0))throw new q(`Unknown adapter '${l}'`);if(s&&(E.isFunction(s)||(s=s.get(t))))break;a[l||"#"+o]=s}if(!s){const o=Object.entries(a).map(([c,u])=>`adapter ${c} `+(u===!1?"is not supported by the environment":"is not available in the build"));let l=n?o.length>1?`since :
`+o.map(bh).join(`
`):" "+bh(o[0]):"as no adapter specified";throw new q("There is no suitable adapter to dispatch the request "+l,"ERR_NOT_SUPPORT")}return s}const ug={getAdapter:I2,adapters:od};function Rl(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Aa(null,e)}function kh(e){return Rl(e),e.headers=rt.from(e.headers),e.data=Tl.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),ug.getAdapter(e.adapter||Pa.adapter,e)(e).then(function(r){return Rl(e),r.data=Tl.call(e,e.transformResponse,r),r.headers=rt.from(r.headers),r},function(r){return ag(r)||(Rl(e),r&&r.response&&(r.response.data=Tl.call(e,e.transformResponse,r.response),r.response.headers=rt.from(r.response.headers))),Promise.reject(r)})}const dg="1.13.5",Fo={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{Fo[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}});const Nh={};Fo.transitional=function(t,n,r){function s(a,o){return"[Axios v"+dg+"] Transitional option '"+a+"'"+o+(r?". "+r:"")}return(a,o,l)=>{if(t===!1)throw new q(s(o," has been removed"+(n?" in "+n:"")),q.ERR_DEPRECATED);return n&&!Nh[o]&&(Nh[o]=!0,console.warn(s(o," has been deprecated since v"+n+" and will be removed in the near future"))),t?t(a,o,l):!0}};Fo.spelling=function(t){return(n,r)=>(console.warn(`${r} is likely a misspelling of ${t}`),!0)};function T2(e,t,n){if(typeof e!="object")throw new q("options must be an object",q.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let s=r.length;for(;s-- >0;){const a=r[s],o=t[a];if(o){const l=e[a],c=l===void 0||o(l,a,e);if(c!==!0)throw new q("option "+a+" must be "+c,q.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new q("Unknown option "+a,q.ERR_BAD_OPTION)}}const Si={assertOptions:T2,validators:Fo},pt=Si.validators;let lr=class{constructor(t){this.defaults=t||{},this.interceptors={request:new dh,response:new dh}}async request(t,n){try{return await this._request(t,n)}catch(r){if(r instanceof Error){let s={};Error.captureStackTrace?Error.captureStackTrace(s):s=new Error;const a=s.stack?s.stack.replace(/^.+\n/,""):"";try{r.stack?a&&!String(r.stack).endsWith(a.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+a):r.stack=a}catch{}}throw r}}_request(t,n){typeof t=="string"?(n=n||{},n.url=t):n=t||{},n=xr(this.defaults,n);const{transitional:r,paramsSerializer:s,headers:a}=n;r!==void 0&&Si.assertOptions(r,{silentJSONParsing:pt.transitional(pt.boolean),forcedJSONParsing:pt.transitional(pt.boolean),clarifyTimeoutError:pt.transitional(pt.boolean),legacyInterceptorReqResOrdering:pt.transitional(pt.boolean)},!1),s!=null&&(E.isFunction(s)?n.paramsSerializer={serialize:s}:Si.assertOptions(s,{encode:pt.function,serialize:pt.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),Si.assertOptions(n,{baseUrl:pt.spelling("baseURL"),withXsrfToken:pt.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let o=a&&E.merge(a.common,a[n.method]);a&&E.forEach(["delete","get","head","post","put","patch","common"],y=>{delete a[y]}),n.headers=rt.concat(o,a);const l=[];let c=!0;this.interceptors.request.forEach(function(g){if(typeof g.runWhen=="function"&&g.runWhen(n)===!1)return;c=c&&g.synchronous;const w=n.transitional||ad;w&&w.legacyInterceptorReqResOrdering?l.unshift(g.fulfilled,g.rejected):l.push(g.fulfilled,g.rejected)});const u=[];this.interceptors.response.forEach(function(g){u.push(g.fulfilled,g.rejected)});let d,f=0,p;if(!c){const y=[kh.bind(this),void 0];for(y.unshift(...l),y.push(...u),p=y.length,d=Promise.resolve(n);f<p;)d=d.then(y[f++],y[f++]);return d}p=l.length;let b=n;for(;f<p;){const y=l[f++],g=l[f++];try{b=y(b)}catch(w){g.call(this,w);break}}try{d=kh.call(this,b)}catch(y){return Promise.reject(y)}for(f=0,p=u.length;f<p;)d=d.then(u[f++],u[f++]);return d}getUri(t){t=xr(this.defaults,t);const n=og(t.baseURL,t.url,t.allowAbsoluteUrls);return rg(n,t.params,t.paramsSerializer)}};E.forEach(["delete","get","head","options"],function(t){lr.prototype[t]=function(n,r){return this.request(xr(r||{},{method:t,url:n,data:(r||{}).data}))}});E.forEach(["post","put","patch"],function(t){function n(r){return function(a,o,l){return this.request(xr(l||{},{method:t,headers:r?{"Content-Type":"multipart/form-data"}:{},url:a,data:o}))}}lr.prototype[t]=n(),lr.prototype[t+"Form"]=n(!0)});let R2=class fg{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(a){n=a});const r=this;this.promise.then(s=>{if(!r._listeners)return;let a=r._listeners.length;for(;a-- >0;)r._listeners[a](s);r._listeners=null}),this.promise.then=s=>{let a;const o=new Promise(l=>{r.subscribe(l),a=l}).then(s);return o.cancel=function(){r.unsubscribe(a)},o},t(function(a,o,l){r.reason||(r.reason=new Aa(a,o,l),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const n=this._listeners.indexOf(t);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const t=new AbortController,n=r=>{t.abort(r)};return this.subscribe(n),t.signal.unsubscribe=()=>this.unsubscribe(n),t.signal}static source(){let t;return{token:new fg(function(s){t=s}),cancel:t}}};function P2(e){return function(n){return e.apply(null,n)}}function A2(e){return E.isObject(e)&&e.isAxiosError===!0}const Hc={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(Hc).forEach(([e,t])=>{Hc[t]=e});function hg(e){const t=new lr(e),n=q0(lr.prototype.request,t);return E.extend(n,lr.prototype,t,{allOwnKeys:!0}),E.extend(n,t,null,{allOwnKeys:!0}),n.create=function(s){return hg(xr(e,s))},n}const Se=hg(Pa);Se.Axios=lr;Se.CanceledError=Aa;Se.CancelToken=R2;Se.isCancel=ag;Se.VERSION=dg;Se.toFormData=Uo;Se.AxiosError=q;Se.Cancel=Se.CanceledError;Se.all=function(t){return Promise.all(t)};Se.spread=P2;Se.isAxiosError=A2;Se.mergeConfig=xr;Se.AxiosHeaders=rt;Se.formToJSON=e=>sg(E.isHTMLForm(e)?new FormData(e):e);Se.getAdapter=ug.getAdapter;Se.HttpStatusCode=Hc;Se.default=Se;const{Axios:ZE,AxiosError:e_,CanceledError:t_,isCancel:n_,CancelToken:r_,VERSION:s_,all:a_,Cancel:i_,isAxiosError:o_,spread:l_,toFormData:c_,AxiosHeaders:u_,HttpStatusCode:d_,formToJSON:f_,getAdapter:h_,mergeConfig:p_}=Se,O2="https://api-suscriptions-production.up.railway.app",V=Se.create({baseURL:O2});V.interceptors.request.use(async e=>{try{const t=ki(),n=t==null?void 0:t.currentUser;if(n){const r=await n.getIdToken();e.headers.Authorization=`Bearer ${r}`}}catch{}return e});const zt={create:async e=>V.post("/auth/create",e),me:async()=>V.get("/auth/me"),getUser:async e=>V.get(`/auth/user/${e}`),listUsers:async e=>V.get("/auth/users",{params:e}),updateUser:async(e,t)=>V.patch(`/auth/user/${e}`,t),deleteUser:async e=>V.delete(`/auth/user/${e}`)},cr={create:async e=>V.post("/clients",e),list:async e=>V.get("/clients",{params:e}),get:async e=>V.get(`/clients/${e}`),delete:async e=>V.delete(`/clients/${e}`),update:async(e,t)=>V.patch(`/clients/${e}`,t)},zr={create:async e=>V.post("/subscriptions",e),list:async e=>V.get("/subscriptions",{params:e}),get:async e=>V.get(`/subscriptions/${e}`),renew:async e=>V.post(`/subscriptions/${e}/renew`),delete:async e=>V.delete(`/subscriptions/${e}`),update:async(e,t)=>V.patch(`/subscriptions/${e}`,t),updateStatus:async(e,t)=>V.patch(`/subscriptions/${e}/status`,{status:t})},er={sendTemplate:async e=>V.post("/communications/send-template",e),send:async e=>V.post("/communications/send",e),listConversations:async()=>V.get("/communications/conversations"),getMessages:async(e,t)=>V.get(`/communications/messages/${encodeURIComponent(e)}`,{params:t}),getUnreadCount:async()=>V.get("/communications/unread-count"),markAsRead:async e=>V.post(`/communications/conversations/${encodeURIComponent(e)}/read`)},js={runDaily:async(e,t)=>V.post("/automation/run-daily",t,{params:e}),updateConfig:async e=>V.put("/automation/config",e),getConfig:async()=>V.get("/automation/config"),deleteConfig:async()=>V.delete("/automation/config")},En={create:async e=>V.post("/payments",e),list:async e=>V.get("/payments",{params:e}),get:async e=>V.get(`/payments/${e}`),getBySubscription:async e=>V.get(`/payments/subscription/${e}`),verify:async(e,t)=>V.patch(`/payments/${e}/verify`,{notes:t||void 0}),reject:async(e,t)=>V.patch(`/payments/${e}/reject`,{notes:t||void 0}),retry:async e=>V.patch(`/payments/${e}/retry`),getStats:async e=>V.get("/payments/stats",{params:e})},pg=v.createContext(void 0);function D2({children:e}){const[t,n]=v.useState(null),[r,s]=v.useState(null),[a,o]=v.useState(!0),l=ds();v.useEffect(()=>{const d=ki();if(!d){o(!1);return}const f=Wb(d,async p=>{var b;if(!p){n(null),s(null),o(!1);return}try{const y=await p.getIdToken();s(y);try{const w=(b=(await p.getIdTokenResult()).claims)==null?void 0:b.role;if(w){n({id:p.uid,email:p.email??void 0,role:w,displayName:p.displayName??void 0,photoURL:p.photoURL??void 0}),o(!1);return}}catch{}try{const w=(await V.get("/auth/me")).data||{};n({id:w.id??p.uid,email:w.email??p.email??void 0,role:w.role,displayName:w.displayName??p.displayName??void 0,photoURL:p.photoURL??void 0})}catch{n({id:p.uid,email:p.email??void 0,displayName:p.displayName??void 0,photoURL:p.photoURL??void 0})}}catch{n({id:p.uid,email:p.email??void 0,displayName:p.displayName??void 0,photoURL:p.photoURL??void 0})}finally{o(!1)}});return()=>f()},[]);async function c(d,f){var w;const p=ki();if(!p)throw new Error("Firebase auth not initialized");const y=(await Bb(p,d,f)).user,g=await y.getIdToken();s(g);try{const h=(w=(await y.getIdTokenResult()).claims)==null?void 0:w.role;if(h){n({id:y.uid,email:y.email??void 0,role:h,photoURL:y.photoURL??void 0,displayName:y.displayName??void 0}),l(h==="admin"?"/admin":h==="client"?"/client":"/");return}}catch{}try{const h=(await V.get("/auth/me")).data||{},x=h.role??void 0;n({id:h.id??y.uid,email:h.email??y.email??void 0,role:x,photoURL:y.photoURL??void 0,displayName:h.displayName??y.displayName??void 0}),l(x==="admin"?"/admin":x==="client"?"/client":"/");return}catch{n({id:y.uid,email:y.email??void 0,photoURL:y.photoURL??void 0,displayName:y.displayName??void 0}),l("/")}}function u(){const d=ki();try{d&&qb(d)}catch{}s(null),n(null),l("/login")}return i.jsx(pg.Provider,{value:{user:t,token:r,login:c,logout:u,loading:a},children:e})}function hn(){const e=v.useContext(pg);if(!e)throw new Error("useAuth must be used within AuthProvider");return e}function qe(...e){return e.filter(Boolean).join(" ")}const M=Bn.forwardRef(({variant:e="primary",size:t="md",className:n,children:r,...s},a)=>{const o="inline-flex items-center justify-center rounded-lg font-medium transition-colors disabled:opacity-50 disabled:pointer-events-none cursor-pointer align-middle select-none",l="focus-visible:ring-offset-slate-50",u={primary:`bg-primary hover:bg-primary-600 text-white shadow-sm focus-visible:ring-2 focus-visible:ring-primary focus-visible:ring-offset-2 ${l} dark:bg-secondary dark:hover:bg-secondary/90 dark:focus-visible:ring-secondary dark:focus-visible:ring-offset-slate-900`,secondary:`bg-white dark:bg-slate-800 text-slate-900 dark:text-slate-100 border border-slate-200 dark:border-slate-700 hover:bg-slate-50 dark:hover:bg-slate-700 focus-visible:ring-2 focus-visible:ring-slate-200 focus-visible:ring-offset-2 ${l} shadow-sm`,ghost:`bg-transparent text-slate-600 dark:text-slate-400 hover:bg-slate-100 dark:hover:bg-slate-800 hover:text-slate-900 dark:hover:text-white focus-visible:ring-2 focus-visible:ring-slate-200 focus-visible:ring-offset-2 ${l}`,outline:`bg-transparent border border-primary text-primary hover:bg-primary/5 dark:hover:bg-primary/20 focus-visible:ring-2 focus-visible:ring-primary focus-visible:ring-offset-2 ${l}`,danger:`bg-red-600 text-white hover:bg-red-700 focus-visible:ring-2 focus-visible:ring-red-600 focus-visible:ring-offset-2 ${l} shadow-sm`,destructive:`bg-red-600 text-white hover:bg-red-700 focus-visible:ring-2 focus-visible:ring-red-600 focus-visible:ring-offset-2 ${l} shadow-sm`},d={sm:"h-9 px-3 text-xs rounded-md min-w-[44px]",md:"h-11 px-5 text-sm rounded-lg min-w-[44px]",lg:"h-12 px-6 text-base rounded-lg min-w-[44px]",icon:"h-11 w-11 p-2.5 rounded-lg"};return i.jsx("button",{ref:a,className:qe(o,u[e],d[t],"active:scale-98",n),...s,children:r})});M.displayName="Button";/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mg=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim();/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L2=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M2=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,r)=>r?r.toUpperCase():n.toLowerCase());/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jh=e=>{const t=M2(e);return t.charAt(0).toUpperCase()+t.slice(1)};/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var z2={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U2=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0;return!1};/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F2=v.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:a,iconNode:o,...l},c)=>v.createElement("svg",{ref:c,...z2,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:mg("lucide",s),...!a&&!U2(l)&&{"aria-hidden":"true"},...l},[...o.map(([u,d])=>v.createElement(u,d)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B=(e,t)=>{const n=v.forwardRef(({className:r,...s},a)=>v.createElement(F2,{ref:a,iconNode:t,className:mg(`lucide-${L2(jh(e))}`,`lucide-${e}`,r),...s}));return n.displayName=jh(e),n};/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $2=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],B2=B("activity",$2);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H2=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],V2=B("arrow-left",H2);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W2=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M22 8c0-2.3-.8-4.3-2-6",key:"5bb3ad"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}],["path",{d:"M4 2C2.8 3.7 2 5.7 2 8",key:"tap9e0"}]],q2=B("bell-ring",W2);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K2=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],G2=B("briefcase",K2);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q2=[["path",{d:"M16 14v2.2l1.6 1",key:"fo4ql5"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M21 7.5V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h3.5",key:"1osxxc"}],["path",{d:"M3 10h5",key:"r794hk"}],["path",{d:"M8 2v4",key:"1cmpym"}],["circle",{cx:"16",cy:"16",r:"6",key:"qoo3c4"}]],J2=B("calendar-clock",Q2);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y2=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],co=B("calendar",Y2);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X2=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Z2=B("check",X2);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ej=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],nn=B("chevron-down",ej);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tj=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Sh=B("chevron-right",tj);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nj=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],ha=B("chevron-up",nj);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rj=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Oa=B("circle-alert",rj);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sj=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],_t=B("circle-check-big",sj);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aj=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],Vc=B("circle-x",aj);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ij=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Vt=B("clock",ij);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oj=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],Pl=B("copy",oj);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lj=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],Pt=B("credit-card",lj);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cj=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],gg=B("dollar-sign",cj);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uj=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],dj=B("download",uj);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fj=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],hj=B("eye-off",fj);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pj=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],mj=B("eye",pj);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gj=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],ld=B("funnel",gj);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xj=[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]],vj=B("gift",xj);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yj=[["path",{d:"M2.586 17.414A2 2 0 0 0 2 18.828V21a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h1a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h.172a2 2 0 0 0 1.414-.586l.814-.814a6.5 6.5 0 1 0-4-4z",key:"1s6t7t"}],["circle",{cx:"16.5",cy:"7.5",r:".5",fill:"currentColor",key:"w0ekpg"}]],wj=B("key-round",yj);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bj=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],Eh=B("layout-dashboard",bj);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kj=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],vt=B("loader-circle",kj);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nj=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],xg=B("lock",Nj);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jj=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],Sj=B("log-in",jj);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ej=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],_j=B("log-out",Ej);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cj=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],$o=B("mail",Cj);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ij=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],Tj=B("map-pin",Ij);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rj=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],cd=B("message-square",Rj);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pj=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],Aj=B("moon",Pj);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oj=[["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"M2.586 16.726A2 2 0 0 1 2 15.312V8.688a2 2 0 0 1 .586-1.414l4.688-4.688A2 2 0 0 1 8.688 2h6.624a2 2 0 0 1 1.414.586l4.688 4.688A2 2 0 0 1 22 8.688v6.624a2 2 0 0 1-.586 1.414l-4.688 4.688a2 2 0 0 1-1.414.586H8.688a2 2 0 0 1-1.414-.586z",key:"2d38gg"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],Dj=B("octagon-x",Oj);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lj=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],Mj=B("pencil",Lj);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zj=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],vg=B("phone",zj);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uj=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],_h=B("play",Uj);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fj=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],ud=B("plus",Fj);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $j=[["path",{d:"M16.247 7.761a6 6 0 0 1 0 8.478",key:"1fwjs5"}],["path",{d:"M19.075 4.933a10 10 0 0 1 0 14.134",key:"ehdyv1"}],["path",{d:"M4.925 19.067a10 10 0 0 1 0-14.134",key:"1q22gi"}],["path",{d:"M7.753 16.239a6 6 0 0 1 0-8.478",key:"r2q7qm"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],Bj=B("radio",$j);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hj=[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]],pa=B("receipt",Hj);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vj=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],Wj=B("refresh-cw",Vj);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qj=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],Kj=B("rotate-ccw",qj);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gj=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],yg=B("save",Gj);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qj=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Da=B("search",Qj);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jj=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],Yj=B("send",Jj);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xj=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],Al=B("shield",Xj);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zj=[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]],eS=B("smartphone",Zj);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tS=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],Wc=B("square-pen",tS);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nS=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],rS=B("sun",nS);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sS=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],qc=B("trash-2",sS);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aS=[["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Ol=B("trash",aS);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iS=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],oS=B("triangle-alert",iS);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lS=[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],cS=B("user-check",lS);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uS=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],uo=B("user-plus",uS);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dS=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],ma=B("user",dS);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fS=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],hS=B("users",fS);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pS=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],mS=B("wallet",pS);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gS=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],vr=B("x",gS);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xS=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],wg=B("zap",xS);function vS(){const[e,t]=v.useState(""),[n,r]=v.useState(""),[s,a]=v.useState(!1),[o,l]=v.useState(!1),{login:c}=hn();async function u(d){d.preventDefault(),l(!0);try{await c(e,n)}catch{alert("Login failed")}finally{l(!1)}}return i.jsx("div",{className:"min-h-dvh flex flex-col items-center justify-center bg-slate-50 dark:bg-slate-950 p-4 transition-colors",children:i.jsxs("div",{className:"w-full max-w-sm sm:max-w-md",children:[i.jsxs("div",{className:"mb-8 text-center flex flex-col items-center",children:[i.jsxs("h1",{className:"text-3xl font-bold tracking-tight text-slate-900 dark:text-white",children:["A",i.jsx("span",{className:"text-secondary",children:"|"}),"R SYSTEM"]}),i.jsx("p",{className:"mt-2 text-sm text-slate-600 dark:text-slate-400",children:"Ingresa tus credenciales para acceder"})]}),i.jsx("div",{className:"p-6 sm:p-8 bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-800 rounded-xl shadow-2xl shadow-slate-200/50 dark:shadow-black/50",children:i.jsxs("form",{onSubmit:u,className:"space-y-6",children:[i.jsxs("div",{className:"space-y-5",children:[i.jsxs("div",{className:"relative",children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1.5 ml-1",children:"Correo Electrnico"}),i.jsxs("div",{className:"relative",children:[i.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none text-slate-400 dark:text-slate-500",children:i.jsx($o,{className:"h-5 w-5"})}),i.jsx("input",{type:"email",className:"block w-full pl-10 h-12 rounded-lg border-slate-300 dark:border-slate-700 bg-white dark:bg-slate-950 text-slate-900 dark:text-white shadow-sm focus:border-primary focus:ring-primary sm:text-sm",placeholder:"ejemplo@empresa.com",value:e,onChange:d=>t(d.target.value),required:!0,autoComplete:"email"})]})]}),i.jsxs("div",{className:"relative",children:[i.jsxs("div",{className:"flex justify-between items-center mb-1.5 ml-1",children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300",children:"Contrasea"}),i.jsx("a",{href:"#",className:"text-xs font-medium text-primary hover:text-primary-600 dark:text-primary-400 dark:hover:text-primary-300",tabIndex:-1,children:"Olvidaste tu contrasea?"})]}),i.jsxs("div",{className:"relative",children:[i.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none text-slate-400 dark:text-slate-500",children:i.jsx(xg,{className:"h-5 w-5"})}),i.jsx("input",{type:s?"text":"password",className:"block w-full pl-10 pr-10 h-12 rounded-lg border-slate-300 dark:border-slate-700 bg-white dark:bg-slate-950 text-slate-900 dark:text-white shadow-sm focus:border-primary focus:ring-primary sm:text-sm",placeholder:"",value:n,onChange:d=>r(d.target.value),required:!0,autoComplete:"current-password"}),i.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:i.jsx(M,{type:"button",onClick:()=>a(!s),className:"focus:outline-none text-slate-400 hover:text-slate-600 dark:text-slate-500 dark:hover:text-slate-300",variant:"ghost",size:"icon",children:s?i.jsx(hj,{className:"h-5 w-5"}):i.jsx(mj,{className:"h-5 w-5"})})})]})]})]}),i.jsx(M,{type:"submit",variant:"primary",className:"w-full h-12 text-base font-semibold shadow-lg transition-all active:scale-[0.98] rounded-lg border-0",disabled:o,children:o?i.jsxs("span",{className:"flex items-center justify-center gap-2",children:[i.jsxs("svg",{className:"animate-spin h-5 w-5",viewBox:"0 0 24 24",children:[i.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),i.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Iniciando..."]}):i.jsxs("span",{className:"flex items-center justify-center gap-2",children:[i.jsx(Sj,{className:"h-5 w-5"}),"Iniciar Sesin"]})})]})}),i.jsxs("p",{className:"mt-8 text-center text-xs text-slate-400 dark:text-slate-500",children:[" ",new Date().getFullYear()," A|R System. Todos los derechos reservados."]})]})})}function yS(){return i.jsx(i.Fragment,{children:i.jsx(Ie,{path:"/login",element:i.jsx(vS,{})})})}function bg({children:e,roles:t}){const{token:n,user:r}=hn();if(!n)return i.jsx(ia,{to:"/login",replace:!0});if(t&&t.length>0){const s=r==null?void 0:r.role;if(!s||!t.includes(s))return i.jsx(ia,{to:"/",replace:!0})}return e}const kg=v.createContext(void 0);function wS({children:e}){const[t,n]=v.useState(()=>{const s=localStorage.getItem("theme");return s||(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")});v.useEffect(()=>{const s=window.document.documentElement;s.classList.remove("light","dark"),s.classList.add(t),localStorage.setItem("theme",t)},[t]);const r=()=>{n(s=>s==="light"?"dark":"light")};return i.jsx(kg.Provider,{value:{theme:t,toggleTheme:r},children:e})}function Ng(){const e=v.useContext(kg);if(e===void 0)throw new Error("useTheme must be used within a ThemeProvider");return e}function bS({role:e,user:t,unreadCount:n,onOpenSidebar:r,collapsed:s,setCollapsed:a}){return i.jsxs("header",{className:"fixed top-0 inset-x-0 h-16 bg-primary dark:bg-slate-900/90 dark:border-b dark:border-slate-800 border-b border-slate-200 z-30 flex items-center justify-between px-4 md:hidden shadow-sm backdrop-blur-md",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(M,{onClick:r,className:"p-2 -ml-2","aria-label":"Abrir men",variant:"ghost",size:"icon",children:i.jsx("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})}),i.jsxs("span",{className:"font-bold text-lg text-white truncate",children:["A",i.jsx("span",{className:"text-secondary",children:"|"}),"R SYSTEM"]})]}),i.jsxs("div",{className:"flex items-center gap-3",children:[e==="admin"&&i.jsxs(Zi,{to:"/admin/communication",className:"relative p-1.5 text-white/80 hover:text-white transition-colors",children:[i.jsx(cd,{size:22}),n>0&&i.jsx("span",{className:"absolute -top-0.5 -right-0.5 h-4 w-4 bg-red-500 rounded-full text-[10px] font-bold flex items-center justify-center text-white border border-primary",children:n>9?"9+":n})]}),i.jsx(Zi,{to:e==="admin"?"/admin/me":e==="client"?"/client/profile":"/",className:"flex items-center cursor-pointer hover:opacity-80 transition-opacity",children:i.jsx("div",{className:"h-8 w-8 rounded-full bg-white text-primary border border-slate-200 flex items-center justify-center text-xs font-bold shadow-sm",children:((t==null?void 0:t.displayName)||(t==null?void 0:t.email)||"U").charAt(0).toUpperCase()})})]})]})}const kS={admin:[{label:"Dashboard",to:"/admin",icon:i.jsx(Eh,{className:"w-5 h-5"})},{label:"Clientes",to:"/admin/clients",icon:i.jsx(G2,{className:"w-5 h-5"})},{label:"Suscripciones",to:"/admin/subscriptions",icon:i.jsx(Pt,{className:"w-5 h-5"})},{label:"Pagos",to:"/admin/payments",icon:i.jsx(gg,{className:"w-5 h-5"})},{label:"Comunicacin",to:"/admin/communication",icon:i.jsx(cd,{className:"w-5 h-5"})},{label:"Automatizacin",to:"/admin/automation",icon:i.jsx(wg,{className:"w-5 h-5"})},{label:"Usuarios",to:"/admin/users",icon:i.jsx(hS,{className:"w-5 h-5"})}],client:[{label:"Dashboard",to:"/client",icon:i.jsx(Eh,{className:"w-5 h-5"})},{label:"Mi suscripcin",to:"/client/subscription",icon:i.jsx(Pt,{className:"w-5 h-5"})},{label:"Historial de pagos",to:"/client/payments",icon:i.jsx(pa,{className:"w-5 h-5"})},{label:"Mi perfil",to:"/client/profile",icon:i.jsx(ma,{className:"w-5 h-5"})}]};function NS({role:e,user:t,unreadCount:n,collapsed:r,setCollapsed:s,sidebarOpen:a,setSidebarOpen:o,logout:l,theme:c,toggleTheme:u,isDesktop:d}){const f=kS[e]??[],p=r&&d;return i.jsxs("aside",{className:qe("fixed inset-y-0 left-0 bg-white dark:bg-slate-950/50 border-r border-slate-200/50 dark:border-slate-800 z-50 transform transition-all duration-300 ease-in-out flex flex-col shadow-2xl md:shadow-none md:translate-x-0 md:fixed md:top-0 md:left-0 md:h-screen backdrop-blur-xl",a?"translate-x-0 w-72":"-translate-x-full md:translate-x-0",p?"md:w-20":"md:w-72","w-72"),children:[i.jsxs("div",{className:qe("h-20 flex items-center bg-primary border-b  dark:border-slate-800 shrink-0 transition-all duration-300",r?"justify-center px-6":"px-6 justify-between"),children:[i.jsxs("div",{className:qe("flex items-center gap-3",r?"justify-center":""),children:[i.jsxs("span",{className:"text-white font-extrabold text-xl",children:["A",i.jsx("span",{className:"text-secondary",children:"|"}),"R"]}),!p&&i.jsx("div",{className:"flex flex-col whitespace-nowrap overflow-hidden transition-all duration-300",children:i.jsx("span",{className:"font-bold text-xl text-white",children:"SYSTEM"})})]}),!r&&i.jsx(M,{onClick:()=>s(!0),className:"hidden md:flex p-1",variant:"ghost",size:"icon",children:i.jsx(Sh,{className:"w-4 h-4 rotate-180"})})]}),i.jsxs("div",{className:"flex-1 overflow-y-auto py-8 px-3 scrollbar-hide",children:[!p&&i.jsx("div",{className:"mb-2 px-3",children:i.jsx("p",{className:"text-xs font-bold text-slate-400 dark:text-slate-500 uppercase tracking-wider mb-4",children:"Menu Principal"})}),i.jsx("nav",{className:"space-y-2",children:f.map(b=>i.jsx(Zi,{to:b.to,end:b.to==="/admin"||b.to==="/client",onClick:()=>o(!1),title:p?b.label:void 0,className:({isActive:y})=>qe("flex items-center gap-3 px-3 py-3 rounded-xl text-sm font-medium transition-all duration-200 group relative",y?"bg-primary text-white shadow-md shadow-primary/25":"text-slate-600 dark:text-slate-400 hover:bg-slate-50 dark:hover:bg-slate-800/50 hover:text-slate-900 dark:hover:text-white",r?"justify-center":""),children:({isActive:y})=>i.jsxs(i.Fragment,{children:[i.jsx("span",{className:qe("transition-colors",y?"text-white":"text-slate-400 dark:text-slate-500 group-hover:text-primary dark:group-hover:text-white"),children:b.icon}),!p&&i.jsxs(i.Fragment,{children:[i.jsx("span",{className:"flex-1 whitespace-nowrap overflow-hidden transition-all duration-300",children:b.label}),y&&i.jsx(Sh,{className:"w-4 h-4 text-white/50"})]})]})},b.to))})]}),i.jsxs("div",{className:qe("border-t border-slate-100 dark:border-slate-800 bg-slate-50/80 dark:bg-slate-900/50 backdrop-blur-sm shrink-0 transition-all duration-300",r?"p-2":"p-4"),children:[!p&&i.jsx("div",{className:"mb-2 px-2",children:i.jsx("span",{className:"text-xs font-semibold text-slate-400 uppercase tracking-wider",children:"Cuenta"})}),i.jsx("div",{className:qe("bg-white dark:bg-slate-800 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700/50 overflow-hidden",r?"p-1":"p-3"),children:i.jsxs("div",{className:qe("bg-white dark:bg-slate-800 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700/50 overflow-hidden",p?"p-1":"p-3"),children:[i.jsxs(Zi,{to:e==="admin"?"/admin/me":e==="client"?"/client/profile":"/",onClick:()=>o(!1),title:r?"Perfil":void 0,className:qe("flex items-center gap-3 -mx-2 hover:bg-slate-50 dark:hover:bg-slate-700/50 rounded-xl transition-colors cursor-pointer group",r?"justify-center mx-0 p-1 mb-0":"p-2"),children:[i.jsx("div",{className:"h-10 w-10 min-w-10 rounded-full bg-slate-100 dark:bg-slate-700 border-2 border-white dark:border-slate-600 flex items-center justify-center text-sm font-bold text-primary dark:text-white shadow-sm overflow-hidden shrink-0",children:t!=null&&t.photoURL?i.jsx("img",{src:t.photoURL,alt:"Avatar",className:"w-full h-full object-cover"}):((t==null?void 0:t.displayName)||(t==null?void 0:t.email)||"?").charAt(0).toUpperCase()}),!r&&i.jsxs("div",{className:"flex-1 min-w-0 transition-all duration-300",children:[i.jsx("p",{className:"text-sm font-bold text-slate-900 dark:text-white truncate group-hover:text-white/70 transition-colors",children:(t==null?void 0:t.displayName)||"Usuario"}),i.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 truncate font-medium",children:t==null?void 0:t.email})]})]}),!p&&i.jsxs("div",{className:"grid grid-cols-2 gap-2 mt-2 pt-2 border-t border-slate-100 dark:border-slate-700",children:[i.jsxs(M,{onClick:l,className:"flex flex-col items-center justify-center gap-1 p-2",variant:"ghost",children:[i.jsx(_j,{className:"w-4 h-4"}),i.jsx("span",{children:"Salir"})]}),i.jsxs(M,{onClick:u,className:"flex flex-col items-center justify-center gap-1 p-2",variant:"ghost",children:[c==="light"?i.jsx(Aj,{className:"w-4 h-4"}):i.jsx(rS,{className:"w-4 h-4"}),i.jsx("span",{children:c==="light"?"Oscuro":"Claro"})]})]})]})})]})]})}function jg({children:e}){const{user:t,logout:n}=hn(),{theme:r,toggleTheme:s}=Ng(),a=(t==null?void 0:t.role)??"guest",o=768,l=1024,[c,u]=v.useState(!1),[d,f]=v.useState(()=>{const h=typeof window<"u"?window.innerWidth:1024;return h<o||h<l}),[p,b]=v.useState(()=>typeof window<"u"?window.innerWidth>=o:!0);v.useEffect(()=>{const h=()=>{const x=window.innerWidth;if(b(x>=o),x<o){u(!1),f(!0);return}if(x<l){f(!0);return}f(!1)};return h(),window.addEventListener("resize",h),()=>window.removeEventListener("resize",h)},[]);const[y,g]=v.useState(0),w=Bn.useRef(0),m=Bn.useRef(!0);return v.useEffect(()=>{u(!1)},[]),v.useEffect(()=>{a==="admin"&&"Notification"in window&&Notification.permission==="default"&&Notification.requestPermission()},[a]),v.useEffect(()=>{if(a!=="admin")return;const h=async()=>{var k;try{const j=await er.listConversations(),S=(Array.isArray(j.data)?j.data:((k=j.data)==null?void 0:k.data)||[]).reduce((T,z)=>T+(z.unreadCount||0),0);if(!m.current&&S>w.current){"Notification"in window&&Notification.permission==="granted"&&navigator.serviceWorker.ready.then(T=>{T.showNotification("A|R System",{body:`Tienes ${S} mensajes sin leer`,icon:"/suscriptions/vite.svg"})}).catch(()=>{new Notification("A|R System",{body:`Tienes ${S} mensajes sin leer`,icon:"/suscriptions/vite.svg"})});try{new Audio("/suscriptions/notification.mp3").play().catch(()=>{})}catch{}}w.current=S,g(S),m.current=!1}catch{}};h();const x=setInterval(h,3e4);return()=>clearInterval(x)},[a]),i.jsxs("div",{className:"min-h-screen bg-slate-50 dark:bg-slate-900 flex flex-col md:flex-row font-sans transition-colors duration-300 overflow-x-hidden",children:[i.jsx(bS,{role:a,user:t,unreadCount:y,onOpenSidebar:()=>u(!0),collapsed:d,setCollapsed:f}),c&&i.jsx("div",{className:"fixed inset-0 bg-slate-900/50 z-40 md:hidden backdrop-blur-sm transition-opacity",onClick:()=>u(!1)}),i.jsx(NS,{role:a,user:t,unreadCount:y,collapsed:d,setCollapsed:f,sidebarOpen:c,setSidebarOpen:u,logout:n,theme:r,toggleTheme:s,isDesktop:p}),i.jsx("main",{className:qe("flex-1 min-w-0 w-full min-h-[calc(100vh-4rem)] md:min-h-screen pt-16 md:pt-0 bg-slate-50 dark:bg-slate-900 transition-all duration-300",d?"md:pl-20":"md:pl-72"),children:i.jsx("div",{className:"max-w-7xl mx-auto p-4 sm:p-6 lg:p-8 animate-in fade-in slide-in-from-bottom-4 duration-500 fill-mode-backwards",children:e||i.jsx(o1,{})})})]})}const ee=v.forwardRef(({children:e,className:t,title:n,...r},s)=>i.jsxs("div",{ref:s,className:qe("bg-white dark:bg-slate-800 rounded-2xl sm:rounded-xl shadow-sm ring-1 ring-slate-200 dark:ring-slate-700 overflow-hidden flex flex-col",t),...r,children:[n&&i.jsx("div",{className:"px-4 sm:px-4 py-4 sm:py-3 border-b border-slate-100 dark:border-slate-700 bg-slate-50/50 dark:bg-slate-900/50 shrink-0",children:typeof n=="string"?i.jsx("h3",{className:"font-bold text-slate-900 dark:text-slate-100 text-lg sm:text-sm",children:n}):n}),i.jsx("div",{className:qe("flex-1 min-h-0 flex flex-col","p-4 sm:p-4"),children:e})]}));function La({title:e,subtitle:t,action:n,className:r=""}){return i.jsxs("div",{className:`flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 ${r}`,children:[i.jsxs("div",{children:[i.jsx("h2",{className:"text-2xl font-bold text-slate-900 dark:text-white tracking-tight",children:e}),t&&i.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:t})]}),n&&i.jsx("div",{className:"flex items-center",children:n})]})}const jS=-4,SS=e=>{if(!e)return"-";const t=new Date,n=new Date(t.getTime()+jS*60*60*1e3),[r,s,a]=e.split("-").map(Number),o=new Date(r,s-1,a),l=new Date(n.getFullYear(),n.getMonth(),n.getDate()),c=o.getTime()-l.getTime();return isNaN(c)?"-":Math.floor(c/(1e3*60*60*24))},Sg=e=>{if(!e)return"-";const[t,n,r]=e.split("-"),a=["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"][parseInt(n,10)-1]||"";return`${parseInt(r,10)} de ${a} de ${t}`};function ES(){const[e,t]=v.useState({clients:0,subscriptions:0,revenue:0,unread:0}),[n,r]=v.useState(!0),[s,a]=v.useState([]),[o,l]=v.useState([]);v.useEffect(()=>{(async()=>{var d,f,p;try{const[b,y,g]=await Promise.all([cr.list(),zr.list(),er.listConversations()]),w=Array.isArray(b.data)?b.data:((d=b.data)==null?void 0:d.data)||[];a(w);const m=Array.isArray(y.data)?y.data:((f=y.data)==null?void 0:f.data)||[];l(m);const h=m.reduce((j,N)=>{if(!N.amount)return j;const S=N.amount.replace(/[^0-9]/g,"");return j+(parseInt(S)||0)},0),k=(Array.isArray(g.data)?g.data:((p=g.data)==null?void 0:p.data)||[]).reduce((j,N)=>j+(N.unreadCount||0),0);t({clients:w.length,subscriptions:m.length,revenue:h,unread:k})}catch(b){console.error("Error loading dashboard stats",b)}finally{r(!1)}})()},[]);const c=u=>new Intl.NumberFormat("es-CL",{style:"currency",currency:"CLP"}).format(u);return i.jsxs("div",{className:"space-y-6",children:[i.jsx(La,{title:"Panel de Control",subtitle:"Resumen y accesos directos."}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 2xl:grid-cols-2 gap-6 md:auto-rows-fr",children:[i.jsxs(ee,{title:"Suscripciones",className:"h-full md:col-span-2 2xl:col-span-2 hover:shadow-lg transition-all duration-200",children:[i.jsx("p",{className:"text-slate-600 dark:text-slate-400 mb-6 text-sm",children:"Controla los planes activos, fechas de corte y facturacin mensual."}),o.length>0&&(()=>{const u=o.filter(d=>{if(!d.cutDate)return!1;const f=-4,p=new Date,b=new Date(p.getTime()+f*60*60*1e3),[y,g,w]=d.cutDate.split("-").map(Number),m=new Date(y,g-1,w),h=new Date(b.getFullYear(),b.getMonth(),b.getDate()),x=Math.floor((m.getTime()-h.getTime())/(1e3*60*60*24));return x>=0&&x<=7}).sort((d,f)=>{const[p,b,y]=d.cutDate.split("-").map(Number),[g,w,m]=f.cutDate.split("-").map(Number),h=new Date(p,b-1,y),x=new Date(g,w-1,m);return h.getTime()-x.getTime()});return u.length===0?null:i.jsxs("div",{className:"mb-4",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[i.jsx("svg",{className:"w-5 h-5 text-primary dark:text-slate-200 animate-pulse",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),i.jsx("span",{className:"font-semibold text-primary dark:text-slate-200",children:"Suscripciones por vencer esta semana"})]}),i.jsx("div",{className:"flex flex-col gap-3",children:u.map(d=>{const f=s.find(j=>j.uid===d.clientId||j.id===d.clientId),p=-4,b=new Date,y=new Date(b.getTime()+p*60*60*1e3),[g,w,m]=d.cutDate.split("-").map(Number),h=new Date(g,w-1,m),x=new Date(y.getFullYear(),y.getMonth(),y.getDate()),k=Math.floor((h.getTime()-x.getTime())/(1e3*60*60*24));return i.jsxs("div",{className:"flex items-center gap-2 md:gap-4 p-3 rounded-xl border border-secondary dark:border-secondary bg-secondary/50 dark:bg-secondary/40 shadow-sm",children:[i.jsx("div",{className:"flex flex-col",children:i.jsx("span",{className:"font-bold text-slate dark:text-primary text-sm px-2 py-1 rounded bg-secondary dark:bg-secondary uppercase",children:(f==null?void 0:f.name)||"Cliente desconocido"})}),i.jsx("div",{className:"flex-1 text-center",children:i.jsx("span",{className:"inline-block text-xs font-semibold px-2 py-1 rounded bg-secondary dark:bg-secondary text-primary dark:text-primary",children:k===0?i.jsx("span",{children:"Vence hoy!"}):i.jsxs("span",{children:["Faltan"," ",i.jsx("b",{className:"text-primary dark:text-primary",children:k})," ","da",k>1?"s":""," para vencer el"," ",i.jsx("b",{children:Sg(d.cutDate)})]})})})]},d.id??d.clientId)})})]})})(),i.jsx("div",{className:"flex justify-end mt-auto",children:i.jsx(oa,{to:"/admin/subscriptions",className:"w-full",children:i.jsxs(M,{variant:"secondary",className:"w-full justify-between group",children:[i.jsx("span",{children:"Ver Suscripciones"}),i.jsx("svg",{className:"w-4 h-4 text-slate-500 dark:text-slate-400 group-hover:translate-x-1 transition-transform",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M14 5l7 7m0 0l-7 7m7-7H3"})})]})})})]}),i.jsx(ee,{title:"Estadsticas Rpidas",className:"h-full hover:shadow-lg transition-all duration bg-primary/5 dark:bg-slate-800/80 dark:border-primary/30 border-primary/20",children:n?i.jsx("div",{className:"flex justify-center p-4",children:i.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{className:"text-sm font-medium text-slate-600 dark:text-slate-300",children:"Clientes Totales"}),i.jsx("span",{className:"text-xl font-bold text-slate dark:text-white",children:e.clients})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{className:"text-sm font-medium text-slate-600 dark:text-slate-300",children:"Suscripciones"}),i.jsx("span",{className:"text-xl font-bold text-slate dark:text-white",children:e.subscriptions})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{className:"text-sm font-medium text-slate-600 dark:text-slate-300",children:"Ingresos Mensuales"}),i.jsx("span",{className:"text-xl font-bold text-emerald-600 dark:text-emerald-400",children:c(e.revenue)})]}),i.jsxs("div",{className:"flex items-center justify-between border-t border-primary/10 dark:border-primary/20 pt-3 mt-2",children:[i.jsx("span",{className:"text-sm font-medium text-slate-600 dark:text-slate-400",children:"Mensajes sin leer"}),i.jsx("span",{className:`text-sm font-bold px-2 py-0.5 rounded-full ${e.unread>0?"bg-red-100 dark:bg-red-900/30 text-red-700 dark:text-red-300 border border-red dark:border-red-800":"bg-slate-100 dark:bg-slate-700 text-slate-500 dark:text-slate-400 border border-slate dark:border-slate-600"}`,children:e.unread})]})]})}),i.jsxs(ee,{title:"Gestin de Clientes",className:"h-full hover:shadow-lg transition-all duration-200",children:[i.jsx("p",{className:"text-slate-600 dark:text-slate-400 mb-6 text-sm",children:"Administra la base de datos de usuarios, sus datos de contacto y estado."}),i.jsx("div",{className:"flex justify-end mt-auto",children:i.jsx(oa,{to:"/admin/clients",className:"w-full",children:i.jsxs(M,{className:"w-full justify-between group",children:[i.jsx("span",{children:"Ver Clientes"}),i.jsx("svg",{className:"w-4 h-4 group-hover:translate-x-1 transition-transform",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M14 5l7 7m0 0l-7 7m7-7H3"})})]})})})]})]})]})}const K=Bn.forwardRef(({label:e,id:t,className:n,error:r,helpText:s,endContent:a,...o},l)=>{const c=t||o.name||void 0;return i.jsxs("div",{className:qe("flex flex-col"),children:[e&&i.jsx("label",{htmlFor:c,className:"mb-1 text-sm font-medium text-slate-700 dark:text-slate-300",children:e}),i.jsxs("div",{className:"relative",children:[i.jsx("input",{id:c,ref:l,inputMode:o.type==="email"?"email":o.type==="tel"?"tel":o.type==="numeric"?"numeric":o.type==="search"?"search":"text",autoComplete:o.type==="email"?"email":o.type==="tel"?"tel":o.type==="numeric"?"numeric":void 0,className:qe("flex h-12 w-full rounded-lg border border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-900 px-4 py-2 text-base placeholder:text-slate-400 dark:placeholder:text-slate-500 dark:text-white focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent disabled:cursor-not-allowed disabled:opacity-50 transition-shadow",r?"border-red-500 focus:ring-red-500":"",a?"pr-12":"pr-4",n),"aria-invalid":!!r,"aria-describedby":r?`${c}-error`:s?`${c}-help`:void 0,...o}),a&&i.jsx("div",{className:"absolute right-3 top-1/2 -translate-y-1/2 text-slate-500",children:a})]}),s&&!r&&i.jsx("p",{id:`${c}-help`,className:"mt-1 text-xs text-slate-500",children:s}),r&&i.jsx("p",{id:`${c}-error`,className:"mt-1 text-sm text-rose-600",children:r})]})});K.displayName="Input";function _S(){const[e,t]=v.useState([]),[n,r]=v.useState(!0),[s,a]=v.useState(!1),[o,l]=v.useState(!1),[c,u]=v.useState({name:"",email:"",phone:"",address:"",password:""}),[d,f]=v.useState(""),p=v.useMemo(()=>{if(!d.trim())return e;const g=d.toLowerCase();return e.filter(w=>{var m,h,x,k;return((m=w.name)==null?void 0:m.toLowerCase().includes(g))||((h=w.email)==null?void 0:h.toLowerCase().includes(g))||((x=w.phone)==null?void 0:x.toLowerCase().includes(g))||((k=w.address)==null?void 0:k.toLowerCase().includes(g))})},[e,d]);v.useEffect(()=>{let g=!0;return r(!0),(async()=>{var m;try{const h=await cr.list();if(!g)return;const x=Array.isArray(h.data)?h.data:((m=h.data)==null?void 0:m.data)||[],k=await Promise.all(x.map(async j=>{var N,S;if(!j.uid)return j;try{const T=await zt.getUser(j.uid),z=((N=T.data)==null?void 0:N.data)||T.data,$=(z==null?void 0:z.email)||((S=z==null?void 0:z.user)==null?void 0:S.email);return{...j,email:$}}catch{return j}}));g&&t(k)}catch(h){console.error(h)}finally{g&&r(!1)}})(),()=>{g=!1}},[]);async function b(g){var w,m,h,x,k;g.preventDefault(),a(!0);try{if(!c.email||!c.password)throw new Error("Email y password son requeridos para crear el auth user");console.log("Creating auth user...");const j=await zt.create({email:c.email,password:c.password,displayName:c.name,role:"client"}),N=((w=j.data)==null?void 0:w.data)||j.data,S=(N==null?void 0:N.uid)||((m=N==null?void 0:N.user)==null?void 0:m.uid);if(!S)throw console.error("No uid found in:",N),new Error("No uid retornado al crear usuario de auth");const T={uid:S,name:c.name,phone:c.phone||"",address:c.address||""},z=await cr.create(T),Q={...((h=z.data)==null?void 0:h.data)||z.data,email:c.email};t(ae=>[Q,...ae]),u({name:"",email:"",phone:"",address:"",password:""}),l(!1)}catch(j){console.error(j);const S=((k=(x=j.response)==null?void 0:x.data)==null?void 0:k.message)||(j instanceof Error?j.message:"Error creando cliente");alert(`Error: ${S}`)}finally{a(!1)}}const y=async g=>{var w,m,h;if(!g){alert("ID del cliente no disponible");return}if(confirm("Eliminar este cliente? Esta accin es irreversible."))try{await cr.delete(g),t(x=>x.filter(k=>k.id!==g&&k.uid!==g))}catch(x){console.error("Error deleting client:",x),((w=x.response)==null?void 0:w.status)===404?alert("Cliente no encontrado (404)."):alert("Error eliminando cliente: "+(((h=(m=x.response)==null?void 0:m.data)==null?void 0:h.message)||x.message||"Desconocido"))}};return i.jsxs("div",{className:"space-y-6",children:[i.jsx(La,{title:"Gestin de Clientes",subtitle:"Administra los usuarios y sus credenciales de acceso",action:i.jsxs(M,{onClick:()=>l(!o),className:"flex items-center gap-2",variant:o?"outline":"primary",children:[o?i.jsx(ha,{size:18}):i.jsx(uo,{size:18}),o?"Cancelar":"Nuevo Cliente"]})}),o&&i.jsxs("div",{className:"bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-2xl shadow-sm overflow-hidden transition-all duration-300",children:[i.jsxs("div",{className:"p-4 sm:p-5 bg-slate-50 dark:bg-slate-900/50 border-b border-slate-100 dark:border-slate-700",children:[i.jsx("h3",{className:"text-lg font-bold text-slate-900 dark:text-white",children:"Registrar Nuevo Cliente"}),i.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 mt-1",children:"Ingresa los datos para crear un nuevo perfil."})]}),i.jsx("div",{className:"p-4 sm:p-5",children:i.jsxs("form",{onSubmit:b,className:"space-y-4",children:[i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[i.jsx(K,{label:"Nombre Completo",value:c.name,onChange:g=>u(w=>({...w,name:g.target.value})),required:!0,placeholder:"Juan Prez",className:"sm:col-span-2"}),i.jsx(K,{label:"Email",type:"email",value:c.email,onChange:g=>u(w=>({...w,email:g.target.value})),required:!0,placeholder:"juan@ejemplo.com"}),i.jsx(K,{label:"Contrasea",type:"password",value:c.password,onChange:g=>u(w=>({...w,password:g.target.value})),required:!0,placeholder:""}),i.jsx(K,{label:"Telfono",type:"tel",value:c.phone,onChange:g=>u(w=>({...w,phone:g.target.value})),placeholder:"+56 9 1234 5678"}),i.jsx(K,{label:"Direccin",value:c.address,onChange:g=>u(w=>({...w,address:g.target.value})),placeholder:"Av. Siempre Viva 123"})]}),i.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 sm:justify-end pt-2",children:[i.jsx(M,{type:"button",variant:"outline",onClick:()=>l(!1),disabled:s,className:"w-full sm:w-auto h-11",children:"Cancelar"}),i.jsx(M,{type:"submit",disabled:s,className:"w-full sm:w-auto h-11",children:s?"Guardando...":"Crear Cliente"})]})]})})]}),i.jsxs("div",{className:"relative",children:[i.jsx(Da,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400",size:20}),i.jsx("input",{type:"text",inputMode:"search",placeholder:"Buscar clientes...",value:d,onChange:g=>f(g.target.value),className:"w-full pl-12 pr-12 py-3.5 rounded-xl border border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-900 text-slate-900 dark:text-white placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-primary text-base"}),d&&i.jsx(M,{onClick:()=>f(""),className:"absolute right-2 top-1/2 -translate-y-1/2 h-10 w-10",variant:"ghost",size:"icon","aria-label":"Limpiar bsqueda",children:i.jsx(vr,{size:18})})]}),i.jsxs(ee,{className:"h-full min-h-[50vh] sm:min-h-0",children:[i.jsx("div",{className:"flex items-center justify-between mb-4",children:i.jsxs("h2",{className:"text-lg sm:text-base font-bold text-slate-900 dark:text-white",children:["Clientes (",p.length,d?` / ${e.length}`:"",")"]})}),n?i.jsx("div",{className:"flex justify-center py-12 sm:py-8",children:i.jsx("div",{className:"animate-spin rounded-full h-10 w-10 sm:h-8 sm:w-8 border-b-2 border-primary"})}):p.length===0?i.jsxs("div",{className:"text-center py-12 sm:py-8 px-4",children:[i.jsx("div",{className:"bg-slate-100 dark:bg-slate-700/50 rounded-full h-20 w-20 sm:h-16 sm:w-16 flex items-center justify-center mx-auto mb-4",children:i.jsx(uo,{size:36,className:"text-slate-400 dark:text-slate-500"})}),i.jsx("h3",{className:"text-xl sm:text-lg font-semibold text-slate-900 dark:text-white mb-2",children:d?"No se encontraron clientes":"No hay clientes registrados"}),i.jsx("p",{className:"text-slate-500 dark:text-slate-400 mb-6 text-base sm:text-sm",children:d?"Intenta con otros filtros":"Comienza agregando tu primer cliente."}),!d&&i.jsx(M,{onClick:()=>l(!0),className:"w-full sm:w-auto h-11",children:"Crear primer cliente"})]}):i.jsxs("div",{className:"overflow-x-auto -mx-4 sm:mx-0",children:[i.jsx("div",{className:"sm:hidden -mx-2 px-2",children:p.map(g=>{var w;return i.jsx(oa,{to:`/admin/client/${g.id}`,className:"block bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-2xl p-3 mb-2 hover:shadow-xl hover:border-secondary/20 transition-all",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-12 h-12 rounded-full bg-secondary/10 dark:bg-secondary/20 flex items-center justify-center text-secondary font-bold text-lg border-2 border-secondary/30 shrink-0",children:(w=g.name)==null?void 0:w.charAt(0).toUpperCase()}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("div",{className:"font-bold text-slate-900 dark:text-white truncate text-base",children:g.name}),i.jsxs("div",{className:"text-sm text-slate-500 dark:text-slate-400 truncate flex items-center gap-1",children:[i.jsx($o,{size:12}),g.email||"Sin email"]})]}),i.jsxs("div",{className:"flex items-center gap-2 shrink-0",children:[g.phone&&i.jsx("div",{className:"h-10 w-10 rounded-full bg-green-50 dark:bg-green-900/30 flex items-center justify-center",title:g.phone,children:i.jsx(vg,{size:16,className:"text-green-600 dark:text-green-400"})}),i.jsx(nn,{size:22,className:"text-slate-400 -rotate-90"})]})]})},g.uid||g.id)})}),i.jsxs("table",{className:"min-w-full divide-y divide-slate-200 dark:divide-slate-700 hidden sm:table",children:[i.jsx("thead",{className:"bg-slate-50/50 dark:bg-slate-900/50",children:i.jsxs("tr",{children:[i.jsx("th",{scope:"col",className:"px-4 py-3 text-left text-xs font-bold text-slate-500 dark:text-slate-400 uppercase",children:"Cliente"}),i.jsx("th",{scope:"col",className:"px-4 py-3 text-left text-xs font-bold text-slate-500 dark:text-slate-400 uppercase",children:"Contacto"}),i.jsx("th",{scope:"col",className:"px-4 py-3 text-right text-xs font-bold text-slate-500 dark:text-slate-400 uppercase",children:"Accin"})]})}),i.jsx("tbody",{className:"bg-white dark:bg-slate-800 divide-y divide-slate-200 dark:divide-slate-700",children:p.map(g=>{var w;return i.jsxs("tr",{className:"hover:bg-slate-50/50 dark:hover:bg-slate-700/30 transition-colors",children:[i.jsx("td",{className:"px-4 py-3",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"h-10 w-10 rounded-full bg-secondary/10 text-secondary border-2 border-secondary/30 flex items-center justify-center font-bold text-sm shrink-0",children:(w=g.name)==null?void 0:w.charAt(0).toUpperCase()}),i.jsxs("div",{children:[i.jsx("div",{className:"font-bold text-slate-900 dark:text-white text-sm",children:g.name}),i.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400",children:g.address||"Sin direccin"})]})]})}),i.jsxs("td",{className:"px-4 py-3",children:[i.jsx("div",{className:"text-sm text-slate-700 dark:text-slate-300",children:g.email}),i.jsx("div",{className:"text-xs text-green-600 dark:text-green-400 mt-0.5",children:g.phone||"Sin telfono"})]}),i.jsx("td",{className:"px-4 py-3 text-right",children:i.jsxs("div",{className:"flex items-center justify-end gap-2",children:[i.jsx(oa,{to:`/admin/client/${g.id}`,className:"h-9 px-3 flex items-center justify-center text-sm font-medium text-secondary bg-secondary/10 hover:bg-secondary/20 rounded-lg transition-colors",children:"Ver"}),i.jsx(M,{onClick:()=>y(g.uid||g.id),variant:"ghost",className:"h-9 px-3 text-slate-500 hover:text-red-600",children:i.jsx(qc,{size:16})})]})})]},g.uid||g.id)})})]})]})]})]})}function CS({form:e,setForm:t,clients:n,onCancel:r,onSubmit:s,creating:a,editingId:o}){return i.jsxs("div",{className:"bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl shadow-sm overflow-hidden transition-all duration-300 ease-in-out",children:[i.jsxs("div",{className:"p-6 bg-slate-50 dark:bg-slate-900/50 border-b border-slate-100 dark:border-slate-700",children:[i.jsx("h3",{className:"text-lg font-semibold text-slate-900 dark:text-white",children:o?"Editar Suscripcin":"Registrar Nueva Suscripcin"}),i.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 mt-1",children:"Configura los detalles del plan para el cliente seleccionado."})]}),i.jsx("div",{className:"p-6",children:i.jsxs("form",{onSubmit:s,className:"space-y-6",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{className:"md:col-span-2",children:[i.jsx("label",{className:"mb-1 text-sm font-medium text-slate-700 dark:text-slate-300 block",children:"Cliente"}),i.jsxs("select",{className:"flex h-11 w-full rounded-lg border border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-900 text-slate-900 dark:text-white px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent transition-shadow",value:e.clientId,onChange:l=>t({...e,clientId:l.target.value}),required:!0,disabled:!!o,children:[i.jsx("option",{value:"",children:"Selecciona un cliente"}),n.map(l=>{const c=l.uid||l.id||"",u=l.name||l.email||c;return i.jsxs("option",{value:c,children:[u," ",l.email?`(${l.email})`:""]},c)})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"mb-1 text-sm font-medium text-slate-700 dark:text-slate-300 block",children:"Plan"}),i.jsxs("select",{className:"flex h-11 w-full rounded-lg border border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-900 text-slate-900 dark:text-white px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent transition-shadow",value:e.plan,onChange:l=>t({...e,plan:l.target.value}),required:!0,children:[i.jsx("option",{value:"",children:"Selecciona un plan"}),i.jsx("option",{value:"Itinerante Ilimitado",children:"Itinerante Ilimitado"}),i.jsx("option",{value:"Itinerante Limitado",children:"Itinerante Limitado"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"mb-1 text-sm font-medium text-slate-700 dark:text-slate-300 block",children:"Pas"}),i.jsxs("select",{className:"flex h-11 w-full rounded-lg border border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-900 text-slate-900 dark:text-white px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent transition-shadow",value:e.country||"",onChange:l=>t({...e,country:l.target.value}),required:!0,children:[i.jsx("option",{value:"",children:"Selecciona pas"}),i.jsx("option",{value:"BR",children:"Brasil"}),i.jsx("option",{value:"VES",children:"Venezuela"}),i.jsx("option",{value:"COL",children:"Colombia"}),i.jsx("option",{value:"AR",children:"Argentina"})]})]}),i.jsx(K,{label:"Contrasea del Servicio",value:e.passwordSub||"",onChange:l=>t({...e,passwordSub:l.target.value}),placeholder:"Contrasea del servicio",required:!o}),i.jsx(K,{label:"Nmero de KIT",value:e.kitNumber||"",onChange:l=>t({...e,kitNumber:l.target.value}),placeholder:"Nmero de KIT del dispositivo"}),i.jsx(K,{label:"Monto ($)",value:e.amount,onChange:l=>t({...e,amount:l.target.value}),placeholder:"$50.000",required:!0}),i.jsx(K,{label:"Fecha de Inicio",type:"date",value:e.startDate,onChange:l=>t({...e,startDate:l.target.value}),required:!0}),i.jsx(K,{label:"Fecha de Corte",type:"date",value:e.cutDate,onChange:l=>t({...e,cutDate:l.target.value}),required:!0})]}),i.jsxs("div",{className:"flex justify-end gap-3 pt-2",children:[i.jsx(M,{type:"button",variant:"outline",onClick:r,disabled:a,children:"Cancelar"}),i.jsx(M,{type:"submit",disabled:a,className:"min-w-30",children:a?"Procesando...":o?"Actualizar":"Crear Suscripcin"})]})]})})]})}let IS={data:""},TS=e=>{if(typeof window=="object"){let t=(e?e.querySelector("#_goober"):window._goober)||Object.assign(document.createElement("style"),{innerHTML:" ",id:"_goober"});return t.nonce=window.__nonce__,t.parentNode||(e||document.head).appendChild(t),t.firstChild}return e||IS},RS=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,PS=/\/\*[^]*?\*\/|  +/g,Ch=/\n+/g,_n=(e,t)=>{let n="",r="",s="";for(let a in e){let o=e[a];a[0]=="@"?a[1]=="i"?n=a+" "+o+";":r+=a[1]=="f"?_n(o,a):a+"{"+_n(o,a[1]=="k"?"":t)+"}":typeof o=="object"?r+=_n(o,t?t.replace(/([^,])+/g,l=>a.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,c=>/&/.test(c)?c.replace(/&/g,l):l?l+" "+c:c)):a):o!=null&&(a=/^--/.test(a)?a:a.replace(/[A-Z]/g,"-$&").toLowerCase(),s+=_n.p?_n.p(a,o):a+":"+o+";")}return n+(t&&s?t+"{"+s+"}":s)+r},Gt={},Eg=e=>{if(typeof e=="object"){let t="";for(let n in e)t+=n+Eg(e[n]);return t}return e},AS=(e,t,n,r,s)=>{let a=Eg(e),o=Gt[a]||(Gt[a]=(c=>{let u=0,d=11;for(;u<c.length;)d=101*d+c.charCodeAt(u++)>>>0;return"go"+d})(a));if(!Gt[o]){let c=a!==e?e:(u=>{let d,f,p=[{}];for(;d=RS.exec(u.replace(PS,""));)d[4]?p.shift():d[3]?(f=d[3].replace(Ch," ").trim(),p.unshift(p[0][f]=p[0][f]||{})):p[0][d[1]]=d[2].replace(Ch," ").trim();return p[0]})(e);Gt[o]=_n(s?{["@keyframes "+o]:c}:c,n?"":"."+o)}let l=n&&Gt.g?Gt.g:null;return n&&(Gt.g=Gt[o]),((c,u,d,f)=>{f?u.data=u.data.replace(f,c):u.data.indexOf(c)===-1&&(u.data=d?c+u.data:u.data+c)})(Gt[o],t,r,l),o},OS=(e,t,n)=>e.reduce((r,s,a)=>{let o=t[a];if(o&&o.call){let l=o(n),c=l&&l.props&&l.props.className||/^go/.test(l)&&l;o=c?"."+c:l&&typeof l=="object"?l.props?"":_n(l,""):l===!1?"":l}return r+s+(o??"")},"");function Bo(e){let t=this||{},n=e.call?e(t.p):e;return AS(n.unshift?n.raw?OS(n,[].slice.call(arguments,1),t.p):n.reduce((r,s)=>Object.assign(r,s&&s.call?s(t.p):s),{}):n,TS(t.target),t.g,t.o,t.k)}let _g,Kc,Gc;Bo.bind({g:1});let cn=Bo.bind({k:1});function DS(e,t,n,r){_n.p=t,_g=e,Kc=n,Gc=r}function Qn(e,t){let n=this||{};return function(){let r=arguments;function s(a,o){let l=Object.assign({},a),c=l.className||s.className;n.p=Object.assign({theme:Kc&&Kc()},l),n.o=/ *go\d+/.test(c),l.className=Bo.apply(n,r)+(c?" "+c:"");let u=e;return e[0]&&(u=l.as||e,delete l.as),Gc&&u[0]&&Gc(l),_g(u,l)}return s}}var LS=e=>typeof e=="function",fo=(e,t)=>LS(e)?e(t):e,MS=(()=>{let e=0;return()=>(++e).toString()})(),Cg=(()=>{let e;return()=>{if(e===void 0&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");e=!t||t.matches}return e}})(),zS=20,dd="default",Ig=(e,t)=>{let{toastLimit:n}=e.settings;switch(t.type){case 0:return{...e,toasts:[t.toast,...e.toasts].slice(0,n)};case 1:return{...e,toasts:e.toasts.map(o=>o.id===t.toast.id?{...o,...t.toast}:o)};case 2:let{toast:r}=t;return Ig(e,{type:e.toasts.find(o=>o.id===r.id)?1:0,toast:r});case 3:let{toastId:s}=t;return{...e,toasts:e.toasts.map(o=>o.id===s||s===void 0?{...o,dismissed:!0,visible:!1}:o)};case 4:return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(o=>o.id!==t.toastId)};case 5:return{...e,pausedAt:t.time};case 6:let a=t.time-(e.pausedAt||0);return{...e,pausedAt:void 0,toasts:e.toasts.map(o=>({...o,pauseDuration:o.pauseDuration+a}))}}},Ei=[],Tg={toasts:[],pausedAt:void 0,settings:{toastLimit:zS}},Ut={},Rg=(e,t=dd)=>{Ut[t]=Ig(Ut[t]||Tg,e),Ei.forEach(([n,r])=>{n===t&&r(Ut[t])})},Pg=e=>Object.keys(Ut).forEach(t=>Rg(e,t)),US=e=>Object.keys(Ut).find(t=>Ut[t].toasts.some(n=>n.id===e)),Ho=(e=dd)=>t=>{Rg(t,e)},FS={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},$S=(e={},t=dd)=>{let[n,r]=v.useState(Ut[t]||Tg),s=v.useRef(Ut[t]);v.useEffect(()=>(s.current!==Ut[t]&&r(Ut[t]),Ei.push([t,r]),()=>{let o=Ei.findIndex(([l])=>l===t);o>-1&&Ei.splice(o,1)}),[t]);let a=n.toasts.map(o=>{var l,c,u;return{...e,...e[o.type],...o,removeDelay:o.removeDelay||((l=e[o.type])==null?void 0:l.removeDelay)||(e==null?void 0:e.removeDelay),duration:o.duration||((c=e[o.type])==null?void 0:c.duration)||(e==null?void 0:e.duration)||FS[o.type],style:{...e.style,...(u=e[o.type])==null?void 0:u.style,...o.style}}});return{...n,toasts:a}},BS=(e,t="blank",n)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0,...n,id:(n==null?void 0:n.id)||MS()}),Ma=e=>(t,n)=>{let r=BS(t,e,n);return Ho(r.toasterId||US(r.id))({type:2,toast:r}),r.id},Re=(e,t)=>Ma("blank")(e,t);Re.error=Ma("error");Re.success=Ma("success");Re.loading=Ma("loading");Re.custom=Ma("custom");Re.dismiss=(e,t)=>{let n={type:3,toastId:e};t?Ho(t)(n):Pg(n)};Re.dismissAll=e=>Re.dismiss(void 0,e);Re.remove=(e,t)=>{let n={type:4,toastId:e};t?Ho(t)(n):Pg(n)};Re.removeAll=e=>Re.remove(void 0,e);Re.promise=(e,t,n)=>{let r=Re.loading(t.loading,{...n,...n==null?void 0:n.loading});return typeof e=="function"&&(e=e()),e.then(s=>{let a=t.success?fo(t.success,s):void 0;return a?Re.success(a,{id:r,...n,...n==null?void 0:n.success}):Re.dismiss(r),s}).catch(s=>{let a=t.error?fo(t.error,s):void 0;a?Re.error(a,{id:r,...n,...n==null?void 0:n.error}):Re.dismiss(r)}),e};var HS=1e3,VS=(e,t="default")=>{let{toasts:n,pausedAt:r}=$S(e,t),s=v.useRef(new Map).current,a=v.useCallback((f,p=HS)=>{if(s.has(f))return;let b=setTimeout(()=>{s.delete(f),o({type:4,toastId:f})},p);s.set(f,b)},[]);v.useEffect(()=>{if(r)return;let f=Date.now(),p=n.map(b=>{if(b.duration===1/0)return;let y=(b.duration||0)+b.pauseDuration-(f-b.createdAt);if(y<0){b.visible&&Re.dismiss(b.id);return}return setTimeout(()=>Re.dismiss(b.id,t),y)});return()=>{p.forEach(b=>b&&clearTimeout(b))}},[n,r,t]);let o=v.useCallback(Ho(t),[t]),l=v.useCallback(()=>{o({type:5,time:Date.now()})},[o]),c=v.useCallback((f,p)=>{o({type:1,toast:{id:f,height:p}})},[o]),u=v.useCallback(()=>{r&&o({type:6,time:Date.now()})},[r,o]),d=v.useCallback((f,p)=>{let{reverseOrder:b=!1,gutter:y=8,defaultPosition:g}=p||{},w=n.filter(x=>(x.position||g)===(f.position||g)&&x.height),m=w.findIndex(x=>x.id===f.id),h=w.filter((x,k)=>k<m&&x.visible).length;return w.filter(x=>x.visible).slice(...b?[h+1]:[0,h]).reduce((x,k)=>x+(k.height||0)+y,0)},[n]);return v.useEffect(()=>{n.forEach(f=>{if(f.dismissed)a(f.id,f.removeDelay);else{let p=s.get(f.id);p&&(clearTimeout(p),s.delete(f.id))}})},[n,a]),{toasts:n,handlers:{updateHeight:c,startPause:l,endPause:u,calculateOffset:d}}},WS=cn`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,qS=cn`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,KS=cn`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,GS=Qn("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${WS} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${qS} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${e=>e.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${KS} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,QS=cn`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,JS=Qn("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${e=>e.secondary||"#e0e0e0"};
  border-right-color: ${e=>e.primary||"#616161"};
  animation: ${QS} 1s linear infinite;
`,YS=cn`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,XS=cn`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,ZS=Qn("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${YS} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${XS} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${e=>e.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,eE=Qn("div")`
  position: absolute;
`,tE=Qn("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,nE=cn`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,rE=Qn("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${nE} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,sE=({toast:e})=>{let{icon:t,type:n,iconTheme:r}=e;return t!==void 0?typeof t=="string"?v.createElement(rE,null,t):t:n==="blank"?null:v.createElement(tE,null,v.createElement(JS,{...r}),n!=="loading"&&v.createElement(eE,null,n==="error"?v.createElement(GS,{...r}):v.createElement(ZS,{...r})))},aE=e=>`
0% {transform: translate3d(0,${e*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,iE=e=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${e*-150}%,-1px) scale(.6); opacity:0;}
`,oE="0%{opacity:0;} 100%{opacity:1;}",lE="0%{opacity:1;} 100%{opacity:0;}",cE=Qn("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,uE=Qn("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,dE=(e,t)=>{let n=e.includes("top")?1:-1,[r,s]=Cg()?[oE,lE]:[aE(n),iE(n)];return{animation:t?`${cn(r)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${cn(s)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},fE=v.memo(({toast:e,position:t,style:n,children:r})=>{let s=e.height?dE(e.position||t||"top-center",e.visible):{opacity:0},a=v.createElement(sE,{toast:e}),o=v.createElement(uE,{...e.ariaProps},fo(e.message,e));return v.createElement(cE,{className:e.className,style:{...s,...n,...e.style}},typeof r=="function"?r({icon:a,message:o}):v.createElement(v.Fragment,null,a,o))});DS(v.createElement);var hE=({id:e,className:t,style:n,onHeightUpdate:r,children:s})=>{let a=v.useCallback(o=>{if(o){let l=()=>{let c=o.getBoundingClientRect().height;r(e,c)};l(),new MutationObserver(l).observe(o,{subtree:!0,childList:!0,characterData:!0})}},[e,r]);return v.createElement("div",{ref:a,className:t,style:n},s)},pE=(e,t)=>{let n=e.includes("top"),r=n?{top:0}:{bottom:0},s=e.includes("center")?{justifyContent:"center"}:e.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:Cg()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${t*(n?1:-1)}px)`,...r,...s}},mE=Bo`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,ai=16,gE=({reverseOrder:e,position:t="top-center",toastOptions:n,gutter:r,children:s,toasterId:a,containerStyle:o,containerClassName:l})=>{let{toasts:c,handlers:u}=VS(n,a);return v.createElement("div",{"data-rht-toaster":a||"",style:{position:"fixed",zIndex:9999,top:ai,left:ai,right:ai,bottom:ai,pointerEvents:"none",...o},className:l,onMouseEnter:u.startPause,onMouseLeave:u.endPause},c.map(d=>{let f=d.position||t,p=u.calculateOffset(d,{reverseOrder:e,gutter:r,defaultPosition:t}),b=pE(f,p);return v.createElement(hE,{id:d.id,key:d.id,onHeightUpdate:u.updateHeight,className:d.visible?mE:"",style:b},d.type==="custom"?fo(d.message,d):s?s(d):v.createElement(fE,{toast:d,position:f}))}))},_e=Re;const xE={"Itinerante Ilimitado":"Itinerante Ilimitado","Itinerante Limitado":"Itinerante Limitado"};function vE(){const[e,t]=v.useState([]),[n,r]=v.useState([]),[s,a]=v.useState(!0),[o,l]=v.useState(!1),[c,u]=v.useState(!1),[d,f]=v.useState(null),p=new Date().toISOString().slice(0,10),[b,y]=v.useState({clientId:"",startDate:p,cutDate:p,amount:"",plan:"",passwordSub:"",kitNumber:"",country:""}),[g,w]=v.useState(""),[m,h]=v.useState(""),[x,k]=v.useState(""),[j,N]=v.useState(null);v.useEffect(()=>{let L=!0;return a(!0),(async()=>{var A;try{const I=await zr.list();if(!L)return;const O=Array.isArray(I.data)?I.data:((A=I.data)==null?void 0:A.data)||[],U=await Promise.all(O.map(async J=>{var Z,oe;const W=J.clientId;if(!W)return J;try{const Y=await zt.getUser(W),re=((Z=Y.data)==null?void 0:Z.data)||((oe=Y.data)==null?void 0:oe.user)||Y.data;return{...J,clientEmail:re==null?void 0:re.email}}catch{return J}}));L&&t(U)}catch(I){console.error(I)}finally{L&&a(!1)}})(),()=>{L=!1}},[]),v.useEffect(()=>{let L=!0;return(async()=>{var A;try{const I=await cr.list();if(!L)return;const O=Array.isArray(I.data)?I.data:((A=I.data)==null?void 0:A.data)||[];r(O)}catch{}})(),()=>{L=!1}},[]);const S=v.useMemo(()=>{let L=[...e];const _=A=>{if(!A)return null;const I=A.split("-");if(I.length===3){const O=parseInt(I[0],10),U=parseInt(I[1],10),J=parseInt(I[2],10);if(isNaN(J)||isNaN(U)||isNaN(O))return null;const W=new Date;W.setHours(0,0,0,0);const oe=new Date(O,U-1,J).getTime()-W.getTime();return Math.ceil(oe/(1e3*60*60*24))}return null};if(g){const A=g.toLowerCase();L=L.filter(I=>{var J;const O=n.find(W=>W.uid===I.clientId||W.id===I.clientId);return(((J=O==null?void 0:O.name)==null?void 0:J.toLowerCase())||"").includes(A)})}return m&&(L=L.filter(A=>A.status===m)),x&&(L=L.filter(A=>{const I=_(A.cutDate||"");return x==="overdue"?I!==null&&I<0:x==="soon"?I!==null&&I>=0&&I<=7:x==="ok"?I===null||I>7:!0})),j?L.sort((A,I)=>{const O=A.cutDate||"",U=I.cutDate||"";return!O&&!U?0:O?U?O===U?0:j==="asc"?O.localeCompare(U):U.localeCompare(O):j==="asc"?-1:1:j==="asc"?1:-1}):L.sort((A,I)=>{var Z,oe;const O=n.find(Y=>Y.uid===A.clientId||Y.id===A.clientId),U=n.find(Y=>Y.uid===I.clientId||Y.id===I.clientId),J=((Z=O==null?void 0:O.name)==null?void 0:Z.toLowerCase())||"",W=((oe=U==null?void 0:U.name)==null?void 0:oe.toLowerCase())||"";return J.localeCompare(W)}),L},[e,n,g,m,j]);function T(L){u(!0),f(L.id??null),y({clientId:L.clientId||"",plan:L.plan,amount:L.amount,startDate:L.startDate,cutDate:L.cutDate,country:L.country||"",passwordSub:L.passwordSub||"",kitNumber:L.kitNumber||""}),setTimeout(()=>{var _;(_=document.getElementById("subscription-form"))==null||_.scrollIntoView({behavior:"smooth",block:"center"})},100)}function z(){u(!1),f(null),y({clientId:"",startDate:p,cutDate:p,amount:"",plan:"",passwordSub:"",kitNumber:"",country:""})}const $=L=>{if(!L)return;if(/^\d{4}-\d{2}-\d{2}$/.test(L))return L;const _=new Date(L);return isNaN(_)?L:_.toISOString().slice(0,10)},Q=L=>{if(!L)return"";const _=L.trim();return/^\$/.test(_)?_:`$${_}`};async function ae(L){var _,A,I,O,U,J,W;L&&typeof L.preventDefault=="function"&&L.preventDefault(),l(!0);try{if(!b.clientId)throw new Error("Cliente es requerido");if(!b.plan)throw new Error("Plan es requerido");if(!b.startDate)throw new Error("Fecha de inicio es requerida");if(!b.cutDate)throw new Error("Fecha de corte es requerida");if(!b.amount)throw new Error("Monto es requerido");if(!d&&!b.passwordSub)throw new Error("Contrasea del servicio es requerida");const Z={plan:b.plan||"",startDate:$(b.startDate)??b.startDate??"",cutDate:$(b.cutDate)??b.cutDate??"",amount:Q(b.amount),country:b.country||"",kitNumber:b.kitNumber||""};if(b.passwordSub&&(Z.passwordSub=b.passwordSub),d)await zr.update(d,Z),t(oe=>oe.map(Y=>Y.id===d?{...Y,...Z,id:d}:Y)),z();else{const oe={...Z,clientId:b.clientId},Y=await zr.create(oe);let re=((_=Y.data)==null?void 0:_.data)||Y.data;if(re!=null&&re.clientId)try{const st=await zt.getUser(re.clientId),Je=((A=st.data)==null?void 0:A.data)||((I=st.data)==null?void 0:I.user)||st.data;re={...re,clientEmail:(Je==null?void 0:Je.email)??void 0}}catch{}t(st=>[re,...st]),y({clientId:"",startDate:p,cutDate:p,amount:"",plan:"",passwordSub:"",kitNumber:"",country:""}),u(!1)}}catch(Z){const Y=((U=(O=Z==null?void 0:Z.response)==null?void 0:O.data)==null?void 0:U.message)||((W=(J=Z==null?void 0:Z.response)==null?void 0:J.data)==null?void 0:W.error)||(Z instanceof Error?Z.message:"Error procesando solicitud");_e.error(Y)}finally{l(!1)}}return{items:e,clients:n,loading:s,creating:o,isFormOpen:c,setIsFormOpen:u,editingId:d,form:b,setForm:y,searchQuery:g,setSearchQuery:w,statusFilter:m,setStatusFilter:h,cutDateFilter:x,setCutDateFilter:k,filteredItems:S,PLAN_LABELS:xE,handleEdit:T,handleCancelEdit:z,handleCreate:ae,handleDelete:async L=>{var _,A,I,O;if(confirm("Ests seguro de que deseas eliminar esta suscripcin permanentemente?"))try{await zr.delete(L),t(U=>U.filter(J=>J.id!==L)),_e.success("Suscripcin eliminada")}catch(U){const W=((A=(_=U==null?void 0:U.response)==null?void 0:_.data)==null?void 0:A.message)||((O=(I=U==null?void 0:U.response)==null?void 0:I.data)==null?void 0:O.error)||(U instanceof Error?U.message:"Error eliminando suscripcin");_e.error(W)}},handleCopy:async L=>{if(L)try{await navigator.clipboard.writeText(L),_e.success("Copiado al portapapeles")}catch{_e.error("No se pudo copiar")}},handleStatusChange:(L,_)=>{t(A=>A.map(I=>I.id===L?{...I,status:_}:I))},cutDateSort:j,toggleCutDateSort:()=>{N(L=>L==="asc"?"desc":"asc")}}}const yE=e=>{if(!e)return null;const t=e.split("-");if(t.length===3){const n=parseInt(t[0],10),r=parseInt(t[1],10),s=parseInt(t[2],10);if(isNaN(s)||isNaN(r)||isNaN(n))return null;const a=new Date;a.setHours(0,0,0,0);const l=new Date(n,r-1,s).getTime()-a.getTime();return Math.ceil(l/(1e3*60*60*24))}return null},wE=e=>{const t=yE(e);return t===null?{label:"Sin fecha",color:"text-slate-400",bg:"bg-slate-100",icon:null}:t<0?{label:"Vencida",color:"text-red-600 dark:text-red-400",bg:"bg-red-100 dark:bg-red-900/30",icon:Oa}:t<=7?{label:`${t}d por vencer`,color:"text-orange-600 dark:text-orange-400",bg:"bg-orange-100 dark:bg-orange-900/30",icon:Vt}:{label:`${t}d restantes`,color:"text-green-600 dark:text-green-400",bg:"bg-green-100 dark:bg-green-900/30",icon:_t}},Dl={active:{label:"Activa",bgColor:"bg-green-100 dark:bg-green-900/30",textColor:"text-green-700 dark:text-green-400"},about_to_expire:{label:"Por Vencer",bgColor:"bg-yellow-100 dark:bg-yellow-900/30",textColor:"text-yellow-700 dark:text-yellow-400"},suspended:{label:"Suspendida",bgColor:"bg-orange-100 dark:bg-orange-900/30",textColor:"text-orange-700 dark:text-orange-400"},paused:{label:"Pausada",bgColor:"bg-blue-100 dark:bg-blue-900/30",textColor:"text-blue-700 dark:text-blue-400"},cancelled:{label:"Cancelada",bgColor:"bg-red-100 dark:bg-red-900/30",textColor:"text-red-700 dark:text-red-400"}},bE=[{value:"active",label:"Active"},{value:"about_to_expire",label:"About to Expire"},{value:"suspended",label:"Suspended"},{value:"paused",label:"Paused"},{value:"cancelled",label:"Cancelled"}];function kE({sub:e,client:t,onEdit:n,onDelete:r,onCopy:s,PLAN_LABELS:a,isAdmin:o=!1,onStatusChange:l}){var j,N;const[c,u]=v.useState(!1),[d,f]=v.useState(!1),[p,b]=v.useState(!1),[y,g]=v.useState(""),w=S=>{g(S),b(!0)},m=async()=>{var T,z,$,Q;if(!e.id||!y)return;const S=e.status;f(!0),b(!1),l&&l(e.id,y);try{await zr.updateStatus(e.id,y)}catch(ae){l&&l(e.id,S);const le=((z=(T=ae==null?void 0:ae.response)==null?void 0:T.data)==null?void 0:z.message)||((Q=($=ae==null?void 0:ae.response)==null?void 0:$.data)==null?void 0:Q.error)||"Error al cambiar el status";_e.error(le)}finally{f(!1),g("")}},h=e.status||"inactive",x=Dl[h]||Dl.inactive,k=wE(e.cutDate);return i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"group bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-2xl p-3 sm:p-4 hover:shadow-xl hover:border-secondary/20 transition-all duration-300 w-full overflow-hidden",children:[i.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-3 sm:gap-4",children:[i.jsxs("div",{className:"flex items-center gap-3 min-w-0 flex-1",children:[i.jsx("div",{className:"w-12 h-12 sm:w-10 sm:h-10 rounded-full bg-secondary/10 dark:bg-secondary/20 flex items-center justify-center text-secondary font-bold text-lg border-2 border-secondary/30 shrink-0",children:((j=t==null?void 0:t.name)==null?void 0:j.charAt(0))||"U"}),i.jsxs("div",{className:"flex flex-col min-w-0",children:[i.jsx("h3",{className:"font-bold text-slate-900 dark:text-white truncate text-base sm:text-sm",children:(t==null?void 0:t.name)||"Cliente desconocido"}),i.jsxs("div",{className:"flex flex-wrap items-center gap-2 sm:gap-3",children:[i.jsx("span",{className:"text-xs font-semibold text-secondary bg-secondary/10 px-2 py-0.5 rounded-md",children:a[e.plan]||e.plan}),i.jsxs("span",{className:`text-xs font-medium px-2 py-0.5 rounded-md flex items-center gap-1 ${k.bg} ${k.color}`,children:[k.icon&&i.jsx(k.icon,{size:12}),e.cutDate||""]})]})]})]}),i.jsxs("div",{className:"flex items-center gap-2 w-full sm:w-auto mt-2 sm:mt-0",children:[o?i.jsxs("div",{className:"relative flex-1 sm:flex-none sm:w-auto",children:[i.jsx("select",{value:h,onChange:S=>w(S.target.value),disabled:d,className:`appearance-none px-3 py-2.5 sm:py-1.5 rounded-full text-sm font-semibold cursor-pointer border-0 focus:ring-2 focus:ring-secondary w-full sm:w-auto text-left min-h-11 flex items-center ${x.bgColor} ${x.textColor}`,children:bE.map(S=>i.jsx("option",{value:S.value,className:"bg-white dark:bg-slate-800 text-slate-900 dark:text-white text-center py-2",children:S.label},S.value))}),d&&i.jsx("div",{className:"absolute right-2 sm:right-3 top-1/2 -translate-y-1/2",children:i.jsx(vt,{size:18,className:"animate-spin text-secondary"})})]}):i.jsx("span",{className:`px-3 py-2 sm:py-0.5 rounded-full text-sm font-semibold min-h-11 flex items-center ${x.bgColor} ${x.textColor}`,children:x.label}),i.jsx(M,{onClick:()=>u(!c),className:"rounded-xl shrink-0","aria-expanded":c,"aria-label":c?"Contraer detalles":"Expandir detalles",variant:"ghost",size:"icon",children:c?i.jsx(ha,{size:22}):i.jsx(nn,{size:22})})]})]}),c&&i.jsxs("div",{className:"mt-3 pt-3 border-t border-slate-100 dark:border-slate-700 animate-in slide-in-from-top-2 duration-200",children:[i.jsxs("div",{className:"grid grid-cols-1 gap-3",children:[i.jsxs("div",{className:"space-y-2",children:[e.clientEmail&&i.jsxs("div",{className:"flex items-center justify-between bg-slate-50 dark:bg-slate-900/40 px-3 py-2.5 rounded-lg border border-slate-100 dark:border-slate-700 min-h-11",children:[i.jsx("span",{className:"text-sm text-slate-600 dark:text-slate-300 truncate mr-2",children:e.clientEmail}),i.jsx(M,{onClick:async()=>{try{await navigator.clipboard.writeText(e.clientEmail),_e.success("Copiado"),s&&s(e.clientEmail)}catch{_e.error("Error")}},className:"text-slate-400 hover:text-secondary shrink-0 h-9 w-9",variant:"ghost",size:"icon","aria-label":"Copiar email",children:i.jsx(Pl,{size:16})})]}),e.passwordSub&&i.jsxs("div",{className:"flex items-center justify-between bg-slate-50 dark:bg-slate-900/40 px-3 py-2.5 rounded-lg border border-slate-100 dark:border-slate-700 min-h-11",children:[i.jsx("span",{className:"text-sm font-mono text-slate-500",children:""}),i.jsx(M,{onClick:async()=>{try{await navigator.clipboard.writeText(e.passwordSub),_e.success("Copiado"),s&&s(e.passwordSub)}catch{_e.error("Error")}},className:"text-slate-400 hover:text-secondary shrink-0 h-9 w-9",variant:"ghost",size:"icon","aria-label":"Copiar contrasea",children:i.jsx(Pl,{size:16})})]}),e.kitNumber&&i.jsxs("div",{className:"flex items-center justify-between bg-slate-50 dark:bg-slate-900/40 px-3 py-2.5 rounded-lg border border-slate-100 dark:border-slate-700 min-h-11",children:[i.jsxs("span",{className:"text-sm text-slate-600 dark:text-slate-300",children:["KIT: ",i.jsx("span",{className:"font-mono font-semibold",children:e.kitNumber})]}),i.jsx(M,{onClick:async()=>{try{await navigator.clipboard.writeText(e.kitNumber),_e.success("Copiado"),s&&s(e.kitNumber)}catch{_e.error("Error")}},className:"text-slate-400 hover:text-secondary shrink-0 h-9 w-9",variant:"ghost",size:"icon","aria-label":"Copiar kit",children:i.jsx(Pl,{size:16})})]}),e.country&&i.jsx("div",{className:"flex items-center gap-2 text-sm text-slate-500 dark:text-slate-400",children:i.jsx("span",{className:"px-2 py-0.5 rounded bg-secondary/10 text-secondary font-medium text-xs",children:e.country})})]}),i.jsxs("div",{className:"flex gap-2 p-3 bg-slate-50/50 dark:bg-slate-900/20 rounded-lg border border-slate-100 dark:border-slate-700",children:[i.jsxs("div",{className:"flex-1 flex flex-col items-center border-r border-slate-200 dark:border-slate-600",children:[i.jsx("span",{className:"text-xs uppercase text-slate-400 font-medium mb-0.5",children:"Monto"}),i.jsx("span",{className:"text-base font-bold text-slate-700 dark:text-slate-200",children:e.amount})]}),i.jsxs("div",{className:`flex-1 flex flex-col items-center rounded-lg p-1 ${k.bg}`,children:[i.jsxs("span",{className:`text-xs uppercase font-medium mb-0.5 flex items-center gap-1 ${k.color}`,children:[k.icon&&i.jsx(k.icon,{size:12}),k.label]}),i.jsx("span",{className:`text-base font-bold ${k.color}`,children:e.cutDate})]})]})]}),i.jsxs("div",{className:"flex gap-2 mt-3 pt-3 border-t border-slate-100 dark:border-slate-700",children:[i.jsxs(M,{onClick:()=>n(e),className:"flex-1 h-11",variant:"secondary",children:[i.jsx(Mj,{size:16}),i.jsx("span",{className:"ml-1.5 text-sm font-medium",children:"Editar"})]}),i.jsxs(M,{onClick:()=>r(e.id??e.clientId),className:"flex-1 h-11",variant:"ghost",children:[i.jsx(qc,{size:16}),i.jsx("span",{className:"ml-1.5 text-sm font-medium text-slate-500 dark:text-slate-400",children:"Eliminar"})]})]})]})]}),p&&i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50",onClick:()=>b(!1),"aria-hidden":"true"}),i.jsx("div",{className:"fixed z-50 bottom-0 left-0 right-0 sm:bottom-auto sm:top-1/2 sm:left-1/2 sm:-translate-x-1/2 sm:-translate-y-1/2 sm:max-w-sm w-full sm:w-auto animate-in slide-in-from-bottom-10 sm:slide-in-from-top-10 duration-300",children:i.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-t-2xl sm:rounded-2xl p-5 shadow-2xl border-t sm:border border-slate-100 dark:border-slate-700",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[i.jsx("div",{className:"w-10 h-10 rounded-full bg-red-100 dark:bg-red-900/30 flex items-center justify-center shrink-0",children:i.jsx(qc,{size:20,className:"text-red-600 dark:text-red-400"})}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-base font-bold text-slate-900 dark:text-white",children:"Confirmar cambio"}),i.jsxs("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:["Status: ",((N=Dl[y])==null?void 0:N.label)||y]})]})]}),i.jsx("p",{className:"text-slate-600 dark:text-slate-400 mb-4 text-sm",children:"Cambiar el status de esta suscripcin?"}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx(M,{onClick:()=>b(!1),className:"flex-1 h-11 text-sm font-medium",variant:"outline",disabled:d,children:"Cancelar"}),i.jsxs(M,{onClick:m,disabled:d,className:"flex-1 h-11 text-sm font-medium flex items-center justify-center gap-1.5",variant:"primary",children:[d&&i.jsx(vt,{size:16,className:"animate-spin"}),"Confirmar"]})]})]})})]})]})}function NE({filteredItems:e,itemsCount:t,clients:n,loading:r,searchQuery:s,statusFilter:a,cutDateSort:o,onToggleCutDateSort:l,onClearFilters:c,onCreateFirst:u,onEdit:d,onDelete:f,onCopy:p,PLAN_LABELS:b,isAdmin:y,onStatusChange:g}){return i.jsxs(ee,{className:"h-full min-h-[50vh] sm:min-h-0",children:[i.jsx("div",{className:"flex items-center justify-between mb-4",children:i.jsxs("h2",{className:"text-lg sm:text-base font-bold text-slate-900 dark:text-white",children:["Suscripciones (",e.length,s||a?` / ${t}`:"",")"]})}),r?i.jsx("div",{className:"flex justify-center py-12 sm:py-8",children:i.jsx("div",{className:"animate-spin rounded-full h-10 w-10 sm:h-8 sm:w-8 border-b-2 border-primary"})}):e.length===0?i.jsxs("div",{className:"text-center py-12 sm:py-8 px-4",children:[i.jsx("div",{className:"bg-slate-100 dark:bg-slate-700/50 rounded-full h-20 w-20 sm:h-16 sm:w-16 flex items-center justify-center mx-auto mb-4",children:i.jsx(Pt,{size:36,className:"text-slate-400 dark:text-slate-500 sm:32"})}),i.jsx("h3",{className:"text-xl sm:text-lg font-semibold text-slate-900 dark:text-white mb-2",children:"No se encontraron suscripciones"}),i.jsx("p",{className:"text-slate-500 dark:text-slate-400 mb-6 text-base sm:text-sm",children:s||a?"Intenta con otros filtros de bsqueda":"Crea una nueva suscripcin para comenzar."}),i.jsx("div",{className:"flex flex-col sm:flex-row gap-3 justify-center",children:s||a?i.jsx(M,{onClick:c,variant:"outline",className:"w-full sm:w-auto h-12",children:"Limpiar filtros"}):i.jsx(M,{onClick:l??u,variant:"primary",className:"w-full sm:w-auto h-12",children:o==="asc"?"Ordenar: Inicio  Fin":o==="desc"?"Ordenar: Fin  Inicio":"Ordenar por fecha de corte"})})]}):i.jsx("div",{className:"flex flex-col gap-3 sm:gap-2 -mx-2 sm:mx-0 px-2 sm:px-0",children:e.map(w=>{const m=n.find(h=>h.uid===w.clientId||h.id===w.clientId);return i.jsx(kE,{sub:w,client:m,onEdit:()=>d(w),onDelete:f,onCopy:p,PLAN_LABELS:b,isAdmin:y,onStatusChange:g},w.id??w.clientId)})})]})}const jE=[{value:"",label:"Todas las fechas"},{value:"overdue",label:"Vencidas",icon:Oa,color:"text-red-500"},{value:"soon",label:"Por vencer (7d)",icon:Vt,color:"text-orange-500"},{value:"ok",label:"Activas (>7d)",icon:_t,color:"text-green-500"}];function SE({searchQuery:e,setSearchQuery:t,statusFilter:n,setStatusFilter:r,cutDateSort:s,onToggleCutDateSort:a,cutDateFilter:o="",setCutDateFilter:l}){const[c,u]=v.useState(e);return v.useEffect(()=>{u(e)},[e]),v.useEffect(()=>{const d=setTimeout(()=>t(c),300);return()=>clearTimeout(d)},[c,t]),i.jsxs("div",{className:"flex flex-col md:flex-row gap-3 mb-4 sm:mb-6",children:[i.jsxs("div",{className:"relative md:flex-1",children:[i.jsx(Da,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400",size:20}),i.jsx("input",{type:"text",inputMode:"search","aria-label":"Buscar suscripciones",placeholder:"Buscar por cliente...",value:c,onChange:d=>u(d.target.value),className:"h-11 pl-12 pr-12 text-sm rounded-lg border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800 text-slate-900 dark:text-slate-100 placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent w-full"}),c&&i.jsx(M,{onClick:()=>{u(""),t("")},className:"absolute right-2 top-1/2 -translate-y-1/2 text-slate-400 hover:text-slate-600 h-10 w-10","aria-label":"Limpiar bsqueda",variant:"ghost",size:"icon",children:i.jsx(vr,{size:18})})]}),i.jsxs("div",{className:"flex items-center justify-between gap-2",children:[i.jsxs("div",{className:"relative flex-none",children:[i.jsx(ld,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400",size:18}),i.jsx("label",{className:"sr-only",htmlFor:"status-filter",children:"Filtrar por estado"}),i.jsxs("select",{id:"status-filter",value:n,onChange:d=>r(d.target.value),className:"h-11 pl-10 pr-5 text-sm rounded-lg border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800 text-slate-900 dark:text-slate-100 focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent appearance-none min-w-40",children:[i.jsx("option",{value:"",children:"Todos los status"}),i.jsx("option",{value:"active",children:"Activa"}),i.jsx("option",{value:"about_to_expire",children:"Por Vencer"}),i.jsx("option",{value:"suspended",children:"Suspendida"}),i.jsx("option",{value:"paused",children:"Pausada"}),i.jsx("option",{value:"cancelled",children:"Cancelada"})]})]}),l&&i.jsxs("div",{className:"relative flex-none",children:[i.jsx("label",{className:"sr-only",htmlFor:"cutdate-filter",children:"Filtrar por fecha de corte"}),i.jsx("select",{id:"cutdate-filter",value:o,onChange:d=>l(d.target.value),className:"h-11 pl-4 pr-10 text-sm rounded-lg border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800 text-slate-900 dark:text-slate-100 focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent appearance-none min-w-40",children:jE.map(d=>i.jsx("option",{value:d.value,className:"py-2",children:d.label},d.value))})]}),a&&i.jsxs(M,{onClick:a,title:s==="asc"?"Orden: Corte Inicio  Fin":s==="desc"?"Orden: Corte Fin  Inicio":"Ordenar por fecha de corte",variant:"secondary",size:"md",className:"flex-none flex items-center gap-2 rounded-xl","aria-label":"Alternar orden por fecha de corte","aria-pressed":!!s,children:[s==="asc"?i.jsx(ha,{size:18}):s==="desc"?i.jsx(nn,{size:18}):i.jsx(ha,{size:18}),i.jsx("span",{className:"inline text-sm font-medium",children:"Fecha corte"})]})]})]})}function EE(){const{user:e}=hn(),{theme:t}=Ng(),{clients:n,loading:r,creating:s,isFormOpen:a,setIsFormOpen:o,editingId:l,form:c,setForm:u,searchQuery:d,setSearchQuery:f,statusFilter:p,setStatusFilter:b,cutDateFilter:y,setCutDateFilter:g,filteredItems:w,items:m,PLAN_LABELS:h,handleEdit:x,handleCancelEdit:k,handleCreate:j,handleDelete:N,handleCopy:S,handleStatusChange:T,cutDateSort:z,toggleCutDateSort:$}=vE();return i.jsxs("div",{className:"space-y-6",children:[i.jsx(La,{title:"Suscripciones",subtitle:"Gestiona los planes y cobros de los clientes",action:i.jsxs(M,{onClick:()=>{a&&l?k():o(!a)},className:"flex items-center gap-2",variant:a?"outline":t==="dark"?"secondary":"primary",children:[a?i.jsx(ha,{size:18}):i.jsx(ud,{size:18}),a?l?"Cancelar Edicin":"Cancelar":"Nueva Suscripcin"]})}),a&&i.jsx("div",{id:"subscription-form",children:i.jsx(CS,{form:c,setForm:u,clients:n,onCancel:k,onSubmit:j,creating:s,editingId:l})}),i.jsx(SE,{searchQuery:d,setSearchQuery:f,statusFilter:p,setStatusFilter:b,setIsFormOpen:o,cutDateSort:z,onToggleCutDateSort:$,cutDateFilter:y,setCutDateFilter:g}),i.jsx(NE,{filteredItems:w,itemsCount:(m==null?void 0:m.length)??0,clients:n,loading:r,searchQuery:d,statusFilter:p,onClearFilters:()=>{f(""),b("")},onCreateFirst:()=>o(!0),cutDateSort:z,onToggleCutDateSort:$,onEdit:x,onDelete:N,onCopy:S,PLAN_LABELS:h,isAdmin:(e==null?void 0:e.role)==="admin",onStatusChange:T})]})}function _E(){const{uid:e}=qy(),t=ds(),[n,r]=v.useState(!0),[s,a]=v.useState(!1),[o,l]=v.useState(null),[c,u]=v.useState(""),[d,f]=v.useState({name:"",phone:"",address:""}),[p,b]=v.useState(null);v.useEffect(()=>{if(!e)return;r(!0),(async()=>{var w,m;try{const x=(await cr.get(e)).data,k=x.data||x;!k||k.name;const j=k;if(l(j),f({name:j.name||"",phone:j.phone||"",address:j.address||""}),j.uid)try{const N=await zt.getUser(j.uid),S=((w=N.data)==null?void 0:w.data)||((m=N.data)==null?void 0:m.user)||N.data;u((S==null?void 0:S.email)||"")}catch{}}catch(h){console.error(h),b("Error cargando cliente")}finally{r(!1)}})()},[e]);const y=async g=>{var w,m,h,x;if(g.preventDefault(),!!e){a(!0),b(null);try{await cr.update(e,d),alert("Cliente actualizado correctamente"),t("/admin/clients")}catch(k){console.error(k);const N=((m=(w=k.response)==null?void 0:w.data)==null?void 0:m.message)||((x=(h=k.response)==null?void 0:h.data)==null?void 0:x.error)||(k instanceof Error?k.message:"Error actualizando cliente");b(N)}finally{a(!1)}}};return n?i.jsx("div",{className:"p-8 text-center text-slate-500",children:"Cargando datos..."}):i.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"text-2xl font-bold text-slate-900 tracking-tight",children:"Editar Cliente"}),i.jsx("p",{className:"text-sm text-slate-500",children:"Actualiza la informacin de contacto"})]}),i.jsx(M,{variant:"ghost",onClick:()=>t("/admin/clients"),children:" Volver"})]}),i.jsxs(ee,{title:`Editar: ${(o==null?void 0:o.name)||e}`,children:[p&&i.jsx("div",{className:"mb-4 p-3 bg-red-50 text-red-700 rounded-lg text-sm border border-red-100",children:p}),i.jsxs("form",{onSubmit:y,className:"space-y-6",children:[i.jsx(K,{label:"ID Cliente",value:e||"",disabled:!0,className:"bg-slate-50 text-slate-500"}),i.jsx(K,{label:"Email (Asociado)",value:c||"No disponible",disabled:!0,className:"bg-slate-50 text-slate-500"}),i.jsx(K,{label:"Nombre Completo",value:d.name,onChange:g=>f({...d,name:g.target.value}),placeholder:"Ej: Juan Prez",required:!0}),i.jsx(K,{label:"Telfono",value:d.phone,onChange:g=>f({...d,phone:g.target.value}),placeholder:"+56 9 1234 5678"}),i.jsx(K,{label:"Direccin",value:d.address,onChange:g=>f({...d,address:g.target.value}),placeholder:"Calle Falsa 123"}),i.jsxs("div",{className:"pt-4 flex justify-end gap-3",children:[i.jsx(M,{type:"button",variant:"secondary",onClick:()=>t("/admin/clients"),children:"Cancelar"}),i.jsx(M,{type:"submit",disabled:s,children:s?"Guardando...":"Guardar Cambios"})]})]})]})]})}const CE=e=>e?typeof e=="string"?new Date(e).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):IE(e)?new Date(e._seconds*1e3).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):"":"";function IE(e){return e&&typeof e._seconds=="number"}function TE({conversation:e,selected:t,onClick:n}){return i.jsxs(M,{onClick:n,className:`
        group w-full text-left p-4 rounded-xl border flex items-center gap-4 transition-all duration-200 cursor-pointer shadow-sm

        ${t?"bg-primary/10 dark:bg-primary/20 border-primary/30 shadow-sm":"bg-slate-100 dark:bg-slate-800 border-transparent hover:bg-slate-50 dark:hover:bg-slate-700 hover:border-slate-200 dark:hover:border-slate-600"}
      `,variant:"ghost",children:[i.jsx("div",{className:`
          h-11 w-11 rounded-full flex items-center justify-center font-semibold text-sm ring-2 shadow-sm shrink-0 transition-colors

          ${t?"bg-primary/20 text-primary/foreground ring-primary/20":"bg-primary/20 dark:bg-primary/30 text-slate-700 dark:text-slate-200 ring-primary dark:ring-slate-700 group-hover:bg-primary/30 group-hover:text-primary"}
        `,children:(e.name||e.phone||"?").charAt(0).toUpperCase()}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsxs("div",{className:"flex justify-between items-center mb-1",children:[i.jsxs("div",{className:"flex items-center gap-2 overflow-hidden pr-2",children:[i.jsx("span",{className:`
                font-semibold text-sm truncate transition-colors
                ${t?"text-primary":"text-slate-900 dark:text-slate-100 group-hover:text-primary"}
              `,children:e.name||e.phone||"Usuario Desconocido"}),e.prospect&&i.jsx("span",{className:"text-[10px] uppercase font-bold text-amber-600 bg-amber-100 dark:bg-amber-900/30 dark:text-amber-400 px-1.5 py-0.5 rounded-full shrink-0",children:"Prospecto"})]}),e.lastMessageAt&&i.jsx("span",{className:`
                text-[10px] font-medium shrink-0 transition-colors
                ${t?"text-primary":"text-slate-400 dark:text-slate-500 group-hover:text-slate-600 dark:group-hover:text-slate-300"}
              `,children:CE(e.lastMessageAt)})]}),i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsxs("p",{className:`
              text-xs truncate max-w-[85%] font-medium transition-colors
              ${t?"text-slate-900 dark:text-slate-100":"text-slate-500 dark:text-slate-400 group-hover:text-slate-700 dark:group-hover:text-slate-200"}
            `,children:[e.lastMessageDir==="outbound"&&i.jsx("span",{className:"font-bold mr-1 opacity-70",children:"T:"}),e.lastMessageBody||"Sin mensajes"]}),!!e.unreadCount&&i.jsx("span",{className:`\r
              min-w-5 h-5 px-1 ml-2 flex items-center justify-center rounded-full\r
              bg-primary text-white text-[10px] font-bold shadow-sm border border-white dark:border-slate-800\r
            `,children:e.unreadCount})]})]})]})}const RE=e=>e?typeof e=="string"?new Date(e).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):e._seconds?new Date(e._seconds*1e3).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):"":"";function PE(){const[e,t]=v.useState([]),[n,r]=v.useState(!1),[s,a]=v.useState(null),[o,l]=v.useState([]),[c,u]=v.useState(!1),[d,f]=v.useState(""),[p,b]=v.useState(!1),[y,g]=v.useState(!0),[w,m]=v.useState(!1),[h,x]=v.useState(""),k=v.useRef(null),j=v.useRef(null);v.useRef(null);const N=async(D=!1)=>{var te;D||r(!0);try{const H=await er.listConversations(),L=Array.isArray(H.data)?H.data:((te=H.data)==null?void 0:te.data)||[];t(_=>JSON.stringify(_)!==JSON.stringify(L)?L:_)}catch(H){console.error(H)}finally{D||r(!1)}};v.useEffect(()=>{N();const D=setInterval(()=>{N(!0)},15e3);return()=>clearInterval(D)},[]);const S=D=>D?D.phone||D.id||D.clientId||D.uid:null,T=async(D=!1)=>{const te=S(s);if(!te){console.warn("No identifier found for conversation",s);return}let H=!0;D?H=!0:(u(!0),g(!0));try{const L=await er.getMessages(te,{limit:50,orderBy:"createdAt desc",sort:"desc"});if(!H)return;const _=L.data;let A=[];Array.isArray(_)?A=_:_&&Array.isArray(_.data)?A=_.data:console.warn("Estructura de mensajes inesperada:",_);const I=A;D||(I.length===0?console.log("No se encontraron mensajes para",te):I[0].id||console.warn("Mensajes recibidos sin ID, pueden fallar en renderizado:",I[0])),!D&&I.length<50&&g(!1),I.sort((O,U)=>{const J=W=>W?typeof W=="string"?new Date(W).getTime():W._seconds?W._seconds*1e3:0:0;return J(O.createdAt||O.timestamp)-J(U.createdAt||U.timestamp)}),D?l(O=>{var st,Je;const U=I[I.length-1],J=O[O.length-1],W=O.filter(Ee=>Ee.id&&Ee.id.startsWith("opt_")),oe=U?(Ee=>Ee?typeof Ee=="string"?new Date(Ee).getTime():Ee._seconds?Ee._seconds*1e3:0:0)(U.createdAt||U.timestamp):0,Y=W.filter(Ee=>!I.find(ft=>{const ze=ft.body===Ee.body,Jn=ft.direction===Ee.direction;return ze&&Jn})),re=[...I,...Y];return re.sort((Ee,pn)=>{const ft=ze=>ze?typeof ze=="string"?new Date(ze).getTime():ze._seconds?ze._seconds*1e3:0:0;return ft(Ee.createdAt||Ee.timestamp)-ft(pn.createdAt||pn.timestamp)}),re.length!==O.length||((st=re[re.length-1])==null?void 0:st.id)!==((Je=O[O.length-1])==null?void 0:Je.id)?(re.length>O.length&&setTimeout(z,50),re):O}):(l(I),z())}catch(L){D||console.error("Error fetching messages:",L)}finally{H&&!D&&u(!1)}};v.useEffect(()=>{if(l([]),g(!0),!S(s))return;T(!1);const te=setInterval(()=>{N(!0)},15e3);return()=>clearInterval(te)},[s]);const z=()=>{setTimeout(()=>{j.current&&(j.current.scrollTop=j.current.scrollHeight)},100)},$=D=>{if(a(D),D.unreadCount&&D.unreadCount>0){t(H=>H.map(L=>L.id===D.id?{...L,unreadCount:0}:L));const te=D.id||D.phone;te&&er.markAsRead(te).catch(H=>{console.error("Error marking as read:",H)})}},Q=async D=>{const{scrollTop:te,scrollHeight:H,clientHeight:L}=D.currentTarget;if(te===0&&!w&&y&&o.length>0){m(!0);const _=o[0],A=S(s);if(!A)return;try{const O=(await er.getMessages(A,{limit:50,startAfter:_.id,orderBy:"createdAt desc",sort:"desc"})).data,U=Array.isArray(O)?O:Array.isArray(O==null?void 0:O.data)?O.data:[];if(U.length<50&&g(!1),U.length===0){m(!1);return}U.sort((W,Z)=>{const oe=Y=>Y?typeof Y=="string"?new Date(Y).getTime():Y._seconds?Y._seconds*1e3:0:0;return oe(W.createdAt||W.timestamp)-oe(Z.createdAt||Z.timestamp)});const J=H;l(W=>[...U,...W]),requestAnimationFrame(()=>{if(j.current){const W=j.current.scrollHeight;j.current.scrollTop=W-J}})}catch(I){console.error("Error fetching more messages:",I)}finally{m(!1)}}},ae=D=>{Q(D)},le=async D=>{var H,L;D.preventDefault();const te=S(s);if(!(!d.trim()||!te)){b(!0);try{await er.send({clientId:te,body:d});const _=(s==null?void 0:s.id)||(s==null?void 0:s.phone);if(_){const A={id:"opt_"+Date.now(),body:d,from:"me",to:_,direction:"outbound",createdAt:new Date().toISOString()};l(I=>[...I,A]),t(I=>I.map(O=>(O.id||O.phone)===_?{...O,lastMessageBody:d,lastMessageDir:"outbound",lastMessageAt:new Date().toISOString()}:O))}f(""),z()}catch(_){console.error("Error details:",_),alert("Error enviando mensaje: "+(((L=(H=_.response)==null?void 0:H.data)==null?void 0:L.message)||_.message||"Desconocido"))}finally{b(!1)}}};return i.jsxs("div",{className:"h-[calc(100vh-140px)] flex flex-col gap-4 overflow-hidden",children:[i.jsx("div",{className:"flex justify-between items-center px-1 shrink-0",children:i.jsx("h2",{className:"text-2xl font-bold tracking-tight text-slate-900 dark:text-white",children:"Comunicacin"})}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 h-full min-h-0 overflow-hidden md:overflow-visible",children:[i.jsxs(ee,{className:`flex flex-col h-full overflow-hidden p-0 bg-white dark:bg-slate-800 ${s?"hidden md:flex":"flex"}`,children:[i.jsxs("div",{className:"p-4 border-b border-slate-100 dark:border-slate-700 space-y-3 bg-white dark:bg-slate-800",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsxs("h3",{className:"font-bold text-lg text-slate-900 dark:text-white flex items-center gap-2",children:[i.jsx(cd,{className:"text-primary",size:20}),"Mensajes"]}),i.jsx("span",{className:"h-8 w-8 text-xs font-medium text-slate-500 dark:text-slate-400 bg-slate-100 dark:bg-slate-700 rounded-full flex items-center justify-center",children:e.length})]}),i.jsxs("div",{className:"relative",children:[i.jsx(Da,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400",size:16}),i.jsx("input",{type:"text",placeholder:"Buscar chat...",value:h,onChange:D=>x(D.target.value),className:"w-full pl-9 pr-4 py-2 bg-slate-50 dark:bg-slate-900 border-slate-200 dark:border-slate-600 border rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-primary/20 focus:border-primary transition-all placeholder:text-slate-400 dark:placeholder:text-slate-500 text-slate-900 dark:text-white"})]})]}),i.jsx("div",{className:"flex-1 overflow-y-auto min-h-0 p-2 bg-slate-50/50 dark:bg-slate-900/50",children:n?i.jsxs("div",{className:"flex flex-col items-center justify-center py-8 space-y-2 text-slate-400",children:[i.jsx(vt,{className:"animate-spin",size:20}),i.jsx("span",{className:"text-xs",children:"Cargando..."})]}):e.length===0?i.jsx("div",{className:"text-sm text-slate-500 py-8 text-center px-4",children:"No hay conversaciones activas."}):i.jsx("div",{className:"space-y-1",children:e.filter(D=>{var H,L,_;if(!h)return!0;const te=h.toLowerCase();return((H=D.name)==null?void 0:H.toLowerCase().includes(te))||((L=D.phone)==null?void 0:L.includes(te))||((_=D.lastMessageBody)==null?void 0:_.toLowerCase().includes(te))}).map(D=>i.jsx(TE,{conversation:D,selected:(s==null?void 0:s.id)===D.id,onClick:()=>$(D)},D.id))})})]}),i.jsx(ee,{className:`md:col-span-2 h-full overflow-hidden relative flex flex-col bg-white dark:bg-slate-800 ${s?"flex":"hidden md:flex"}`,children:s?i.jsxs("div",{className:"flex flex-col h-full overflow-hidden",children:[i.jsx("div",{className:"p-4 border-b border-slate-100 dark:border-slate-700 bg-slate-50 dark:bg-slate-800 flex justify-between items-center shrink-0",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(M,{onClick:()=>a(null),className:"md:hidden p-2 -ml-2",variant:"ghost",size:"icon",children:i.jsx(V2,{size:20})}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-semibold text-slate-900 dark:text-white",children:s.name||s.phone}),i.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:s.phone})]})]})}),i.jsxs("div",{ref:j,onScroll:ae,className:"flex-1 overflow-y-auto p-4 space-y-4 bg-slate-50/20 dark:bg-slate-900/20 min-h-0",children:[w&&i.jsx("div",{className:"flex justify-center py-2 text-xs text-slate-400",children:i.jsx("span",{className:"animate-pulse",children:"Cargando mensajes anteriores..."})}),c?i.jsx("div",{className:"flex justify-center py-8",children:i.jsx("span",{className:"animate-spin h-5 w-5 border-2 border-primary border-t-transparent rounded-full"})}):o.length===0?i.jsx("div",{className:"text-center text-slate-400 text-sm py-10",children:"No hay mensajes en esta conversacin"}):o.map((D,te)=>{let H=!1;return D.direction?H=D.direction==="outbound":(D.template||["sent","delivered","read","queued","failed"].includes(D.status||"")||D.from==="me"||D.to===s.phone)&&(H=!0),i.jsx("div",{className:`flex ${H?"justify-end":"justify-start"} animate-in fade-in slide-in-from-bottom-2 duration-300`,children:i.jsxs("div",{className:`
                                        max-w-[75%] rounded-2xl px-5 py-3 text-sm shadow-sm relative group
                                        ${H?"bg-primary text-white rounded-tr-sm":"bg-white dark:bg-slate-700 text-slate-900 dark:text-white border border-slate-200 dark:border-slate-600 rounded-tl-sm"}
                                    `,children:[D.template?i.jsx("div",{className:`text-xs mb-1.5 font-medium flex items-center gap-1 ${H?"opacity-90 text-primary-100":"text-primary"}`,children:i.jsx("span",{className:"uppercase tracking-wider text-[10px]",children:"Plantilla"})}):null,i.jsx("div",{className:"leading-relaxed whitespace-pre-wrap",children:D.body||(D.template?D.template.replace(/_/g," "):"")}),i.jsxs("div",{className:`text-[10px] mt-1.5 flex gap-1 items-center select-none
                                            ${H?"justify-end text-primary-100/90":"justify-start text-slate-400"}
                                        `,children:[i.jsx("span",{children:RE(D.createdAt||D.timestamp)}),H&&D.status&&i.jsx("span",{title:`Estado: ${D.status}`,className:["read","READ"].includes(D.status)?"text-blue-100 font-bold":"",children:["read","READ"].includes(D.status)||["delivered","DELIVERED"].includes(D.status)?"":["sent","SENT"].includes(D.status)?"":""})]})]})},te)}),i.jsx("div",{ref:k})]}),i.jsx("div",{className:"p-4 bg-slate-100 dark:bg-slate-800 border-t border-slate-100 dark:border-slate-700",children:i.jsxs("form",{onSubmit:le,className:"flex gap-2 items-center w-full",children:[i.jsx("div",{className:"flex-1",children:i.jsx(K,{className:"min-h-11 border-slate-200 dark:border-slate-600 focus-visible:ring-primary/20 bg-white dark:bg-slate-900 dark:text-white",value:d,onChange:D=>f(D.target.value),placeholder:"Escribe un mensaje...",disabled:p,autoFocus:!0})}),i.jsx(M,{variant:"primary",className:"h-11 w-11 md:w-auto px-0 md:px-4 rounded-lg shadow-md transition-all shrink-0 flex items-center justify-center",type:"submit",disabled:p||!d.trim(),children:p?i.jsx(vt,{className:"animate-spin h-5 w-5"}):i.jsxs(i.Fragment,{children:[i.jsx(Yj,{size:18,className:p||!d.trim()?"opacity-50":""}),i.jsx("span",{className:"hidden md:inline ml-2",children:"Enviar"})]})})]})})]}):i.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-slate-400 dark:text-slate-500 p-8 text-center",children:[i.jsx("svg",{className:"w-16 h-16 mb-4 text-slate-200 dark:text-slate-700",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})}),i.jsx("p",{children:"Selecciona una conversacin para comenzar a chatear"})]})})]})]})}const Ih=e=>{try{const t=e.trim().split(" ");if(t.length<2)return e;const n=parseInt(t[0]),r=parseInt(t[1]);if(isNaN(n)||isNaN(r))return e;const s=r>=12?"PM":"AM",a=r%12||12,o=n.toString().padStart(2,"0");return`${a}:${o} ${s}`}catch{return e}};function AE(){const[e,t]=v.useState(!1),[n,r]=v.useState("0 9 * * *"),[s,a]=v.useState(!1),[o,l]=v.useState(!0),[c,u]=v.useState(!1),[d,f]=v.useState("");Bn.useEffect(()=>{(async()=>{var m;a(!0);try{const h=await js.getConfig(),x=((m=h.data)==null?void 0:m.data)||h.data;x&&(t(!!x.enabled),r(x.cronExpression||"0 9 * * *"))}catch(h){console.error("Error loading config",h)}finally{a(!1)}})()},[]);const p=async()=>{const w=!e;try{await js.updateConfig({enabled:w}),t(w),alert(w?"Automatizacin activada":"Automatizacin desactivada")}catch(m){console.error(m),alert(m.message||"Error updating config")}},b=async()=>{try{if(!e&&!confirm("La automatizacin est actualmente desactivada. Se actualizar la hora programada pero seguir inactiva. Continuar?"))return;await js.updateConfig({cronExpression:n,timeZone:"America/Caracas",enabled:e}),alert("Configuracin guardada exitosamente")}catch(w){console.error(w),alert(w.message||"Error saving cron")}},y=async()=>{if(confirm("Ests seguro? Esto eliminar la configuracin personalizada y restablecer los valores predeterminados (Activo, 9:00 AM)."))try{await js.deleteConfig(),alert("Configuracin restablecida. Se recargarn los valores por defecto."),r("0 9 * * *"),t(!0)}catch(w){alert(w.message||"Error reseting config")}},g=async()=>{var w,m;if(!(!o&&!confirm("ATENCIN: Ests a punto de ejecutar el proceso REAL. Se enviarn notificaciones a los clientes por WhatsApp/Correo. Ests seguro?"))){u(!0),f("Ejecutando proceso...");try{const h=await js.runDaily({dryRun:o},{reason:"manual-check"});f(JSON.stringify(h.data,null,2))}catch(h){const x=((m=(w=h.response)==null?void 0:w.data)==null?void 0:m.message)||h.message;f(`Error: ${x}`)}finally{u(!1)}}};return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center bg-white dark:bg-slate-800 p-4 rounded-lg shadow-sm border border-slate-200 dark:border-slate-700 mb-6 gap-4",children:[i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(wg,{className:"w-5 h-5 text-yellow-500"}),i.jsx("h2",{className:"text-xl sm:text-2xl font-bold tracking-tight text-slate-900 dark:text-white",children:"Automatizacin"})]}),i.jsxs("p",{className:"text-sm text-slate-500 dark:text-slate-400 mt-1",children:["Zona Horaria: ",i.jsx("span",{className:"font-mono text-xs bg-slate-100 dark:bg-slate-700 dark:text-slate-300 px-1 py-0.5 rounded ml-1",children:"America/Caracas"})]}),i.jsxs("p",{className:"text-sm text-slate-500 dark:text-slate-400 mt-1",children:["Frecuencian Actual: ",i.jsxs("span",{className:"font-mono text-xs bg-slate-100 dark:bg-slate-700 dark:text-slate-300 px-1 py-0.5 rounded ml-1",children:["(",Ih(n),")"]})]})]}),i.jsxs("div",{className:"flex flex-col sm:flex-row items-stretch sm:items-center gap-4 w-full sm:w-auto",children:[s&&i.jsx("span",{className:"text-sm text-slate-500 dark:text-slate-400 text-center",children:"Cargando..."}),i.jsx(M,{onClick:p,variant:e?"destructive":"primary",disabled:s,className:`w-full sm:w-auto flex items-center justify-center gap-2 ${e?"bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400 hover:bg-red-100 dark:hover:bg-red-900/40 border-red-200 dark:border-red-800":""}`,children:e?i.jsxs(i.Fragment,{children:[i.jsx(Dj,{size:18})," Desactivar Tarea"]}):i.jsxs(i.Fragment,{children:[i.jsx(_t,{size:18})," Activar Tarea (",Ih(n),")"]})})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs(ee,{title:"Programacin de Facturas",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-4 text-slate-500 dark:text-slate-400",children:[i.jsx(J2,{size:16}),i.jsx("p",{className:"text-sm",children:"Configura cundo se envan las facturas automticas."})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[i.jsx("div",{className:"flex-1",children:i.jsx(K,{label:"Frecuencia",value:n,onChange:w=>r(w.target.value),helpText:"min hora dia mes *",className:"font-mono text-sm truncate"})}),i.jsx("div",{className:"flex items-center",children:i.jsxs(M,{onClick:b,size:"md",variant:"secondary",className:"w-full sm:w-auto flex items-center justify-center gap-2",children:[i.jsx(yg,{size:16})," Actualizar"]})})]}),i.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-4 justify-between pt-2 border-t border-slate-100 dark:border-slate-800 ml-0",children:[i.jsxs("div",{className:"flex items-center gap-2 bg-slate-50 dark:bg-slate-800/50 px-3 py-1.5 rounded-full",children:[i.jsx("span",{className:`h-2.5 w-2.5 rounded-full ${e?"bg-green-500 shadow-[0_0_8px_rgba(34,197,94,0.5)]":"bg-slate-300 dark:bg-slate-600"}`}),i.jsx("span",{className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:e?"Servicio Activo":"Servicio Inactivo"})]}),i.jsxs(M,{onClick:y,className:"text-xs flex items-center gap-1 text-slate-400 dark:text-slate-500 hover:text-red-500 dark:hover:text-red-400 underline decoration-dotted underline-offset-2 transition-colors",variant:"ghost",children:[i.jsx(Kj,{size:12})," Restablecer valores"]})]})]})]}),i.jsxs(ee,{title:"Notificaciones Automticas",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-4 text-slate-500 dark:text-slate-400",children:[i.jsx(q2,{size:16}),i.jsx("p",{className:"text-sm",children:"Configuracin de alertas automticas."})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex items-center justify-between p-3 border border-slate-200 dark:border-slate-700 rounded-lg bg-white dark:bg-slate-800 hover:bg-slate-50 dark:hover:bg-slate-700/50 cursor-pointer transition-all active:scale-[0.98]",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"p-2 bg-primary/10 rounded-full text-primary",children:i.jsx(Vt,{size:16})}),i.jsxs("div",{children:[i.jsx("div",{className:"font-medium text-sm text-slate-900 dark:text-white",children:"Recordatorio de Pago"}),i.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Enviar 3 das antes del vencimiento"})]})]}),i.jsx("div",{className:"relative inline-flex h-6 w-11 items-center rounded-full bg-primary/90 dark:bg-primary",children:i.jsx("span",{className:"translate-x-6 inline-block h-4 w-4 transform rounded-full bg-white transition shadow-sm"})})]}),i.jsxs("div",{className:"flex items-center justify-between p-3 border border-slate-200 dark:border-slate-700 rounded-lg bg-white dark:bg-slate-800 hover:bg-slate-50 dark:hover:bg-slate-700/50 cursor-pointer transition-all active:scale-[0.98]",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"p-2 bg-slate-100 dark:bg-slate-700 rounded-full text-slate-500 dark:text-slate-300",children:i.jsx(B2,{size:16})}),i.jsxs("div",{children:[i.jsx("div",{className:"font-medium text-sm text-slate-900 dark:text-white",children:"Bienvenida a Nuevo Cliente"}),i.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Enviar al registrarse"})]})]}),i.jsx("div",{className:"relative inline-flex h-6 w-11 items-center rounded-full bg-slate-200 dark:bg-slate-600",children:i.jsx("span",{className:"translate-x-1 inline-block h-4 w-4 transform rounded-full bg-white transition shadow-sm"})})]})]})]}),i.jsxs(ee,{title:"Ejecucin Manual",className:"md:col-span-2 lg:col-span-1",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-4 text-slate-500 dark:text-slate-400",children:[i.jsx(_h,{size:16}),i.jsx("p",{className:"text-sm",children:"Ejecucin inmediata de tareas."})]}),i.jsxs("div",{className:"flex pb-4 sm:items-center flex-col sm:flex-row gap-4 mb-4 border-b border-slate-100 dark:border-slate-700",children:[i.jsxs("label",{className:"flex items-center gap-3 cursor-pointer p-2 rounded-lg hover:bg-slate-50 dark:hover:bg-slate-800/50 transition-colors border border-transparent hover:border-slate-200 dark:hover:border-slate-700 w-full sm:w-auto",children:[i.jsx(M,{type:"button",onClick:()=>l(!o),size:"icon",variant:o?"primary":"ghost",className:"w-5 h-5 p-0 flex items-center justify-center border","aria-pressed":o,children:o&&i.jsx(_t,{size:14})}),i.jsx("input",{type:"checkbox",checked:o,onChange:w=>l(w.target.checked),className:"hidden"}),i.jsx("span",{className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:"Modo Simulacin"})]}),i.jsxs("div",{className:"flex items-start gap-2 text-xs text-slate-500 dark:text-slate-400 px-2 sm:px-0",children:[i.jsx(oS,{size:14,className:"mt-0.5 shrink-0 text-amber-500"}),i.jsx("span",{children:o?"Solo contabiliza lo que se enviara (No enva correos/WhatsApp).":i.jsx("span",{className:"text-amber-600 dark:text-amber-400 font-medium",children:"ATENCIN: Se enviarn mensajes REALES a los clientes."})})]})]}),i.jsxs(M,{onClick:g,disabled:c,variant:o?"secondary":"primary",className:"w-full sm:w-auto flex items-center justify-center gap-2 py-6 text-base shadow-sm",children:[c?i.jsx(Wj,{className:"animate-spin"}):i.jsx(_h,{size:18,fill:"currentColor"}),c?"Ejecutando proceso...":o?"Iniciar Simulacin":"EJECUTAR ENVO REAL"]}),d&&i.jsxs("div",{className:"mt-4 p-4 bg-slate-900 text-slate-300 rounded-lg border border-slate-700 text-xs font-mono overflow-auto max-h-60 shadow-inner",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-2 text-slate-400 border-b border-slate-800 pb-2",children:[i.jsx(Bj,{size:12,className:"animate-pulse text-green-500"}),i.jsx("span",{className:"uppercase tracking-wider text-[10px]",children:"Console Output"})]}),i.jsx("pre",{className:"whitespace-pre-wrap breakdown-all",children:d})]})]})]})]})}function OE(){var u;const[e,t]=v.useState(null),[n,r]=v.useState(!0),[s,a]=v.useState(!1),[o,l]=v.useState({displayName:"",phone:"",address:""});v.useEffect(()=>{let d=!0;return(async()=>{var p,b;try{const y=await zt.me(),g=((p=y.data)==null?void 0:p.user)||((b=y.data)==null?void 0:b.data);d&&g&&(t(g),l({displayName:g.name||g.displayName||"",phone:g.phone||"",address:g.address||""}))}catch(y){console.error(y)}finally{d&&r(!1)}})(),()=>{d=!1}},[]);const c=async d=>{d.preventDefault(),a(!0),setTimeout(()=>{alert("Perfil actualizado (Simulado)"),a(!1)},1e3)};return n?i.jsx("div",{className:"p-8 text-center text-slate-500",children:"Cargando perfil..."}):i.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("div",{className:"h-16 w-16 rounded-full bg-slate-100 dark:bg-slate-700 border-2 border-white dark:border-slate-600 flex items-center justify-center text-xl font-bold text-primary dark:text-white shadow-sm overflow-hidden",children:(u=e==null?void 0:e.email)==null?void 0:u.charAt(0).toUpperCase()}),i.jsxs("div",{children:[i.jsx("h2",{className:"text-2xl font-bold text-primary dark:text-white",children:(e==null?void 0:e.displayName)||(e==null?void 0:e.name)||"Usuario"}),i.jsx("p",{className:"text-slate-500",children:e==null?void 0:e.email})]})]}),i.jsx(ee,{title:"Informacin Personal",children:i.jsxs("form",{onSubmit:c,className:"space-y-4",children:[i.jsx(K,{label:"Nombre Completo",value:o.displayName,onChange:d=>l({...o,displayName:d.target.value})}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsx(K,{label:"Telfono",value:o.phone,onChange:d=>l({...o,phone:d.target.value}),placeholder:"+56 9 1234 5678"}),i.jsx(K,{label:"Direccin",value:o.address,onChange:d=>l({...o,address:d.target.value}),placeholder:"Av. Principal 123"})]}),i.jsx("div",{className:"pt-4 flex justify-end",children:i.jsxs(M,{type:"submit",disabled:s,className:"flex items-center gap-2",children:[i.jsx(cS,{size:18}),s?"Guardando...":"Guardar Cambios"]})})]})}),i.jsx(ee,{title:"Seguridad",children:i.jsx("div",{className:"space-y-4",children:i.jsxs("div",{className:"p-4 bg-yellow-50 rounded-lg border border-yellow-100 flex items-start gap-3",children:[i.jsx("div",{className:"text-yellow-600 mt-0.5",children:i.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),i.jsxs("div",{children:[i.jsx("h4",{className:"text-sm font-medium text-yellow-800",children:"Cambiar Contrasea"}),i.jsx("p",{className:"text-xs text-yellow-700 mt-1",children:"Para cambiar tu contrasea, por favor contacta al administrador del sistema o usa la opcin de recuperacin de contrasea en el login."})]})]})})})]})}function DE(){const[e,t]=v.useState([]),[n,r]=v.useState(!0),[s,a]=v.useState(null),[o,l]=v.useState({displayName:"",role:"staff",disabled:!1}),[c,u]=v.useState(!1),[d,f]=v.useState(!1),[p,b]=v.useState({email:"",password:"",displayName:"",role:"staff"}),[y,g]=v.useState(null);v.useEffect(()=>{w()},[]);const w=async()=>{var N,S,T;r(!0);try{const z=await zt.listUsers({limit:50});(S=(N=z.data)==null?void 0:N.data)!=null&&S.users?t(z.data.data.users):Array.isArray(z.data)?t(z.data):(T=z.data)!=null&&T.data&&Array.isArray(z.data.data)&&t(z.data.data)}catch(z){console.error(z)}finally{r(!1)}},m=N=>{a(N.uid),l({displayName:N.displayName||N.name||"",role:N.role||"guest",disabled:N.disabled||!1})},h=()=>{a(null),l({displayName:"",role:"staff",disabled:!1})},x=async N=>{try{await zt.updateUser(N,{displayName:o.displayName,role:o.role,disabled:o.disabled}),t(S=>S.map(T=>T.uid===N?{...T,...o}:T)),a(null)}catch(S){alert("Error actualizando usuario: "+(S.message||"Error desconocido"))}},k=async N=>{N.preventDefault(),f(!0);try{await zt.create({email:p.email,password:p.password,displayName:p.displayName,role:p.role}),b({email:"",password:"",displayName:"",role:"staff"}),u(!1),w()}catch(S){alert("Error creando usuario: "+(S.message||"Error desconocido"))}finally{f(!1)}},j=async()=>{if(y)try{await zt.deleteUser(y.uid),t(N=>N.filter(S=>S.uid!==y.uid)),g(null)}catch(N){alert("Error eliminando usuario: "+(N.message||"Error desconocido")),g(null)}};return i.jsxs("div",{className:"space-y-6",children:[i.jsx(La,{className:"bg-white dark:bg-slate-800 p-4 rounded-xl shadow-sm border border-slate-200 dark:border-slate-700",title:i.jsxs("span",{className:"flex items-center gap-3",children:[i.jsx("span",{className:"p-3 bg-indigo-50 dark:bg-indigo-900/20 rounded-lg text-indigo-600 dark:text-indigo-400",children:i.jsx(Al,{size:24})}),i.jsx("span",{children:"Gestin de Usuarios"})]}),subtitle:"Administra el staff y accesos administrativos",action:i.jsxs(M,{onClick:()=>u(!c),className:"w-full sm:w-auto flex items-center justify-center gap-2",variant:c?"outline":"primary",children:[c?i.jsx(vr,{size:18}):i.jsx(uo,{size:18}),c?"Cancelar":"Nuevo Usuario"]})}),c&&i.jsxs("div",{className:"bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl shadow-lg overflow-hidden transition-all duration-300 ease-in-out mb-6",children:[i.jsxs("div",{className:"p-6 bg-slate-50 dark:bg-slate-900/50 border-b border-slate-100 dark:border-slate-700 flex items-center gap-3",children:[i.jsx("div",{className:"h-8 w-8 rounded-full bg-primary/10 flex items-center justify-center text-primary",children:i.jsx(uo,{size:16})}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-semibold text-slate-900 dark:text-white",children:"Registrar Nuevo Usuario"}),i.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:"Crea una cuenta para un administrador o miembro del staff."})]})]}),i.jsx("div",{className:"p-6",children:i.jsxs("form",{onSubmit:k,className:"space-y-6",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsx(K,{label:"Nombre Completo",value:p.displayName,onChange:N=>b(S=>({...S,displayName:N.target.value})),required:!0,placeholder:"Ej. Admin User",startContent:i.jsx(ma,{size:16,className:"text-slate-400"})}),i.jsx(K,{label:"Email",type:"email",value:p.email,onChange:N=>b(S=>({...S,email:N.target.value})),required:!0,placeholder:"admin@empresa.com",startContent:i.jsx($o,{size:16,className:"text-slate-400"})}),i.jsx(K,{label:"Contrasea",type:"password",value:p.password,onChange:N=>b(S=>({...S,password:N.target.value})),required:!0,placeholder:"",startContent:i.jsx(xg,{size:16,className:"text-slate-400"})}),i.jsxs("div",{children:[i.jsx("label",{className:"mb-1 text-sm font-medium text-slate-700 dark:text-slate-300 block",children:"Rol"}),i.jsxs("div",{className:"relative",children:[i.jsxs("select",{className:"flex h-11 w-full rounded-lg border border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-950 text-slate-900 dark:text-white px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent transition-shadow pl-10 appearance-none",value:p.role,onChange:N=>b(S=>({...S,role:N.target.value})),children:[i.jsx("option",{value:"staff",children:"Staff (Personal)"}),i.jsx("option",{value:"admin",children:"Administrador (Acceso Total)"}),i.jsx("option",{value:"client",children:"Cliente"})]}),i.jsx(Al,{size:16,className:"absolute left-3 top-3 text-slate-400 pointer-events-none"})]})]})]}),i.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t border-slate-100 dark:border-slate-700",children:[i.jsx(M,{type:"button",variant:"outline",onClick:()=>u(!1),disabled:d,children:"Cancelar"}),i.jsx(M,{type:"submit",disabled:d,className:"min-w-32",children:d?"Guardando...":"Crear Usuario"})]})]})})]}),i.jsx(ee,{title:`Usuarios del Sistema (${e.length})`,children:n?i.jsx("div",{className:"flex justify-center p-8",children:i.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):i.jsxs("div",{className:"overflow-x-auto -mx-4 sm:mx-0",children:[i.jsx("div",{className:"sm:hidden space-y-4 px-4 pb-4",children:e.map(N=>i.jsxs("div",{className:"bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-lg p-4 shadow-sm space-y-3",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"h-10 w-10 rounded-full bg-slate-200 dark:bg-slate-700 text-primary dark:text-white flex items-center justify-center font-bold text-sm ring-2 ring-white dark:ring-slate-600 shadow-sm shrink-0 uppercase",children:(N.displayName||N.name||N.email||"?").charAt(0)}),i.jsxs("div",{children:[s===N.uid?i.jsx(K,{value:o.displayName,onChange:S=>l({...o,displayName:S.target.value}),className:"h-8 text-xs mb-1",placeholder:"Nombre"}):i.jsx("div",{className:"text-sm font-semibold text-slate-400 dark:text-white",children:N.displayName||N.name||"Sin nombre"}),i.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400",children:N.email})]})]}),s!==N.uid&&i.jsxs("div",{className:"flex gap-1",children:[i.jsx(M,{onClick:()=>m(N),className:"text-slate-500 dark:text-slate-400 hover:bg-slate-100 dark:hover:bg-slate-700 p-2 rounded-full transition-colors",variant:"ghost",size:"icon",children:i.jsx(Wc,{size:18})}),i.jsx(M,{onClick:()=>g(N),className:"text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20 p-2 rounded-full transition-colors",variant:"ghost",size:"icon",children:i.jsx(Ol,{size:18})})]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4 text-xs text-slate-600 dark:text-slate-400 pt-3 border-t border-slate-100 dark:border-slate-700/50",children:[i.jsxs("div",{children:[i.jsx("span",{className:"block text-slate-400 dark:text-slate-500 text-[10px] uppercase font-semibold mb-1",children:"Rol"}),s===N.uid?i.jsxs("select",{className:"block w-full py-1 text-xs border-slate-300 dark:border-slate-600 dark:bg-slate-800 focus:outline-none focus:ring-primary focus:border-primary sm:text-xs rounded-md",value:o.role,onChange:S=>l({...o,role:S.target.value}),children:[i.jsx("option",{value:"staff",children:"Staff"}),i.jsx("option",{value:"admin",children:"Admin"}),i.jsx("option",{value:"client",children:"Cliente"}),i.jsx("option",{value:"guest",children:"Guest"})]}):i.jsx("span",{className:`px-2.5 py-0.5 inline-flex text-xs leading-4 font-medium rounded-full border 
                                            ${N.role==="admin"?"bg-purple-50 dark:bg-purple-900/30 text-purple-700 dark:text-purple-300 border-purple-100 dark:border-purple-800":N.role==="staff"?"bg-blue-50 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300 border-blue-100 dark:border-blue-800":N.role==="client"?"bg-green-50 dark:bg-green-900/30 text-green-700 dark:text-green-300 border-green-100 dark:border-green-800":"bg-slate-100 dark:bg-slate-700 text-slate-700 dark:text-slate-300 border-slate-200 dark:border-slate-600"}`,children:N.role||"guest"})]}),i.jsxs("div",{children:[i.jsx("span",{className:"block text-slate-400 dark:text-slate-500 text-[10px] uppercase font-semibold mb-1",children:"Estado"}),s===N.uid?i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("input",{id:`disabled-mobile-${N.uid}`,type:"checkbox",checked:o.disabled,onChange:S=>l({...o,disabled:S.target.checked}),className:"h-4 w-4 text-red-600 focus:ring-red-500 border-slate-300 rounded"}),i.jsx("label",{htmlFor:`disabled-mobile-${N.uid}`,className:"text-xs text-slate-700 dark:text-slate-300",children:"Bloqueado"})]}):N.disabled?i.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-red-50 dark:bg-red-900/20 text-red-700 dark:text-red-400 border border-red-100 dark:border-red-800",children:"Bloqueado"}):i.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-green-50 dark:bg-green-900/20 text-green-700 dark:text-green-400 border border-green-100 dark:border-green-800",children:"Activo"})]})]}),s===N.uid&&i.jsxs("div",{className:"flex justify-end gap-2 pt-2 border-t border-slate-50 dark:border-slate-700",children:[i.jsx(M,{size:"sm",variant:"outline",onClick:h,className:"text-xs h-8",children:"Cancelar"}),i.jsx(M,{size:"sm",onClick:()=>x(N.uid),className:"text-xs h-8 bg-green-600 hover:bg-green-700 text-white",children:"Guardar Cambios"})]})]},N.uid))}),i.jsxs("table",{className:"min-w-full divide-y divide-slate-200 dark:divide-slate-700 hidden sm:table",children:[i.jsx("thead",{className:"bg-slate-50 dark:bg-slate-800",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Usuario"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Rol"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Estado"}),i.jsx("th",{className:"px-6 py-3 text-right text-xs font-semibold text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Acciones"})]})}),i.jsx("tbody",{className:"bg-white dark:bg-slate-900 divide-y divide-slate-200 dark:divide-slate-800",children:e.map(N=>{var S;return i.jsxs("tr",{className:"hover:bg-slate-50 dark:hover:bg-slate-800/50 transition-colors",children:[i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s===N.uid?i.jsx("div",{className:"space-y-1",children:i.jsx(K,{value:o.displayName,onChange:T=>l({...o,displayName:T.target.value}),className:"h-8 text-xs",placeholder:"Nombre"})}):i.jsxs("div",{className:"flex items-center",children:[i.jsx("div",{className:"h-9 w-9 rounded-full bg-primary/10 text-primary flex items-center justify-center font-bold text-xs ring-2 ring-white dark:ring-slate-700 shadow-sm uppercase shrink-0",children:((S=N.email)==null?void 0:S.charAt(0))||"?"}),i.jsxs("div",{className:"ml-3",children:[i.jsx("div",{className:"text-sm font-semibold text-slate-900 dark:text-white",children:N.displayName||N.name||"Sin nombre"}),i.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400 font-medium",children:N.email})]})]})}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s===N.uid?i.jsxs("select",{className:"block w-full py-1 text-xs border-slate-300 dark:border-slate-600 dark:bg-slate-800 focus:outline-none focus:ring-primary focus:border-primary sm:text-xs rounded-md",value:o.role,onChange:T=>l({...o,role:T.target.value}),children:[i.jsx("option",{value:"staff",children:"Staff"}),i.jsx("option",{value:"admin",children:"Admin"}),i.jsx("option",{value:"client",children:"Cliente"}),i.jsx("option",{value:"guest",children:"Guest"})]}):i.jsx("span",{className:`px-2.5 py-0.5 inline-flex text-xs leading-4 font-medium rounded-full border 
                                            ${N.role==="admin"?"bg-purple-50 dark:bg-purple-900/30 text-purple-700 dark:text-purple-300 border-purple-100 dark:border-purple-800":N.role==="staff"?"bg-blue-50 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300 border-blue-100 dark:border-blue-800":N.role==="client"?"bg-green-50 dark:bg-green-900/30 text-green-700 dark:text-green-300 border-green-100 dark:border-green-800":"bg-slate-100 dark:bg-slate-700 text-slate-700 dark:text-slate-300 border-slate-200 dark:border-slate-600"}`,children:N.role||"guest"})}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s===N.uid?i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("input",{id:`disabled-${N.uid}`,type:"checkbox",checked:o.disabled,onChange:T=>l({...o,disabled:T.target.checked}),className:"h-4 w-4 text-red-600 focus:ring-red-500 border-slate-300 rounded"}),i.jsx("label",{htmlFor:`disabled-${N.uid}`,className:"text-xs text-slate-700 dark:text-slate-300",children:"Deshabilitado"})]}):N.disabled?i.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-red-50 dark:bg-red-900/20 text-red-700 dark:text-red-400 border border-red-100 dark:border-red-800",children:"Bloqueado"}):i.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-green-50 dark:bg-green-900/20 text-green-700 dark:text-green-400 border border-green-100 dark:border-green-800",children:"Activo"})}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:s===N.uid?i.jsxs("div",{className:"flex justify-end gap-2",children:[i.jsx(M,{onClick:()=>x(N.uid),className:"text-green-600 hover:text-green-900 bg-green-50 p-1.5 rounded-md hover:bg-green-100 transition-colors",title:"Guardar",variant:"ghost",size:"icon",children:i.jsx(Z2,{size:16})}),i.jsx(M,{onClick:h,className:"text-red-600 hover:text-red-900 bg-red-50 p-1.5 rounded-md hover:bg-red-100 transition-colors",title:"Cancelar",variant:"ghost",size:"icon",children:i.jsx(vr,{size:16})})]}):i.jsxs("div",{className:"flex justify-end gap-2",children:[i.jsxs(M,{onClick:()=>m(N),className:"text-slate-500 hover:text-slate-700 dark:text-slate-400 dark:hover:text-slate-200 inline-flex items-center gap-1 hover:bg-slate-100 dark:hover:bg-slate-800 px-3 py-1.5 rounded-md transition-colors text-xs font-medium",variant:"ghost",children:[i.jsx(Wc,{size:14})," Editar"]}),i.jsx(M,{onClick:()=>g(N),className:"text-red-500 hover:text-red-700 dark:text-red-400 dark:hover:text-red-300 inline-flex items-center gap-1 hover:bg-red-50 dark:hover:bg-red-900/20 px-3 py-1.5 rounded-md transition-colors text-xs font-medium",variant:"ghost",children:i.jsx(Ol,{size:14})})]})})]},N.uid)})})]})]})}),y&&i.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4 backdrop-blur-sm",children:i.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-xl shadow-2xl dark:shadow-black/50 border border-slate-200 dark:border-slate-800 max-w-md w-full p-6 animate-in fade-in zoom-in duration-200",children:[i.jsxs("div",{className:"flex items-center gap-3 text-red-600 dark:text-red-500 mb-4",children:[i.jsx("div",{className:"bg-red-100 dark:bg-red-900/30 p-3 rounded-full",children:i.jsx(Ol,{size:24})}),i.jsx("h3",{className:"text-xl font-bold text-slate-900 dark:text-white",children:"Eliminar Usuario?"})]}),i.jsxs("p",{className:"text-slate-600 dark:text-slate-300 mb-6 font-medium",children:["Ests a punto de eliminar a ",i.jsx("strong",{children:y.displayName||y.email}),"."]}),i.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-100 dark:border-red-800 p-3 rounded-lg flex items-start gap-2 mb-6",children:[i.jsx(Al,{size:16,className:"text-red-600 dark:text-red-400 mt-0.5 shrink-0"}),i.jsxs("p",{className:"text-xs text-red-700 dark:text-red-300",children:["Esta accin es ",i.jsx("strong",{children:"irreversible"})," y ejecutar una limpieza en cascada (cuenta, perfil y suscripciones asociadas)."]})]}),i.jsxs("div",{className:"flex justify-end gap-3",children:[i.jsx(M,{variant:"outline",onClick:()=>g(null),children:"Cancelar"}),i.jsx(M,{onClick:j,className:"bg-red-600 hover:bg-red-700 text-white border-red-600 dark:border-red-600",children:"Confirmar Eliminacin"})]})]})})]})}const Th=[{value:"01",label:"Enero"},{value:"02",label:"Febrero"},{value:"03",label:"Marzo"},{value:"04",label:"Abril"},{value:"05",label:"Mayo"},{value:"06",label:"Junio"},{value:"07",label:"Julio"},{value:"08",label:"Agosto"},{value:"09",label:"Septiembre"},{value:"10",label:"Octubre"},{value:"11",label:"Noviembre"},{value:"12",label:"Diciembre"}],Ag=new Date().getFullYear(),LE=Array.from({length:5},(e,t)=>Ag-t);function Og({value:e,onChange:t,className:n=""}){var p;const[r,s]=v.useState(!1),a=v.useRef(null),o=e?e.split("-")[1]:"",l=e?e.split("-")[0]:"";v.useEffect(()=>{function b(y){a.current&&!a.current.contains(y.target)&&s(!1)}return document.addEventListener("mousedown",b),()=>document.removeEventListener("mousedown",b)},[]);const c=b=>{t(l?`${l}-${b}`:`${Ag}-${b}`)},u=b=>{t(o?`${b}-${o}`:`${b}-01`)},d=b=>{b.stopPropagation(),t(""),s(!1)},f=e?`${(p=Th.find(b=>b.value===o))==null?void 0:p.label} ${l}`:"Mes";return i.jsxs("div",{ref:a,className:`relative ${n}`,children:[i.jsxs(M,{type:"button",onClick:()=>s(!r),className:`
          flex items-center gap-2 px-3 py-2 text-sm border rounded-lg transition-colors min-w-35 whitespace-nowrap
          ${e?"border-slate-300 dark:border-slate-400 bg-slate-400/5 dark:bg-slate-800 text-slate-900 dark:text-slate-400":"border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-800 text-slate-200 dark:text-slate-300 hover:border-slate-400"}
        `,variant:"ghost",children:[i.jsx(co,{className:"w-4 h-4 shrink-0"}),i.jsx("span",{className:"flex-1 text-left truncate",children:f}),e?i.jsx(vr,{className:"w-4 h-4 shrink-0 hover:text-red-500 transition-colors",onClick:d}):i.jsx(nn,{className:`w-4 h-4 shrink-0 transition-transform ${r?"rotate-180":""}`})]}),r&&i.jsx("div",{className:"absolute z-100 bottom-0 top-0 right-0 left-0 min-w-55 bg-white dark:bg-slate-800 rounded-md",children:i.jsxs("div",{className:"flex gap-2",children:[i.jsxs("div",{className:"relative flex-1",children:[i.jsxs("select",{value:o,onChange:b=>c(b.target.value),className:"w-full appearance-none pl-3 pr-8 py-2 text-sm border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-white cursor-pointer hover:border-primary focus:border-primary focus:outline-none focus:ring-1 focus:ring-primary",children:[i.jsx("option",{value:"",children:"Mes"}),Th.map(b=>i.jsx("option",{value:b.value,children:b.label},b.value))]}),i.jsx(nn,{className:"w-4 h-4 absolute right-2 top-1/2 -translate-y-1/2 text-slate-400 pointer-events-none"})]}),i.jsxs("div",{className:"relative w-24",children:[i.jsxs("select",{value:l,onChange:b=>u(b.target.value),className:"w-full appearance-none pl-3 pr-8 py-2 text-sm border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-white cursor-pointer hover:border-primary focus:border-primary focus:outline-none focus:ring-1 focus:ring-primary",children:[i.jsx("option",{value:"",children:"Ao"}),LE.map(b=>i.jsx("option",{value:b,children:b},b))]}),i.jsx(nn,{className:"w-4 h-4 absolute right-2 top-1/2 -translate-y-1/2 text-slate-400 pointer-events-none"})]})]})})]})}function ME(){const[e,t]=v.useState(!0),[n,r]=v.useState([]),[s,a]=v.useState(null),[o,l]=v.useState(null),[c,u]=v.useState(!1),[d,f]=v.useState(null),[p,b]=v.useState(""),[y,g]=v.useState(""),[w,m]=v.useState(""),[h,x]=v.useState(""),[k,j]=v.useState(new Date().toISOString().slice(0,7)),[N,S]=v.useState(null),[T,z]=v.useState(!1),[$,Q]=v.useState(!1),[ae,le]=v.useState(""),[D,te]=v.useState(!1),[H,L]=v.useState([]),[_,A]=v.useState([]),[I,O]=v.useState(new Map),[U,J]=v.useState(""),[W,Z]=v.useState(""),[oe,Y]=v.useState("USD"),[re,st]=v.useState("binance"),[Je,Ee]=v.useState(""),[pn,ft]=v.useState(""),[ze,Jn]=v.useState(""),[qt,za]=v.useState(""),[Ua,R]=v.useState(""),[Ne,kt]=v.useState(""),[ht,fe]=v.useState(null);v.useEffect(()=>{Ot(),Kt()},[p,y,h,k]);const Ot=async()=>{var C,ne,ce,ie;try{t(!0);const be={limit:100};p&&(be.status=p),y&&(be.method=y);const[at,fd,hd]=await Promise.all([En.list(be),V.get("/subscriptions"),V.get("/clients")]);console.log("Payments response:",at.data),console.log("Payments data field:",(C=at.data)==null?void 0:C.data);const pd=((ne=fd.data)==null?void 0:ne.data)||fd.data||[],Fg=((ce=hd.data)==null?void 0:ce.data)||hd.data||[];L(pd),A(Fg);const md=new Map;if(pd.forEach(Nr=>{Nr.id&&md.set(Nr.id,Nr)}),O(md),(ie=at.data)!=null&&ie.ok){const Nr=at.data.data||[];console.log("Parsed payments:",Nr),r(Nr)}}catch(be){console.error("Error fetching payments:",be),l("Error al cargar los pagos")}finally{t(!1)}},Kt=async()=>{var C,ne;try{const ce=await En.getStats();(C=ce.data)!=null&&C.ok&&((ne=ce.data)!=null&&ne.data)&&a(ce.data.data)}catch(ce){console.error("Error fetching stats:",ce)}},Vo=async()=>{var C,ne;try{const[ce,ie]=await Promise.all([V.get("/subscriptions"),V.get("/clients")]),be=((C=ce.data)==null?void 0:C.data)||ce.data||[],at=((ne=ie.data)==null?void 0:ne.data)||ie.data||[];L(be),A(at)}catch(ce){console.error("Error fetching subscriptions:",ce)}},mn=C=>{const ne=I.get(C);if(!ne)return{clientId:C,clientName:"Unknown",plan:"-",amount:"-",status:"-"};const ce=_.find(ie=>ie.id===ne.clientId||ie.uid===ne.clientId);return{clientId:ne.clientId,clientName:(ce==null?void 0:ce.name)||"Unknown",plan:ne.plan,amount:ne.amount,status:ne.status||"-"}},br=C=>{st(C),C==="binance"?Y("USDT"):C==="zinli"?Y("USD"):C==="pago_movil"?Y("VES"):C==="free"&&Y("USD")},Wo=async C=>{var ne,ce;if(C.preventDefault(),!U){l("Por favor selecciona una suscripcin");return}try{u(!0),l(null);const ie={subscriptionId:U,amount:parseFloat(W),currency:oe,method:re,date:new Date().toISOString()};re==="binance"||re==="zinli"?(ie.reference=Je,ie.payerEmail=pn,Ne&&(ie.receiptUrl=Ne)):re==="pago_movil"?(ie.payerPhone=ze,ie.payerIdNumber=qt,ie.bank=Ua,Je&&(ie.reference=Je)):re==="free"&&(ie.free=!0,ie.amount=0),await En.create(ie),fe("Pago registrado exitosamente. Est pendiente de verificacin."),te(!1),J(""),Z(""),Ee(""),ft(""),Jn(""),za(""),R(""),kt(""),Ot(),Kt()}catch(ie){console.error("Error creating payment:",ie),l(((ce=(ne=ie.response)==null?void 0:ne.data)==null?void 0:ce.message)||"Error al registrar el pago")}finally{u(!1)}},qo=async()=>{var C,ne,ce,ie;if(N)try{u(!0),l(null),await En.verify(N.id,ae||void 0),f("Pago aprobado exitosamente"),z(!1),S(null),le(""),Ot(),Kt()}catch(be){console.error("Error verifying payment:",be);const at=((ne=(C=be.response)==null?void 0:C.data)==null?void 0:ne.message)||((ie=(ce=be.response)==null?void 0:ce.data)==null?void 0:ie.error)||"Error al aprobar el pago";l(at)}finally{u(!1)}},Lg=async()=>{var C,ne,ce,ie;if(N)try{u(!0),l(null),await En.reject(N.id,ae||void 0),f("Pago rechazado"),Q(!1),S(null),le(""),Ot(),Kt()}catch(be){console.error("Error rejecting payment:",be);const at=((ne=(C=be.response)==null?void 0:C.data)==null?void 0:ne.message)||((ie=(ce=be.response)==null?void 0:ce.data)==null?void 0:ie.error)||"Error al rechazar el pago";l(at)}finally{u(!1)}},Mg=C=>{switch(C){case"verified":return"Aprobado";case"pending":return"Pendiente";case"rejected":return"Rechazado";default:return C}},zg=C=>{switch(C){case"binance":return"Binance";case"zinli":return"Zinli";case"pago_movil":return"Pago Mvil";case"free":return"Promocional";default:return C}},Ug=C=>C?new Date(C).toLocaleDateString("es-ES",{day:"2-digit",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"}):"-",Ko=(C,ne)=>ne==="USDT"||ne==="BTC"||ne==="ETH"?`${ne} ${C.toFixed(2)}`:ne==="VES"?new Intl.NumberFormat("es-VE",{style:"currency",currency:"VES"}).format(C):new Intl.NumberFormat("es-ES",{style:"currency",currency:"USD"}).format(C),kr=n.filter(C=>{var ne,ce,ie;if(h&&C.subscriptionId!==h||k&&new Date(C.date).toISOString().slice(0,7)!==k)return!1;if(w){const be=w.toLowerCase(),at=mn(C.subscriptionId);return((ne=C.reference)==null?void 0:ne.toLowerCase().includes(be))||((ce=C.payerEmail)==null?void 0:ce.toLowerCase().includes(be))||C.subscriptionId.toLowerCase().includes(be)||((ie=C.bank)==null?void 0:ie.toLowerCase().includes(be))||at.clientName.toLowerCase().includes(be)}return!0});return e&&n.length===0?i.jsx("div",{className:"flex items-center justify-center h-64",children:i.jsx(vt,{className:"w-8 h-8 animate-spin text-primary"})}):i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"text-2xl font-bold text-slate-900 dark:text-slate-100 tracking-tight",children:"Gestin de Pagos"}),i.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-300",children:"Administra y verifica los pagos de los clientes"})]}),i.jsxs(M,{onClick:()=>{Vo(),te(!D)},children:[i.jsx(ud,{className:"w-4 h-4 mr-2"}),"Nuevo Pago"]})]}),ht&&i.jsxs("div",{className:"flex items-center gap-2 p-3 bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-lg text-green-600 dark:text-green-400 text-sm",children:[i.jsx(_t,{className:"w-4 h-4 shrink-0"}),i.jsx("span",{children:ht})]}),d&&!ht&&i.jsxs("div",{className:"flex items-center gap-2 p-3 bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-lg text-green-600 dark:text-green-400 text-sm",children:[i.jsx(_t,{className:"w-4 h-4 shrink-0"}),i.jsx("span",{children:d})]}),o&&i.jsxs("div",{className:"flex items-center gap-2 p-3 bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 rounded-lg text-yellow-600 dark:text-yellow-400 text-sm",children:[i.jsx(Oa,{className:"w-4 h-4 shrink-0"}),i.jsx("span",{children:o})]}),D&&i.jsxs(ee,{children:[i.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Registrar Nuevo Pago"}),i.jsxs("form",{onSubmit:Wo,className:"space-y-4",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Suscripcin *"}),i.jsxs("select",{value:U,onChange:C=>J(C.target.value),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-800 text-slate-900 dark:text-white",required:!0,children:[i.jsx("option",{value:"",children:"Selecciona una suscripcin"}),H.map(C=>i.jsxs("option",{value:C.id??"",children:[C.plan," - ",C.amount," (",C.status,") -"," ",mn(C.id??"").clientName||"Unknown"]},C.id??""))]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Mtodo de Pago *"}),i.jsxs("select",{value:re,onChange:C=>br(C.target.value),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-800 text-slate-900 dark:text-white",required:!0,children:[i.jsx("option",{value:"binance",children:"Binance"}),i.jsx("option",{value:"zinli",children:"Zinli"}),i.jsx("option",{value:"pago_movil",children:"Pago Mvil"}),i.jsx("option",{value:"free",children:"Promocional (Gratis)"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Monto *"}),i.jsx(K,{type:"number",step:"0.01",value:W,onChange:C=>Z(C.target.value),placeholder:"50.00",required:re!=="free",disabled:re==="free"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Moneda"}),i.jsx("div",{className:"px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-slate-100 dark:bg-slate-900 text-slate-900 dark:text-white font-medium",children:oe==="USDT"?"USDT (CRIPTOMONEDA)":oe==="USD"?"USD (DLAR ESTADOUNIDENSE)":"VES (BOLVAR)"})]})]}),(re==="binance"||re==="zinli")&&i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Referencia *"}),i.jsx(K,{type:"text",value:Je,onChange:C=>Ee(C.target.value),placeholder:re==="binance"?"BIN_ABC123XYZ":"ZN_123456789",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Email *"}),i.jsx(K,{type:"email",value:pn,onChange:C=>ft(C.target.value),placeholder:"usuario@email.com",required:!0})]}),i.jsxs("div",{className:"md:col-span-2",children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"URL del Comprobante"}),i.jsx(K,{type:"url",value:Ne,onChange:C=>kt(C.target.value),placeholder:"https://binance.com/transaction/..."})]})]}),re==="pago_movil"&&i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Telfono *"}),i.jsx(K,{type:"tel",value:ze,onChange:C=>Jn(C.target.value),placeholder:"+584121234567",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Cdula *"}),i.jsx(K,{type:"text",value:qt,onChange:C=>za(C.target.value),placeholder:"12345678",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Banco *"}),i.jsx(K,{type:"text",value:Ua,onChange:C=>R(C.target.value),placeholder:"Banco de Venezuela",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Referencia"}),i.jsx(K,{type:"text",value:Je,onChange:C=>Ee(C.target.value),placeholder:"REF123456"})]})]}),i.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[i.jsx(M,{type:"button",variant:"secondary",onClick:()=>te(!1),children:"Cancelar"}),i.jsx(M,{type:"submit",disabled:c,children:c?i.jsxs(i.Fragment,{children:[i.jsx(vt,{className:"w-4 h-4 mr-2 animate-spin"}),"Registrando..."]}):"Registrar Pago"})]})]})]}),s&&i.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-5 gap-2 sm:gap-3",children:[i.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/30 border border-blue-200 dark:border-blue-800 rounded-xl p-3 sm:p-4 hover:scale-[1.02] transition-transform cursor-pointer",children:[i.jsxs("div",{className:"flex items-center gap-1.5 text-blue-600 dark:text-blue-400",children:[i.jsx(pa,{className:"w-4 h-4"}),i.jsx("span",{className:"text-xs sm:text-sm font-medium",children:"Total"})]}),i.jsx("div",{className:"text-xl sm:text-2xl font-bold text-blue-700 dark:text-blue-300 mt-1",children:s.total})]}),i.jsxs("div",{className:"bg-yellow-50 dark:bg-yellow-900/30 border border-yellow-200 dark:border-yellow-800 rounded-xl p-3 sm:p-4 hover:scale-[1.02] transition-transform cursor-pointer",children:[i.jsxs("div",{className:"flex items-center gap-1.5 text-yellow-600 dark:text-yellow-400",children:[i.jsx(Vt,{className:"w-4 h-4"}),i.jsx("span",{className:"text-xs sm:text-sm font-medium",children:"Pendientes"})]}),i.jsx("div",{className:"text-xl sm:text-2xl font-bold text-yellow-700 dark:text-yellow-300 mt-1",children:s.pending})]}),i.jsxs("div",{className:"bg-green-50 dark:bg-green-900/30 border border-green-200 dark:border-green-800 rounded-xl p-3 sm:p-4 hover:scale-[1.02] transition-transform cursor-pointer",children:[i.jsxs("div",{className:"flex items-center gap-1.5 text-green-600 dark:text-green-400",children:[i.jsx(_t,{className:"w-4 h-4"}),i.jsx("span",{className:"text-xs sm:text-sm font-medium",children:"Aprobados"})]}),i.jsx("div",{className:"text-xl sm:text-2xl font-bold text-green-700 dark:text-green-300 mt-1",children:s.verified})]}),i.jsxs("div",{className:"bg-red-50 dark:bg-red-900/30 border border-red-200 dark:border-red-800 rounded-xl p-3 sm:p-4 hover:scale-[1.02] transition-transform cursor-pointer",children:[i.jsxs("div",{className:"flex items-center gap-1.5 text-red-600 dark:text-red-400",children:[i.jsx(Vc,{className:"w-4 h-4"}),i.jsx("span",{className:"text-xs sm:text-sm font-medium",children:"Rechazados"})]}),i.jsx("div",{className:"text-xl sm:text-2xl font-bold text-red-700 dark:text-red-300 mt-1",children:s.rejected})]}),i.jsxs("div",{className:"bg-purple-50 dark:bg-purple-900/30 border border-purple-200 dark:border-purple-800 rounded-xl p-3 sm:p-4 hover:scale-[1.02] transition-transform cursor-pointer col-span-2 sm:col-span-3 lg:col-span-1",children:[i.jsxs("div",{className:"flex items-center gap-1.5 text-purple-600 dark:text-purple-400",children:[i.jsx(gg,{className:"w-4 h-4"}),i.jsx("span",{className:"text-xs sm:text-sm font-medium",children:"Monto Total"})]}),i.jsxs("div",{className:"text-xl sm:text-2xl font-bold text-purple-700 dark:text-purple-300 mt-1",children:["$",s.totalAmount.toFixed(2)]})]})]}),i.jsxs(ee,{className:"p-3 sm:p-4",children:[i.jsxs("div",{className:"relative mb-3",children:[i.jsx(Da,{className:"w-4 h-4 absolute left-3 top-1/2 -translate-y-1/2 z-10 text-slate-900 dark:text-slate-200"}),i.jsx(K,{type:"text",placeholder:"Buscar pagos...",value:w,onChange:C=>m(C.target.value),className:"pl-10 w-full"})]}),i.jsxs("div",{className:"flex flex-wrap gap-2 items-center justify-between",children:[i.jsxs("div",{className:"relative shrink-0",children:[i.jsxs("select",{value:p,onChange:C=>b(C.target.value),className:"appearance-none pl-3 pr-8 py-2 text-sm border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-800 text-slate-900 dark:text-white cursor-pointer hover:border-primary transition-colors min-w-32.5 focus:outline-none focus:ring-2 focus:ring-primary/20",children:[i.jsx("option",{value:"",children:"Estado"}),i.jsx("option",{value:"pending",children:"Pendiente"}),i.jsx("option",{value:"verified",children:"Aprobado"}),i.jsx("option",{value:"rejected",children:"Rechazado"})]}),i.jsx(ld,{className:"w-4 h-4 absolute right-7 top-1/2 -translate-y-1/2 text-slate-400 pointer-events-none"}),i.jsx(nn,{className:"w-4 h-4 absolute right-2 top-1/2 -translate-y-1/2 text-slate-400 pointer-events-none"})]}),i.jsxs("div",{className:"relative shrink-0",children:[i.jsxs("select",{value:y,onChange:C=>g(C.target.value),className:"appearance-none pl-3 pr-8 py-2 text-sm border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-800 text-slate-900 dark:text-white cursor-pointer hover:border-primary transition-colors min-w-32.5 focus:outline-none focus:ring-2 focus:ring-primary/20",children:[i.jsx("option",{value:"",children:"Mtodo"}),i.jsx("option",{value:"binance",children:"Binance"}),i.jsx("option",{value:"zinli",children:"Zinli"}),i.jsx("option",{value:"pago_movil",children:"Pago Mvil"}),i.jsx("option",{value:"free",children:"Gratis"})]}),i.jsx(Pt,{className:"w-4 h-4 absolute right-7 top-1/2 -translate-y-1/2 text-slate-400 pointer-events-none"}),i.jsx(nn,{className:"w-4 h-4 absolute right-2 top-1/2 -translate-y-1/2 text-slate-400 pointer-events-none"})]}),i.jsx("div",{className:"shrink-0",children:i.jsx(Og,{value:k,onChange:j})}),(p||y||h||k||w)&&i.jsxs(M,{onClick:()=>{b(""),g(""),x(""),j(new Date().toISOString().slice(0,7)),m("")},className:"shrink-0 flex items-center gap-1.5 text-center text-sm text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-md transition-colors px-3 py-2",variant:"ghost",children:[i.jsx(vr,{className:"w-4 h-4"}),i.jsx("span",{children:"Limpiar"})]})]}),kr.length>0&&i.jsxs("div",{className:"mt-3 text-xs text-slate-500 dark:text-slate-400",children:[kr.length," pago",kr.length!==1?"s":""," encontrado",kr.length!==1?"s":""]})]}),kr.length===0?i.jsx(ee,{children:i.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[i.jsx(pa,{className:"w-16 h-16 text-slate-300 dark:text-slate-600 mb-4"}),i.jsx("h3",{className:"text-lg font-medium text-slate-900 dark:text-white",children:"No hay pagos"}),i.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 mt-1",children:"No se encontraron pagos con los filtros aplicados"})]})}):i.jsx("div",{className:"space-y-3",children:kr.map(C=>i.jsxs(ee,{className:"hover:shadow-md transition-shadow p-3 sm:p-4",children:[i.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-start justify-between gap-3",children:[i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx("div",{className:`shrink-0 p-2 rounded-full w-10 h-10 flex items-center justify-center ${C.status==="verified"?"bg-green-100 dark:bg-green-900/30":C.status==="pending"?"bg-yellow-100 dark:bg-yellow-900/30":"bg-red-100 dark:bg-red-900/30"}`,children:C.status==="verified"?"":C.status==="pending"?"":""}),i.jsxs("div",{className:"min-w-0 flex-1",children:[i.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[i.jsx("span",{className:"font-semibold text-slate-900 dark:text-white text-sm sm:text-base",children:mn(C.subscriptionId).clientName}),i.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-medium ${C.status==="verified"?"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400":C.status==="pending"?"bg-yellow-100 text-yellow-700 dark:bg-yellow-900/30 dark:text-yellow-400":"bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-400"}`,children:Mg(C.status)})]}),i.jsxs("div",{className:"text-xs sm:text-sm text-slate-500 dark:text-slate-400 mt-1",children:[i.jsxs("span",{className:"mr-2",children:[" ",zg(C.method)]}),i.jsxs("span",{className:"mr-2",children:[""," ",mn(C.subscriptionId).plan]}),i.jsxs("span",{children:[" ",Ug(C.date)]})]})]})]}),i.jsxs("div",{className:"flex sm:flex-col items-center sm:items-end justify-between sm:justify-start gap-2 sm:gap-2 ml-13 sm:ml-0",children:[i.jsx("div",{className:"text-right",children:i.jsx("div",{className:"font-bold text-lg sm:text-xl text-slate-900 dark:text-secondary",children:Ko(C.amount,C.currency)})}),C.status==="pending"&&i.jsxs("div",{className:"flex gap-1",children:[i.jsx(M,{onClick:()=>{S(C),z(!0)},className:"p-2 text-green-600 hover:bg-green-50 dark:hover:bg-green-900/20 rounded-lg transition-colors",title:"Aprobar",variant:"ghost",size:"icon",children:""}),i.jsx(M,{onClick:()=>{S(C),Q(!0)},className:"p-2 text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition-colors",title:"Rechazar",variant:"ghost",size:"icon",children:""})]})]})]}),(C.reference||C.payerEmail||C.bank)&&i.jsx("div",{className:"mt-3 pt-3 border-t border-slate-100 dark:border-slate-700",children:i.jsxs("div",{className:"flex flex-wrap gap-2 text-xs text-slate-500 dark:text-slate-400",children:[C.reference&&i.jsxs("span",{className:"bg-slate-100 dark:bg-slate-800 px-2 py-1 rounded",children:[" ",C.reference]}),C.payerEmail&&i.jsxs("span",{className:"bg-slate-100 dark:bg-slate-800 px-2 py-1 rounded",children:[" ",C.payerEmail]}),C.bank&&i.jsxs("span",{className:"bg-slate-100 dark:bg-slate-800 px-2 py-1 rounded",children:[" ",C.bank]})]})}),C.notes&&i.jsx("div",{className:"mt-2 pt-2 border-t border-slate-100 dark:border-slate-700",children:i.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:[i.jsx("span",{className:"font-medium",children:" Nota:"})," ",C.notes]})})]},C.id))}),T&&N&&i.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:i.jsxs(ee,{className:"w-full max-w-md",children:[i.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Aprobar Pago"}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"p-3 bg-slate-50 dark:bg-slate-800 rounded-lg",children:[i.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Monto"}),i.jsx("p",{className:"font-semibold",children:Ko(N.amount,N.currency)})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Notas (opcional)"}),i.jsx("textarea",{value:ae,onChange:C=>le(C.target.value),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-800 text-slate-900 dark:text-white",rows:3,placeholder:"Agregar una nota..."})]}),i.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[i.jsx(M,{variant:"secondary",onClick:()=>{z(!1),S(null),le("")},children:"Cancelar"}),i.jsx(M,{onClick:qo,disabled:c,children:c?i.jsxs(i.Fragment,{children:[i.jsx(vt,{className:"w-4 h-4 mr-2 animate-spin"}),"Aprobando..."]}):i.jsxs(i.Fragment,{children:[i.jsx(_t,{className:"w-4 h-4 mr-2"}),"Aprobar Pago"]})})]})]})]})}),$&&N&&i.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:i.jsxs(ee,{className:"w-full max-w-md",children:[i.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Rechazar Pago"}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"p-3 bg-slate-50 dark:bg-slate-800 rounded-lg",children:[i.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Monto"}),i.jsx("p",{className:"font-semibold",children:Ko(N.amount,N.currency)})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Razn del rechazo *"}),i.jsx("textarea",{value:ae,onChange:C=>le(C.target.value),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-800 text-slate-900 dark:text-white",rows:3,placeholder:"Indica la razn del rechazo...",required:!0})]}),i.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[i.jsx(M,{variant:"secondary",onClick:()=>{Q(!1),S(null),le("")},children:"Cancelar"}),i.jsx(M,{variant:"danger",onClick:Lg,disabled:c||!ae,children:c?i.jsxs(i.Fragment,{children:[i.jsx(vt,{className:"w-4 h-4 mr-2 animate-spin"}),"Rechazando..."]}):i.jsxs(i.Fragment,{children:[i.jsx(Vc,{className:"w-4 h-4 mr-2"}),"Rechazar Pago"]})})]})]})]})})]})}function zE(){return i.jsx(i.Fragment,{children:i.jsxs(Ie,{path:"/admin",element:i.jsx(bg,{roles:["admin"],children:i.jsx(jg,{})}),children:[i.jsx(Ie,{index:!0,element:i.jsx(ES,{})}),i.jsx(Ie,{path:"clients",element:i.jsx(_S,{})}),i.jsx(Ie,{path:"client/:uid",element:i.jsx(_E,{})}),i.jsx(Ie,{path:"subscriptions",element:i.jsx(EE,{})}),i.jsx(Ie,{path:"communication",element:i.jsx(PE,{})}),i.jsx(Ie,{path:"automation",element:i.jsx(AE,{})}),i.jsx(Ie,{path:"users",element:i.jsx(DE,{})}),i.jsx(Ie,{path:"payments",element:i.jsx(ME,{})}),i.jsx(Ie,{path:"me",element:i.jsx(OE,{})})]})})}function Dg({message:e="Cargando..."}){return i.jsxs("div",{className:"loading-spinner-container",children:[i.jsx("div",{className:"loading-spinner"}),i.jsx("div",{className:"loading-message",children:e})]})}function UE(e){const[t,n]=v.useState(!0),[r,s]=v.useState(null),[a,o]=v.useState(null),[l,c]=v.useState(null);return v.useEffect(()=>{let d=!0;return(async()=>{var p,b,y;if(!e){d&&(c("No se encontr el usuario"),n(!1));return}try{n(!0);const g=await V.get("/auth/me").catch(()=>null),w=((p=g==null?void 0:g.data)==null?void 0:p.data)||(g==null?void 0:g.data)||null;try{const j=await V.get(`/clients/${e}`),N=((b=j.data)==null?void 0:b.data)||j.data;d&&o(N)}catch{}if(!d)return;const m=await V.get("/subscriptions"),k=(((y=m.data)==null?void 0:y.data)||m.data||[]).filter(j=>j.clientId===e).find(j=>j.status==="active");k?d&&s({...k,clientName:(w==null?void 0:w.displayName)||"",clientEmail:(w==null?void 0:w.email)||""}):d&&s(null)}catch(g){console.error("Error fetching data:",g),d&&c("No se pudieron cargar los datos")}finally{d&&n(!1)}})(),()=>{d=!1}},[e]),{loading:t,subscription:r,clientData:a,error:l,clearError:()=>c(null)}}function FE({status:e}){const t=s=>{switch(s){case"active":return"text-green-600 bg-green-50 dark:bg-green-900/20";case"inactive":return"text-slate-600 bg-slate-50 dark:bg-slate-900/20";case"past_due":return"text-yellow-600 bg-yellow-50 dark:bg-yellow-900/20";case"cancelled":return"text-red-600 bg-red-50 dark:bg-red-900/20";default:return"text-slate-600 bg-slate-50 dark:bg-slate-900/20"}},n=s=>{switch(s){case"active":return"Activo";case"inactive":return"Inactivo";case"past_due":return"Pendiente de pago";case"cancelled":return"Cancelado";default:return s||"-"}},r=e==="active"?i.jsx(_t,{className:"w-3 h-3"}):e==="past_due"?i.jsx(Oa,{className:"w-3 h-3"}):i.jsx(Vt,{className:"w-3 h-3"});return i.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium ${t(e)}`,children:[r,n(e)]})}function $E({subscription:e,daysUntil:t,onDetails:n}){return e?i.jsxs(ee,{className:"border-l-4 border-l-primary/70",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsx("h3",{className:"font-semibold text-slate-900 dark:text-secondary",children:"Tu Plan Actual"}),i.jsx(FE,{status:e.status})]}),i.jsxs("div",{className:"flex items-center justify-between py-2",children:[i.jsxs("div",{children:[i.jsx("div",{className:"font-bold text-lg text-slate-900 dark:text-slate-200",children:e.plan}),i.jsxs("div",{className:"text-2xl font-bold text-primary mt-1 dark:text-secondary",children:[e.amount,i.jsx("span",{className:"text-sm font-normal text-slate-500 dark:text-slate-300",children:"/mes"})]})]}),i.jsx(Pt,{className:"w-10 h-10 text-slate-300 dark:text-slate-600"})]}),i.jsxs("div",{className:"mt-4 pt-4 border-t border-slate-100 dark:border-slate-700 flex items-center justify-between text-sm",children:[i.jsxs("span",{className:"text-slate-500 dark:text-slate-400 flex items-center gap-1.5",children:[i.jsx(Vt,{className:"w-4 h-4"}),"Prximo corte:"]}),i.jsx("span",{className:"font-medium text-slate-900 dark:text-slate-200",children:Sg(e.cutDate)})]}),i.jsx("div",{className:"mt-2 flex items-center gap-2 text-sm text-primary dark:text-secondary font-semibold",children:typeof t=="number"&&t>=0?i.jsxs(i.Fragment,{children:[i.jsx(Vt,{className:"w-4 h-4"}),"Faltan ",t," das para el cobro"]}):i.jsx("span",{children:"No se pudo calcular los das restantes"})}),i.jsx("div",{className:"mt-3",children:i.jsx(M,{variant:"primary",className:"w-full font-bold shadow-md shadow-primary/20",onClick:n,children:"Ver detalles"})})]}):i.jsx(ee,{className:"border-l-4 border-l-primary/70",children:i.jsxs("div",{className:"flex flex-col items-center justify-center py-8 text-center",children:[i.jsx(Pt,{className:"w-12 h-12 text-slate-300 dark:text-slate-600 mb-3"}),i.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:"No tienes suscripcin activa"}),i.jsx(M,{variant:"secondary",size:"sm",className:"mt-3",children:"Contactar soporte"})]})})}function BE(){const e=ds();return i.jsxs("div",{children:[i.jsx("h3",{className:"font-semibold text-slate-900 dark:text-secondary mb-4",children:"Accesos rpidos"}),i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3",children:[i.jsxs(M,{variant:"outline",className:"h-auto py-4 flex-col gap-2 bg-blue-50 dark:bg-blue-900/20 border-blue-200 dark:border-blue-800 text-blue-700 dark:text-blue-300",onClick:()=>e("/client/subscription"),children:[i.jsx(Pt,{className:"w-6 h-6"}),i.jsx("span",{children:"Mi Suscripcin"})]}),i.jsxs(M,{variant:"outline",className:"h-auto py-4 flex-col gap-2 bg-blue-50 dark:bg-blue-900/20 border-blue-200 dark:border-blue-800 text-blue-700 dark:text-blue-300",onClick:()=>e("/client/payments"),children:[i.jsx(pa,{className:"w-6 h-6"}),i.jsx("span",{children:"Mis Pagos"})]}),i.jsxs(M,{variant:"outline",className:"h-auto py-4 flex-col gap-2 bg-blue-50 dark:bg-blue-900/20 border-blue-200 dark:border-blue-800 text-blue-700 dark:text-blue-300",onClick:()=>e("/client/profile"),children:[i.jsx(ma,{className:"w-6 h-6"}),i.jsx("span",{children:"Mi Perfil"})]})]})]})}function HE(){const{user:e}=hn(),t=ds(),{loading:n,subscription:r,error:s,clearError:a}=UE(e==null?void 0:e.id);if(v.useEffect(()=>{s&&(_e.error(s),a())},[s,a]),n)return i.jsx(Dg,{message:"Cargando..."});const o=r?SS(r.cutDate):"-";return i.jsxs("div",{className:"space-y-6",children:[i.jsx(La,{title:"Dashboard Cliente",subtitle:e!=null&&e.displayName?`Bienvenido, ${e.displayName}`:"Bienvenido"}),i.jsx($E,{subscription:r,daysUntil:o,onDetails:()=>t("/client/subscription")}),i.jsx(ee,{children:i.jsx(BE,{})})]})}function VE(){const{user:e}=hn(),[t,n]=v.useState(!0),[r,s]=v.useState(null),[a,o]=v.useState([]),[l,c]=v.useState(null),[u,d]=v.useState(!1);v.useEffect(()=>{let g=!0;return(async()=>{var m;if(!(e!=null&&e.id)){g&&(c("No se encontr el usuario"),n(!1));return}try{n(!0);const h=await V.get("/subscriptions"),x=((m=h.data)==null?void 0:m.data)||h.data||[],k=e.id,j=x.filter(S=>S.clientId===k).map(S=>({...S,clientName:e.displayName||"",clientEmail:e.email||""}));if(!g)return;o(j);const N=j.find(S=>S.status==="active");s(N||null)}catch(h){console.error("Error fetching subscription:",h),g&&c("No se pudo cargar la informacin de tu suscripcin")}finally{g&&n(!1)}})(),()=>{g=!1}},[e]),v.useEffect(()=>{l&&(_e.error(l),c(null))},[l]);const f=async()=>{var g,w;if(r!=null&&r.id)try{d(!0),await V.post(`/subscriptions/${r.id}/renew`),window.location.reload()}catch(m){_e.error(((w=(g=m.response)==null?void 0:g.data)==null?void 0:w.message)||"Error al renovar suscripcin")}finally{d(!1)}},p=g=>{switch(g){case"active":return"text-green-600 bg-green-50 dark:bg-green-900/20";case"about_to_expire":return"text-yellow-600 bg-yellow-50 dark:bg-yellow-900/20";case"suspended":return"text-orange-600 bg-orange-50 dark:bg-orange-900/20";case"paused":return"text-blue-600 bg-blue-50 dark:bg-blue-900/20";case"cancelled":return"text-red-600 bg-red-50 dark:bg-red-900/20";default:return"text-slate-600 bg-slate-50 dark:bg-slate-900/20"}},b=g=>{switch(g){case"active":return"Activo";case"about_to_expire":return"Por Vencer";case"suspended":return"Suspendido";case"paused":return"Pausado";case"cancelled":return"Cancelado";default:return g}},y=g=>g?new Date(g).toLocaleDateString("es-ES",{day:"2-digit",month:"long",year:"numeric"}):"-";return t?i.jsx("div",{className:"flex items-center justify-center h-64",children:i.jsx(vt,{className:"w-8 h-8 animate-spin text-primary"})}):i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"text-2xl font-bold text-slate-900 dark:text-secondary tracking-tight",children:"Mi Suscripcin"}),i.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-300",children:"Gestiona tu plan de suscripcin"})]}),!r&&!l&&i.jsx(ee,{children:i.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[i.jsx(Pt,{className:"w-16 h-16 text-slate-300 dark:text-slate-600 mb-4"}),i.jsx("h3",{className:"text-lg font-medium text-slate-900 dark:text-white",children:"No tienes suscripcin activa"}),i.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 mt-1 mb-4",children:"Contacta con nosotros para contratar un plan"}),i.jsx(M,{children:"Contactar soporte"})]})}),r&&i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:`inline-flex items-center gap-2 px-3 py-1.5 rounded-full ${p(r.status||"")}`,children:[r.status==="active"?i.jsx(_t,{className:"w-4 h-4"}):r.status==="about_to_expire"?i.jsx(Oa,{className:"w-4 h-4"}):i.jsx(Vt,{className:"w-4 h-4"}),i.jsx("span",{className:"text-sm font-medium text-slate-900 dark:text-slate-200",children:b(r.status||"")})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs(ee,{className:"border-l-4 border-l-primary/70",children:[i.jsx("h3",{className:"font-semibold text-slate-900 dark:text-white mb-4",children:"Plan"}),i.jsxs("div",{className:"flex items-center justify-between py-2",children:[i.jsxs("div",{children:[i.jsx("div",{className:"font-bold text-xl text-slate-900 dark:text-slate-200",children:r.plan}),i.jsxs("div",{className:"text-3xl font-bold text-primary dark:text-secondary mt-2",children:[r.amount,i.jsx("span",{className:"text-sm font-normal text-slate-500 dark:text-slate-300",children:"/mes"})]}),r.country&&i.jsxs("div",{className:"mt-2 text-sm text-blue-600 dark:text-blue-300 font-semibold",children:["Pas: ",r.country]})]}),i.jsx(Pt,{className:"w-12 h-12 text-slate-300 dark:text-slate-600"})]}),r.passwordSub&&i.jsxs("div",{className:"mt-4 pt-4 border-t border-slate-100 dark:border-slate-700",children:[i.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-500 dark:text-slate-400 mb-2",children:[i.jsx(wj,{className:"w-4 h-4"}),"Contrasea del servicio"]}),i.jsx("div",{className:"font-mono text-sm bg-slate-100 dark:bg-slate-800 px-3 py-2 rounded-lg text-slate-900 dark:text-slate-200",children:r.passwordSub})]})]}),i.jsxs(ee,{children:[i.jsx("h3",{className:"font-semibold text-slate-900 dark:text-white mb-4",children:"Informacin de Facturacin"}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between p-3 bg-slate-50 dark:bg-slate-900/50 rounded-lg",children:[i.jsxs("div",{className:"flex items-center gap-2 text-slate-500 dark:text-slate-400",children:[i.jsx(co,{className:"w-4 h-4"}),i.jsx("span",{className:"text-sm",children:"Fecha de inicio"})]}),i.jsx("span",{className:"font-medium text-slate-900 dark:text-slate-200",children:y(r.startDate)})]}),i.jsxs("div",{className:"flex items-center justify-between p-3 bg-slate-50 dark:bg-slate-900/50 rounded-lg",children:[i.jsxs("div",{className:"flex items-center gap-2 text-slate-500 dark:text-slate-400",children:[i.jsx(co,{className:"w-4 h-4"}),i.jsx("span",{className:"text-sm",children:"Prximo corte"})]}),i.jsx("span",{className:"font-medium text-slate-900 dark:text-slate-200",children:y(r.cutDate)})]})]})]})]}),i.jsxs(ee,{children:[i.jsx("h3",{className:"font-semibold text-slate-900 dark:text-white mb-4",children:"Opciones"}),i.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[i.jsx(M,{variant:"primary",onClick:f,disabled:u,children:u?i.jsxs(i.Fragment,{children:[i.jsx(vt,{className:"w-4 h-4 mr-2 animate-spin"}),"Renovando..."]}):"Renovar suscripcin"}),i.jsx(M,{variant:"secondary",children:"Solicitar cambio de plan"}),i.jsx(M,{variant:"outline",children:"Ver historial"})]})]})]}),a.length>1&&i.jsxs(ee,{children:[i.jsx("h3",{className:"font-semibold text-slate-900 dark:text-white mb-4",children:"Historial de Planes"}),i.jsx("div",{className:"space-y-3",children:a.map(g=>i.jsxs("div",{className:"flex items-center justify-between p-3 bg-slate-50 dark:bg-slate-900/50 rounded-lg",children:[i.jsxs("div",{children:[i.jsx("div",{className:"font-medium text-slate-900 dark:text-slate-200",children:g.plan}),i.jsxs("div",{className:"text-sm text-slate-500 dark:text-slate-400",children:[y(g.startDate)," - ",g.status==="active"?"Actual":y(g.cutDate)]})]}),i.jsx("span",{className:`text-sm font-medium ${p(g.status||"")}`,children:b(g.status||"")})]},g.id))})]})]})}function WE(){const{user:e}=hn(),[t,n]=v.useState(!0),[r,s]=v.useState([]),[a,o]=v.useState([]),[l,c]=v.useState(null),[u,d]=v.useState("all"),[f,p]=v.useState(""),[b,y]=v.useState(!1),[g,w]=v.useState(!1),[m,h]=v.useState(null),[x,k]=v.useState(null),[j,N]=v.useState(""),[S,T]=v.useState(""),[z,$]=v.useState("USD"),[Q,ae]=v.useState("binance"),[le,D]=v.useState(""),[te,H]=v.useState(""),[L,_]=v.useState(""),[A,I]=v.useState(""),[O,U]=v.useState(""),[J,W]=v.useState(""),Z=R=>{ae(R),R==="binance"?$("USDT"):R==="zinli"?$("USD"):R==="pago_movil"?$("VES"):R==="free"&&$("USD")};v.useEffect(()=>{let R=!0;return(async()=>{var kt,ht;if(!(e!=null&&e.id)){R&&(c("No se encontr el usuario"),n(!1));return}try{n(!0);const fe=await V.get("/subscriptions"),Kt=(((kt=fe.data)==null?void 0:kt.data)||fe.data||[]).filter(br=>br.clientId===e.id);R&&o(Kt);const Vo=new Set(Kt.map(br=>br.id)),mn=await En.list({limit:100});if(console.log("Client payments response:",mn.data),(ht=mn.data)!=null&&ht.ok){const Wo=(mn.data.data||[]).filter(qo=>Vo.has(qo.subscriptionId));R&&s(Wo)}}catch(fe){console.error("Error fetching data:",fe),R&&c("No se pudieron cargar los datos")}finally{R&&n(!1)}})(),()=>{R=!1}},[e]);const oe=async R=>{var Ne,kt,ht;if(R.preventDefault(),!j){c("Por favor selecciona una suscripcin");return}try{w(!0),c(null);const fe={subscriptionId:j,amount:parseFloat(S),currency:z,method:Q,date:new Date().toISOString()};Q==="binance"||Q==="zinli"?(fe.reference=le,fe.payerEmail=te,J&&(fe.receiptUrl=J)):Q==="pago_movil"?(fe.payerPhone=L,fe.payerIdNumber=A,fe.bank=O,le&&(fe.reference=le)):Q==="free"&&(fe.free=!0,fe.amount=0),await En.create(fe),h("Pago registrado exitosamente. Ser verificado por un administrador."),y(!1),N(""),T(""),ae("binance"),D(""),H(""),_(""),I(""),U(""),W("");const Ot=await En.list({limit:100});if(console.log("Refresh payments response:",Ot.data),(Ne=Ot.data)!=null&&Ne.ok){const Kt=Ot.data.data||[];s(Kt)}}catch(fe){console.error("Error submitting payment:",fe),c(((ht=(kt=fe.response)==null?void 0:kt.data)==null?void 0:ht.message)||"Error al registrar el pago")}finally{w(!1)}},Y=R=>{switch(R){case"verified":return"text-green-600 bg-green-50 dark:bg-green-900/20";case"pending":return"text-yellow-600 bg-yellow-50 dark:bg-yellow-900/20";case"rejected":return"text-red-600 bg-red-50 dark:bg-red-900/20";default:return"text-slate-600 bg-slate-50 dark:bg-slate-900/20"}},re=R=>{switch(R){case"verified":return i.jsx(_t,{className:"w-4 h-4"});case"pending":return i.jsx(Vt,{className:"w-4 h-4"});case"rejected":return i.jsx(Vc,{className:"w-4 h-4"});default:return i.jsx(Vt,{className:"w-4 h-4"})}},st=R=>{switch(R){case"verified":return"Aprobado";case"pending":return"Pendiente";case"rejected":return"Rechazado";default:return R}},Je=R=>{switch(R){case"binance":return"Binance";case"zinli":return"Zinli";case"pago_movil":return"Pago Mvil";case"free":return"Promocional (Gratis)";default:return R}},Ee=R=>{switch(R){case"binance":return i.jsx(Pt,{className:"w-4 h-4"});case"zinli":return i.jsx(mS,{className:"w-4 h-4"});case"pago_movil":return i.jsx(eS,{className:"w-4 h-4"});case"free":return i.jsx(vj,{className:"w-4 h-4"});default:return i.jsx(Pt,{className:"w-4 h-4"})}},pn=R=>R?new Date(R).toLocaleDateString("es-ES",{day:"2-digit",month:"short",year:"numeric"}):"-",ft=(R,Ne)=>Ne==="USDT"||Ne==="BTC"||Ne==="ETH"?`${Ne} ${R.toFixed(2)}`:Ne==="VES"?new Intl.NumberFormat("es-VE",{style:"currency",currency:"VES"}).format(R):new Intl.NumberFormat("es-ES",{style:"currency",currency:"USD"}).format(R),[ze,Jn]=v.useState(new Date().toISOString().slice(0,7));v.useEffect(()=>{m&&(_e.success(m),h(null))},[m]),v.useEffect(()=>{x&&(_e.success(x),k(null))},[x]),v.useEffect(()=>{l&&(_e.error(l),c(null))},[l]);const qt=r.filter(R=>{var Ne,kt,ht;if(u!=="all"&&R.status!==u||ze&&new Date(R.date).toISOString().slice(0,7)!==ze)return!1;if(f){const fe=f.toLowerCase();return((Ne=R.reference)==null?void 0:Ne.toLowerCase().includes(fe))||((kt=R.payerEmail)==null?void 0:kt.toLowerCase().includes(fe))||R.subscriptionId.toLowerCase().includes(fe)||((ht=R.bank)==null?void 0:ht.toLowerCase().includes(fe))}return!0}),za=r.filter(R=>R.status==="verified").reduce((R,Ne)=>R+Ne.amount,0),Ua=r.filter(R=>R.status==="pending").reduce((R,Ne)=>R+Ne.amount,0);return t?i.jsx("div",{className:"flex items-center justify-center h-64",children:i.jsx(vt,{className:"w-8 h-8 animate-spin text-primary"})}):i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"text-2xl font-bold text-slate-900 dark:text-secondary tracking-tight",children:"Mis Pagos"}),i.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-300",children:"Consulta tus pagos y registra nuevos"})]}),i.jsxs(M,{onClick:()=>y(!b),children:[i.jsx(ud,{className:"w-4 h-4 mr-2"}),"Registrar Pago"]})]}),b&&i.jsxs(ee,{children:[i.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Registrar Nuevo Pago"}),i.jsxs("form",{onSubmit:oe,className:"space-y-4",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Suscripcin *"}),i.jsxs("select",{value:j,onChange:R=>N(R.target.value),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-800 text-slate-900 dark:text-white",required:!0,children:[i.jsx("option",{value:"",children:"Selecciona una suscripcin"}),a.map(R=>i.jsxs("option",{value:R.id,children:[R.plan," - ",R.amount," (",R.status,")"]},R.id))]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Mtodo de Pago *"}),i.jsxs("select",{value:Q,onChange:R=>Z(R.target.value),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-800 text-slate-900 dark:text-white",required:!0,children:[i.jsx("option",{value:"binance",children:"Binance"}),i.jsx("option",{value:"zinli",children:"Zinli"}),i.jsx("option",{value:"pago_movil",children:"Pago Mvil"}),i.jsx("option",{value:"free",children:"Promocional (Gratis)"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Monto *"}),i.jsx(K,{type:"number",step:"0.01",value:S,onChange:R=>T(R.target.value),placeholder:"50.00",required:Q!=="free",disabled:Q==="free"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Moneda"}),i.jsx("div",{className:"px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-slate-100 dark:bg-slate-900 text-slate-900 dark:text-white font-medium",children:z==="USDT"?"USDT (CRIPTOMONEDA)":z==="USD"?"USD (DLAR ESTADOUNIDENSE)":"VES (BOLVAR)"})]})]}),(Q==="binance"||Q==="zinli")&&i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Referencia *"}),i.jsx(K,{type:"text",value:le,onChange:R=>D(R.target.value),placeholder:Q==="binance"?"BIN_ABC123XYZ":"ZN_123456789",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Email *"}),i.jsx(K,{type:"email",value:te,onChange:R=>H(R.target.value),placeholder:"usuario@email.com",required:!0})]}),i.jsxs("div",{className:"md:col-span-2",children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"URL del Comprobante"}),i.jsx(K,{type:"url",value:J,onChange:R=>W(R.target.value),placeholder:"https://binance.com/transaction/..."})]})]}),Q==="pago_movil"&&i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Telfono *"}),i.jsx(K,{type:"tel",value:L,onChange:R=>_(R.target.value),placeholder:"+584121234567",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Cdula *"}),i.jsx(K,{type:"text",value:A,onChange:R=>I(R.target.value),placeholder:"12345678",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Banco *"}),i.jsx(K,{type:"text",value:O,onChange:R=>U(R.target.value),placeholder:"Banco de Venezuela",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Referencia"}),i.jsx(K,{type:"text",value:le,onChange:R=>D(R.target.value),placeholder:"REF123456"})]})]}),i.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[i.jsx(M,{type:"button",variant:"secondary",onClick:()=>y(!1),children:"Cancelar"}),i.jsx(M,{type:"submit",disabled:g,children:g?i.jsxs(i.Fragment,{children:[i.jsx(vt,{className:"w-4 h-4 mr-2 animate-spin"}),"Registrando..."]}):"Registrar Pago"})]})]})]}),i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[i.jsxs(ee,{className:"bg-green-50 dark:bg-green-900/20 border-green-200 dark:border-green-800",children:[i.jsx("div",{className:"text-sm text-green-600 dark:text-green-400",children:"Total Aprobado"}),i.jsx("div",{className:"text-2xl font-bold text-green-700 dark:text-green-300",children:ft(za,z)})]}),i.jsxs(ee,{className:"bg-yellow-50 dark:bg-yellow-900/20 border-yellow-200 dark:border-yellow-800",children:[i.jsx("div",{className:"text-sm text-yellow-600 dark:text-yellow-400",children:"Pendiente"}),i.jsx("div",{className:"text-2xl font-bold text-yellow-700 dark:text-yellow-300",children:ft(Ua,z)})]})]}),i.jsxs(ee,{className:"p-3 sm:p-4",children:[i.jsxs("div",{className:"relative mb-3",children:[i.jsx(Da,{className:"w-4 h-4 absolute left-3 top-1/2 -translate-y-1/2 z-10 text-slate-900 dark:text-slate-200"}),i.jsx(K,{type:"text",placeholder:"Buscar pagos...",value:f,onChange:R=>p(R.target.value),className:"pl-10 w-full"})]}),i.jsxs("div",{className:"flex flex-wrap gap-2 items-center justify-between",children:[i.jsxs("div",{className:"relative shrink-0",children:[i.jsxs("select",{value:u,onChange:R=>d(R.target.value),className:"appearance-none pl-3 pr-8 py-2 text-sm border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-800 text-slate-900 dark:text-white cursor-pointer hover:border-primary transition-colors min-w-32.5 focus:outline-none focus:ring-2 focus:ring-primary/20",children:[i.jsx("option",{value:"all",children:"Todos"}),i.jsx("option",{value:"pending",children:"Pendiente"}),i.jsx("option",{value:"verified",children:"Aprobado"}),i.jsx("option",{value:"rejected",children:"Rechazado"})]}),i.jsx(ld,{className:"w-4 h-4 absolute right-7 top-1/2 -translate-y-1/2 text-slate-400 pointer-events-none"}),i.jsx(nn,{className:"w-4 h-4 absolute right-2 top-1/2 -translate-y-1/2 text-slate-400 pointer-events-none"})]}),i.jsx("div",{className:"shrink-0",children:i.jsx(Og,{value:ze,onChange:Jn})}),(u!=="all"||ze!==new Date().toISOString().slice(0,7)||f)&&i.jsxs(M,{onClick:()=>{d("all"),Jn(new Date().toISOString().slice(0,7)),p("")},className:"shrink-0 flex items-center gap-1.5 text-center text-sm text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-md transition-colors px-3 py-2",variant:"ghost",children:[i.jsx(vr,{className:"w-4 h-4"}),i.jsx("span",{children:"Limpiar"})]})]}),qt.length>0&&i.jsxs("div",{className:"mt-3 text-xs text-slate-500 dark:text-slate-400",children:[qt.length," pago",qt.length!==1?"s":""," encontrado",qt.length!==1?"s":""]})]}),qt.length===0?i.jsx(ee,{children:i.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[i.jsx(pa,{className:"w-16 h-16 text-slate-300 dark:text-slate-600 mb-4"}),i.jsx("h3",{className:"text-lg font-medium text-slate-900 dark:text-white",children:"No hay registros"}),i.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 mt-1",children:u!=="all"||ze!==new Date().toISOString().slice(0,7)?"No se encontraron resultados con los filtros aplicados":"No tienes pagos registrados an"})]})}):i.jsx("div",{className:"space-y-3",children:qt.map(R=>i.jsxs(ee,{className:"hover:shadow-md transition-shadow",children:[i.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[i.jsxs("div",{className:"flex items-start gap-4",children:[i.jsx("div",{className:"p-2.5 bg-slate-100 dark:bg-slate-800 rounded-lg",children:Ee(R.method)}),i.jsxs("div",{children:[i.jsx("div",{className:"font-medium text-slate-900 dark:text-slate-200",children:Je(R.method)}),i.jsxs("div",{className:"flex items-center gap-3 mt-1.5 text-xs text-slate-500 dark:text-slate-400",children:[i.jsxs("span",{className:"flex items-center gap-1",children:[i.jsx(co,{className:"w-3 h-3"}),pn(R.date)]}),R.reference&&i.jsxs("span",{children:["Ref: ",R.reference]})]})]})]}),i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsxs("div",{className:"text-right",children:[i.jsx("div",{className:"font-bold text-lg text-slate-900 dark:text-secondary",children:ft(R.amount,R.currency)}),i.jsxs("div",{className:`inline-flex items-center gap-1 px-2 py-0.5 rounded-full text-xs font-medium ${Y(R.status)}`,children:[re(R.status),st(R.status)]})]}),R.status==="verified"&&i.jsx(M,{variant:"ghost",size:"sm",children:i.jsx(dj,{className:"w-4 h-4"})})]})]}),R.notes&&i.jsx("div",{className:"mt-3 pt-3 border-t border-slate-200 dark:border-slate-700",children:i.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:[i.jsx("span",{className:"font-medium",children:"Nota:"})," ",R.notes]})})]},R.id))})]})}function qE(){const{user:e}=hn(),[t,n]=v.useState(!0),[r,s]=v.useState(!1),[a,o]=v.useState(null),[l,c]=v.useState(null),[u,d]=v.useState(null),[f,p]=v.useState({}),[b,y]=v.useState(!1);v.useEffect(()=>{let m=!0;return(async()=>{var x;if(!(e!=null&&e.id)){m&&(o("No se encontr el usuario"),n(!1));return}try{n(!0);const k=e.id,j=await V.get(`/clients/${k}`),N=((x=j.data)==null?void 0:x.data)||j.data;if(!m)return;d(N),p(N)}catch(k){console.error("Error fetching profile:",k),m&&o("No se pudo cargar el perfil del cliente")}finally{m&&n(!1)}})(),()=>{m=!1}},[e]),v.useEffect(()=>{a&&(_e.error(a),o(null))},[a]),v.useEffect(()=>{l&&(_e.success(l),c(null))},[l]);const g=m=>{const{name:h,value:x}=m.target;p(k=>({...k,[h]:x}))},w=async m=>{var h,x;m.preventDefault(),s(!0),o(null),c(null);try{if(!(u!=null&&u.id))throw new Error("No hay cliente cargado");const k={};if(typeof f.phone=="string"&&f.phone.trim()!==""&&(k.phone=f.phone),typeof f.address=="string"&&f.address.trim()!==""&&(k.address=f.address),Object.keys(k).length===0)throw new Error("No hay datos para actualizar");await V.patch(`/clients/${u.id}`,k),d(j=>({...j,...k})),c("Perfil actualizado correctamente"),setTimeout(()=>c(null),3e3)}catch(k){console.error("Error updating profile:",k),o(((x=(h=k.response)==null?void 0:h.data)==null?void 0:x.message)||"Error al actualizar el perfil")}finally{s(!1)}};return i.jsx(Bn.Fragment,{children:i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"text-2xl font-bold text-slate-900 dark:text-secondary tracking-tight",children:"Mi Perfil"}),i.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-300",children:"Gestiona tu informacin personal"})]}),i.jsxs("div",{className:"flex flex-col md:flex-row gap-6",children:[i.jsxs(ee,{className:"flex-1 p-6 shadow-md border border-slate-200 dark:border-slate-800",children:[i.jsxs("h2",{className:"text-xl font-bold text-primary dark:text-secondary mb-4 flex items-center gap-2",children:[i.jsx(ma,{className:"w-6 h-6"})," Mi Perfil"]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx($o,{className:"w-5 h-5 text-slate-500 dark:text-slate-400"}),i.jsx("span",{className:"font-medium text-slate-900 dark:text-slate-200",children:(e==null?void 0:e.email)||"-"})]}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(ma,{className:"w-5 h-5 text-slate-500 dark:text-slate-400"}),i.jsx("span",{className:"font-medium text-slate-900 dark:text-slate-200",children:(u==null?void 0:u.name)||"-"})]}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(vg,{className:"w-5 h-5 text-slate-500 dark:text-slate-400"}),i.jsx("span",{className:"font-medium text-slate-900 dark:text-slate-200",children:(u==null?void 0:u.phone)||"-"})]}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(Tj,{className:"w-5 h-5 text-slate-500 dark:text-slate-400"}),i.jsx("span",{className:"font-medium text-slate-900 dark:text-slate-200",children:(u==null?void 0:u.address)||"-"})]})]})]}),i.jsxs(ee,{className:"flex-1 p-6 shadow-md border border-slate-200 dark:border-slate-800",children:[i.jsxs("h3",{className:"font-semibold text-primary dark:text-secondary mb-4 flex items-center gap-2",children:[i.jsx(Wc,{className:"w-5 h-5"})," Editar informacin personal"]}),i.jsxs("form",{onSubmit:w,className:"space-y-4",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsx(K,{label:"Telfono",name:"phone",value:f.phone||"",onChange:g,placeholder:"+52 123 456 7890"}),i.jsx(K,{label:"Direccin",name:"address",value:f.address||"",onChange:g,placeholder:"Tu direccin completa"})]}),i.jsx("div",{className:"flex justify-end pt-2",children:i.jsxs(M,{type:"submit",disabled:r||!(f.phone!==(u==null?void 0:u.phone)||f.address!==(u==null?void 0:u.address)),className:f.phone!==(u==null?void 0:u.phone)||f.address!==(u==null?void 0:u.address)?"dark:text-secondary":"opacity-60 cursor-not-allowed",children:[i.jsx(yg,{className:"w-4 h-4 mr-2"}),r?"Guardando...":"Actualizar informacin"]})})]})]})]})]})})}function KE(){return i.jsx(i.Fragment,{children:i.jsxs(Ie,{path:"/client/*",element:i.jsx(bg,{roles:["client"],children:i.jsx(jg,{})}),children:[i.jsx(Ie,{index:!0,element:i.jsx(HE,{})}),i.jsx(Ie,{path:"subscription",element:i.jsx(VE,{})}),i.jsx(Ie,{path:"payments",element:i.jsx(WE,{})}),i.jsx(Ie,{path:"profile",element:i.jsx(qE,{})})]})})}function GE({user:e}){return e?i.jsx(ia,{to:e.role==="admin"?"/admin":"/client",replace:!0}):i.jsx(ia,{to:"/login",replace:!0})}sN();function QE(){const{user:e,loading:t}=hn();return t?i.jsx(Dg,{message:"Cargando autenticacin..."}):i.jsxs(c1,{children:[yS(),i.jsx(Ie,{path:"/",element:i.jsx(GE,{user:e})}),zE(),KE(),i.jsx(Ie,{path:"*",element:i.jsx(ia,{to:"/",replace:!0})})]})}Hm(document.getElementById("root")).render(i.jsx(Bn.StrictMode,{children:i.jsx(x1,{basename:"/suscriptions",children:i.jsx(D2,{children:i.jsxs(wS,{children:[i.jsx(gE,{position:"top-right"}),i.jsx(QE,{})]})})})}));
